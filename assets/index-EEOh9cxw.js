var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function l(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}var u={},d=[],f=()=>{},p=()=>!1,m=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),h=e=>e.startsWith(`onUpdate:`),g=Object.assign,_=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},v=Object.prototype.hasOwnProperty,y=(e,t)=>v.call(e,t),b=Array.isArray,x=e=>A(e)===`[object Map]`,S=e=>A(e)===`[object Set]`,C=e=>A(e)===`[object Date]`,w=e=>typeof e==`function`,T=e=>typeof e==`string`,E=e=>typeof e==`symbol`,D=e=>typeof e==`object`&&!!e,O=e=>(D(e)||w(e))&&w(e.then)&&w(e.catch),k=Object.prototype.toString,A=e=>k.call(e),ee=e=>A(e).slice(8,-1),te=e=>A(e)===`[object Object]`,ne=e=>T(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,re=l(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),ie=e=>{let t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ae=/-\w/g,oe=ie(e=>e.replace(ae,e=>e.slice(1).toUpperCase())),se=/\B([A-Z])/g,ce=ie(e=>e.replace(se,`-$1`).toLowerCase()),le=ie(e=>e.charAt(0).toUpperCase()+e.slice(1)),ue=ie(e=>e?`on${le(e)}`:``),de=(e,t)=>!Object.is(e,t),fe=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},pe=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},me=e=>{let t=parseFloat(e);return isNaN(t)?e:t},he=e=>{let t=T(e)?Number(e):NaN;return isNaN(t)?e:t},ge,_e=()=>ge||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function j(e){if(b(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=T(r)?be(r):j(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(T(e)||D(e))return e}var M=/;(?![^(]*\))/g,ve=/:([^]+)/,ye=/\/\*[^]*?\*\//g;function be(e){let t={};return e.replace(ye,``).split(M).forEach(e=>{if(e){let n=e.split(ve);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function N(e){let t=``;if(T(e))t=e;else if(b(e))for(let n=0;n<e.length;n++){let r=N(e[n]);r&&(t+=r+` `)}else if(D(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}function xe(e){if(!e)return null;let{class:t,style:n}=e;return t&&!T(t)&&(e.class=N(t)),n&&(e.style=j(n)),e}var Se=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,Ce=l(Se);Se+``;function we(e){return!!e||e===``}function Te(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ee(e[r],t[r]);return n}function Ee(e,t){if(e===t)return!0;let n=C(e),r=C(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=E(e),r=E(t),n||r)return e===t;if(n=b(e),r=b(t),n||r)return n&&r?Te(e,t):!1;if(n=D(e),r=D(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!Ee(e[n],t[n]))return!1}}return String(e)===String(t)}function De(e,t){return e.findIndex(e=>Ee(e,t))}var Oe=e=>!!(e&&e.__v_isRef===!0),P=e=>T(e)?e:e==null?``:b(e)||D(e)&&(e.toString===k||!w(e.toString))?Oe(e)?P(e.value):JSON.stringify(e,ke,2):String(e),ke=(e,t)=>Oe(t)?ke(e,t.value):x(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Ae(t,r)+` =>`]=n,e),{})}:S(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ae(e))}:E(t)?Ae(t):D(t)&&!b(t)&&!te(t)?String(t):t,Ae=(e,t=``)=>E(e)?`Symbol(${e.description??t})`:e,je,Me=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=je;try{return je=this,e()}finally{je=t}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function Ne(e){return new Me(e)}function Pe(){return je}function Fe(e,t=!1){je&&je.cleanups.push(e)}var Ie,Le=new WeakSet,Re=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Le.has(this)&&(Le.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||He(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tt(this),Ge(this);let e=Ie,t=Ze;Ie=this,Ze=!0;try{return this.fn()}finally{Ke(this),Ie=e,Ze=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ye(e);this.deps=this.depsTail=void 0,tt(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Le.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qe(this)&&this.run()}get dirty(){return qe(this)}},ze=0,Be,Ve;function He(e,t=!1){if(e.flags|=8,t){e.next=Ve,Ve=e;return}e.next=Be,Be=e}function Ue(){ze++}function We(){if(--ze>0)return;if(Ve){let e=Ve;for(Ve=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Be;){let t=Be;for(Be=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function Ge(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ke(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),Ye(r),Xe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function qe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Je(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Je(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===nt)||(e.globalVersion=nt,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!qe(e))))return;e.flags|=2;let t=e.dep,n=Ie,r=Ze;Ie=e,Ze=!0;try{Ge(e);let n=e.fn(e._value);(t.version===0||de(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{Ie=n,Ze=r,Ke(e),e.flags&=-3}}function Ye(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)Ye(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Xe(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Ze=!0,Qe=[];function $e(){Qe.push(Ze),Ze=!1}function et(){let e=Qe.pop();Ze=e===void 0?!0:e}function tt(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=Ie;Ie=void 0;try{t()}finally{Ie=e}}}var nt=0,rt=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},it=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ie||!Ze||Ie===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ie)t=this.activeLink=new rt(Ie,this),Ie.deps?(t.prevDep=Ie.depsTail,Ie.depsTail.nextDep=t,Ie.depsTail=t):Ie.deps=Ie.depsTail=t,at(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Ie.depsTail,t.nextDep=void 0,Ie.depsTail.nextDep=t,Ie.depsTail=t,Ie.deps===t&&(Ie.deps=e)}return t}trigger(e){this.version++,nt++,this.notify(e)}notify(e){Ue();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{We()}}};function at(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)at(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var ot=new WeakMap,st=Symbol(``),ct=Symbol(``),lt=Symbol(``);function ut(e,t,n){if(Ze&&Ie){let t=ot.get(e);t||ot.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new it),r.map=t,r.key=n),r.track()}}function dt(e,t,n,r,i,a){let o=ot.get(e);if(!o){nt++;return}let s=e=>{e&&e.trigger()};if(Ue(),t===`clear`)o.forEach(s);else{let i=b(e),a=i&&ne(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===lt||!E(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(lt)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(st)),x(e)&&s(o.get(ct)));break;case`delete`:i||(s(o.get(st)),x(e)&&s(o.get(ct)));break;case`set`:x(e)&&s(o.get(st));break}}We()}function ft(e,t){let n=ot.get(e);return n&&n.get(t)}function pt(e){let t=en(e);return t===e?t:(ut(t,`iterate`,lt),Qt(e)?t:t.map(nn))}function mt(e){return ut(e=en(e),`iterate`,lt),e}function ht(e,t){return Zt(e)?Xt(e)?rn(nn(t)):rn(t):nn(t)}var gt={__proto__:null,[Symbol.iterator](){return _t(this,Symbol.iterator,e=>ht(this,e))},concat(...e){return pt(this).concat(...e.map(e=>b(e)?pt(e):e))},entries(){return _t(this,`entries`,e=>(e[1]=ht(this,e[1]),e))},every(e,t){return yt(this,`every`,e,t,void 0,arguments)},filter(e,t){return yt(this,`filter`,e,t,e=>e.map(e=>ht(this,e)),arguments)},find(e,t){return yt(this,`find`,e,t,e=>ht(this,e),arguments)},findIndex(e,t){return yt(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return yt(this,`findLast`,e,t,e=>ht(this,e),arguments)},findLastIndex(e,t){return yt(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return yt(this,`forEach`,e,t,void 0,arguments)},includes(...e){return xt(this,`includes`,e)},indexOf(...e){return xt(this,`indexOf`,e)},join(e){return pt(this).join(e)},lastIndexOf(...e){return xt(this,`lastIndexOf`,e)},map(e,t){return yt(this,`map`,e,t,void 0,arguments)},pop(){return St(this,`pop`)},push(...e){return St(this,`push`,e)},reduce(e,...t){return bt(this,`reduce`,e,t)},reduceRight(e,...t){return bt(this,`reduceRight`,e,t)},shift(){return St(this,`shift`)},some(e,t){return yt(this,`some`,e,t,void 0,arguments)},splice(...e){return St(this,`splice`,e)},toReversed(){return pt(this).toReversed()},toSorted(e){return pt(this).toSorted(e)},toSpliced(...e){return pt(this).toSpliced(...e)},unshift(...e){return St(this,`unshift`,e)},values(){return _t(this,`values`,e=>ht(this,e))}};function _t(e,t,n){let r=mt(e),i=r[t]();return r!==e&&!Qt(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.done||(e.value=n(e.value)),e}),i}var vt=Array.prototype;function yt(e,t,n,r,i,a){let o=mt(e),s=o!==e&&!Qt(e),c=o[t];if(c!==vt[t]){let t=c.apply(e,a);return s?nn(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,ht(e,t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function bt(e,t,n,r){let i=mt(e),a=n;return i!==e&&(Qt(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,ht(e,r),i,e)}),i[t](a,...r)}function xt(e,t,n){let r=en(e);ut(r,`iterate`,lt);let i=r[t](...n);return(i===-1||i===!1)&&$t(n[0])?(n[0]=en(n[0]),r[t](...n)):i}function St(e,t,n=[]){$e(),Ue();let r=en(e)[t].apply(e,n);return We(),et(),r}var Ct=l(`__proto__,__v_isRef,__isVue`),wt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(E));function Tt(e){E(e)||(e=String(e));let t=en(this);return ut(t,`has`,e),t.hasOwnProperty(e)}var Et=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Wt:Ut:i?Ht:Vt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=b(e);if(!r){let e;if(a&&(e=gt[t]))return e;if(t===`hasOwnProperty`)return Tt}let o=Reflect.get(e,t,an(e)?e:n);if((E(t)?wt.has(t):Ct(t))||(r||ut(e,`get`,t),i))return o;if(an(o)){let e=a&&ne(t)?o:o.value;return r&&D(e)?Jt(e):e}return D(o)?r?Jt(o):Kt(o):o}},Dt=class extends Et{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t],a=b(e)&&ne(t);if(!this._isShallow){let e=Zt(i);if(!Qt(n)&&!Zt(n)&&(i=en(i),n=en(n)),!a&&an(i)&&!an(n))return e||(i.value=n),!0}let o=a?Number(t)<e.length:y(e,t),s=Reflect.set(e,t,n,an(e)?e:r);return e===en(r)&&(o?de(n,i)&&dt(e,`set`,t,n,i):dt(e,`add`,t,n)),s}deleteProperty(e,t){let n=y(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&dt(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!E(t)||!wt.has(t))&&ut(e,`has`,t),n}ownKeys(e){return ut(e,`iterate`,b(e)?`length`:st),Reflect.ownKeys(e)}},Ot=class extends Et{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},kt=new Dt,At=new Ot,jt=new Dt(!0),Mt=e=>e,Nt=e=>Reflect.getPrototypeOf(e);function Pt(e,t,n){return function(...r){let i=this.__v_raw,a=en(i),o=x(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?Mt:t?rn:nn;return!t&&ut(a,`iterate`,c?ct:st),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ft(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function It(e,t){let n={get(n){let r=this.__v_raw,i=en(r),a=en(n);e||(de(n,a)&&ut(i,`get`,n),ut(i,`get`,a));let{has:o}=Nt(i),s=t?Mt:e?rn:nn;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&ut(en(t),`iterate`,st),t.size},has(t){let n=this.__v_raw,r=en(n),i=en(t);return e||(de(t,i)&&ut(r,`has`,t),ut(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=en(a),s=t?Mt:e?rn:nn;return!e&&ut(o,`iterate`,st),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};return g(n,e?{add:Ft(`add`),set:Ft(`set`),delete:Ft(`delete`),clear:Ft(`clear`)}:{add(e){!t&&!Qt(e)&&!Zt(e)&&(e=en(e));let n=en(this);return Nt(n).has.call(n,e)||(n.add(e),dt(n,`add`,e,e)),this},set(e,n){!t&&!Qt(n)&&!Zt(n)&&(n=en(n));let r=en(this),{has:i,get:a}=Nt(r),o=i.call(r,e);o||=(e=en(e),i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?de(n,s)&&dt(r,`set`,e,n,s):dt(r,`add`,e,n),this},delete(e){let t=en(this),{has:n,get:r}=Nt(t),i=n.call(t,e);i||=(e=en(e),n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&dt(t,`delete`,e,void 0,a),o},clear(){let e=en(this),t=e.size!==0,n=e.clear();return t&&dt(e,`clear`,void 0,void 0,void 0),n}}),[`keys`,`values`,`entries`,Symbol.iterator].forEach(r=>{n[r]=Pt(r,e,t)}),n}function Lt(e,t){let n=It(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(y(n,r)&&r in t?n:t,r,i)}var Rt={get:Lt(!1,!1)},zt={get:Lt(!1,!0)},Bt={get:Lt(!0,!1)},Vt=new WeakMap,Ht=new WeakMap,Ut=new WeakMap,Wt=new WeakMap;function eee(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function Gt(e){return e.__v_skip||!Object.isExtensible(e)?0:eee(ee(e))}function Kt(e){return Zt(e)?e:Yt(e,!1,kt,Rt,Vt)}function qt(e){return Yt(e,!1,jt,zt,Ht)}function Jt(e){return Yt(e,!0,At,Bt,Ut)}function Yt(e,t,n,r,i){if(!D(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=Gt(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function Xt(e){return Zt(e)?Xt(e.__v_raw):!!(e&&e.__v_isReactive)}function Zt(e){return!!(e&&e.__v_isReadonly)}function Qt(e){return!!(e&&e.__v_isShallow)}function $t(e){return e?!!e.__v_raw:!1}function en(e){let t=e&&e.__v_raw;return t?en(t):e}function tn(e){return!y(e,`__v_skip`)&&Object.isExtensible(e)&&pe(e,`__v_skip`,!0),e}var nn=e=>D(e)?Kt(e):e,rn=e=>D(e)?Jt(e):e;function an(e){return e?e.__v_isRef===!0:!1}function F(e){return sn(e,!1)}function on(e){return sn(e,!0)}function sn(e,t){return an(e)?e:new cn(e,t)}var cn=class{constructor(e,t){this.dep=new it,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:en(e),this._value=t?e:nn(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Qt(e)||Zt(e);e=n?e:en(e),de(e,t)&&(this._rawValue=e,this._value=n?e:nn(e),this.dep.trigger())}};function ln(e){e.dep&&e.dep.trigger()}function I(e){return an(e)?e.value:e}var un={get:(e,t,n)=>t===`__v_raw`?e:I(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return an(i)&&!an(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function dn(e){return Xt(e)?e:new Proxy(e,un)}var fn=class{constructor(e){this.__v_isRef=!0,this._value=void 0;let t=this.dep=new it,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}};function pn(e){return new fn(e)}function mn(e){let t=b(e)?Array(e.length):{};for(let n in e)t[n]=vn(e,n);return t}var hn=class{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=en(e);let r=!0,i=e;if(!b(e)||!ne(String(t)))do r=!$t(i)||Qt(i);while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=I(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&an(this._raw[this._key])){let t=this._object[this._key];if(an(t)){t.value=e;return}}this._object[this._key]=e}get dep(){return ft(this._raw,this._key)}},gn=class{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};function _n(e,t,n){return an(e)?e:w(e)?new gn(e):D(e)&&arguments.length>1?vn(e,t,n):F(e)}function vn(e,t,n){return new hn(e,t,n)}var yn=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new it(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return He(this,!0),!0}get value(){let e=this.dep.track();return Je(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function bn(e,t,n=!1){let r,i;return w(e)?r=e:(r=e.get,i=e.set),new yn(r,i,n)}var xn={},Sn=new WeakMap,Cn=void 0;function tee(e,t=!1,n=Cn){if(n){let t=Sn.get(n);t||Sn.set(n,t=[]),t.push(e)}}function wn(e,t,n=u){let{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:c}=n,l=e=>i?e:Qt(e)||i===!1||i===0?Tn(e,1):Tn(e),d,p,m,h,g=!1,v=!1;if(an(e)?(p=()=>e.value,g=Qt(e)):Xt(e)?(p=()=>l(e),g=!0):b(e)?(v=!0,g=e.some(e=>Xt(e)||Qt(e)),p=()=>e.map(e=>{if(an(e))return e.value;if(Xt(e))return l(e);if(w(e))return c?c(e,2):e()})):p=w(e)?t?c?()=>c(e,2):e:()=>{if(m){$e();try{m()}finally{et()}}let t=Cn;Cn=d;try{return c?c(e,3,[h]):e(h)}finally{Cn=t}}:f,t&&i){let e=p,t=i===!0?1/0:i;p=()=>Tn(e(),t)}let y=Pe(),x=()=>{d.stop(),y&&y.active&&_(y.effects,d)};if(a&&t){let e=t;t=(...t)=>{e(...t),x()}}let S=v?Array(e.length).fill(xn):xn,C=e=>{if(!(!(d.flags&1)||!d.dirty&&!e))if(t){let e=d.run();if(i||g||(v?e.some((e,t)=>de(e,S[t])):de(e,S))){m&&m();let n=Cn;Cn=d;try{let n=[e,S===xn?void 0:v&&S[0]===xn?[]:S,h];S=e,c?c(t,3,n):t(...n)}finally{Cn=n}}}else d.run()};return s&&s(C),d=new Re(p),d.scheduler=o?()=>o(C,!1):C,h=e=>tee(e,!1,d),m=d.onStop=()=>{let e=Sn.get(d);if(e){if(c)c(e,4);else for(let t of e)t();Sn.delete(d)}},t?r?C(!0):S=d.run():o?o(C.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function Tn(e,t=1/0,n){if(t<=0||!D(e)||e.__v_skip||(n||=new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,an(e))Tn(e.value,t,n);else if(b(e))for(let r=0;r<e.length;r++)Tn(e[r],t,n);else if(S(e)||x(e))e.forEach(e=>{Tn(e,t,n)});else if(te(e)){for(let r in e)Tn(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Tn(e[r],t,n)}return e}function En(e,t,n,r){try{return r?e(...r):e()}catch(e){On(e,t,n)}}function Dn(e,t,n,r){if(w(e)){let i=En(e,t,n,r);return i&&O(i)&&i.catch(e=>{On(e,t,n)}),i}if(b(e)){let i=[];for(let a=0;a<e.length;a++)i.push(Dn(e[a],t,n,r));return i}}function On(e,t,n,r=!0){let i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||u;if(t){let r=t.parent,i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(t[n](e,i,o)===!1)return}r=r.parent}if(a){$e(),En(a,null,10,[e,i,o]),et();return}}kn(e,n,i,r,o)}function kn(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}var An=[],jn=-1,Mn=[],Nn=null,Pn=0,Fn=Promise.resolve(),In=null;function Ln(e){let t=In||Fn;return e?t.then(this?e.bind(this):e):t}function Rn(e){let t=jn+1,n=An.length;for(;t<n;){let r=t+n>>>1,i=An[r],a=Wn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function zn(e){if(!(e.flags&1)){let t=Wn(e),n=An[An.length-1];!n||!(e.flags&2)&&t>=Wn(n)?An.push(e):An.splice(Rn(t),0,e),e.flags|=1,Bn()}}function Bn(){In||=Fn.then(Gn)}function Vn(e){b(e)?Mn.push(...e):Nn&&e.id===-1?Nn.splice(Pn+1,0,e):e.flags&1||(Mn.push(e),e.flags|=1),Bn()}function Hn(e,t,n=jn+1){for(;n<An.length;n++){let t=An[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;An.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function Un(e){if(Mn.length){let e=[...new Set(Mn)].sort((e,t)=>Wn(e)-Wn(t));if(Mn.length=0,Nn){Nn.push(...e);return}for(Nn=e,Pn=0;Pn<Nn.length;Pn++){let e=Nn[Pn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Nn=null,Pn=0}}var Wn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Gn(e){try{for(jn=0;jn<An.length;jn++){let e=An[jn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),En(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;jn<An.length;jn++){let e=An[jn];e&&(e.flags&=-2)}jn=-1,An.length=0,Un(e),In=null,(An.length||Mn.length)&&Gn(e)}}var Kn=null,qn=null;function Jn(e){let t=Kn;return Kn=e,qn=e&&e.type.__scopeId||null,t}function L(e,t=Kn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&Fa(-1);let i=Jn(t),a;try{a=e(...n)}finally{Jn(i),r._d&&Fa(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Yn(e,t){if(Kn===null)return e;let n=go(Kn),r=e.dirs||=[];for(let e=0;e<t.length;e++){let[i,a,o,s=u]=t[e];i&&(w(i)&&(i={mounted:i,updated:i}),i.deep&&Tn(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:s}))}return e}function Xn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&($e(),Dn(c,n,8,[e.el,s,e,t]),et())}}var Zn=Symbol(`_vte`),Qn=e=>e.__isTeleport,$n=e=>e&&(e.disabled||e.disabled===``),er=e=>e&&(e.defer||e.defer===``),tr=e=>typeof SVGElement<`u`&&e instanceof SVGElement,nr=e=>typeof MathMLElement==`function`&&e instanceof MathMLElement,rr=(e,t)=>{let n=e&&e.to;return T(n)?t?t(n):null:n},ir={name:`Teleport`,__isTeleport:!0,process(e,t,n,r,i,a,o,s,c,l){let{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:h,createComment:g}}=l,_=$n(t.props),{shapeFlag:v,children:y,dynamicChildren:b}=t;if(e==null){let e=t.el=h(``),l=t.anchor=h(``);p(e,n,r),p(l,n,r);let d=(e,t)=>{v&16&&u(y,e,t,i,a,o,s,c)},f=()=>{let e=t.target=rr(t.props,m),n=lr(e,t,h,p);e&&(o!==`svg`&&tr(e)?o=`svg`:o!==`mathml`&&nr(e)&&(o=`mathml`),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(e),_||(d(e,n),cr(t,!1)))};_&&(d(n,l),cr(t,!0)),er(t.props)?(t.el.__isMounted=!1,ha(()=>{f(),delete t.el.__isMounted},a)):f()}else{if(er(t.props)&&e.el.__isMounted===!1){ha(()=>{ir.process(e,t,n,r,i,a,o,s,c,l)},a);return}t.el=e.el,t.targetStart=e.targetStart;let u=t.anchor=e.anchor,p=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=$n(e.props),v=g?n:p,y=g?u:h;if(o===`svg`||tr(p)?o=`svg`:(o===`mathml`||nr(p))&&(o=`mathml`),b?(f(e.dynamicChildren,b,v,i,a,o,s),xa(e,t,!0)):c||d(e,t,v,y,i,a,o,s,!1),_)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ar(t,n,u,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){let e=t.target=rr(t.props,m);e&&ar(t,e,null,l,0)}else g&&ar(t,p,h,l,1);cr(t,_)}},remove(e,t,n,{um:r,o:{remove:i}},a){let{shapeFlag:o,children:s,anchor:c,targetStart:l,targetAnchor:u,target:d,props:f}=e;if(d&&(i(l),i(u)),a&&i(c),o&16){let e=a||!$n(f);for(let i=0;i<s.length;i++){let a=s[i];r(a,t,n,e,!!a.dynamicChildren)}}},move:ar,hydrate:or};function ar(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);let{el:o,anchor:s,shapeFlag:c,children:l,props:u}=e,d=a===2;if(d&&r(o,t,n),(!d||$n(u))&&c&16)for(let e=0;e<l.length;e++)i(l[e],t,n,2);d&&r(s,t,n)}function or(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:c,insert:l,createText:u}},d){function f(e,t,c,l){t.anchor=d(o(e),t,s(e),n,r,i,a),t.targetStart=c,t.targetAnchor=l}let p=t.target=rr(t.props,c),m=$n(t.props);if(p){let s=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)f(e,t,s,s&&o(s));else{t.anchor=o(e);let c=s;for(;c;){if(c&&c.nodeType===8){if(c.data===`teleport start anchor`)t.targetStart=c;else if(c.data===`teleport anchor`){t.targetAnchor=c,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}c=o(c)}t.targetAnchor||lr(p,t,u,l),d(s&&o(s),t,p,n,r,i,a)}cr(t,m)}else m&&t.shapeFlag&16&&f(e,t,e,o(e));return t.anchor&&o(t.anchor)}var sr=ir;function cr(e,t){let n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute(`data-v-owner`,n.uid),r=r.nextSibling;n.ut()}}function lr(e,t,n,r){let i=t.targetStart=n(``),a=t.targetAnchor=n(``);return i[Zn]=a,e&&(r(i,e),r(a,e)),a}var ur=Symbol(`_leaveCb`),dr=Symbol(`_enterCb`);function fr(){let e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rr(()=>{e.isMounted=!0}),Vr(()=>{e.isUnmounting=!0}),e}var pr=[Function,Array],mr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pr,onEnter:pr,onAfterEnter:pr,onEnterCancelled:pr,onBeforeLeave:pr,onLeave:pr,onAfterLeave:pr,onLeaveCancelled:pr,onBeforeAppear:pr,onAppear:pr,onAfterAppear:pr,onAppearCancelled:pr},hr=e=>{let t=e.subTree;return t.component?hr(t.component):t},gr={name:`BaseTransition`,props:mr,setup(e,{slots:t}){let n=eo(),r=fr();return()=>{let i=t.default&&wr(t.default(),!0);if(!i||!i.length)return;let a=_r(i),o=en(e),{mode:s}=o;if(r.isLeaving)return xr(a);let c=Sr(a);if(!c)return xr(a);let l=br(c,o,r,n,e=>l=e);c.type!==ka&&Cr(c,l);let u=n.subTree&&Sr(n.subTree);if(u&&u.type!==ka&&!Ra(u,c)&&hr(n).type!==ka){let e=br(u,o,r,n);if(Cr(u,e),s===`out-in`&&c.type!==ka)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete e.afterLeave,u=void 0},xr(a);s===`in-out`&&c.type!==ka?e.delayLeave=(e,t,n)=>{let i=yr(r,u);i[String(u.key)]=u,e[ur]=()=>{t(),e[ur]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{n(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&=void 0;return a}}};function _r(e){let t=e[0];if(e.length>1){for(let n of e)if(n.type!==ka){t=n;break}}return t}var vr=gr;function yr(e,t){let{leavingVNodes:n}=e,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function br(e,t,n,r,i){let{appear:a,mode:o,persisted:s=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:h,onBeforeAppear:g,onAppear:_,onAfterAppear:v,onAppearCancelled:y}=t,x=String(e.key),S=yr(n,e),C=(e,t)=>{e&&Dn(e,r,9,t)},w=(e,t)=>{let n=t[1];C(e,t),b(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},T={mode:o,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted)if(a)r=g||c;else return;t[ur]&&t[ur](!0);let i=S[x];i&&Ra(e,i)&&i.el[ur]&&i.el[ur](),C(r,[t])},enter(e){let t=l,r=u,i=d;if(!n.isMounted)if(a)t=_||l,r=v||u,i=y||d;else return;let o=!1,s=e[dr]=t=>{o||(o=!0,C(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[dr]=void 0)};t?w(t,[e,s]):s()},leave(t,r){let i=String(e.key);if(t[dr]&&t[dr](!0),n.isUnmounting)return r();C(f,[t]);let a=!1,o=t[ur]=n=>{a||(a=!0,r(),C(n?h:m,[t]),t[ur]=void 0,S[i]===e&&delete S[i])};S[i]=e,p?w(p,[t,o]):o()},clone(e){let a=br(e,t,n,r,i);return i&&i(a),a}};return T}function xr(e){if(Ar(e))return e=Ua(e),e.children=null,e}function Sr(e){if(!Ar(e))return Qn(e.type)&&e.children?_r(e.children):e;if(e.component)return e.component.subTree;let{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&w(n.default))return n.default()}}function Cr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wr(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a],s=n==null?o.key:String(n)+String(o.key==null?a:o.key);o.type===Da?(o.patchFlag&128&&i++,r=r.concat(wr(o.children,t,s))):(t||o.type!==ka)&&r.push(s==null?o:Ua(o,{key:s}))}if(i>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}function R(e,t){return w(e)?(()=>g({name:e.name},t,{setup:e}))():e}function Tr(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}var Er=new WeakMap;function Dr(e,t,n,r,i=!1){if(b(e)){e.forEach((e,a)=>Dr(e,t&&(b(t)?t[a]:t),n,r,i));return}if(kr(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Dr(e,t,n,r.component.subTree);return}let a=r.shapeFlag&4?go(r.component):r.el,o=i?null:a,{i:s,r:c}=e,l=t&&t.r,d=s.refs===u?s.refs={}:s.refs,f=s.setupState,m=en(f),h=f===u?p:e=>y(m,e),g=e=>!0;if(l!=null&&l!==c){if(Or(t),T(l))d[l]=null,h(l)&&(f[l]=null);else if(an(l)){g(l)&&(l.value=null);let e=t;e.k&&(d[e.k]=null)}}if(w(c))En(c,s,12,[o,d]);else{let t=T(c),r=an(c);if(t||r){let s=()=>{if(e.f){let n=t?h(c)?f[c]:d[c]:g(c)||!e.k?c.value:d[e.k];if(i)b(n)&&_(n,a);else if(b(n))n.includes(a)||n.push(a);else if(t)d[c]=[a],h(c)&&(f[c]=d[c]);else{let t=[a];g(c)&&(c.value=t),e.k&&(d[e.k]=t)}}else t?(d[c]=o,h(c)&&(f[c]=o)):r&&(g(c)&&(c.value=o),e.k&&(d[e.k]=o))};if(o){let t=()=>{s(),Er.delete(e)};t.id=-1,Er.set(e,t),ha(t,n)}else Or(e),s()}}}function Or(e){let t=Er.get(e);t&&(t.flags|=8,Er.delete(e))}_e().requestIdleCallback,_e().cancelIdleCallback;var kr=e=>!!e.type.__asyncLoader,Ar=e=>e.type.__isKeepAlive;function jr(e,t){Nr(e,`a`,t)}function Mr(e,t){Nr(e,`da`,t)}function Nr(e,t,n=$a){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(Fr(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Ar(e.parent.vnode)&&Pr(r,t,n,e),e=e.parent}}function Pr(e,t,n,r){let i=Fr(t,e,r,!0);Hr(()=>{_(r[t],i)},n)}function Fr(e,t,n=$a,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{$e();let i=ro(n),a=Dn(t,n,e,r);return i(),et(),a};return r?i.unshift(a):i.push(a),a}}var Ir=e=>(t,n=$a)=>{(!oo||e===`sp`)&&Fr(e,(...e)=>t(...e),n)},Lr=Ir(`bm`),Rr=Ir(`m`),zr=Ir(`bu`),Br=Ir(`u`),Vr=Ir(`bum`),Hr=Ir(`um`),Ur=Ir(`sp`),Wr=Ir(`rtg`),Gr=Ir(`rtc`);function Kr(e,t=$a){Fr(`ec`,e,t)}var qr=`components`,Jr=`directives`;function Yr(e,t){return $r(qr,e,!0,t)||e}var Xr=Symbol.for(`v-ndc`);function Zr(e){return T(e)?$r(qr,e,!1)||e:e||Xr}function Qr(e){return $r(Jr,e)}function $r(e,t,n=!0,r=!1){let i=Kn||$a;if(i){let n=i.type;if(e===qr){let e=nee(n,!1);if(e&&(e===t||e===oe(t)||e===le(oe(t))))return n}let a=ei(i[e]||n[e],t)||ei(i.appContext[e],t);return!a&&r?n:a}}function ei(e,t){return e&&(e[t]||e[oe(t)]||e[le(oe(t))])}function ti(e,t,n,r){let i,a=n&&n[r],o=b(e);if(o||T(e)){let n=o&&Xt(e),r=!1,s=!1;n&&(r=!Qt(e),s=Zt(e),e=mt(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?rn(nn(e[n])):nn(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(D(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}function ni(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(b(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{let t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function z(e,t,n={},r,i){if(Kn.ce||Kn.parent&&kr(Kn.parent)&&Kn.parent.ce){let e=Object.keys(n).length>0;return t!==`default`&&(n.name=t),V(),U(Da,null,[G(`slot`,n,r&&r())],e?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),V();let o=a&&ri(a(n)),s=n.key||o&&o.key,c=U(Da,{key:(s&&!E(s)?s:`_${t}`)+(!o&&r?`_fb`:``)},o||(r?r():[]),o&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+`-s`]),a&&a._c&&(a._d=!0),c}function ri(e){return e.some(e=>La(e)?!(e.type===ka||e.type===Da&&!ri(e.children)):!0)?e:null}function ii(e,t){let n={};for(let r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:ue(r)]=e[r];return n}var ai=e=>e?ao(e)?go(e):ai(e.parent):null,oi=g(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ai(e.parent),$root:e=>ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>vi(e),$forceUpdate:e=>e.f||=()=>{zn(e.update)},$nextTick:e=>e.n||=Ln.bind(e.proxy),$watch:e=>Ri.bind(e)}),si=(e,t)=>e!==u&&!e.__isScriptSetup&&y(e,t),ci={get({_:e},t){if(t===`__v_skip`)return!0;let{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:c}=e;if(t[0]!==`$`){let e=o[t];if(e!==void 0)switch(e){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else if(si(r,t))return o[t]=1,r[t];else if(i!==u&&y(i,t))return o[t]=2,i[t];else if(y(a,t))return o[t]=3,a[t];else if(n!==u&&y(n,t))return o[t]=4,n[t];else pi&&(o[t]=0)}let l=oi[t],d,f;if(l)return t===`$attrs`&&ut(e.attrs,`get`,``),l(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==u&&y(n,t))return o[t]=4,n[t];if(f=c.config.globalProperties,y(f,t))return f[t]},set({_:e},t,n){let{data:r,setupState:i,ctx:a}=e;return si(i,t)?(i[t]=n,!0):r!==u&&y(r,t)?(r[t]=n,!0):y(e.props,t)||t[0]===`$`&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,props:a,type:o}},s){let c;return!!(n[s]||e!==u&&s[0]!==`$`&&y(e,s)||si(t,s)||y(a,s)||y(r,s)||y(oi,s)||y(i.config.globalProperties,s)||(c=o.__cssModules)&&c[s])},defineProperty(e,t,n){return n.get==null?y(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function li(){return di(`useSlots`).slots}function ui(){return di(`useAttrs`).attrs}function di(e){let t=eo();return t.setupContext||=ho(t)}function fi(e){return b(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}var pi=!0;function mi(e){let t=vi(e),n=e.proxy,r=e.ctx;pi=!1,t.beforeCreate&&gi(t.beforeCreate,e,`bc`);let{data:i,computed:a,methods:o,watch:s,provide:c,inject:l,created:u,beforeMount:d,mounted:p,beforeUpdate:m,updated:h,activated:g,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:x,unmounted:S,render:C,renderTracked:T,renderTriggered:E,errorCaptured:O,serverPrefetch:k,expose:A,inheritAttrs:ee,components:te,directives:ne,filters:re}=t;if(l&&hi(l,r,null),o)for(let e in o){let t=o[e];w(t)&&(r[e]=t.bind(n))}if(i){let t=i.call(n,n);D(t)&&(e.data=Kt(t))}if(pi=!0,a)for(let e in a){let t=a[e],i=q({get:w(t)?t.bind(n,n):w(t.get)?t.get.bind(n,n):f,set:!w(t)&&w(t.set)?t.set.bind(n):f});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e})}if(s)for(let e in s)_i(s[e],r,n,e);if(c){let e=w(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Mi(t,e[t])})}u&&gi(u,e,`c`);function ie(e,t){b(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(ie(Lr,d),ie(Rr,p),ie(zr,m),ie(Br,h),ie(jr,g),ie(Mr,_),ie(Kr,O),ie(Gr,T),ie(Wr,E),ie(Vr,y),ie(Hr,S),ie(Ur,k),b(A))if(A.length){let t=e.exposed||={};A.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};C&&e.render===f&&(e.render=C),ee!=null&&(e.inheritAttrs=ee),te&&(e.components=te),ne&&(e.directives=ne),k&&Tr(e)}function hi(e,t,n=f){for(let n in b(e)&&(e=Ci(e)),e){let r=e[n],i;i=D(r)?`default`in r?Ni(r.from||n,r.default,!0):Ni(r.from||n):Ni(r),an(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function gi(e,t,n){Dn(b(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function _i(e,t,n,r){let i=r.includes(`.`)?zi(n,r):()=>n[r];if(T(e)){let n=t[e];w(n)&&B(i,n)}else if(w(e))B(i,e.bind(n));else if(D(e))if(b(e))e.forEach(e=>_i(e,t,n,r));else{let r=w(e.handler)?e.handler.bind(n):t[e.handler];w(r)&&B(i,r,e)}}function vi(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>yi(c,e,o,!0)),yi(c,t,o)),D(t)&&a.set(t,c),c}function yi(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&yi(e,a,n,!0),i&&i.forEach(t=>yi(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=bi[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}var bi={data:xi,props:Ei,emits:Ei,methods:Ti,computed:Ti,beforeCreate:wi,created:wi,beforeMount:wi,mounted:wi,beforeUpdate:wi,updated:wi,beforeDestroy:wi,beforeUnmount:wi,destroyed:wi,unmounted:wi,activated:wi,deactivated:wi,errorCaptured:wi,serverPrefetch:wi,components:Ti,directives:Ti,watch:Di,provide:xi,inject:Si};function xi(e,t){return t?e?function(){return g(w(e)?e.call(this,this):e,w(t)?t.call(this,this):t)}:t:e}function Si(e,t){return Ti(Ci(e),Ci(t))}function Ci(e){if(b(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wi(e,t){return e?[...new Set([].concat(e,t))]:t}function Ti(e,t){return e?g(Object.create(null),e,t):t}function Ei(e,t){return e?b(e)&&b(t)?[...new Set([...e,...t])]:g(Object.create(null),fi(e),fi(t??{})):t}function Di(e,t){if(!e)return t;if(!t)return e;let n=g(Object.create(null),e);for(let r in t)n[r]=wi(e[r],t[r]);return n}function Oi(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var ki=0;function Ai(e,t){return function(n,r=null){w(n)||(n=g({},n)),r!=null&&!D(r)&&(r=null);let i=Oi(),a=new WeakSet,o=[],s=!1,c=i.app={_uid:ki++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:vo,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&w(e.install)?(a.add(e),e.install(c,...t)):w(e)&&(a.add(e),e(c,...t))),c},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),c},component(e,t){return t?(i.components[e]=t,c):i.components[e]},directive(e,t){return t?(i.directives[e]=t,c):i.directives[e]},mount(a,o,l){if(!s){let u=c._ceVNode||G(n,r);return u.appContext=i,l===!0?l=`svg`:l===!1&&(l=void 0),o&&t?t(u,a):e(u,a,l),s=!0,c._container=a,a.__vue_app__=c,go(u.component)}},onUnmount(e){o.push(e)},unmount(){s&&(Dn(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(e,t){return i.provides[e]=t,c},runWithContext(e){let t=ji;ji=c;try{return e()}finally{ji=t}}};return c}}var ji=null;function Mi(e,t){if($a){let n=$a.provides,r=$a.parent&&$a.parent.provides;r===n&&(n=$a.provides=Object.create(r)),n[e]=t}}function Ni(e,t,n=!1){let r=eo();if(r||ji){let i=ji?ji._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&w(t)?t.call(r&&r.proxy):t}}var Pi=Symbol.for(`v-scx`),Fi=()=>Ni(Pi);function Ii(e,t){return Li(e,null,t)}function B(e,t,n){return Li(e,t,n)}function Li(e,t,n=u){let{immediate:r,deep:i,flush:a,once:o}=n,s=g({},n),c=t&&r||!t&&a!==`post`,l;if(oo){if(a===`sync`){let e=Fi();l=e.__watcherHandles||=[]}else if(!c){let e=()=>{};return e.stop=f,e.resume=f,e.pause=f,e}}let d=$a;s.call=(e,t,n)=>Dn(e,d,t,n);let p=!1;a===`post`?s.scheduler=e=>{ha(e,d&&d.suspense)}:a!==`sync`&&(p=!0,s.scheduler=(e,t)=>{t?e():zn(e)}),s.augmentJob=e=>{t&&(e.flags|=4),p&&(e.flags|=2,d&&(e.id=d.uid,e.i=d))};let m=wn(e,t,s);return oo&&(l?l.push(m):c&&m()),m}function Ri(e,t,n){let r=this.proxy,i=T(e)?e.includes(`.`)?zi(r,e):()=>r[e]:e.bind(r,r),a;w(t)?a=t:(a=t.handler,n=t);let o=ro(this),s=Li(i,a.bind(r),n);return o(),s}function zi(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}var Bi=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${oe(t)}Modifiers`]||e[`${ce(t)}Modifiers`];function Vi(e,t,...n){if(e.isUnmounted)return;let r=e.vnode.props||u,i=n,a=t.startsWith(`update:`),o=a&&Bi(r,t.slice(7));o&&(o.trim&&(i=n.map(e=>T(e)?e.trim():e)),o.number&&(i=n.map(me)));let s,c=r[s=ue(t)]||r[s=ue(oe(t))];!c&&a&&(c=r[s=ue(ce(t))]),c&&Dn(c,e,6,i);let l=r[s+`Once`];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,Dn(l,e,6,i)}}var Hi=new WeakMap;function Ui(e,t,n=!1){let r=n?Hi:t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},s=!1;if(!w(e)){let r=e=>{let n=Ui(e,t,!0);n&&(s=!0,g(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!s?(D(e)&&r.set(e,null),null):(b(a)?a.forEach(e=>o[e]=null):g(o,a),D(e)&&r.set(e,o),o)}function Wi(e,t){return!e||!m(t)?!1:(t=t.slice(2).replace(/Once$/,``),y(e,t[0].toLowerCase()+t.slice(1))||y(e,ce(t))||y(e,t))}function Gi(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:c,render:l,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,_=Jn(e),v,y;try{if(n.shapeFlag&4){let e=i||r,t=e;v=Ga(l.call(t,e,u,d,p,f,m)),y=s}else{let e=t;v=Ga(e.length>1?e(d,{attrs:s,slots:o,emit:c}):e(d,null)),y=t.props?s:Ki(s)}}catch(t){ja.length=0,On(t,e,1),v=G(ka)}let b=v;if(y&&g!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(h)&&(y=qi(y,a)),b=Ua(b,y,!1,!0))}return n.dirs&&(b=Ua(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Cr(b,n.transition),v=b,Jn(_),v}var Ki=e=>{let t;for(let n in e)(n===`class`||n===`style`||m(n))&&((t||={})[n]=e[n]);return t},qi=(e,t)=>{let n={};for(let r in e)(!h(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ji(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Yi(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!Wi(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?Yi(r,o,l):!0:!!o;return!1}function Yi(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!Wi(n,a))return!0}return!1}function Xi({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}var Zi={},Qi=()=>Object.create(Zi),$i=e=>Object.getPrototypeOf(e)===Zi;function ea(e,t,n,r=!1){let i={},a=Qi();for(let n in e.propsDefaults=Object.create(null),na(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:qt(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function ta(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=en(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(Wi(e.emitsOptions,o))continue;let u=t[o];if(c)if(y(a,o))u!==a[o]&&(a[o]=u,l=!0);else{let t=oe(o);i[t]=ra(c,s,t,u,e,!1)}else u!==a[o]&&(a[o]=u,l=!0)}}}else{na(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!y(t,a)&&((r=ce(a))===a||!y(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=ra(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!y(t,e))&&(delete a[e],l=!0)}l&&dt(e.attrs,`set`,``)}function na(e,t,n,r){let[i,a]=e.propsOptions,o=!1,s;if(t)for(let c in t){if(re(c))continue;let l=t[c],u;i&&y(i,u=oe(c))?!a||!a.includes(u)?n[u]=l:(s||={})[u]=l:Wi(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(a){let t=en(n),r=s||u;for(let o=0;o<a.length;o++){let s=a[o];n[s]=ra(i,t,s,r[s],e,!y(r,s))}}return o}function ra(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=y(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&w(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=ro(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===ce(n))&&(r=!0))}return r}var ia=new WeakMap;function aa(e,t,n=!1){let r=n?ia:t.propsCache,i=r.get(e);if(i)return i;let a=e.props,o={},s=[],c=!1;if(!w(e)){let r=e=>{c=!0;let[n,r]=aa(e,t,!0);g(o,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return D(e)&&r.set(e,d),d;if(b(a))for(let e=0;e<a.length;e++){let t=oe(a[e]);oa(t)&&(o[t]=u)}else if(a)for(let e in a){let t=oe(e);if(oa(t)){let n=a[e],r=o[t]=b(n)||w(n)?{type:n}:g({},n),i=r.type,c=!1,l=!0;if(b(i))for(let e=0;e<i.length;++e){let t=i[e],n=w(t)&&t.name;if(n===`Boolean`){c=!0;break}else n===`String`&&(l=!1)}else c=w(i)&&i.name===`Boolean`;r[0]=c,r[1]=l,(c||y(r,`default`))&&s.push(t)}}let l=[o,s];return D(e)&&r.set(e,l),l}function oa(e){return e[0]!==`$`&&!re(e)}var sa=e=>e===`_`||e===`_ctx`||e===`$stable`,ca=e=>b(e)?e.map(Ga):[Ga(e)],la=(e,t,n)=>{if(t._n)return t;let r=L((...e)=>ca(t(...e)),n);return r._c=!1,r},ua=(e,t,n)=>{let r=e._ctx;for(let n in e){if(sa(n))continue;let i=e[n];if(w(i))t[n]=la(n,i,r);else if(i!=null){let e=ca(i);t[n]=()=>e}}},da=(e,t)=>{let n=ca(t);e.slots.default=()=>n},fa=(e,t,n)=>{for(let r in t)(n||!sa(r))&&(e[r]=t[r])},pa=(e,t,n)=>{let r=e.slots=Qi();if(e.vnode.shapeFlag&32){let e=t._;e?(fa(r,t,n),n&&pe(r,`_`,e,!0)):ua(t,r)}else t&&da(e,t)},ma=(e,t,n)=>{let{vnode:r,slots:i}=e,a=!0,o=u;if(r.shapeFlag&32){let e=t._;e?n&&e===1?a=!1:fa(i,t,n):(a=!t.$stable,ua(t,i)),o=t}else t&&(da(e,t),o={default:1});if(a)for(let e in i)!sa(e)&&o[e]==null&&delete i[e]},ha=Ea;function ga(e){return _a(e)}function _a(e,t){let n=_e();n.__VUE__=!0;let{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:c,setText:l,setElementText:p,parentNode:m,nextSibling:h,setScopeId:g=f,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ra(e,t)&&(r=j(e),de(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case Oa:y(e,t,n,r);break;case ka:b(e,t,n,r);break;case Aa:e??x(t,n,r,o);break;case Da:ee(e,t,n,r,i,a,o,s,c);break;default:d&1?w(e,t,n,r,i,a,o,s,c):d&6?te(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,ye)}u!=null&&i?Dr(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Dr(e.ref,null,a,e,!0)},y=(e,t,n,i)=>{if(e==null)r(t.el=s(t.children),n,i);else{let n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},b=(e,t,n,i)=>{e==null?r(t.el=c(t.children||``),n,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=h(e),r(e,n,i),e=a;r(t,n,i)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)},w=(e,t,n,r,i,a,o,s,c)=>{if(t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null)T(t,n,r,i,a,o,s,c);else{let n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),O(e,t,i,a,o,s,c)}finally{n&&n._endPatch()}}},T=(e,t,n,i,s,c,l,u)=>{let d,f,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(d=e.el=o(e.type,c,m&&m.is,m),h&8?p(d,e.children):h&16&&D(e.children,d,null,i,s,va(e,c),l,u),_&&Xn(e,null,i,`created`),E(d,e,e.scopeId,l,i),m){for(let e in m)e!==`value`&&!re(e)&&a(d,e,null,m[e],c,i);`value`in m&&a(d,`value`,null,m.value,c),(f=m.onVnodeBeforeMount)&&Ya(f,i,e)}_&&Xn(e,null,i,`beforeMount`);let v=ba(s,g);v&&g.beforeEnter(d),r(d,t,n),((f=m&&m.onVnodeMounted)||v||_)&&ha(()=>{f&&Ya(f,i,e),v&&g.enter(d),_&&Xn(e,null,i,`mounted`)},s)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||Ta(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++)v(null,e[l]=s?Ka(e[l]):Ga(e[l]),t,n,r,i,a,o,s)},O=(e,t,n,r,i,o,s)=>{let c=t.el=e.el,{patchFlag:l,dynamicChildren:d,dirs:f}=t;l|=e.patchFlag&16;let m=e.props||u,h=t.props||u,g;if(n&&ya(n,!1),(g=h.onVnodeBeforeUpdate)&&Ya(g,n,t,e),f&&Xn(t,e,n,`beforeUpdate`),n&&ya(n,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&p(c,``),d?k(e.dynamicChildren,d,c,n,r,va(t,i),o):s||se(e,t,c,null,n,r,va(t,i),o,!1),l>0){if(l&16)A(c,m,h,n,i);else if(l&2&&m.class!==h.class&&a(c,`class`,null,h.class,i),l&4&&a(c,`style`,m.style,h.style,i),l&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],o=m[r],s=h[r];(s!==o||r===`value`)&&a(c,r,o,s,i,n)}}l&1&&e.children!==t.children&&p(c,t.children)}else !s&&d==null&&A(c,m,h,n,i);((g=h.onVnodeUpdated)||f)&&ha(()=>{g&&Ya(g,n,t,e),f&&Xn(t,e,n,`updated`)},r)},k=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s];v(c,l,c.el&&(c.type===Da||!Ra(c,l)||c.shapeFlag&198)?m(c.el):n,null,r,i,a,o,!0)}},A=(e,t,n,r,i)=>{if(t!==n){if(t!==u)for(let o in t)!re(o)&&!(o in n)&&a(e,o,t[o],null,i,r);for(let o in n){if(re(o))continue;let s=n[o],c=t[o];s!==c&&o!==`value`&&a(e,o,c,s,i,r)}`value`in n&&a(e,`value`,t.value,n.value,i)}},ee=(e,t,n,i,a,o,c,l,u)=>{let d=t.el=e?e.el:s(``),f=t.anchor=e?e.anchor:s(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(l=l?l.concat(h):h),e==null?(r(d,n,i),r(f,n,i),D(t.children||[],n,f,a,o,c,l,u)):p>0&&p&64&&m&&e.dynamicChildren?(k(e.dynamicChildren,m,n,a,o,c,l),(t.key!=null||a&&t===a.subTree)&&xa(e,t,!0)):se(e,t,n,f,a,o,c,l,u)},te=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):ne(t,n,r,i,a,o,c):ie(e,t,c)},ne=(e,t,n,r,i,a,o)=>{let s=e.component=Qa(e,r,i);if(Ar(e)&&(s.ctx.renderer=ye),so(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,ae,o),!e.el){let r=s.subTree=G(ka);b(null,r,t,n),e.placeholder=r.el}}else ae(s,e,t,n,i,a,o)},ie=(e,t,n)=>{let r=t.component=e.component;if(Ji(e,t,n))if(r.asyncDep&&!r.asyncResolved){oe(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},ae=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=Ca(e);if(n){t&&(t.el=l.el,oe(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,d;ya(e,!1),t?(t.el=l.el,oe(e,t,o)):t=l,n&&fe(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&Ya(d,c,t,l),ya(e,!0);let f=Gi(e),p=e.subTree;e.subTree=f,v(p,f,m(p.el),j(p),e,i,a),t.el=f.el,u===null&&Xi(e,f.el),r&&ha(r,i),(d=t.props&&t.props.onVnodeUpdated)&&ha(()=>Ya(d,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=kr(t);if(ya(e,!1),l&&fe(l),!m&&(o=c&&c.onVnodeBeforeMount)&&Ya(o,d,t),ya(e,!0),s&&N){let t=()=>{e.subTree=Gi(e),N(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=Gi(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&ha(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;ha(()=>Ya(o,d,e),i)}(t.shapeFlag&256||d&&kr(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&ha(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new Re(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>zn(u),ya(e,!0),l()},oe=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,ta(e,t.props,r,n),ma(e,t.children,n),$e(),Hn(e),et()},se=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:m}=t;if(f>0){if(f&128){le(l,d,n,r,i,a,o,s,c);return}else if(f&256){ce(l,d,n,r,i,a,o,s,c);return}}m&8?(u&16&&ge(l,i,a),d!==l&&p(n,d)):u&16?m&16?le(l,d,n,r,i,a,o,s,c):ge(l,i,a,!0):(u&8&&p(n,``),m&16&&D(d,n,r,i,a,o,s,c))},ce=(e,t,n,r,i,a,o,s,c)=>{e||=d,t||=d;let l=e.length,u=t.length,f=Math.min(l,u),p;for(p=0;p<f;p++){let r=t[p]=c?Ka(t[p]):Ga(t[p]);v(e[p],r,n,null,i,a,o,s,c)}l>u?ge(e,i,a,!0,!1,f):D(t,n,r,i,a,o,s,c,f)},le=(e,t,n,r,i,a,o,s,c)=>{let l=0,u=t.length,f=e.length-1,p=u-1;for(;l<=f&&l<=p;){let r=e[l],u=t[l]=c?Ka(t[l]):Ga(t[l]);if(Ra(r,u))v(r,u,n,null,i,a,o,s,c);else break;l++}for(;l<=f&&l<=p;){let r=e[f],l=t[p]=c?Ka(t[p]):Ga(t[p]);if(Ra(r,l))v(r,l,n,null,i,a,o,s,c);else break;f--,p--}if(l>f){if(l<=p){let e=p+1,d=e<u?t[e].el:r;for(;l<=p;)v(null,t[l]=c?Ka(t[l]):Ga(t[l]),n,d,i,a,o,s,c),l++}}else if(l>p)for(;l<=f;)de(e[l],i,a,!0),l++;else{let m=l,h=l,g=new Map;for(l=h;l<=p;l++){let e=t[l]=c?Ka(t[l]):Ga(t[l]);e.key!=null&&g.set(e.key,l)}let _,y=0,b=p-h+1,x=!1,S=0,C=Array(b);for(l=0;l<b;l++)C[l]=0;for(l=m;l<=f;l++){let r=e[l];if(y>=b){de(r,i,a,!0);continue}let u;if(r.key!=null)u=g.get(r.key);else for(_=h;_<=p;_++)if(C[_-h]===0&&Ra(r,t[_])){u=_;break}u===void 0?de(r,i,a,!0):(C[u-h]=l+1,u>=S?S=u:x=!0,v(r,t[u],n,null,i,a,o,s,c),y++)}let w=x?Sa(C):d;for(_=w.length-1,l=b-1;l>=0;l--){let e=h+l,d=t[e],f=t[e+1],p=e+1<u?f.el||f.placeholder:r;C[l]===0?v(null,d,n,p,i,a,o,s,c):x&&(_<0||l!==w[_]?ue(d,n,p,2):_--)}}},ue=(e,t,n,a,o=null)=>{let{el:s,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){ue(e.component.subTree,t,n,a);return}if(d&128){e.suspense.move(t,n,a);return}if(d&64){c.move(e,t,n,ye);return}if(c===Da){r(s,t,n);for(let e=0;e<u.length;e++)ue(u[e],t,n,a);r(e.anchor,t,n);return}if(c===Aa){S(e,t,n);return}if(a!==2&&d&1&&l)if(a===0)l.beforeEnter(s),r(s,t,n),ha(()=>l.enter(s),o);else{let{leave:a,delayLeave:o,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?i(s):r(s,t,n)},d=()=>{s._isLeaving&&s[ur](!0),a(s,()=>{u(),c&&c()})};o?o(s,u,d):d()}else r(s,t,n)},de=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&($e(),Dr(s,null,n,e,!0),et()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!kr(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&Ya(g,t,e),u&6)he(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&Xn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,ye,r):l&&!l.hasOnce&&(a!==Da||d>0&&d&64)?ge(l,t,n,!1,!0):(a===Da&&d&384||!i&&u&16)&&ge(c,t,n),r&&pe(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&ha(()=>{g&&Ya(g,t,e),m&&Xn(e,null,t,`unmounted`)},n)},pe=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===Da){me(n,r);return}if(t===Aa){C(e);return}let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(e.shapeFlag&1&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},me=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},he=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l}=e;wa(c),wa(l),r&&fe(r),i.stop(),a&&(a.flags|=8,de(o,e,t,n)),s&&ha(s,t),ha(()=>{e.isUnmounted=!0},t)},ge=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)de(e[o],t,n,r,i)},j=e=>{if(e.shapeFlag&6)return j(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=h(e.anchor||e.el),n=t&&t[Zn];return n?h(n):t},M=!1,ve=(e,t,n)=>{e==null?t._vnode&&de(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,M||=(M=!0,Hn(),Un(),!1)},ye={p:v,um:de,m:ue,r:pe,mt:ne,mc:D,pc:se,pbc:k,n:j,o:e},be,N;return t&&([be,N]=t(ye)),{render:ve,hydrate:be,createApp:Ai(ve,be)}}function va({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function ya({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ba(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xa(e,t,n=!1){let r=e.children,i=t.children;if(b(r)&&b(i))for(let e=0;e<r.length;e++){let t=r[e],a=i[e];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[e]=Ka(i[e]),a.el=t.el),!n&&a.patchFlag!==-2&&xa(t,a)),a.type===Oa&&a.patchFlag!==-1&&(a.el=t.el),a.type===ka&&!a.el&&(a.el=t.el)}}function Sa(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function Ca(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ca(t)}function wa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}var Ta=e=>e.__isSuspense;function Ea(e,t){t&&t.pendingBranch?b(e)?t.effects.push(...e):t.effects.push(e):Vn(e)}var Da=Symbol.for(`v-fgt`),Oa=Symbol.for(`v-txt`),ka=Symbol.for(`v-cmt`),Aa=Symbol.for(`v-stc`),ja=[],Ma=null;function V(e=!1){ja.push(Ma=e?null:[])}function Na(){ja.pop(),Ma=ja[ja.length-1]||null}var Pa=1;function Fa(e,t=!1){Pa+=e,e<0&&Ma&&t&&(Ma.hasOnce=!0)}function Ia(e){return e.dynamicChildren=Pa>0?Ma||d:null,Na(),Pa>0&&Ma&&Ma.push(e),e}function H(e,t,n,r,i,a){return Ia(W(e,t,n,r,i,a,!0))}function U(e,t,n,r,i){return Ia(G(e,t,n,r,i,!0))}function La(e){return e?e.__v_isVNode===!0:!1}function Ra(e,t){return e.type===t.type&&e.key===t.key}var za=({key:e})=>e??null,Ba=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:T(e)||an(e)||w(e)?{i:Kn,r:e,k:t,f:!!n}:e);function W(e,t=null,n=null,r=0,i=null,a=e===Da?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&za(t),ref:t&&Ba(t),scopeId:qn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Kn};return s?(qa(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=T(n)?8:16),Pa>0&&!o&&Ma&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ma.push(c),c}var G=Va;function Va(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Xr)&&(e=ka),La(e)){let r=Ua(e,t,!0);return n&&qa(r,n),Pa>0&&!a&&Ma&&(r.shapeFlag&6?Ma[Ma.indexOf(e)]=r:Ma.push(r)),r.patchFlag=-2,r}if(ree(e)&&(e=e.__vccOpts),t){t=Ha(t);let{class:e,style:n}=t;e&&!T(e)&&(t.class=N(e)),D(n)&&($t(n)&&!b(n)&&(n=g({},n)),t.style=j(n))}let o=T(e)?1:Ta(e)?128:Qn(e)?64:D(e)?4:w(e)?2:0;return W(e,t,n,r,i,o,a,!0)}function Ha(e){return e?$t(e)||$i(e)?g({},e):e:null}function Ua(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?Ja(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&za(l),ref:t&&t.ref?n&&a?b(a)?a.concat(Ba(t)):[a,Ba(t)]:Ba(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Da?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ua(e.ssContent),ssFallback:e.ssFallback&&Ua(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Cr(u,c.clone(u)),u}function Wa(e=` `,t=0){return G(Oa,null,e,t)}function K(e=``,t=!1){return t?(V(),U(ka,null,e)):G(ka,null,e)}function Ga(e){return e==null||typeof e==`boolean`?G(ka):b(e)?G(Da,null,e.slice()):La(e)?Ka(e):G(Oa,null,String(e))}function Ka(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ua(e)}function qa(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(b(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),qa(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!$i(t)?t._ctx=Kn:r===3&&Kn&&(Kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else w(t)?(t={default:t,_ctx:Kn},n=32):(t=String(t),r&64?(n=16,t=[Wa(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ja(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=N([t.class,r.class]));else if(e===`style`)t.style=j([t.style,r.style]);else if(m(e)){let n=t[e],i=r[e];i&&n!==i&&!(b(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function Ya(e,t,n,r=null){Dn(e,t,7,[n,r])}var Xa=Oi(),Za=0;function Qa(e,t,n){let r=e.type,i=(t?t.appContext:e.appContext)||Xa,a={uid:Za++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Me(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aa(r,i),emitsOptions:Ui(r,i),emit:null,emitted:null,propsDefaults:u,inheritAttrs:r.inheritAttrs,ctx:u,data:u,props:u,attrs:u,slots:u,refs:u,setupState:u,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Vi.bind(null,a),e.ce&&e.ce(a),a}var $a=null,eo=()=>$a||Kn,to,no;{let e=_e(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};to=t(`__VUE_INSTANCE_SETTERS__`,e=>$a=e),no=t(`__VUE_SSR_SETTERS__`,e=>oo=e)}var ro=e=>{let t=$a;return to(e),e.scope.on(),()=>{e.scope.off(),to(t)}},io=()=>{$a&&$a.scope.off(),to(null)};function ao(e){return e.vnode.shapeFlag&4}var oo=!1;function so(e,t=!1,n=!1){t&&no(t);let{props:r,children:i}=e.vnode,a=ao(e);ea(e,r,a,t),pa(e,i,n||t);let o=a?co(e,t):void 0;return t&&no(!1),o}function co(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ci);let{setup:r}=n;if(r){$e();let n=e.setupContext=r.length>1?ho(e):null,i=ro(e),a=En(r,e,0,[e.props,n]),o=O(a);if(et(),i(),(o||e.sp)&&!kr(e)&&Tr(e),o){if(a.then(io,io),t)return a.then(n=>{lo(e,n,t)}).catch(t=>{On(t,e,0)});e.asyncDep=a}else lo(e,a,t)}else po(e,t)}function lo(e,t,n){w(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:D(t)&&(e.setupState=dn(t)),po(e,n)}var uo,fo;function po(e,t,n){let r=e.type;if(!e.render){if(!t&&uo&&!r.render){let t=r.template||vi(e).template;if(t){let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:o}=r;r.render=uo(t,g(g({isCustomElement:n,delimiters:a},i),o))}}e.render=r.render||f,fo&&fo(e)}{let t=ro(e);$e();try{mi(e)}finally{et(),t()}}}var mo={get(e,t){return ut(e,`get`,``),e[t]}};function ho(e){return{attrs:new Proxy(e.attrs,mo),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function go(e){return e.exposed?e.exposeProxy||=new Proxy(dn(tn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in oi)return oi[n](e)},has(e,t){return t in e||t in oi}}):e.proxy}function nee(e,t=!0){return w(e)?e.displayName||e.name:e.name||t&&e.__name}function ree(e){return w(e)&&`__vccOpts`in e}var q=(e,t)=>bn(e,t,oo);function _o(e,t,n){try{Fa(-1);let r=arguments.length;return r===2?D(t)&&!b(t)?La(t)?G(e,null,[t]):G(e,t):G(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&La(n)&&(n=[n]),G(e,t,n))}finally{Fa(1)}}var vo=`3.5.25`,yo=f,bo=void 0,xo=typeof window<`u`&&window.trustedTypes;if(xo)try{bo=xo.createPolicy(`vue`,{createHTML:e=>e})}catch{}var So=bo?e=>bo.createHTML(e):e=>e,Co=`http://www.w3.org/2000/svg`,wo=`http://www.w3.org/1998/Math/MathML`,To=typeof document<`u`?document:null,Eo=To&&To.createElement(`template`),Do={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?To.createElementNS(Co,e):t===`mathml`?To.createElementNS(wo,e):n?To.createElement(e,{is:n}):To.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Eo.innerHTML=So(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=Eo.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Oo=`transition`,ko=`animation`,Ao=Symbol(`_vtc`),jo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mo=g({},mr,jo),No=(e=>(e.displayName=`Transition`,e.props=Mo,e))((e,{slots:t})=>_o(vr,Io(e),t)),Po=(e,t=[])=>{b(e)?e.forEach(e=>e(...t)):e&&e(...t)},Fo=e=>e?b(e)?e.some(e=>e.length>1):e.length>1:!1;function Io(e){let t={};for(let n in e)n in jo||(t[n]=e[n]);if(e.css===!1)return t;let{name:n=`v`,type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:l=o,appearToClass:u=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=Lo(i),h=m&&m[0],_=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:S,onBeforeAppear:C=v,onAppear:w=y,onAppearCancelled:T=b}=t,E=(e,t,n,r)=>{e._enterCancelled=r,Bo(e,t?u:s),Bo(e,t?l:o),n&&n()},D=(e,t)=>{e._isLeaving=!1,Bo(e,d),Bo(e,p),Bo(e,f),t&&t()},O=e=>(t,n)=>{let i=e?w:y,o=()=>E(t,e,n);Po(i,[t,o]),Vo(()=>{Bo(t,e?c:a),zo(t,e?u:s),Fo(i)||Uo(t,r,h,o)})};return g(t,{onBeforeEnter(e){Po(v,[e]),zo(e,a),zo(e,o)},onBeforeAppear(e){Po(C,[e]),zo(e,c),zo(e,l)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;let n=()=>D(e,t);zo(e,d),e._enterCancelled?(zo(e,f),qo(e)):(qo(e),zo(e,f)),Vo(()=>{e._isLeaving&&(Bo(e,d),zo(e,p),Fo(x)||Uo(e,r,_,n))}),Po(x,[e,n])},onEnterCancelled(e){E(e,!1,void 0,!0),Po(b,[e])},onAppearCancelled(e){E(e,!0,void 0,!0),Po(T,[e])},onLeaveCancelled(e){D(e),Po(S,[e])}})}function Lo(e){if(e==null)return null;if(D(e))return[Ro(e.enter),Ro(e.leave)];{let t=Ro(e);return[t,t]}}function Ro(e){return he(e)}function zo(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[Ao]||(e[Ao]=new Set)).add(t)}function Bo(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));let n=e[Ao];n&&(n.delete(t),n.size||(e[Ao]=void 0))}function Vo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}var Ho=0;function Uo(e,t,n,r){let i=e._endId=++Ho,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);let{type:o,timeout:s,propCount:c}=Wo(e,t);if(!o)return r();let l=o+`end`,u=0,d=()=>{e.removeEventListener(l,f),a()},f=t=>{t.target===e&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},s+1),e.addEventListener(l,f)}function Wo(e,t){let n=window.getComputedStyle(e),r=e=>(n[e]||``).split(`, `),i=r(`${Oo}Delay`),a=r(`${Oo}Duration`),o=Go(i,a),s=r(`${ko}Delay`),c=r(`${ko}Duration`),l=Go(s,c),u=null,d=0,f=0;t===Oo?o>0&&(u=Oo,d=o,f=a.length):t===ko?l>0&&(u=ko,d=l,f=c.length):(d=Math.max(o,l),u=d>0?o>l?Oo:ko:null,f=u?u===Oo?a.length:c.length:0);let p=u===Oo&&/\b(?:transform|all)(?:,|$)/.test(r(`${Oo}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function Go(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Ko(t)+Ko(e[n])))}function Ko(e){return e===`auto`?0:Number(e.slice(0,-1).replace(`,`,`.`))*1e3}function qo(e){return(e?e.ownerDocument:document).body.offsetHeight}function Jo(e,t,n){let r=e[Ao];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}var Yo=Symbol(`_vod`),Xo=Symbol(`_vsh`),Zo={name:`show`,beforeMount(e,{value:t},{transition:n}){e[Yo]=e.style.display===`none`?``:e.style.display,n&&t?n.beforeEnter(e):Qo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Qo(e,!0),r.enter(e)):r.leave(e,()=>{Qo(e,!1)}):Qo(e,t))},beforeUnmount(e,{value:t}){Qo(e,t)}};function Qo(e,t){e.style.display=t?e[Yo]:`none`,e[Xo]=!t}var $o=Symbol(``),es=/(?:^|;)\s*display\s*:/;function ts(e,t,n){let r=e.style,i=T(n),a=!1;if(n&&!i){if(t)if(T(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??rs(r,t,``)}else for(let e in t)n[e]??rs(r,e,``);for(let e in n)e===`display`&&(a=!0),rs(r,e,n[e])}else if(i){if(t!==n){let e=r[$o];e&&(n+=`;`+e),r.cssText=n,a=es.test(n)}}else t&&e.removeAttribute(`style`);Yo in e&&(e[Yo]=a?r.display:``,e[Xo]&&(r.display=`none`))}var ns=/\s*!important$/;function rs(e,t,n){if(b(n))n.forEach(n=>rs(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=os(e,t);ns.test(n)?e.setProperty(ce(r),n.replace(ns,``),`important`):e[r]=n}}var is=[`Webkit`,`Moz`,`ms`],as={};function os(e,t){let n=as[t];if(n)return n;let r=oe(t);if(r!==`filter`&&r in e)return as[t]=r;r=le(r);for(let n=0;n<is.length;n++){let i=is[n]+r;if(i in e)return as[t]=i}return t}var ss=`http://www.w3.org/1999/xlink`;function cs(e,t,n,r,i,a=Ce(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(ss,t.slice(6,t.length)):e.setAttributeNS(ss,t,n):n==null||a&&!we(n)?e.removeAttribute(t):e.setAttribute(t,a?``:E(n)?String(n):n)}function ls(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?So(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=we(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function us(e,t,n,r){e.addEventListener(t,n,r)}function ds(e,t,n,r){e.removeEventListener(t,n,r)}var fs=Symbol(`_vei`);function ps(e,t,n,r,i=null){let a=e[fs]||(e[fs]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=hs(t);r?us(e,n,a[t]=ys(r,i),s):o&&(ds(e,n,o,s),a[t]=void 0)}}var ms=/(?:Once|Passive|Capture)$/;function hs(e){let t;if(ms.test(e)){t={};let n;for(;n=e.match(ms);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===`:`?e.slice(3):ce(e.slice(2)),t]}var gs=0,_s=Promise.resolve(),vs=()=>gs||=(_s.then(()=>gs=0),Date.now());function ys(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;Dn(bs(e,n.value),t,5,[e])};return n.value=e,n.attached=vs(),n}function bs(e,t){if(b(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}var xs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ss=(e,t,n,r,i,a)=>{let o=i===`svg`;t===`class`?Jo(e,r,o):t===`style`?ts(e,n,r):m(t)?h(t)||ps(e,t,n,r,a):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):Cs(e,t,r,o))?(ls(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&cs(e,t,r,o,a,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!T(r))?ls(e,oe(t),r,a,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),cs(e,t,r,o))};function Cs(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&xs(t)&&w(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`sandbox`&&e.tagName===`IFRAME`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return xs(t)&&T(n)?!1:t in e}var ws=new WeakMap,Ts=new WeakMap,Es=Symbol(`_moveCb`),Ds=Symbol(`_enterCb`),Os=(e=>(delete e.props.mode,e))({name:`TransitionGroup`,props:g({},Mo,{tag:String,moveClass:String}),setup(e,{slots:t}){let n=eo(),r=fr(),i,a;return Br(()=>{if(!i.length)return;let t=e.moveClass||`${e.name||`v`}-move`;if(!Ms(i[0].el,n.vnode.el,t)){i=[];return}i.forEach(ks),i.forEach(As);let r=i.filter(js);qo(n.vnode.el),r.forEach(e=>{let n=e.el,r=n.style;zo(n,t),r.transform=r.webkitTransform=r.transitionDuration=``;let i=n[Es]=e=>{e&&e.target!==n||(!e||e.propertyName.endsWith(`transform`))&&(n.removeEventListener(`transitionend`,i),n[Es]=null,Bo(n,t))};n.addEventListener(`transitionend`,i)}),i=[]}),()=>{let o=en(e),s=Io(o),c=o.tag||Da;if(i=[],a)for(let e=0;e<a.length;e++){let t=a[e];t.el&&t.el instanceof Element&&(i.push(t),Cr(t,br(t,s,r,n)),ws.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop}))}a=t.default?wr(t.default()):[];for(let e=0;e<a.length;e++){let t=a[e];t.key!=null&&Cr(t,br(t,s,r,n))}return G(c,null,a)}}});function ks(e){let t=e.el;t[Es]&&t[Es](),t[Ds]&&t[Ds]()}function As(e){Ts.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function js(e){let t=ws.get(e),n=Ts.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){let t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration=`0s`,e}}function Ms(e,t,n){let r=e.cloneNode(),i=e[Ao];i&&i.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display=`none`;let a=t.nodeType===1?t:t.parentNode;a.appendChild(r);let{hasTransform:o}=Wo(r);return a.removeChild(r),o}var Ns=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return b(t)?e=>fe(t,e):t};function Ps(e){e.target.composing=!0}function Fs(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}var Is=Symbol(`_assign`);function Ls(e,t,n){return t&&(e=e.trim()),n&&(e=me(e)),e}var Rs={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Is]=Ns(i);let a=r||i.props&&i.props.type===`number`;us(e,t?`change`:`input`,t=>{t.target.composing||e[Is](Ls(e.value,n,a))}),(n||a)&&us(e,`change`,()=>{e.value=Ls(e.value,n,a)}),t||(us(e,`compositionstart`,Ps),us(e,`compositionend`,Fs),us(e,`change`,Fs))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[Is]=Ns(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?me(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},zs={deep:!0,created(e,t,n){e[Is]=Ns(n),us(e,`change`,()=>{let t=e._modelValue,n=Hs(e),r=e.checked,i=e[Is];if(b(t)){let e=De(t,n),a=e!==-1;if(r&&!a)i(t.concat(n));else if(!r&&a){let n=[...t];n.splice(e,1),i(n)}}else if(S(t)){let e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(Us(e,r))})},mounted:Bs,beforeUpdate(e,t,n){e[Is]=Ns(n),Bs(e,t,n)}};function Bs(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(b(t))i=De(t,r.props.value)>-1;else if(S(t))i=t.has(r.props.value);else{if(t===n)return;i=Ee(t,Us(e,!0))}e.checked!==i&&(e.checked=i)}var Vs={created(e,{value:t},n){e.checked=Ee(t,n.props.value),e[Is]=Ns(n),us(e,`change`,()=>{e[Is](Hs(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Is]=Ns(r),t!==n&&(e.checked=Ee(t,r.props.value))}};function Hs(e){return`_value`in e?e._value:e.value}function Us(e,t){let n=t?`_trueValue`:`_falseValue`;return n in e?e[n]:t}var Ws=[`ctrl`,`shift`,`alt`,`meta`],Gs={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>`button`in e&&e.button!==0,middle:e=>`button`in e&&e.button!==1,right:e=>`button`in e&&e.button!==2,exact:(e,t)=>Ws.some(n=>e[`${n}Key`]&&!t.includes(n))},Ks=(e,t)=>{let n=e._withMods||={},r=t.join(`.`);return n[r]||(n[r]=((n,...r)=>{for(let e=0;e<t.length;e++){let r=Gs[t[e]];if(r&&r(n,t))return}return e(n,...r)}))},qs={esc:`escape`,space:` `,up:`arrow-up`,left:`arrow-left`,right:`arrow-right`,down:`arrow-down`,delete:`backspace`},Js=(e,t)=>{let n=e._withKeys||={},r=t.join(`.`);return n[r]||(n[r]=(n=>{if(!(`key`in n))return;let r=ce(n.key);if(t.some(e=>e===r||qs[e]===r))return e(n)}))},Ys=g({patchProp:Ss},Do),Xs;function Zs(){return Xs||=ga(Ys)}var Qs=((...e)=>{Zs().render(...e)}),$s=((...e)=>{let t=Zs().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=tc(e);if(!r)return;let i=t._component;!w(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,ec(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t});function ec(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function tc(e){return T(e)?document.querySelector(e):e}var nc=`2.12.0`,rc=Symbol(`INSTALLED_KEY`),ic=Symbol(),ac=`is-`,oc=(e,t,n,r,i)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},sc=Symbol(`namespaceContextKey`),cc=e=>{let t=e||(eo()?Ni(sc,F(`el`)):F(`el`));return q(()=>I(t)||`el`)},J=(e,t)=>{let n=cc(t);return{namespace:n,b:(t=``)=>oc(n.value,e,t,``,``),e:t=>t?oc(n.value,e,``,t,``):``,m:t=>t?oc(n.value,e,``,``,t):``,be:(t,r)=>t&&r?oc(n.value,e,t,r,``):``,em:(t,r)=>t&&r?oc(n.value,e,``,t,r):``,bm:(t,r)=>t&&r?oc(n.value,e,t,``,r):``,bem:(t,r,i)=>t&&r&&i?oc(n.value,e,t,r,i):``,is:(e,...t)=>{let n=t.length>=1?t[0]:!0;return e&&n?`${ac}${e}`:``},cssVar:e=>{let t={};for(let r in e)e[r]&&(t[`--${n.value}-${r}`]=e[r]);return t},cssVarName:e=>`--${n.value}-${e}`,cssVarBlock:t=>{let r={};for(let i in t)t[i]&&(r[`--${n.value}-${e}-${i}`]=t[i]);return r},cssVarBlockName:t=>`--${n.value}-${e}-${t}`}},lc=typeof global==`object`&&global&&global.Object===Object&&global,uc=typeof self==`object`&&self&&self.Object===Object&&self,dc=lc||uc||Function(`return this`)(),fc=dc.Symbol,pc=Object.prototype,mc=pc.hasOwnProperty,hc=pc.toString,gc=fc?fc.toStringTag:void 0;function _c(e){var t=mc.call(e,gc),n=e[gc];try{e[gc]=void 0;var r=!0}catch{}var i=hc.call(e);return r&&(t?e[gc]=n:delete e[gc]),i}var vc=_c,yc=Object.prototype.toString;function bc(e){return yc.call(e)}var xc=bc,iee=`[object Null]`,aee=`[object Undefined]`,Sc=fc?fc.toStringTag:void 0;function oee(e){return e==null?e===void 0?aee:iee:Sc&&Sc in Object(e)?vc(e):xc(e)}var Cc=oee;function see(e){return typeof e==`object`&&!!e}var wc=see,cee=`[object Symbol]`;function lee(e){return typeof e==`symbol`||wc(e)&&Cc(e)==cee}var Tc=lee;function Ec(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Dc=Ec,Oc=Array.isArray,kc=1/0,Ac=fc?fc.prototype:void 0,jc=Ac?Ac.toString:void 0;function Mc(e){if(typeof e==`string`)return e;if(Oc(e))return Dc(e,Mc)+``;if(Tc(e))return jc?jc.call(e):``;var t=e+``;return t==`0`&&1/e==-kc?`-0`:t}var Nc=Mc,Pc=/\s/;function Fc(e){for(var t=e.length;t--&&Pc.test(e.charAt(t)););return t}var Ic=Fc,Lc=/^\s+/;function Rc(e){return e&&e.slice(0,Ic(e)+1).replace(Lc,``)}var zc=Rc;function Bc(e){var t=typeof e;return e!=null&&(t==`object`||t==`function`)}var Vc=Bc,Hc=NaN,Uc=/^[-+]0x[0-9a-f]+$/i,Wc=/^0b[01]+$/i,Gc=/^0o[0-7]+$/i,Kc=parseInt;function qc(e){if(typeof e==`number`)return e;if(Tc(e))return Hc;if(Vc(e)){var t=typeof e.valueOf==`function`?e.valueOf():e;e=Vc(t)?t+``:t}if(typeof e!=`string`)return e===0?e:+e;e=zc(e);var n=Wc.test(e);return n||Gc.test(e)?Kc(e.slice(2),n?2:8):Uc.test(e)?Hc:+e}var Jc=qc,Yc=1/0,Xc=17976931348623157e292;function Zc(e){return e?(e=Jc(e),e===Yc||e===-Yc?(e<0?-1:1)*Xc:e===e?e:0):e===0?e:0}var Qc=Zc;function $c(e){var t=Qc(e),n=t%1;return t===t?n?t-n:t:0}var el=$c;function tl(e){return e}var nl=tl,rl=`[object AsyncFunction]`,il=`[object Function]`,al=`[object GeneratorFunction]`,ol=`[object Proxy]`;function sl(e){if(!Vc(e))return!1;var t=Cc(e);return t==il||t==al||t==rl||t==ol}var cl=sl,ll=dc[`__core-js_shared__`],ul=function(){var e=/[^.]+$/.exec(ll&&ll.keys&&ll.keys.IE_PROTO||``);return e?`Symbol(src)_1.`+e:``}();function dl(e){return!!ul&&ul in e}var fl=dl,pl=Function.prototype.toString;function ml(e){if(e!=null){try{return pl.call(e)}catch{}try{return e+``}catch{}}return``}var hl=ml,gl=/[\\^$.*+?()[\]{}|]/g,_l=/^\[object .+?Constructor\]$/,vl=Function.prototype,yl=Object.prototype,bl=vl.toString,xl=yl.hasOwnProperty,Sl=RegExp(`^`+bl.call(xl).replace(gl,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`);function Cl(e){return!Vc(e)||fl(e)?!1:(cl(e)?Sl:_l).test(hl(e))}var wl=Cl;function Tl(e,t){return e?.[t]}var El=Tl;function Dl(e,t){var n=El(e,t);return wl(n)?n:void 0}var Ol=Dl,kl=Ol(dc,`WeakMap`),Al=Object.create,jl=function(){function e(){}return function(t){if(!Vc(t))return{};if(Al)return Al(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Ml(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Nl=Ml;function Pl(){}var Fl=Pl;function Il(e,t){var n=-1,r=e.length;for(t||=Array(r);++n<r;)t[n]=e[n];return t}var Ll=Il,Rl=800,zl=16,Bl=Date.now;function Vl(e){var t=0,n=0;return function(){var r=Bl(),i=zl-(r-n);if(n=r,i>0){if(++t>=Rl)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Hl=Vl;function Ul(e){return function(){return e}}var Wl=Ul,Gl=function(){try{var e=Ol(Object,`defineProperty`);return e({},``,{}),e}catch{}}(),Kl=Hl(Gl?function(e,t){return Gl(e,`toString`,{configurable:!0,enumerable:!1,value:Wl(t),writable:!0})}:nl);function ql(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Jl=ql;function Yl(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var Xl=Yl;function Zl(e){return e!==e}var Ql=Zl;function $l(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var eu=$l;function tu(e,t,n){return t===t?eu(e,t,n):Xl(e,Ql,n)}var nu=tu;function ru(e,t){return!!(e!=null&&e.length)&&nu(e,t,0)>-1}var iu=ru,au=9007199254740991,ou=/^(?:0|[1-9]\d*)$/;function su(e,t){var n=typeof e;return t??=au,!!t&&(n==`number`||n!=`symbol`&&ou.test(e))&&e>-1&&e%1==0&&e<t}var cu=su;function lu(e,t,n){t==`__proto__`&&Gl?Gl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var uu=lu;function du(e,t){return e===t||e!==e&&t!==t}var fu=du,pu=Object.prototype.hasOwnProperty;function mu(e,t,n){var r=e[t];(!(pu.call(e,t)&&fu(r,n))||n===void 0&&!(t in e))&&uu(e,t,n)}var hu=mu;function gu(e,t,n,r){var i=!n;n||={};for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;c===void 0&&(c=e[s]),i?uu(n,s,c):hu(n,s,c)}return n}var _u=gu,vu=Math.max;function yu(e,t,n){return t=vu(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=vu(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),Nl(e,this,s)}}var bu=yu;function xu(e,t){return Kl(bu(e,t,nl),e+``)}var Su=xu,Cu=9007199254740991;function wu(e){return typeof e==`number`&&e>-1&&e%1==0&&e<=Cu}var Tu=wu;function Eu(e){return e!=null&&Tu(e.length)&&!cl(e)}var Du=Eu;function Ou(e,t,n){if(!Vc(n))return!1;var r=typeof t;return(r==`number`?Du(n)&&cu(t,n.length):r==`string`&&t in n)?fu(n[t],e):!1}var ku=Ou;function Au(e){return Su(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a==`function`?(i--,a):void 0,o&&ku(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var ju=Au,Mu=Object.prototype;function Nu(e){var t=e&&e.constructor;return e===(typeof t==`function`&&t.prototype||Mu)}var Pu=Nu;function Fu(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Iu=Fu,Lu=`[object Arguments]`;function Ru(e){return wc(e)&&Cc(e)==Lu}var zu=Ru,Bu=Object.prototype,Vu=Bu.hasOwnProperty,Hu=Bu.propertyIsEnumerable,Uu=zu(function(){return arguments}())?zu:function(e){return wc(e)&&Vu.call(e,`callee`)&&!Hu.call(e,`callee`)};function Wu(){return!1}var Gu=Wu,Ku=typeof exports==`object`&&exports&&!exports.nodeType&&exports,qu=Ku&&typeof module==`object`&&module&&!module.nodeType&&module,Ju=qu&&qu.exports===Ku?dc.Buffer:void 0,Yu=(Ju?Ju.isBuffer:void 0)||Gu,Xu=`[object Arguments]`,Zu=`[object Array]`,Qu=`[object Boolean]`,$u=`[object Date]`,ed=`[object Error]`,td=`[object Function]`,nd=`[object Map]`,rd=`[object Number]`,id=`[object Object]`,ad=`[object RegExp]`,od=`[object Set]`,sd=`[object String]`,cd=`[object WeakMap]`,ld=`[object ArrayBuffer]`,ud=`[object DataView]`,dd=`[object Float32Array]`,fd=`[object Float64Array]`,pd=`[object Int8Array]`,md=`[object Int16Array]`,hd=`[object Int32Array]`,gd=`[object Uint8Array]`,_d=`[object Uint8ClampedArray]`,vd=`[object Uint16Array]`,yd=`[object Uint32Array]`,bd={};bd[dd]=bd[fd]=bd[pd]=bd[md]=bd[hd]=bd[gd]=bd[_d]=bd[vd]=bd[yd]=!0,bd[Xu]=bd[Zu]=bd[ld]=bd[Qu]=bd[ud]=bd[$u]=bd[ed]=bd[td]=bd[nd]=bd[rd]=bd[id]=bd[ad]=bd[od]=bd[sd]=bd[cd]=!1;function xd(e){return wc(e)&&Tu(e.length)&&!!bd[Cc(e)]}var Sd=xd;function Cd(e){return function(t){return e(t)}}var wd=Cd,Td=typeof exports==`object`&&exports&&!exports.nodeType&&exports,Ed=Td&&typeof module==`object`&&module&&!module.nodeType&&module,Dd=Ed&&Ed.exports===Td&&lc.process,Od=function(){try{return Ed&&Ed.require&&Ed.require(`util`).types||Dd&&Dd.binding&&Dd.binding(`util`)}catch{}}(),kd=Od&&Od.isTypedArray,Ad=kd?wd(kd):Sd,jd=Object.prototype.hasOwnProperty;function Md(e,t){var n=Oc(e),r=!n&&Uu(e),i=!n&&!r&&Yu(e),a=!n&&!r&&!i&&Ad(e),o=n||r||i||a,s=o?Iu(e.length,String):[],c=s.length;for(var l in e)(t||jd.call(e,l))&&!(o&&(l==`length`||i&&(l==`offset`||l==`parent`)||a&&(l==`buffer`||l==`byteLength`||l==`byteOffset`)||cu(l,c)))&&s.push(l);return s}var Nd=Md;function Pd(e,t){return function(n){return e(t(n))}}var Fd=Pd,Id=Fd(Object.keys,Object),Ld=Object.prototype.hasOwnProperty;function Rd(e){if(!Pu(e))return Id(e);var t=[];for(var n in Object(e))Ld.call(e,n)&&n!=`constructor`&&t.push(n);return t}var zd=Rd;function Bd(e){return Du(e)?Nd(e):zd(e)}var Vd=Bd;function Hd(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ud=Hd,Wd=Object.prototype.hasOwnProperty;function Gd(e){if(!Vc(e))return Ud(e);var t=Pu(e),n=[];for(var r in e)r==`constructor`&&(t||!Wd.call(e,r))||n.push(r);return n}var Kd=Gd;function qd(e){return Du(e)?Nd(e,!0):Kd(e)}var Jd=qd,Yd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xd=/^\w*$/;function Zd(e,t){if(Oc(e))return!1;var n=typeof e;return n==`number`||n==`symbol`||n==`boolean`||e==null||Tc(e)?!0:Xd.test(e)||!Yd.test(e)||t!=null&&e in Object(t)}var Qd=Zd,$d=Ol(Object,`create`);function ef(){this.__data__=$d?$d(null):{},this.size=0}var tf=ef;function nf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var rf=nf,af=`__lodash_hash_undefined__`,of=Object.prototype.hasOwnProperty;function sf(e){var t=this.__data__;if($d){var n=t[e];return n===af?void 0:n}return of.call(t,e)?t[e]:void 0}var cf=sf,lf=Object.prototype.hasOwnProperty;function uf(e){var t=this.__data__;return $d?t[e]!==void 0:lf.call(t,e)}var df=uf,ff=`__lodash_hash_undefined__`;function pf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$d&&t===void 0?ff:t,this}var mf=pf;function hf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hf.prototype.clear=tf,hf.prototype.delete=rf,hf.prototype.get=cf,hf.prototype.has=df,hf.prototype.set=mf;var gf=hf;function _f(){this.__data__=[],this.size=0}var vf=_f;function yf(e,t){for(var n=e.length;n--;)if(fu(e[n][0],t))return n;return-1}var bf=yf,xf=Array.prototype.splice;function Sf(e){var t=this.__data__,n=bf(t,e);return n<0?!1:(n==t.length-1?t.pop():xf.call(t,n,1),--this.size,!0)}var Cf=Sf;function wf(e){var t=this.__data__,n=bf(t,e);return n<0?void 0:t[n][1]}var Tf=wf;function Ef(e){return bf(this.__data__,e)>-1}var Df=Ef;function Of(e,t){var n=this.__data__,r=bf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var kf=Of;function Af(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Af.prototype.clear=vf,Af.prototype.delete=Cf,Af.prototype.get=Tf,Af.prototype.has=Df,Af.prototype.set=kf;var jf=Af,Mf=Ol(dc,`Map`);function Nf(){this.size=0,this.__data__={hash:new gf,map:new(Mf||jf),string:new gf}}var Pf=Nf;function Ff(e){var t=typeof e;return t==`string`||t==`number`||t==`symbol`||t==`boolean`?e!==`__proto__`:e===null}var If=Ff;function Lf(e,t){var n=e.__data__;return If(t)?n[typeof t==`string`?`string`:`hash`]:n.map}var Rf=Lf;function zf(e){var t=Rf(this,e).delete(e);return this.size-=t?1:0,t}var Bf=zf;function Vf(e){return Rf(this,e).get(e)}var Hf=Vf;function Uf(e){return Rf(this,e).has(e)}var Wf=Uf;function Gf(e,t){var n=Rf(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Kf=Gf;function qf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qf.prototype.clear=Pf,qf.prototype.delete=Bf,qf.prototype.get=Hf,qf.prototype.has=Wf,qf.prototype.set=Kf;var Jf=qf,Yf=`Expected a function`;function Xf(e,t){if(typeof e!=`function`||t!=null&&typeof t!=`function`)throw TypeError(Yf);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Xf.Cache||Jf),n}Xf.Cache=Jf;var Zf=Xf,Qf=500;function $f(e){var t=Zf(e,function(e){return n.size===Qf&&n.clear(),e}),n=t.cache;return t}var ep=$f,tp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,np=/\\(\\)?/g,rp=ep(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(``),e.replace(tp,function(e,n,r,i){t.push(r?i.replace(np,`$1`):n||e)}),t});function ip(e){return e==null?``:Nc(e)}var ap=ip;function op(e,t){return Oc(e)?e:Qd(e,t)?[e]:rp(ap(e))}var sp=op,cp=1/0;function lp(e){if(typeof e==`string`||Tc(e))return e;var t=e+``;return t==`0`&&1/e==-cp?`-0`:t}var up=lp;function dp(e,t){t=sp(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[up(t[n++])];return n&&n==r?e:void 0}var fp=dp;function pp(e,t,n){var r=e==null?void 0:fp(e,t);return r===void 0?n:r}var mp=pp;function hp(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var gp=hp,_p=fc?fc.isConcatSpreadable:void 0;function uee(e){return Oc(e)||Uu(e)||!!(_p&&e&&e[_p])}var vp=uee;function yp(e,t,n,r,i){var a=-1,o=e.length;for(n||=vp,i||=[];++a<o;){var s=e[a];t>0&&n(s)?t>1?yp(s,t-1,n,r,i):gp(i,s):r||(i[i.length]=s)}return i}var bp=yp;function xp(e){return e!=null&&e.length?bp(e,1):[]}var Sp=xp;function Cp(e){return Kl(bu(e,void 0,Sp),e+``)}var wp=Cp,Tp=Fd(Object.getPrototypeOf,Object),Ep=`[object Object]`,Dp=Function.prototype,Op=Object.prototype,kp=Dp.toString,Ap=Op.hasOwnProperty,jp=kp.call(Object);function Mp(e){if(!wc(e)||Cc(e)!=Ep)return!1;var t=Tp(e);if(t===null)return!0;var n=Ap.call(t,`constructor`)&&t.constructor;return typeof n==`function`&&n instanceof n&&kp.call(n)==jp}var Np=Mp;function Pp(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var Fp=Pp;function Ip(){if(!arguments.length)return[];var e=arguments[0];return Oc(e)?e:[e]}var Lp=Ip;function Rp(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var zp=Rp;function Bp(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Jc(n),n=n===n?n:0),t!==void 0&&(t=Jc(t),t=t===t?t:0),zp(Jc(e),t,n)}var Vp=Bp;function Hp(){this.__data__=new jf,this.size=0}var Up=Hp;function Wp(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Gp=Wp;function Kp(e){return this.__data__.get(e)}var qp=Kp;function Jp(e){return this.__data__.has(e)}var Yp=Jp,Xp=200;function Zp(e,t){var n=this.__data__;if(n instanceof jf){var r=n.__data__;if(!Mf||r.length<Xp-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jf(r)}return n.set(e,t),this.size=n.size,this}var Qp=Zp;function $p(e){this.size=(this.__data__=new jf(e)).size}$p.prototype.clear=Up,$p.prototype.delete=Gp,$p.prototype.get=qp,$p.prototype.has=Yp,$p.prototype.set=Qp;var em=$p;function tm(e,t){return e&&_u(t,Vd(t),e)}var nm=tm;function rm(e,t){return e&&_u(t,Jd(t),e)}var im=rm,am=typeof exports==`object`&&exports&&!exports.nodeType&&exports,om=am&&typeof module==`object`&&module&&!module.nodeType&&module,sm=om&&om.exports===am?dc.Buffer:void 0,cm=sm?sm.allocUnsafe:void 0;function lm(e,t){if(t)return e.slice();var n=e.length,r=cm?cm(n):new e.constructor(n);return e.copy(r),r}var um=lm;function dm(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var fm=dm;function pm(){return[]}var mm=pm,hm=Object.prototype.propertyIsEnumerable,gm=Object.getOwnPropertySymbols,_m=gm?function(e){return e==null?[]:(e=Object(e),fm(gm(e),function(t){return hm.call(e,t)}))}:mm;function vm(e,t){return _u(e,_m(e),t)}var ym=vm,bm=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)gp(t,_m(e)),e=Tp(e);return t}:mm;function xm(e,t){return _u(e,bm(e),t)}var Sm=xm;function Cm(e,t,n){var r=t(e);return Oc(e)?r:gp(r,n(e))}var wm=Cm;function Tm(e){return wm(e,Vd,_m)}var Em=Tm;function Dm(e){return wm(e,Jd,bm)}var Om=Dm,km=Ol(dc,`DataView`),Am=Ol(dc,`Promise`),jm=Ol(dc,`Set`),Mm=`[object Map]`,Nm=`[object Object]`,Pm=`[object Promise]`,Fm=`[object Set]`,Im=`[object WeakMap]`,Lm=`[object DataView]`,Rm=hl(km),zm=hl(Mf),Bm=hl(Am),Vm=hl(jm),Hm=hl(kl),Um=Cc;(km&&Um(new km(new ArrayBuffer(1)))!=Lm||Mf&&Um(new Mf)!=Mm||Am&&Um(Am.resolve())!=Pm||jm&&Um(new jm)!=Fm||kl&&Um(new kl)!=Im)&&(Um=function(e){var t=Cc(e),n=t==Nm?e.constructor:void 0,r=n?hl(n):``;if(r)switch(r){case Rm:return Lm;case zm:return Mm;case Bm:return Pm;case Vm:return Fm;case Hm:return Im}return t});var Wm=Um,Gm=Object.prototype.hasOwnProperty;function Km(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]==`string`&&Gm.call(e,`index`)&&(n.index=e.index,n.input=e.input),n}var qm=Km,Jm=dc.Uint8Array;function Ym(e){var t=new e.constructor(e.byteLength);return new Jm(t).set(new Jm(e)),t}var Xm=Ym;function Zm(e,t){var n=t?Xm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Qm=Zm,$m=/\w*$/;function eh(e){var t=new e.constructor(e.source,$m.exec(e));return t.lastIndex=e.lastIndex,t}var th=eh,nh=fc?fc.prototype:void 0,rh=nh?nh.valueOf:void 0;function ih(e){return rh?Object(rh.call(e)):{}}var ah=ih;function oh(e,t){var n=t?Xm(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var sh=oh,ch=`[object Boolean]`,lh=`[object Date]`,uh=`[object Map]`,dh=`[object Number]`,fh=`[object RegExp]`,ph=`[object Set]`,mh=`[object String]`,hh=`[object Symbol]`,gh=`[object ArrayBuffer]`,_h=`[object DataView]`,vh=`[object Float32Array]`,yh=`[object Float64Array]`,bh=`[object Int8Array]`,xh=`[object Int16Array]`,Sh=`[object Int32Array]`,Ch=`[object Uint8Array]`,wh=`[object Uint8ClampedArray]`,Th=`[object Uint16Array]`,Eh=`[object Uint32Array]`;function Dh(e,t,n){var r=e.constructor;switch(t){case gh:return Xm(e);case ch:case lh:return new r(+e);case _h:return Qm(e,n);case vh:case yh:case bh:case xh:case Sh:case Ch:case wh:case Th:case Eh:return sh(e,n);case uh:return new r;case dh:case mh:return new r(e);case fh:return th(e);case ph:return new r;case hh:return ah(e)}}var Oh=Dh;function kh(e){return typeof e.constructor==`function`&&!Pu(e)?jl(Tp(e)):{}}var Ah=kh,jh=`[object Map]`;function Mh(e){return wc(e)&&Wm(e)==jh}var Nh=Mh,Ph=Od&&Od.isMap,Fh=Ph?wd(Ph):Nh,Ih=`[object Set]`;function Lh(e){return wc(e)&&Wm(e)==Ih}var Rh=Lh,zh=Od&&Od.isSet,Bh=zh?wd(zh):Rh,Vh=1,Hh=2,Uh=4,Wh=`[object Arguments]`,Gh=`[object Array]`,Kh=`[object Boolean]`,qh=`[object Date]`,Jh=`[object Error]`,Yh=`[object Function]`,Xh=`[object GeneratorFunction]`,Zh=`[object Map]`,Qh=`[object Number]`,$h=`[object Object]`,eg=`[object RegExp]`,tg=`[object Set]`,ng=`[object String]`,rg=`[object Symbol]`,ig=`[object WeakMap]`,dee=`[object ArrayBuffer]`,fee=`[object DataView]`,pee=`[object Float32Array]`,mee=`[object Float64Array]`,hee=`[object Int8Array]`,gee=`[object Int16Array]`,_ee=`[object Int32Array]`,vee=`[object Uint8Array]`,yee=`[object Uint8ClampedArray]`,bee=`[object Uint16Array]`,xee=`[object Uint32Array]`,ag={};ag[Wh]=ag[Gh]=ag[dee]=ag[fee]=ag[Kh]=ag[qh]=ag[pee]=ag[mee]=ag[hee]=ag[gee]=ag[_ee]=ag[Zh]=ag[Qh]=ag[$h]=ag[eg]=ag[tg]=ag[ng]=ag[rg]=ag[vee]=ag[yee]=ag[bee]=ag[xee]=!0,ag[Jh]=ag[Yh]=ag[ig]=!1;function og(e,t,n,r,i,a){var o,s=t&Vh,c=t&Hh,l=t&Uh;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!Vc(e))return e;var u=Oc(e);if(u){if(o=qm(e),!s)return Ll(e,o)}else{var d=Wm(e),f=d==Yh||d==Xh;if(Yu(e))return um(e,s);if(d==$h||d==Wh||f&&!i){if(o=c||f?{}:Ah(e),!s)return c?Sm(e,im(o,e)):ym(e,nm(o,e))}else{if(!ag[d])return i?e:{};o=Oh(e,d,s)}}a||=new em;var p=a.get(e);if(p)return p;a.set(e,o),Bh(e)?e.forEach(function(r){o.add(og(r,t,n,r,e,a))}):Fh(e)&&e.forEach(function(r,i){o.set(i,og(r,t,n,i,e,a))});var m=u?void 0:(l?c?Om:Em:c?Jd:Vd)(e);return Jl(m||e,function(r,i){m&&(i=r,r=e[i]),hu(o,i,og(r,t,n,i,e,a))}),o}var sg=og,See=4;function Cee(e){return sg(e,See)}var cg=Cee,wee=1,Tee=4;function Eee(e){return sg(e,wee|Tee)}var lg=Eee,Dee=`__lodash_hash_undefined__`;function Oee(e){return this.__data__.set(e,Dee),this}var kee=Oee;function Aee(e){return this.__data__.has(e)}var jee=Aee;function ug(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Jf;++t<n;)this.add(e[t])}ug.prototype.add=ug.prototype.push=kee,ug.prototype.has=jee;var dg=ug;function Mee(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Nee=Mee;function Pee(e,t){return e.has(t)}var fg=Pee,Fee=1,Iee=2;function Lee(e,t,n,r,i,a){var o=n&Fee,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var d=-1,f=!0,p=n&Iee?new dg:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],h=t[d];if(r)var g=o?r(h,m,d,t,e,a):r(m,h,d,e,t,a);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!Nee(t,function(e,t){if(!fg(p,t)&&(m===e||i(m,e,n,r,a)))return p.push(t)})){f=!1;break}}else if(!(m===h||i(m,h,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var pg=Lee;function Ree(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}var zee=Ree;function Bee(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var mg=Bee,Vee=1,Hee=2,Uee=`[object Boolean]`,Wee=`[object Date]`,Gee=`[object Error]`,Kee=`[object Map]`,qee=`[object Number]`,Jee=`[object RegExp]`,Yee=`[object Set]`,hg=`[object String]`,gg=`[object Symbol]`,_g=`[object ArrayBuffer]`,vg=`[object DataView]`,yg=fc?fc.prototype:void 0,bg=yg?yg.valueOf:void 0;function xg(e,t,n,r,i,a,o){switch(n){case vg:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _g:return!(e.byteLength!=t.byteLength||!a(new Jm(e),new Jm(t)));case Uee:case Wee:case qee:return fu(+e,+t);case Gee:return e.name==t.name&&e.message==t.message;case Jee:case hg:return e==t+``;case Kee:var s=zee;case Yee:var c=r&Vee;if(s||=mg,e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=Hee,o.set(e,t);var u=pg(s(e),s(t),r,i,a,o);return o.delete(e),u;case gg:if(bg)return bg.call(e)==bg.call(t)}return!1}var Sg=xg,Cg=1,wg=Object.prototype.hasOwnProperty;function Tg(e,t,n,r,i,a){var o=n&Cg,s=Em(e),c=s.length;if(c!=Em(t).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in t:wg.call(t,u)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=o;++l<c;){u=s[l];var h=e[u],g=t[u];if(r)var _=o?r(g,h,u,t,e,a):r(h,g,u,e,t,a);if(!(_===void 0?h===g||i(h,g,n,r,a):_)){p=!1;break}m||=u==`constructor`}if(p&&!m){var v=e.constructor,y=t.constructor;v!=y&&`constructor`in e&&`constructor`in t&&!(typeof v==`function`&&v instanceof v&&typeof y==`function`&&y instanceof y)&&(p=!1)}return a.delete(e),a.delete(t),p}var Eg=Tg,Dg=1,Og=`[object Arguments]`,kg=`[object Array]`,Ag=`[object Object]`,jg=Object.prototype.hasOwnProperty;function Mg(e,t,n,r,i,a){var o=Oc(e),s=Oc(t),c=o?kg:Wm(e),l=s?kg:Wm(t);c=c==Og?Ag:c,l=l==Og?Ag:l;var u=c==Ag,d=l==Ag,f=c==l;if(f&&Yu(e)){if(!Yu(t))return!1;o=!0,u=!1}if(f&&!u)return a||=new em,o||Ad(e)?pg(e,t,n,r,i,a):Sg(e,t,c,n,r,i,a);if(!(n&Dg)){var p=u&&jg.call(e,`__wrapped__`),m=d&&jg.call(t,`__wrapped__`);if(p||m){var h=p?e.value():e,g=m?t.value():t;return a||=new em,i(h,g,n,r,a)}}return f?(a||=new em,Eg(e,t,n,r,i,a)):!1}var Ng=Mg;function Pg(e,t,n,r,i){return e===t?!0:e==null||t==null||!wc(e)&&!wc(t)?e!==e&&t!==t:Ng(e,t,n,r,Pg,i)}var Fg=Pg,Ig=1,Lg=2;function Rg(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var c=s[0],l=e[c],u=s[1];if(o&&s[2]){if(l===void 0&&!(c in e))return!1}else{var d=new em;if(r)var f=r(l,u,c,e,t,d);if(!(f===void 0?Fg(u,l,Ig|Lg,r,d):f))return!1}}return!0}var zg=Rg;function Bg(e){return e===e&&!Vc(e)}var Vg=Bg;function Hg(e){for(var t=Vd(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Vg(i)]}return t}var Ug=Hg;function Wg(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Gg=Wg;function Kg(e){var t=Ug(e);return t.length==1&&t[0][2]?Gg(t[0][0],t[0][1]):function(n){return n===e||zg(n,e,t)}}var qg=Kg;function Jg(e,t){return e!=null&&t in Object(e)}var Yg=Jg;function Xg(e,t,n){t=sp(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=up(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Tu(i)&&cu(o,i)&&(Oc(e)||Uu(e)))}var Zg=Xg;function Qg(e,t){return e!=null&&Zg(e,t,Yg)}var $g=Qg,e_=1,t_=2;function n_(e,t){return Qd(e)&&Vg(t)?Gg(up(e),t):function(n){var r=mp(n,e);return r===void 0&&r===t?$g(n,e):Fg(t,r,e_|t_)}}var r_=n_;function i_(e){return function(t){return t?.[e]}}var a_=i_;function o_(e){return function(t){return fp(t,e)}}var s_=o_;function c_(e){return Qd(e)?a_(up(e)):s_(e)}var l_=c_;function u_(e){return typeof e==`function`?e:e==null?nl:typeof e==`object`?Oc(e)?r_(e[0],e[1]):qg(e):l_(e)}var d_=u_;function f_(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(n(a[c],c,a)===!1)break}return t}}var p_=f_();function m_(e,t){return e&&p_(e,t,Vd)}var h_=m_;function g_(e,t){return function(n,r){if(n==null)return n;if(!Du(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var __=g_(h_),v_=function(){return dc.Date.now()},y_=`Expected a function`,b_=Math.max,x_=Math.min;function S_(e,t,n){var r,i,a,o,s,c,l=0,u=!1,d=!1,f=!0;if(typeof e!=`function`)throw TypeError(y_);t=Jc(t)||0,Vc(n)&&(u=!!n.leading,d=`maxWait`in n,a=d?b_(Jc(n.maxWait)||0,t):a,f=`trailing`in n?!!n.trailing:f);function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n),o}function m(e){return l=e,s=setTimeout(_,t),u?p(e):o}function h(e){var n=e-c,r=e-l,i=t-n;return d?x_(i,a-r):i}function g(e){var n=e-c,r=e-l;return c===void 0||n>=t||n<0||d&&r>=a}function _(){var e=v_();if(g(e))return v(e);s=setTimeout(_,h(e))}function v(e){return s=void 0,f&&r?p(e):(r=i=void 0,o)}function y(){s!==void 0&&clearTimeout(s),l=0,r=c=i=s=void 0}function b(){return s===void 0?o:v(v_())}function x(){var e=v_(),n=g(e);if(r=arguments,i=this,c=e,n){if(s===void 0)return m(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return s===void 0&&(s=setTimeout(_,t)),o}return x.cancel=y,x.flush=b,x}var C_=S_;function w_(e,t,n){(n!==void 0&&!fu(e[t],n)||n===void 0&&!(t in e))&&uu(e,t,n)}var T_=w_;function E_(e){return wc(e)&&Du(e)}var D_=E_;function O_(e,t){if(!(t===`constructor`&&typeof e[t]==`function`)&&t!=`__proto__`)return e[t]}var k_=O_;function A_(e){return _u(e,Jd(e))}var j_=A_;function M_(e,t,n,r,i,a,o){var s=k_(e,n),c=k_(t,n),l=o.get(c);if(l){T_(e,n,l);return}var u=a?a(s,c,n+``,e,t,o):void 0,d=u===void 0;if(d){var f=Oc(c),p=!f&&Yu(c),m=!f&&!p&&Ad(c);u=c,f||p||m?Oc(s)?u=s:D_(s)?u=Ll(s):p?(d=!1,u=um(c,!0)):m?(d=!1,u=sh(c,!0)):u=[]:Np(c)||Uu(c)?(u=s,Uu(s)?u=j_(s):(!Vc(s)||cl(s))&&(u=Ah(c))):d=!1}d&&(o.set(c,u),i(u,c,r,a,o),o.delete(c)),T_(e,n,u)}var N_=M_;function P_(e,t,n,r,i){e!==t&&p_(t,function(a,o){if(i||=new em,Vc(a))N_(e,t,o,n,P_,r,i);else{var s=r?r(k_(e,o),a,o+``,e,t,i):void 0;s===void 0&&(s=a),T_(e,o,s)}},Jd)}var F_=P_;function I_(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var L_=I_;function R_(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var z_=R_,B_=Math.max,V_=Math.min;function H_(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=el(n),i=n<0?B_(r+i,0):V_(i,r-1)),Xl(e,d_(t,3),i,!0)}var U_=H_;function W_(e,t){var n=-1,r=Du(e)?Array(e.length):[];return __(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var G_=W_;function K_(e,t){return(Oc(e)?Dc:G_)(e,d_(t,3))}var q_=K_;function J_(e,t){return bp(q_(e,t),1)}var Y_=J_,X_=1/0;function Z_(e){return e!=null&&e.length?bp(e,X_):[]}var Q_=Z_;function $_(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}var ev=$_;function tv(e,t){return t.length<2?e:fp(e,Fp(t,0,-1))}var nv=tv;function rv(e,t){return Fg(e,t)}var iv=rv;function av(e){return e==null}var ov=av;function sv(e){return e===null}var cv=sv;function lv(e){return e===void 0}var uv=lv,dv=ju(function(e,t,n){F_(e,t,n)});function fv(e,t){return t=sp(t,e),e=nv(e,t),e==null||delete e[up(z_(t))]}var pv=fv;function mv(e){return Np(e)?void 0:e}var hv=mv,gv=1,_v=2,vv=4,yv=wp(function(e,t){var n={};if(e==null)return n;var r=!1;t=Dc(t,function(t){return t=sp(t,e),r||=t.length>1,t}),_u(e,Om(e),n),r&&(n=sg(n,gv|_v|vv,hv));for(var i=t.length;i--;)pv(n,t[i]);return n});function bv(e,t,n,r){if(!Vc(e))return e;t=sp(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var c=up(t[i]),l=n;if(c===`__proto__`||c===`constructor`||c===`prototype`)return e;if(i!=o){var u=s[c];l=r?r(u,c,s):void 0,l===void 0&&(l=Vc(u)?u:cu(t[i+1])?[]:{})}hu(s,c,l),s=s[c]}return e}var xv=bv;function Sv(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=fp(e,o);n(s,o)&&xv(a,sp(o,e),s)}return a}var Cv=Sv;function wv(e,t){return Cv(e,t,function(t,n){return $g(e,n)})}var Tv=wv,Ev=wp(function(e,t){return e==null?{}:Tv(e,t)});function Dv(e,t,n){return e==null?e:xv(e,t,n)}var Ov=Dv,kv=`Expected a function`;function Av(e,t,n){var r=!0,i=!0;if(typeof e!=`function`)throw TypeError(kv);return Vc(n)&&(r=`leading`in n?!!n.leading:r,i=`trailing`in n?!!n.trailing:i),C_(e,t,{leading:r,maxWait:t,trailing:i})}var jv=Av,Mv=jm&&1/mg(new jm([,-0]))[1]==1/0?function(e){return new jm(e)}:Fl,Nv=200;function Pv(e,t,n){var r=-1,i=iu,a=e.length,o=!0,s=[],c=s;if(n)o=!1,i=L_;else if(a>=Nv){var l=t?null:Mv(e);if(l)return mg(l);o=!1,i=fg,c=new dg}else c=t?[]:s;outer:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,o&&d===d){for(var f=c.length;f--;)if(c[f]===d)continue outer;t&&c.push(d),s.push(u)}else i(c,d,n)||(c!==s&&c.push(d),s.push(u))}return s}var Fv=Pv,Iv=Su(function(e){return Fv(bp(e,1,D_,!0))}),Lv=e=>e===void 0,Rv=e=>typeof e==`boolean`,zv=e=>typeof e==`number`,Bv=e=>!e&&e!==0||b(e)&&e.length===0||D(e)&&!Object.keys(e).length,Vv=e=>typeof Element>`u`?!1:e instanceof Element,Hv=e=>ov(e),Uv=e=>T(e)?!Number.isNaN(Number(e)):!1,Wv=e=>e===window,Gv=Object.defineProperty,Kv=Object.defineProperties,qv=Object.getOwnPropertyDescriptors,Jv=Object.getOwnPropertySymbols,Yv=Object.prototype.hasOwnProperty,Xv=Object.prototype.propertyIsEnumerable,Zv=(e,t,n)=>t in e?Gv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qv=(e,t)=>{for(var n in t||={})Yv.call(t,n)&&Zv(e,n,t[n]);if(Jv)for(var n of Jv(t))Xv.call(t,n)&&Zv(e,n,t[n]);return e},$v=(e,t)=>Kv(e,qv(t));function ey(e,t){let n=on();return Ii(()=>{n.value=e()},$v(Qv({},t),{flush:t?.flush??`sync`})),Jt(n)}var ty=typeof window<`u`,ny=e=>e!==void 0,ry=e=>typeof e==`function`,iy=e=>typeof e==`string`,ay=(e,t,n)=>Math.min(n,Math.max(t,e)),oy=()=>{},sy=ty&&(window==null?void 0:window.navigator)?.userAgent&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function cy(e){return typeof e==`function`?e():I(e)}function ly(e,t){function n(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}return n}function uy(e,t={}){let n,r,i=oy,a=e=>{clearTimeout(e),i(),i=oy};return o=>{let s=cy(e),c=cy(t.maxWait);return n&&a(n),s<=0||c!==void 0&&c<=0?(r&&=(a(r),null),Promise.resolve(o())):new Promise((e,l)=>{i=t.rejectOnCancel?l:e,c&&!r&&(r=setTimeout(()=>{n&&a(n),r=null,e(o())},c)),n=setTimeout(()=>{r&&a(r),r=null,e(o())},s)})}}function dy(e,t=!0,n=!0,r=!1){let i=0,a,o=!0,s=oy,c,l=()=>{a&&(clearTimeout(a),a=void 0,s(),s=oy)};return u=>{let d=cy(e),f=Date.now()-i,p=()=>c=u();return l(),d<=0?(i=Date.now(),p()):(f>d&&(n||!o)?(i=Date.now(),p()):t&&(c=new Promise((e,t)=>{s=r?t:e,a=setTimeout(()=>{i=Date.now(),o=!0,e(p()),l()},Math.max(0,d-f))})),!n&&!a&&(a=setTimeout(()=>o=!0,d)),o=!1,c)}}function fy(e){return e}function py(e,t){let n,r,i,a=F(!0),o=()=>{a.value=!0,i()};B(e,o,{flush:`sync`});let s=ry(t)?t:t.get,c=ry(t)?void 0:t.set,l=pn((e,t)=>(r=e,i=t,{get(){return a.value&&=(n=s(),!1),r(),n},set(e){c?.(e)}}));return Object.isExtensible(l)&&(l.trigger=o),l}function my(e){return Pe()?(Fe(e),!0):!1}function hy(e){return an(e)?Kt(new Proxy({},{get(t,n,r){return I(Reflect.get(e.value,n,r))},set(t,n,r){return an(e.value[n])&&!an(r)?e.value[n].value=r:e.value[n]=r,!0},deleteProperty(t,n){return Reflect.deleteProperty(e.value,n)},has(t,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}})):Kt(e)}function gy(e){return hy(q(e))}function _y(e,t=200,n={}){return ly(uy(t,n),e)}function vy(e,t=200,n={}){let r=F(e.value),i=_y(()=>{r.value=e.value},t,n);return B(e,()=>i()),r}function yy(e,t=200,n=!1,r=!0,i=!1){return ly(dy(t,n,r,i),e)}function by(e,t=!0){eo()?Rr(e):t?e():Ln(e)}function xy(e,t,n={}){let{immediate:r=!0}=n,i=F(!1),a=null;function o(){a&&=(clearTimeout(a),null)}function s(){i.value=!1,o()}function c(...n){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...n)},cy(t))}return r&&(i.value=!0,ty&&c()),my(s),{isPending:Jt(i),start:c,stop:s}}function Sy(e){let t=cy(e);return t?.$el??t}var Cy=ty?window:void 0,wy=ty?window.document:void 0;ty&&window.navigator,ty&&window.location;function Ty(...e){let t,n,r,i;if(iy(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=Cy):[t,n,r,i]=e,!t)return oy;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);let a=[],o=()=>{a.forEach(e=>e()),a.length=0},s=(e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)),c=B(()=>[Sy(t),cy(i)],([e,t])=>{o(),e&&a.push(...n.flatMap(n=>r.map(r=>s(e,n,r,t))))},{immediate:!0,flush:`post`}),l=()=>{c(),o()};return my(l),l}var Ey=!1;function Dy(e,t,n={}){let{window:r=Cy,ignore:i=[],capture:a=!0,detectIframe:o=!1}=n;if(!r)return;sy&&!Ey&&(Ey=!0,Array.from(r.document.body.children).forEach(e=>e.addEventListener(`click`,oy)));let s=!0,c=e=>i.some(t=>{if(typeof t==`string`)return Array.from(r.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{let n=Sy(t);return n&&(e.target===n||e.composedPath().includes(n))}}),l=[Ty(r,`click`,n=>{let r=Sy(e);if(!(!r||r===n.target||n.composedPath().includes(r))){if(n.detail===0&&(s=!c(n)),!s){s=!0;return}t(n)}},{passive:!0,capture:a}),Ty(r,`pointerdown`,t=>{let n=Sy(e);n&&(s=!t.composedPath().includes(n)&&!c(t))},{passive:!0}),o&&Ty(r,`blur`,n=>{let i=Sy(e);r.document.activeElement?.tagName===`IFRAME`&&!i?.contains(r.document.activeElement)&&t(n)})].filter(Boolean);return()=>l.forEach(e=>e())}function Oy(e={}){let{window:t=Cy}=e,n=e.document??t?.document,r=py(()=>null,()=>n?.activeElement);return t&&(Ty(t,`blur`,e=>{e.relatedTarget===null&&r.trigger()},!0),Ty(t,`focus`,r.trigger,!0)),r}function ky(e,t=!1){let n=F(),r=()=>n.value=!!e();return r(),by(r,t),n}function Ay(e){return JSON.parse(JSON.stringify(e))}var jy=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},My=`__vueuse_ssr_handlers__`;jy[My]=jy[My]||{},jy[My];function Ny(e,t,{window:n=Cy,initialValue:r=``}={}){let i=F(r),a=q(()=>Sy(t)||n?.document?.documentElement);return B([a,()=>cy(e)],([e,t])=>{e&&n&&(i.value=n.getComputedStyle(e).getPropertyValue(t)?.trim()||r)},{immediate:!0}),B(i,t=>{a.value?.style&&a.value.style.setProperty(cy(e),t)}),i}function Py({document:e=wy}={}){if(!e)return F(`visible`);let t=F(e.visibilityState);return Ty(e,`visibilitychange`,()=>{t.value=e.visibilityState}),t}var Fy=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,Ly=Object.prototype.propertyIsEnumerable,Ry=(e,t)=>{var n={};for(var r in e)Iy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fy)for(var r of Fy(e))t.indexOf(r)<0&&Ly.call(e,r)&&(n[r]=e[r]);return n};function zy(e,t,n={}){let r=n,{window:i=Cy}=r,a=Ry(r,[`window`]),o,s=ky(()=>i&&`ResizeObserver`in i),c=()=>{o&&=(o.disconnect(),void 0)},l=B(()=>Sy(e),e=>{c(),s.value&&i&&e&&(o=new ResizeObserver(t),o.observe(e,a))},{immediate:!0,flush:`post`}),u=()=>{c(),l()};return my(u),{isSupported:s,stop:u}}function By(e,t={}){let{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=t,o=F(0),s=F(0),c=F(0),l=F(0),u=F(0),d=F(0),f=F(0),p=F(0);function m(){let t=Sy(e);if(!t){n&&(o.value=0,s.value=0,c.value=0,l.value=0,u.value=0,d.value=0,f.value=0,p.value=0);return}let r=t.getBoundingClientRect();o.value=r.height,s.value=r.bottom,c.value=r.left,l.value=r.right,u.value=r.top,d.value=r.width,f.value=r.x,p.value=r.y}return zy(e,m),B(()=>Sy(e),e=>!e&&m()),i&&Ty(`scroll`,m,{capture:!0,passive:!0}),r&&Ty(`resize`,m,{passive:!0}),by(()=>{a&&m()}),{height:o,bottom:s,left:c,right:l,top:u,width:d,x:f,y:p,update:m}}function Vy(e,t={width:0,height:0},n={}){let{window:r=Cy,box:i=`content-box`}=n,a=q(()=>(Sy(e)?.namespaceURI)?.includes(`svg`)),o=F(t.width),s=F(t.height);return zy(e,([t])=>{let n=i===`border-box`?t.borderBoxSize:i===`content-box`?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&a.value){let t=Sy(e);if(t){let e=r.getComputedStyle(t);o.value=parseFloat(e.width),s.value=parseFloat(e.height)}}else if(n){let e=Array.isArray(n)?n:[n];o.value=e.reduce((e,{inlineSize:t})=>e+t,0),s.value=e.reduce((e,{blockSize:t})=>e+t,0)}else o.value=t.contentRect.width,s.value=t.contentRect.height},n),B(()=>Sy(e),e=>{o.value=e?t.width:0,s.value=e?t.height:0}),{width:o,height:s}}function Hy(e,t,n={}){let{root:r,rootMargin:i=`0px`,threshold:a=.1,window:o=Cy}=n,s=ky(()=>o&&`IntersectionObserver`in o),c=oy,l=s.value?B(()=>({el:Sy(e),root:Sy(r)}),({el:e,root:n})=>{if(c(),!e)return;let r=new IntersectionObserver(t,{root:n,rootMargin:i,threshold:a});r.observe(e),c=()=>{r.disconnect(),c=oy}},{immediate:!0,flush:`post`}):oy,u=()=>{c(),l()};return my(u),{isSupported:s,stop:u}}var Uy=Object.getOwnPropertySymbols,Wy=Object.prototype.hasOwnProperty,Gy=Object.prototype.propertyIsEnumerable,Ky=(e,t)=>{var n={};for(var r in e)Wy.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Uy)for(var r of Uy(e))t.indexOf(r)<0&&Gy.call(e,r)&&(n[r]=e[r]);return n};function qy(e,t,n={}){let r=n,{window:i=Cy}=r,a=Ky(r,[`window`]),o,s=ky(()=>i&&`MutationObserver`in i),c=()=>{o&&=(o.disconnect(),void 0)},l=B(()=>Sy(e),e=>{c(),s.value&&i&&e&&(o=new MutationObserver(t),o.observe(e,a))},{immediate:!0}),u=()=>{c(),l()};return my(u),{isSupported:s,stop:u}}var Jy;(function(e){e.UP=`UP`,e.RIGHT=`RIGHT`,e.DOWN=`DOWN`,e.LEFT=`LEFT`,e.NONE=`NONE`})(Jy||={});var Yy=Object.defineProperty,Xy=Object.getOwnPropertySymbols,Zy=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,$y=(e,t,n)=>t in e?Yy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||={})Zy.call(t,n)&&$y(e,n,t[n]);if(Xy)for(var n of Xy(t))Qy.call(t,n)&&$y(e,n,t[n]);return e})({linear:fy},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function eb(e,t,n,r={}){let{clone:i=!1,passive:a=!1,eventName:o,deep:s=!1,defaultValue:c}=r,l=eo(),u=n||l?.emit||(l?.$emit)?.bind(l)||(l?.proxy?.$emit)?.bind(l?.proxy),d=o;t||=`modelValue`,d=o||d||`update:${t.toString()}`;let f=e=>i?ry(i)?i(e):Ay(e):e,p=()=>ny(e[t])?f(e[t]):c;if(a){let n=F(p());return B(()=>e[t],e=>n.value=f(e)),B(n,n=>{(n!==e[t]||s)&&u(d,n)},{deep:s}),n}else return q({get(){return p()},set(e){u(d,e)}})}function tb({window:e=Cy}={}){if(!e)return F(!1);let t=F(e.document.hasFocus());return Ty(e,`blur`,()=>{t.value=!1}),Ty(e,`focus`,()=>{t.value=!0}),t}function nb(e={}){let{window:t=Cy,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=e,o=F(n),s=F(r),c=()=>{t&&(a?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return c(),by(c),Ty(`resize`,c,{passive:!0}),i&&Ty(`orientationchange`,c,{passive:!0}),{width:o,height:s}}var rb=class extends Error{constructor(e){super(e),this.name=`ElementPlusError`}};function ib(e,t){throw new rb(`[${e}] ${t}`)}var ab={current:0},ob=F(0),sb=2e3,cb=Symbol(`elZIndexContextKey`),lb=Symbol(`zIndexContextKey`),ub=e=>{let t=eo()?Ni(cb,ab):ab,n=e||(eo()?Ni(lb,void 0):void 0),r=q(()=>{let e=I(n);return zv(e)?e:sb}),i=q(()=>r.value+ob.value);return!ty&&Ni(cb),{initialZIndex:r,currentZIndex:i,nextZIndex:()=>(t.current++,ob.value=t.current,i.value)}},db={name:`en`,el:{breadcrumb:{label:`Breadcrumb`},colorpicker:{confirm:`OK`,clear:`Clear`,defaultLabel:`color picker`,description:`current color is {color}. press enter to select a new color.`,alphaLabel:`pick alpha value`,alphaDescription:`alpha {alpha}, current color is {color}`,hueLabel:`pick hue value`,hueDescription:`hue {hue}, current color is {color}`,svLabel:`pick saturation and brightness value`,svDescription:`saturation {saturation}, brightness {brightness}, current color is {color}`,predefineDescription:`select {value} as the color`},datepicker:{now:`Now`,today:`Today`,cancel:`Cancel`,clear:`Clear`,confirm:`OK`,dateTablePrompt:`Use the arrow keys and enter to select the day of the month`,monthTablePrompt:`Use the arrow keys and enter to select the month`,yearTablePrompt:`Use the arrow keys and enter to select the year`,selectedDate:`Selected date`,selectDate:`Select date`,selectTime:`Select time`,startDate:`Start Date`,startTime:`Start Time`,endDate:`End Date`,endTime:`End Time`,prevYear:`Previous Year`,nextYear:`Next Year`,prevMonth:`Previous Month`,nextMonth:`Next Month`,year:``,month1:`January`,month2:`February`,month3:`March`,month4:`April`,month5:`May`,month6:`June`,month7:`July`,month8:`August`,month9:`September`,month10:`October`,month11:`November`,month12:`December`,weeks:{sun:`Sun`,mon:`Mon`,tue:`Tue`,wed:`Wed`,thu:`Thu`,fri:`Fri`,sat:`Sat`},weeksFull:{sun:`Sunday`,mon:`Monday`,tue:`Tuesday`,wed:`Wednesday`,thu:`Thursday`,fri:`Friday`,sat:`Saturday`},months:{jan:`Jan`,feb:`Feb`,mar:`Mar`,apr:`Apr`,may:`May`,jun:`Jun`,jul:`Jul`,aug:`Aug`,sep:`Sep`,oct:`Oct`,nov:`Nov`,dec:`Dec`}},inputNumber:{decrease:`decrease number`,increase:`increase number`},select:{loading:`Loading`,noMatch:`No matching data`,noData:`No data`,placeholder:`Select`},mention:{loading:`Loading`},dropdown:{toggleDropdown:`Toggle Dropdown`},cascader:{noMatch:`No matching data`,loading:`Loading`,placeholder:`Select`,noData:`No data`},pagination:{goto:`Go to`,pagesize:`/page`,total:`Total {total}`,pageClassifier:``,page:`Page`,prev:`Go to previous page`,next:`Go to next page`,currentPage:`page {pager}`,prevPages:`Previous {pager} pages`,nextPages:`Next {pager} pages`,deprecationWarning:`Deprecated usages detected, please refer to the el-pagination documentation for more details`},dialog:{close:`Close this dialog`},drawer:{close:`Close this dialog`},messagebox:{title:`Message`,confirm:`OK`,cancel:`Cancel`,error:`Illegal input`,close:`Close this dialog`},upload:{deleteTip:`press delete to remove`,delete:`Delete`,preview:`Preview`,continue:`Continue`},slider:{defaultLabel:`slider between {min} and {max}`,defaultRangeStartLabel:`pick start value`,defaultRangeEndLabel:`pick end value`},table:{emptyText:`No Data`,confirmFilter:`Confirm`,resetFilter:`Reset`,clearFilter:`All`,sumText:`Sum`,selectAllLabel:`Select all rows`,selectRowLabel:`Select this row`,expandRowLabel:`Expand this row`,collapseRowLabel:`Collapse this row`,sortLabel:`Sort by {column}`,filterLabel:`Filter by {column}`},tag:{close:`Close this tag`},tour:{next:`Next`,previous:`Previous`,finish:`Finish`,close:`Close this dialog`},tree:{emptyText:`No Data`},transfer:{noMatch:`No matching data`,noData:`No data`,titles:[`List 1`,`List 2`],filterPlaceholder:`Enter keyword`,noCheckedFormat:`{total} items`,hasCheckedFormat:`{checked}/{total} checked`},image:{error:`FAILED`},pageHeader:{title:`Back`},popconfirm:{confirmButtonText:`Yes`,cancelButtonText:`No`},carousel:{leftArrow:`Carousel arrow left`,rightArrow:`Carousel arrow right`,indicator:`Carousel switch to index {index}`}}},fb=e=>(t,n)=>pb(t,n,I(e)),pb=(e,t,n)=>mp(n,e,e).replace(/\{(\w+)\}/g,(e,n)=>`${t?.[n]??`{${n}}`}`),mb=e=>({lang:q(()=>I(e).name),locale:an(e)?e:F(e),t:fb(e)}),hb=Symbol(`localeContextKey`),gb=e=>{let t=e||Ni(hb,F());return mb(q(()=>t.value||db))},_b=`__epPropKey`,Y=e=>e,vb=e=>D(e)&&!!e.__epPropKey,yb=(e,t)=>{if(!D(e)||vb(e))return e;let{values:n,required:r,default:i,type:a,validator:o}=e,s={type:a,required:!!r,validator:n||o?r=>{let a=!1,s=[];if(n&&(s=Array.from(n),y(e,`default`)&&s.push(i),a||=s.includes(r)),o&&(a||=o(r)),!a&&s.length>0){let e=[...new Set(s)].map(e=>JSON.stringify(e)).join(`, `);yo(`Invalid prop: validation failed${t?` for prop "${t}"`:``}. Expected one of [${e}], got value ${JSON.stringify(r)}.`)}return a}:void 0,[_b]:!0};return y(e,`default`)&&(s.default=i),s},X=e=>ev(Object.entries(e).map(([e,t])=>[e,yb(t,e)])),bb=[``,`default`,`small`,`large`],xb=yb({type:String,values:bb,required:!1}),Sb=Symbol(`size`),Cb=()=>{let e=Ni(Sb,{});return q(()=>I(e.size)||``)},wb=Symbol(`emptyValuesContextKey`),Tb=[``,void 0,null],Eb=X({emptyValues:Array,valueOnClear:{type:Y([String,Number,Boolean,Function]),default:void 0,validator:e=>(e=w(e)?e():e,b(e)?e.every(e=>!e):!e)}}),Db=(e,t)=>{let n=eo()?Ni(wb,F({})):F({}),r=q(()=>e.emptyValues||n.value.emptyValues||Tb),i=q(()=>w(e.valueOnClear)?e.valueOnClear():e.valueOnClear===void 0?w(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear===void 0?t===void 0?void 0:t:n.value.valueOnClear:e.valueOnClear),a=e=>{let t=!0;return t=b(e)?r.value.some(t=>iv(e,t)):r.value.includes(e),t};return a(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},Ob=e=>Object.keys(e),kb=e=>Object.entries(e),Ab=(e,t,n)=>({get value(){return mp(e,t,n)},set value(n){Ov(e,t,n)}}),jb=F();function Mb(e,t=void 0){let n=eo()?Ni(ic,jb):jb;return e?q(()=>n.value?.[e]??t):n}function Nb(e,t){let n=Mb(),r=J(e,q(()=>n.value?.namespace||`el`)),i=gb(q(()=>n.value?.locale)),a=ub(q(()=>n.value?.zIndex||2e3)),o=q(()=>I(t)||n.value?.size||``);return Pb(q(()=>I(n)||{})),{ns:r,locale:i,zIndex:a,size:o}}var Pb=(e,t,n=!1)=>{let r=!!eo(),i=r?Mb():void 0,a=t?.provide??(r?Mi:void 0);if(!a)return;let o=q(()=>{let t=I(e);return i?.value?Fb(i.value,t):t});return a(ic,o),a(hb,q(()=>o.value.locale)),a(sc,q(()=>o.value.namespace)),a(lb,q(()=>o.value.zIndex)),a(Sb,{size:q(()=>o.value.size||``)}),a(wb,q(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(n||!jb.value)&&(jb.value=o.value),o},Fb=(e,t)=>{let n=[...new Set([...Ob(e),...Ob(t)])],r={};for(let i of n)r[i]=t[i]===void 0?e[i]:t[i];return r},Ib=(e=[])=>({version:nc,install:(t,n)=>{t[rc]||(t[rc]=!0,e.forEach(e=>t.use(e)),n&&Pb(n,t,!0))}}),Lb=`update:modelValue`,Rb=`change`,zb=`input`,Bb=X({zIndex:{type:Y([Number,String]),default:100},target:{type:String,default:``},offset:{type:Number,default:0},position:{type:String,values:[`top`,`bottom`],default:`top`}}),Vb={scroll:({scrollTop:e,fixed:t})=>zv(e)&&Rv(t),[Rb]:e=>Rv(e)},Hb=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n};function Ub(e,t,n,r){let i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}var Wb=e=>ty?window.requestAnimationFrame(e):setTimeout(e,16),Gb=e=>ty?window.cancelAnimationFrame(e):clearTimeout(e),Kb=(e=``)=>e.split(` `).filter(e=>!!e.trim()),qb=(e,t)=>{if(!e||!t)return!1;if(t.includes(` `))throw Error(`className should not contain space.`);return e.classList.contains(t)},Jb=(e,t)=>{!e||!t.trim()||e.classList.add(...Kb(t))},Yb=(e,t)=>{!e||!t.trim()||e.classList.remove(...Kb(t))},Xb=(e,t)=>{if(!ty||!e||!t)return``;let n=oe(t);n===`float`&&(n=`cssFloat`);try{let t=e.style[n];if(t)return t;let r=document.defaultView?.getComputedStyle(e,``);return r?r[n]:``}catch{return e.style[n]}},Zb=(e,t,n)=>{if(!(!e||!t))if(D(t))kb(t).forEach(([t,n])=>Zb(e,t,n));else{let r=oe(t);e.style[r]=n}};function Qb(e,t=`px`){if(!e&&e!==0)return``;if(zv(e)||Uv(e))return`${e}${t}`;if(T(e))return e}var $b=(e,t)=>{if(!ty)return!1;let n={undefined:`overflow`,true:`overflow-y`,false:`overflow-x`}[String(t)],r=Xb(e,n);return[`scroll`,`auto`,`overlay`].some(e=>r.includes(e))},ex=(e,t)=>{if(!ty)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if($b(n,t))return n;n=n.parentNode}return n},tx,nx=e=>{var t;if(!ty)return 0;if(tx!==void 0)return tx;let n=document.createElement(`div`);n.className=`${e}-scrollbar__wrap`,n.style.visibility=`hidden`,n.style.width=`100px`,n.style.position=`absolute`,n.style.top=`-9999px`,document.body.appendChild(n);let r=n.offsetWidth;n.style.overflow=`scroll`;let i=document.createElement(`div`);i.style.width=`100%`,n.appendChild(i);let a=i.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),tx=r-a,tx};function rx(e,t){if(!ty)return;if(!t){e.scrollTop=0;return}let n=[],r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;let i=t.offsetTop+n.reduce((e,t)=>e+t.offsetTop,0),a=i+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;i<o?e.scrollTop=i:a>s&&(e.scrollTop=a-e.clientHeight)}function ix(e,t,n,r,i){let a=Date.now(),o,s=()=>{let c=Date.now()-a,l=Ub(c>r?r:c,t,n,r);Wv(e)?e.scrollTo(window.pageXOffset,l):e.scrollTop=l,c<r?o=Wb(s):w(i)&&i()};return s(),()=>{o&&Gb(o)}}var ax=(e,t)=>Wv(t)?e.ownerDocument.documentElement:t,ox=e=>Wv(e)?window.scrollY:e.scrollTop,sx=`ElAffix`,cx=Hb(R({...R({name:sx}),props:Bb,emits:Vb,setup(e,{expose:t,emit:n}){let r=e,i=J(`affix`),a=on(),o=on(),s=on(),{height:c}=nb(),{height:l,width:u,top:d,bottom:f,update:p}=By(o,{windowScroll:!1}),m=By(a),h=F(!1),g=F(0),_=F(0),v=q(()=>({height:h.value?`${l.value}px`:``,width:h.value?`${u.value}px`:``})),y=q(()=>{if(!h.value)return{};let e=Qb(r.offset);return{height:`${l.value}px`,width:`${u.value}px`,top:r.position===`top`?e:``,bottom:r.position===`bottom`?e:``,transform:_.value?`translateY(${_.value}px)`:``,zIndex:r.zIndex}}),b=()=>{if(!s.value)return;g.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;let{position:e,target:t,offset:n}=r,i=n+l.value;if(e===`top`)if(t){let e=m.bottom.value-i;h.value=n>d.value&&m.bottom.value>0,_.value=e<0?e:0}else h.value=n>d.value;else if(t){let e=c.value-m.top.value-i;h.value=c.value-n<f.value&&c.value>m.top.value,_.value=e<0?-e:0}else h.value=c.value-n<f.value};return B(h,e=>n(Rb,e)),Rr(()=>{r.target?(a.value=document.querySelector(r.target)??void 0,a.value||ib(sx,`Target does not exist: ${r.target}`)):a.value=document.documentElement,s.value=ex(o.value,!0),p()}),Ty(s,`scroll`,async()=>{p(),await Ln(),n(`scroll`,{scrollTop:g.value,fixed:h.value})}),Ii(b),t({update:b,updateRoot:async()=>{if(!h.value){p();return}h.value=!1,await Ln(),p(),h.value=!0}}),(e,t)=>(V(),H(`div`,{ref_key:`root`,ref:o,class:N(I(i).b()),style:j(I(v))},[W(`div`,{class:N({[I(i).m(`fixed`)]:h.value}),style:j(I(y))},[z(e.$slots,`default`)],6)],6))}}),[[`__file`,`affix.vue`]]),lx=(e,t)=>{if(e.install=n=>{for(let r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(let[n,r]of Object.entries(t))e[n]=r;return e},ux=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),dx=(e,t)=>(e.install=n=>{n.directive(t,e)},e),fx=e=>(e.install=f,e),px=lx(cx),mx=X({size:{type:Y([Number,String])},color:{type:String}}),hx=lx(Hb(R({...R({name:`ElIcon`,inheritAttrs:!1}),props:mx,setup(e){let t=e,n=J(`icon`),r=q(()=>{let{size:e,color:n}=t,r=Qb(e);return!r&&!n?{}:{fontSize:r,"--color":n}});return(e,t)=>(V(),H(`i`,Ja({class:I(n).b(),style:I(r)},e.$attrs),[z(e.$slots,`default`)],16))}}),[[`__file`,`icon.vue`]])),gx=R({name:`Aim`,__name:`aim`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`}),W(`path`,{fill:`currentColor`,d:`M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32`})]))}}),_x=R({name:`ArrowDown`,__name:`arrow-down`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z`})]))}}),vx=R({name:`ArrowLeft`,__name:`arrow-left`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0`})]))}}),yx=R({name:`ArrowRight`,__name:`arrow-right`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z`})]))}}),bx=R({name:`ArrowUp`,__name:`arrow-up`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0`})]))}}),xx=R({name:`Back`,__name:`back`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64`}),W(`path`,{fill:`currentColor`,d:`m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z`})]))}}),Sx=R({name:`Box`,__name:`box`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M317.056 128 128 344.064V896h768V344.064L706.944 128zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64`}),W(`path`,{fill:`currentColor`,d:`M64 320h896v64H64z`}),W(`path`,{fill:`currentColor`,d:`M448 327.872V640h128V327.872L526.08 128h-28.16zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320z`})]))}}),Cx=R({name:`Calendar`,__name:`calendar`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64`})]))}}),wx=R({name:`CaretRight`,__name:`caret-right`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M384 192v640l384-320.064z`})]))}}),Tx=R({name:`CaretTop`,__name:`caret-top`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 320 192 704h639.936z`})]))}}),Ex=R({name:`Check`,__name:`check`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z`})]))}}),Dx=R({name:`CircleCheckFilled`,__name:`circle-check-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z`})]))}}),Ox=R({name:`CircleCheck`,__name:`circle-check`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`}),W(`path`,{fill:`currentColor`,d:`M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z`})]))}}),kx=R({name:`CircleCloseFilled`,__name:`circle-close-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z`})]))}}),Ax=R({name:`CircleClose`,__name:`circle-close`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z`}),W(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`})]))}}),jx=R({name:`Clock`,__name:`clock`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896`}),W(`path`,{fill:`currentColor`,d:`M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32`}),W(`path`,{fill:`currentColor`,d:`M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32`})]))}}),Mx=R({name:`Close`,__name:`close`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z`})]))}}),Nx=R({name:`CopyDocument`,__name:`copy-document`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z`}),W(`path`,{fill:`currentColor`,d:`M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64`})]))}}),Px=R({name:`DArrowLeft`,__name:`d-arrow-left`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z`})]))}}),Fx=R({name:`DArrowRight`,__name:`d-arrow-right`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688`})]))}}),Ix=R({name:`Delete`,__name:`delete`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32`})]))}}),Lx=R({name:`Document`,__name:`document`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z`})]))}}),Rx=R({name:`Download`,__name:`download`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z`})]))}}),zx=R({name:`EditPen`,__name:`edit-pen`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64z`})]))}}),Bx=R({name:`FullScreen`,__name:`full-screen`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z`})]))}}),Vx=R({name:`Grid`,__name:`grid`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M640 384v256H384V384zm64 0h192v256H704zm-64 512H384V704h256zm64 0V704h192v192zm-64-768v192H384V128zm64 0h192v192H704zM320 384v256H128V384zm0 512H128V704h192zm0-768v192H128V128z`})]))}}),Hx=R({name:`Hide`,__name:`hide`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176`}),W(`path`,{fill:`currentColor`,d:`M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48`})]))}}),Ux=R({name:`InfoFilled`,__name:`info-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z`})]))}}),Wx=R({name:`Loading`,__name:`loading`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0`})]))}}),Gx=R({name:`Lock`,__name:`lock`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96`}),W(`path`,{fill:`currentColor`,d:`M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m192-160v-64a192 192 0 1 0-384 0v64zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64`})]))}}),Kx=R({name:`Minus`,__name:`minus`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64`})]))}}),qx=R({name:`MoreFilled`,__name:`more-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224`})]))}}),Jx=R({name:`More`,__name:`more`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96`})]))}}),Yx=R({name:`PictureFilled`,__name:`picture-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384`})]))}}),Xx=R({name:`Picture`,__name:`picture`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M160 160v704h704V160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32`}),W(`path`,{fill:`currentColor`,d:`M384 288q64 0 64 64t-64 64-64-64 64-64M185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952z`})]))}}),Zx=R({name:`Plus`,__name:`plus`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z`})]))}}),Qx=R({name:`QuestionFilled`,__name:`question-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784`})]))}}),$x=R({name:`Rank`,__name:`rank`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544z`})]))}}),eS=R({name:`RefreshLeft`,__name:`refresh-left`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z`})]))}}),tS=R({name:`RefreshRight`,__name:`refresh-right`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88`})]))}}),nS=R({name:`ScaleToOriginal`,__name:`scale-to-original`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512`})]))}}),rS=R({name:`Search`,__name:`search`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704`})]))}}),iS=R({name:`Select`,__name:`select`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496`})]))}}),aS=R({name:`SortDown`,__name:`sort-down`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0`})]))}}),oS=R({name:`SortUp`,__name:`sort-up`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248`})]))}}),sS=R({name:`StarFilled`,__name:`star-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z`})]))}}),cS=R({name:`Star`,__name:`star`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z`})]))}}),lS=R({name:`SuccessFilled`,__name:`success-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z`})]))}}),uS=R({name:`Unlock`,__name:`unlock`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96`}),W(`path`,{fill:`currentColor`,d:`M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32m178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104z`})]))}}),dS=R({name:`Upload`,__name:`upload`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248z`})]))}}),fS=R({name:`View`,__name:`view`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160`})]))}}),pS=R({name:`WarningFilled`,__name:`warning-filled`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4`})]))}}),mS=R({name:`ZoomIn`,__name:`zoom-in`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z`})]))}}),hS=R({name:`ZoomOut`,__name:`zoom-out`,setup(e){return(e,t)=>(V(),H(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 1024 1024`},[W(`path`,{fill:`currentColor`,d:`m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64`})]))}}),gS=Y([String,Object,Function]),_S={Close:Mx},vS={Close:Mx,SuccessFilled:lS,InfoFilled:Ux,WarningFilled:pS,CircleCloseFilled:kx},yS={primary:Ux,success:lS,warning:pS,error:kx,info:Ux},bS={validating:Wx,success:Ox,error:Ax},xS=X({title:{type:String,default:``},description:{type:String,default:``},type:{type:String,values:Ob(yS),default:`info`},closable:{type:Boolean,default:!0},closeText:{type:String,default:``},showIcon:Boolean,center:Boolean,effect:{type:String,values:[`light`,`dark`],default:`light`},showAfter:Number,hideAfter:Number,autoClose:Number}),SS={close:e=>e instanceof MouseEvent},CS=lx(Hb(R({...R({name:`ElAlert`}),props:xS,emits:SS,setup(e,{emit:t}){let n=e,{Close:r}=vS,i=li(),a=J(`alert`),o=F(!0),s=q(()=>yS[n.type]),c=q(()=>!!(n.description||i.default)),l=e=>{o.value=!1,t(`close`,e)};return n.showAfter||n.hideAfter||n.autoClose,(e,t)=>(V(),U(No,{name:I(a).b(`fade`),persisted:``},{default:L(()=>[Yn(W(`div`,{class:N([I(a).b(),I(a).m(e.type),I(a).is(`center`,e.center),I(a).is(e.effect)]),role:`alert`},[e.showIcon&&(e.$slots.icon||I(s))?(V(),U(I(hx),{key:0,class:N([I(a).e(`icon`),I(a).is(`big`,I(c))])},{default:L(()=>[z(e.$slots,`icon`,{},()=>[(V(),U(Zr(I(s))))])]),_:3},8,[`class`])):K(`v-if`,!0),W(`div`,{class:N(I(a).e(`content`))},[e.title||e.$slots.title?(V(),H(`span`,{key:0,class:N([I(a).e(`title`),{"with-description":I(c)}])},[z(e.$slots,`title`,{},()=>[Wa(P(e.title),1)])],2)):K(`v-if`,!0),I(c)?(V(),H(`p`,{key:1,class:N(I(a).e(`description`))},[z(e.$slots,`default`,{},()=>[Wa(P(e.description),1)])],2)):K(`v-if`,!0),e.closable?(V(),H(Da,{key:2},[e.closeText?(V(),H(`div`,{key:0,class:N([I(a).e(`close-btn`),I(a).is(`customed`)]),onClick:l},P(e.closeText),3)):(V(),U(I(hx),{key:1,class:N(I(a).e(`close-btn`)),onClick:l},{default:L(()=>[G(I(r))]),_:1},8,[`class`]))],64)):K(`v-if`,!0)],2)],2),[[Zo,o.value]])]),_:3},8,[`name`]))}}),[[`__file`,`alert.vue`]])),wS=()=>ty&&/firefox/i.test(window.navigator.userAgent),TS=()=>ty&&/android/i.test(window.navigator.userAgent),ES=void 0,DS={height:`0`,visibility:`hidden`,overflow:wS()?``:`hidden`,position:`absolute`,"z-index":`-1000`,top:`0`,right:`0`},OS=[`letter-spacing`,`line-height`,`padding-top`,`padding-bottom`,`font-family`,`font-weight`,`font-size`,`text-rendering`,`text-transform`,`width`,`text-indent`,`padding-left`,`padding-right`,`border-width`,`box-sizing`,`word-break`],kS=e=>{let t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function AS(e){let t=window.getComputedStyle(e),n=t.getPropertyValue(`box-sizing`),r=Number.parseFloat(t.getPropertyValue(`padding-bottom`))+Number.parseFloat(t.getPropertyValue(`padding-top`)),i=Number.parseFloat(t.getPropertyValue(`border-bottom-width`))+Number.parseFloat(t.getPropertyValue(`border-top-width`));return{contextStyle:OS.map(e=>[e,t.getPropertyValue(e)]),paddingSize:r,borderSize:i,boxSizing:n}}function jS(e,t=1,n){var r;ES||(ES=document.createElement(`textarea`),(e.parentNode??document.body).appendChild(ES));let{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=AS(e);s.forEach(([e,t])=>ES?.style.setProperty(e,t)),Object.entries(DS).forEach(([e,t])=>ES?.style.setProperty(e,t,`important`)),ES.value=e.value||e.placeholder||``;let c=ES.scrollHeight,l={};o===`border-box`?c+=a:o===`content-box`&&(c-=i),ES.value=``;let u=ES.scrollHeight-i;if(zv(t)){let e=u*t;o===`border-box`&&(e=e+i+a),c=Math.max(e,c),l.minHeight=`${e}px`}if(zv(n)){let e=u*n;o===`border-box`&&(e=e+i+a),c=Math.min(e,c)}return l.height=`${c}px`,(r=ES.parentNode)==null||r.removeChild(ES),ES=void 0,l}var MS=e=>e,NS=X({ariaLabel:String,ariaOrientation:{type:String,values:[`horizontal`,`vertical`,`undefined`]},ariaControls:String}),PS=e=>Ev(NS,e),FS=X({id:{type:String,default:void 0},size:xb,disabled:{type:Boolean,default:void 0},modelValue:{type:Y([String,Number,Object]),default:``},modelModifiers:{type:Y(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:Y(String),default:`text`},resize:{type:String,values:[`none`,`both`,`horizontal`,`vertical`]},autosize:{type:Y([Boolean,Object]),default:!1},autocomplete:{type:Y(String),default:`off`},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:gS,default:Ax},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:[`inside`,`outside`],default:`inside`},suffixIcon:{type:gS},prefixIcon:{type:gS},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Y([Object,Array,String]),default:()=>MS({})},autofocus:Boolean,rows:{type:Number,default:2},...PS([`ariaLabel`]),inputmode:{type:Y(String),default:void 0},name:String}),IS={[Lb]:e=>T(e),input:e=>T(e),change:(e,t)=>T(e)&&(t instanceof Event||t===void 0),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},LS=[`class`,`style`],RS=/^on[A-Z]/,zS=(e={})=>{let{excludeListeners:t=!1,excludeKeys:n}=e,r=q(()=>(n?.value||[]).concat(LS)),i=eo();return q(i?()=>ev(Object.entries(i.proxy?.$attrs).filter(([e])=>!r.value.includes(e)&&!(t&&RS.test(e)))):()=>({}))},BS={prefix:Math.floor(Math.random()*1e4),current:0},VS=Symbol(`elIdInjection`),HS=()=>eo()?Ni(VS,BS):BS,US=e=>{let t=HS(),n=cc();return ey(()=>I(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},WS=Symbol(`formContextKey`),GS=Symbol(`formItemContextKey`),KS=()=>({form:Ni(WS,void 0),formItem:Ni(GS,void 0)}),qS=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||=F(!1),r||=F(!1);let i=eo(),a=()=>{let e=i?.parent;for(;e;){if(e.type.name===`ElFormItem`)return!1;if(e.type.name===`ElLabelWrap`)return!0;e=e.parent}return!1},o=F(),s,c=q(()=>!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&t.inputIds?.length<=1));return Rr(()=>{s=B([_n(e,`id`),n],([e,n])=>{let i=e??(n?void 0:US().value);i!==o.value&&(t?.removeInputId&&!a()&&(o.value&&t.removeInputId(o.value),!r?.value&&!n&&i&&t.addInputId(i)),o.value=i)},{immediate:!0})}),Hr(()=>{s&&s(),t?.removeInputId&&o.value&&t.removeInputId(o.value)}),{isLabeledByFormItem:c,inputId:o}},JS=e=>{let t=eo();return q(()=>t?.proxy?.$props?.[e])},YS=(e,t={})=>{let n=F(void 0),r=t.prop?n:JS(`size`),i=t.global?n:Cb(),a=t.form?{size:void 0}:Ni(WS,void 0),o=t.formItem?{size:void 0}:Ni(GS,void 0);return q(()=>r.value||I(e)||o?.size||a?.size||i.value||``)},XS=e=>{let t=JS(`disabled`),n=Ni(WS,void 0);return q(()=>t.value??I(e)??n?.disabled??!1)},ZS=`a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])`,QS=e=>typeof Element>`u`?!1:e instanceof Element,$S=e=>getComputedStyle(e).position===`fixed`?!1:e.offsetParent!==null,eC=e=>Array.from(e.querySelectorAll(ZS)).filter(e=>tC(e)&&$S(e)),tC=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute(`tabIndex`)!==null)return!0;if(e.tabIndex<0||e.hasAttribute(`disabled`)||e.getAttribute(`aria-disabled`)===`true`)return!1;switch(e.nodeName){case`A`:return!!e.href&&e.rel!==`ignore`;case`INPUT`:return!(e.type===`hidden`||e.type===`file`);case`BUTTON`:case`SELECT`:case`TEXTAREA`:return!0;default:return!1}},nC=function(e,t,...n){let r;r=t.includes(`mouse`)||t.includes(`click`)?`MouseEvents`:t.includes(`key`)?`KeyboardEvent`:`HTMLEvents`;let i=document.createEvent(r);return i.initEvent(t,...n),e.dispatchEvent(i),e},rC=e=>!e.getAttribute(`aria-owns`),iC=(e,t,n)=>{let{parentNode:r}=e;if(!r)return null;let i=r.querySelectorAll(n);return i[Array.prototype.indexOf.call(i,e)+t]||null},aC=(e,t)=>{if(!e||!e.focus)return;let n=!1;QS(e)&&!tC(e)&&!e.getAttribute(`tabindex`)&&(e.setAttribute(`tabindex`,`-1`),n=!0),e.focus(t),QS(e)&&n&&e.removeAttribute(`tabindex`)},oC=e=>{e&&(aC(e),!rC(e)&&e.click())};function sC(e,{disabled:t,beforeFocus:n,afterFocus:r,beforeBlur:i,afterBlur:a}={}){let{emit:o}=eo(),s=on(),c=F(!1),l=e=>{let i=w(n)?n(e):!1;I(t)||c.value||i||(c.value=!0,o(`focus`,e),r?.())},u=e=>{let n=w(i)?i(e):!1;I(t)||e.relatedTarget&&s.value?.contains(e.relatedTarget)||n||(c.value=!1,o(`blur`,e),a?.())};return B([s,()=>I(t)],([e,t])=>{e&&(t?e.removeAttribute(`tabindex`):e.setAttribute(`tabindex`,`-1`))}),Ty(s,`focus`,l,!0),Ty(s,`blur`,u,!0),Ty(s,`click`,n=>{var r;I(t)||tC(n.target)||s.value?.contains(document.activeElement)&&s.value!==document.activeElement||(r=e.value)==null||r.focus()},!0),{isFocused:c,wrapperRef:s,handleFocus:l,handleBlur:u}}var cC=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function lC({afterComposition:e,emit:t}){let n=F(!1),r=e=>{t?.(`compositionstart`,e),n.value=!0},i=e=>{t?.(`compositionupdate`,e);let r=e.target?.value;n.value=!cC(r[r.length-1]||``)},a=r=>{t?.(`compositionend`,r),n.value&&(n.value=!1,Ln(()=>e(r)))};return{isComposing:n,handleComposition:e=>{e.type===`compositionend`?a(e):i(e)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function uC(e){let t;function n(){if(e.value==null)return;let{selectionStart:n,selectionEnd:r,value:i}=e.value;n==null||r==null||(t={selectionStart:n,selectionEnd:r,value:i,beforeTxt:i.slice(0,Math.max(0,n)),afterTxt:i.slice(Math.max(0,r))})}function r(){if(e.value==null||t==null)return;let{value:n}=e.value,{beforeTxt:r,afterTxt:i,selectionStart:a}=t;if(r==null||i==null||a==null)return;let o=n.length;if(n.endsWith(i))o=n.length-i.length;else if(n.startsWith(r))o=r.length;else{let e=r[a-1],t=n.indexOf(e,a-1);t!==-1&&(o=t+1)}e.value.setSelectionRange(o,o)}return[n,r]}var dC=lx(Hb(R({...R({name:`ElInput`,inheritAttrs:!1}),props:FS,emits:IS,setup(e,{expose:t,emit:n}){let r=e,i=ui(),a=zS(),o=li(),s=q(()=>[r.type===`textarea`?g.b():h.b(),h.m(p.value),h.is(`disabled`,m.value),h.is(`exceed`,le.value),{[h.b(`group`)]:o.prepend||o.append,[h.m(`prefix`)]:o.prefix||r.prefixIcon,[h.m(`suffix`)]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[h.bm(`suffix`,`password-clear`)]:ae.value&&oe.value,[h.b(`hidden`)]:r.type===`hidden`},i.class]),c=q(()=>[h.e(`wrapper`),h.is(`focus`,T.value)]),{form:l,formItem:u}=KS(),{inputId:d}=qS(r,{formItemContext:u}),p=YS(),m=XS(),h=J(`input`),g=J(`textarea`),_=on(),v=on(),y=F(!1),b=F(!1),x=F(),S=on(r.inputStyle),C=q(()=>_.value||v.value),{wrapperRef:w,isFocused:T,handleFocus:E,handleBlur:O}=sC(C,{disabled:m,afterBlur(){var e;r.validateEvent&&((e=u?.validate)==null||e.call(u,`blur`).catch(e=>void 0))}}),k=q(()=>l?.statusIcon??!1),A=q(()=>u?.validateState||``),ee=q(()=>A.value&&bS[A.value]),te=q(()=>b.value?fS:Hx),ne=q(()=>[i.style]),re=q(()=>[r.inputStyle,S.value,{resize:r.resize}]),ie=q(()=>ov(r.modelValue)?``:String(r.modelValue)),ae=q(()=>r.clearable&&!m.value&&!r.readonly&&!!ie.value&&(T.value||y.value)),oe=q(()=>r.showPassword&&!m.value&&!!ie.value),se=q(()=>r.showWordLimit&&!!r.maxlength&&(r.type===`text`||r.type===`textarea`)&&!m.value&&!r.readonly&&!r.showPassword),ce=q(()=>ie.value.length),le=q(()=>!!se.value&&ce.value>Number(r.maxlength)),ue=q(()=>!!o.suffix||!!r.suffixIcon||ae.value||r.showPassword||se.value||!!A.value&&k.value),de=q(()=>!!Object.keys(r.modelModifiers).length),[fe,pe]=uC(_);zy(v,e=>{if(he(),!se.value||r.resize!==`both`&&r.resize!==`horizontal`)return;let{width:t}=e[0].contentRect;x.value={right:`calc(100% - ${t+22-10}px)`}});let me=()=>{let{type:e,autosize:t}=r;if(!(!ty||e!==`textarea`||!v.value))if(t){let e=D(t)?t.minRows:void 0,n=D(t)?t.maxRows:void 0,r=jS(v.value,e,n);S.value={overflowY:`hidden`,...r},Ln(()=>{v.value.offsetHeight,S.value=r})}else S.value={minHeight:jS(v.value).minHeight}},he=(e=>{let t=!1;return()=>{t||!r.autosize||v.value?.offsetParent!==null&&(setTimeout(e),t=!0)}})(me),ge=()=>{let e=C.value,t=r.formatter?r.formatter(ie.value):ie.value;!e||e.value===t||r.type===`file`||(e.value=t)},_e=e=>{let{trim:t,number:n}=r.modelModifiers;return t&&(e=e.trim()),n&&(e=`${kS(e)}`),r.formatter&&r.parser&&(e=r.parser(e)),e},M=async e=>{if(ye.value)return;let{lazy:t}=r.modelModifiers,{value:i}=e.target;if(t){n(zb,i);return}if(i=_e(i),String(i)===ie.value){r.formatter&&ge();return}fe(),n(Lb,i),n(zb,i),await Ln(),(r.formatter&&r.parser||!de.value)&&ge(),pe()},ve=async e=>{let{value:t}=e.target;t=_e(t),r.modelModifiers.lazy&&n(Lb,t),n(Rb,t,e),await Ln(),ge()},{isComposing:ye,handleCompositionStart:be,handleCompositionUpdate:xe,handleCompositionEnd:Se}=lC({emit:n,afterComposition:M}),Ce=()=>{b.value=!b.value},we=()=>C.value?.focus(),Te=()=>C.value?.blur(),Ee=e=>{y.value=!1,n(`mouseleave`,e)},De=e=>{y.value=!0,n(`mouseenter`,e)},Oe=e=>{n(`keydown`,e)},ke=()=>{var e;(e=C.value)==null||e.select()},Ae=()=>{n(Lb,``),n(Rb,``),n(`clear`),n(zb,``)};return B(()=>r.modelValue,()=>{var e;Ln(()=>me()),r.validateEvent&&((e=u?.validate)==null||e.call(u,`change`).catch(e=>void 0))}),B(ie,e=>{if(!C.value)return;let{trim:t,number:n}=r.modelModifiers,i=C.value.value,a=(n||r.type===`number`)&&!/^0\d/.test(i)?`${kS(i)}`:i;a!==e&&(document.activeElement===C.value&&C.value.type!==`range`&&t&&a.trim()===e||ge())}),B(()=>r.type,async()=>{await Ln(),ge(),me()}),Rr(()=>{!r.formatter&&r.parser,ge(),Ln(me)}),t({input:_,textarea:v,ref:C,textareaStyle:re,autosize:_n(r,`autosize`),isComposing:ye,focus:we,blur:Te,select:ke,clear:Ae,resizeTextarea:me}),(e,t)=>(V(),H(`div`,{class:N([I(s),{[I(h).bm(`group`,`append`)]:e.$slots.append,[I(h).bm(`group`,`prepend`)]:e.$slots.prepend}]),style:j(I(ne)),onMouseenter:De,onMouseleave:Ee},[K(` input `),e.type===`textarea`?(V(),H(Da,{key:1},[K(` textarea `),W(`textarea`,Ja({id:I(d),ref_key:`textarea`,ref:v,class:[I(g).e(`inner`),I(h).is(`focus`,I(T))]},I(a),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,style:I(re),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:I(be),onCompositionupdate:I(xe),onCompositionend:I(Se),onInput:M,onFocus:I(E),onBlur:I(O),onChange:ve,onKeydown:Oe}),null,16,[`id`,`name`,`minlength`,`maxlength`,`tabindex`,`disabled`,`readonly`,`autocomplete`,`aria-label`,`placeholder`,`form`,`autofocus`,`rows`,`role`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`,`onFocus`,`onBlur`]),I(se)?(V(),H(`span`,{key:0,style:j(x.value),class:N([I(h).e(`count`),I(h).is(`outside`,e.wordLimitPosition===`outside`)])},P(I(ce))+` / `+P(e.maxlength),7)):K(`v-if`,!0)],64)):(V(),H(Da,{key:0},[K(` prepend slot `),e.$slots.prepend?(V(),H(`div`,{key:0,class:N(I(h).be(`group`,`prepend`))},[z(e.$slots,`prepend`)],2)):K(`v-if`,!0),W(`div`,{ref_key:`wrapperRef`,ref:w,class:N(I(c))},[K(` prefix slot `),e.$slots.prefix||e.prefixIcon?(V(),H(`span`,{key:0,class:N(I(h).e(`prefix`))},[W(`span`,{class:N(I(h).e(`prefix-inner`))},[z(e.$slots,`prefix`),e.prefixIcon?(V(),U(I(hx),{key:0,class:N(I(h).e(`icon`))},{default:L(()=>[(V(),U(Zr(e.prefixIcon)))]),_:1},8,[`class`])):K(`v-if`,!0)],2)],2)):K(`v-if`,!0),W(`input`,Ja({id:I(d),ref_key:`input`,ref:_,class:I(h).e(`inner`)},I(a),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?b.value?`text`:`password`:e.type,disabled:I(m),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:I(be),onCompositionupdate:I(xe),onCompositionend:I(Se),onInput:M,onChange:ve,onKeydown:Oe}),null,16,[`id`,`name`,`minlength`,`maxlength`,`type`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`aria-label`,`placeholder`,`form`,`autofocus`,`role`,`inputmode`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`]),K(` suffix slot `),I(ue)?(V(),H(`span`,{key:1,class:N(I(h).e(`suffix`))},[W(`span`,{class:N(I(h).e(`suffix-inner`))},[!I(ae)||!I(oe)||!I(se)?(V(),H(Da,{key:0},[z(e.$slots,`suffix`),e.suffixIcon?(V(),U(I(hx),{key:0,class:N(I(h).e(`icon`))},{default:L(()=>[(V(),U(Zr(e.suffixIcon)))]),_:1},8,[`class`])):K(`v-if`,!0)],64)):K(`v-if`,!0),I(ae)?(V(),U(I(hx),{key:1,class:N([I(h).e(`icon`),I(h).e(`clear`)]),onMousedown:Ks(I(f),[`prevent`]),onClick:Ae},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):K(`v-if`,!0),I(oe)?(V(),U(I(hx),{key:2,class:N([I(h).e(`icon`),I(h).e(`password`)]),onClick:Ce,onMousedown:Ks(I(f),[`prevent`]),onMouseup:Ks(I(f),[`prevent`])},{default:L(()=>[(V(),U(Zr(I(te))))]),_:1},8,[`class`,`onMousedown`,`onMouseup`])):K(`v-if`,!0),I(se)?(V(),H(`span`,{key:3,class:N([I(h).e(`count`),I(h).is(`outside`,e.wordLimitPosition===`outside`)])},[W(`span`,{class:N(I(h).e(`count-inner`))},P(I(ce))+` / `+P(e.maxlength),3)],2)):K(`v-if`,!0),I(A)&&I(ee)&&I(k)?(V(),U(I(hx),{key:4,class:N([I(h).e(`icon`),I(h).e(`validateIcon`),I(h).is(`loading`,I(A)===`validating`)])},{default:L(()=>[(V(),U(Zr(I(ee))))]),_:1},8,[`class`])):K(`v-if`,!0)],2)],2)):K(`v-if`,!0)],2),K(` append slot `),e.$slots.append?(V(),H(`div`,{key:1,class:N(I(h).be(`group`,`append`))},[z(e.$slots,`append`)],2)):K(`v-if`,!0)],64))],38))}}),[[`__file`,`input.vue`]])),fC={vertical:{offset:`offsetHeight`,scroll:`scrollTop`,scrollSize:`scrollHeight`,size:`height`,key:`vertical`,axis:`Y`,client:`clientY`,direction:`top`},horizontal:{offset:`offsetWidth`,scroll:`scrollLeft`,scrollSize:`scrollWidth`,size:`width`,key:`horizontal`,axis:`X`,client:`clientX`,direction:`left`}},pC=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),mC=Symbol(`scrollbarContextKey`),hC=X({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),gC=`Thumb`,_C=Hb(R({__name:`thumb`,props:hC,setup(e){let t=e,n=Ni(mC),r=J(`scrollbar`);n||ib(gC,`can not inject scrollbar context`);let i=F(),a=F(),o=F({}),s=F(!1),c=!1,l=!1,u=0,d=0,f=ty?document.onselectstart:null,p=q(()=>fC[t.vertical?`vertical`:`horizontal`]),m=q(()=>pC({size:t.size,move:t.move,bar:p.value})),h=q(()=>i.value[p.value.offset]**2/n.wrapElement[p.value.scrollSize]/t.ratio/a.value[p.value.offset]),g=e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;(t=window.getSelection())==null||t.removeAllRanges(),v(e);let n=e.currentTarget;n&&(o.value[p.value.axis]=n[p.value.offset]-(e[p.value.client]-n.getBoundingClientRect()[p.value.direction]))},_=e=>{if(!a.value||!i.value||!n.wrapElement)return;let t=(Math.abs(e.target.getBoundingClientRect()[p.value.direction]-e[p.value.client])-a.value[p.value.offset]/2)*100*h.value/i.value[p.value.offset];n.wrapElement[p.value.scroll]=t*n.wrapElement[p.value.scrollSize]/100},v=e=>{e.stopImmediatePropagation(),c=!0,u=n.wrapElement.scrollHeight,d=n.wrapElement.scrollWidth,document.addEventListener(`mousemove`,y),document.addEventListener(`mouseup`,b),f=document.onselectstart,document.onselectstart=()=>!1},y=e=>{if(!i.value||!a.value||c===!1)return;let t=o.value[p.value.axis];if(!t)return;let r=((i.value.getBoundingClientRect()[p.value.direction]-e[p.value.client])*-1-(a.value[p.value.offset]-t))*100*h.value/i.value[p.value.offset];p.value.scroll===`scrollLeft`?n.wrapElement[p.value.scroll]=r*d/100:n.wrapElement[p.value.scroll]=r*u/100},b=()=>{c=!1,o.value[p.value.axis]=0,document.removeEventListener(`mousemove`,y),document.removeEventListener(`mouseup`,b),C(),l&&(s.value=!1)},x=()=>{l=!1,s.value=!!t.size},S=()=>{l=!0,s.value=c};Vr(()=>{C(),document.removeEventListener(`mouseup`,b)});let C=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return Ty(_n(n,`scrollbarElement`),`mousemove`,x),Ty(_n(n,`scrollbarElement`),`mouseleave`,S),(e,t)=>(V(),U(No,{name:I(r).b(`fade`),persisted:``},{default:L(()=>[Yn(W(`div`,{ref_key:`instance`,ref:i,class:N([I(r).e(`bar`),I(r).is(I(p).key)]),onMousedown:_,onClick:Ks(()=>{},[`stop`])},[W(`div`,{ref_key:`thumb`,ref:a,class:N(I(r).e(`thumb`)),style:j(I(m)),onMousedown:g},null,38)],42,[`onClick`]),[[Zo,e.always||s.value]])]),_:1},8,[`name`]))}}),[[`__file`,`thumb.vue`]]),vC=Hb(R({__name:`bar`,props:X({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(e,{expose:t}){let n=e,r=Ni(mC),i=F(0),a=F(0),o=F(``),s=F(``),c=F(1),l=F(1);return t({handleScroll:e=>{if(e){let t=e.offsetHeight-4,n=e.offsetWidth-4;a.value=e.scrollTop*100/t*c.value,i.value=e.scrollLeft*100/n*l.value}},update:()=>{let e=r?.wrapElement;if(!e)return;let t=e.offsetHeight-4,i=e.offsetWidth-4,a=t**2/e.scrollHeight,u=i**2/e.scrollWidth,d=Math.max(a,n.minSize),f=Math.max(u,n.minSize);c.value=a/(t-a)/(d/(t-d)),l.value=u/(i-u)/(f/(i-f)),s.value=d+4<t?`${d}px`:``,o.value=f+4<i?`${f}px`:``}}),(e,t)=>(V(),H(Da,null,[G(_C,{move:i.value,ratio:l.value,size:o.value,always:e.always},null,8,[`move`,`ratio`,`size`,`always`]),G(_C,{move:a.value,ratio:c.value,size:s.value,vertical:``,always:e.always},null,8,[`move`,`ratio`,`size`,`always`])],64))}}),[[`__file`,`bar.vue`]]),yC=X({distance:{type:Number,default:0},height:{type:[String,Number],default:``},maxHeight:{type:[String,Number],default:``},native:Boolean,wrapStyle:{type:Y([String,Object,Array]),default:``},wrapClass:{type:[String,Array],default:``},viewClass:{type:[String,Array],default:``},viewStyle:{type:[String,Array,Object],default:``},noresize:Boolean,tag:{type:String,default:`div`},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...PS([`ariaLabel`,`ariaOrientation`])}),bC={"end-reached":e=>[`left`,`right`,`top`,`bottom`].includes(e),scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(zv)},xC=lx(Hb(R({...R({name:`ElScrollbar`}),props:yC,emits:bC,setup(e,{expose:t,emit:n}){let r=e,i=J(`scrollbar`),a,o,s,c=0,l=0,u=``,d={bottom:!1,top:!1,right:!1,left:!1},f=F(),p=F(),m=F(),h=F(),g=q(()=>{let e={},t=Qb(r.height),n=Qb(r.maxHeight);return t&&(e.height=t),n&&(e.maxHeight=n),[r.wrapStyle,e]}),_=q(()=>[r.wrapClass,i.e(`wrap`),{[i.em(`wrap`,`hidden-default`)]:!r.native}]),v=q(()=>[i.e(`view`),r.viewClass]),y=e=>d[e]??!1,b={top:`bottom`,bottom:`top`,left:`right`,right:`left`},x=e=>{let t=b[u];if(!t)return;let n=e[u],r=e[t];n&&!d[u]&&(d[u]=!0),!r&&d[t]&&(d[t]=!1)},S=()=>{var e;if(p.value){(e=h.value)==null||e.handleScroll(p.value);let t=c,i=l;c=p.value.scrollTop,l=p.value.scrollLeft;let a={bottom:c+p.value.clientHeight>=p.value.scrollHeight-r.distance,top:c<=r.distance&&t!==0,right:l+p.value.clientWidth>=p.value.scrollWidth-r.distance&&i!==l,left:l<=r.distance&&i!==0};if(n(`scroll`,{scrollTop:c,scrollLeft:l}),t!==c&&(u=c>t?`bottom`:`top`),i!==l&&(u=l>i?`right`:`left`),r.distance>0){if(y(u))return;x(a)}a[u]&&n(`end-reached`,u)}};function C(e,t){D(e)?p.value.scrollTo(e):zv(e)&&zv(t)&&p.value.scrollTo(e,t)}let w=e=>{zv(e)&&(p.value.scrollTop=e)},T=e=>{zv(e)&&(p.value.scrollLeft=e)},E=()=>{var e;(e=h.value)==null||e.update(),d[u]=!1};return B(()=>r.noresize,e=>{e?(a?.(),o?.(),s?.()):({stop:a}=zy(m,E),{stop:o}=zy(p,E),s=Ty(`resize`,E))},{immediate:!0}),B(()=>[r.maxHeight,r.height],()=>{r.native||Ln(()=>{var e;E(),p.value&&((e=h.value)==null||e.handleScroll(p.value))})}),Mi(mC,Kt({scrollbarElement:f,wrapElement:p})),jr(()=>{p.value&&(p.value.scrollTop=c,p.value.scrollLeft=l)}),Rr(()=>{r.native||Ln(()=>{E()})}),Br(()=>E()),t({wrapRef:p,update:E,scrollTo:C,setScrollTop:w,setScrollLeft:T,handleScroll:S}),(e,t)=>(V(),H(`div`,{ref_key:`scrollbarRef`,ref:f,class:N(I(i).b())},[W(`div`,{ref_key:`wrapRef`,ref:p,class:N(I(_)),style:j(I(g)),tabindex:e.tabindex,onScroll:S},[(V(),U(Zr(e.tag),{id:e.id,ref_key:`resizeRef`,ref:m,class:N(I(v)),style:j(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`id`,`class`,`style`,`role`,`aria-label`,`aria-orientation`]))],46,[`tabindex`]),e.native?K(`v-if`,!0):(V(),U(vC,{key:0,ref_key:`barRef`,ref:h,always:e.always,"min-size":e.minSize},null,8,[`always`,`min-size`]))],2))}}),[[`__file`,`scrollbar.vue`]])),SC=Symbol(`popper`),CC=Symbol(`popperContent`),wC=[`dialog`,`grid`,`group`,`listbox`,`menu`,`navigation`,`tooltip`,`tree`],TC=X({role:{type:String,values:wC,default:`tooltip`}}),EC=Hb(R({...R({name:`ElPopper`,inheritAttrs:!1}),props:TC,setup(e,{expose:t}){let n=e,r={triggerRef:F(),popperInstanceRef:F(),contentRef:F(),referenceRef:F(),role:q(()=>n.role)};return t(r),Mi(SC,r),(e,t)=>z(e.$slots,`default`)}}),[[`__file`,`popper.vue`]]),DC=Hb(R({...R({name:`ElPopperArrow`,inheritAttrs:!1}),setup(e,{expose:t}){let n=J(`popper`),{arrowRef:r,arrowStyle:i}=Ni(CC,void 0);return Vr(()=>{r.value=void 0}),t({arrowRef:r}),(e,t)=>(V(),H(`span`,{ref_key:`arrowRef`,ref:r,class:N(I(n).e(`arrow`)),style:j(I(i)),"data-popper-arrow":``},null,6))}}),[[`__file`,`arrow.vue`]]),OC=X({virtualRef:{type:Y(Object)},virtualTriggering:Boolean,onMouseenter:{type:Y(Function)},onMouseleave:{type:Y(Function)},onClick:{type:Y(Function)},onKeydown:{type:Y(Function)},onFocus:{type:Y(Function)},onBlur:{type:Y(Function)},onContextmenu:{type:Y(Function)},id:String,open:Boolean}),kC=Symbol(`elForwardRef`),AC=e=>{Mi(kC,{setForwardRef:t=>{e.value=t}})},jC=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),MC=R({name:`ElOnlyChild`,setup(e,{slots:t,attrs:n}){let r=jC(Ni(kC)?.setForwardRef??f);return()=>{let e=t.default?.call(t,n);if(!e)return null;let[i,a]=NC(e);return i?Yn(Ua(i,n),[[r]]):null}}});function NC(e){if(!e)return[null,0];let t=e,n=t.filter(e=>e.type!==ka).length;for(let e of t){if(D(e))switch(e.type){case ka:continue;case Oa:case`svg`:return[PC(e),n];case Da:return NC(e.children);default:return[e,n]}return[PC(e),n]}return[null,0]}function PC(e){return G(`span`,{class:J(`only-child`).e(`content`)},[e])}var FC=Hb(R({...R({name:`ElPopperTrigger`,inheritAttrs:!1}),props:OC,setup(e,{expose:t}){let n=e,{role:r,triggerRef:i}=Ni(SC,void 0);AC(i);let a=q(()=>s.value?n.id:void 0),o=q(()=>{if(r&&r.value===`tooltip`)return n.open&&n.id?n.id:void 0}),s=q(()=>{if(r&&r.value!==`tooltip`)return r.value}),c=q(()=>s.value?`${n.open}`:void 0),l,u=[`onMouseenter`,`onMouseleave`,`onClick`,`onKeydown`,`onFocus`,`onBlur`,`onContextmenu`];return Rr(()=>{B(()=>n.virtualRef,e=>{e&&(i.value=Sy(e))},{immediate:!0}),B(i,(e,t)=>{l?.(),l=void 0,Vv(t)&&u.forEach(e=>{let r=n[e];r&&t.removeEventListener(e.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(e))}),Vv(e)&&(u.forEach(t=>{let r=n[t];r&&e.addEventListener(t.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(t))}),tC(e)&&(l=B([a,o,s,c],t=>{[`aria-controls`,`aria-describedby`,`aria-haspopup`,`aria-expanded`].forEach((n,r)=>{ov(t[r])?e.removeAttribute(n):e.setAttribute(n,t[r])})},{immediate:!0}))),Vv(t)&&tC(t)&&[`aria-controls`,`aria-describedby`,`aria-haspopup`,`aria-expanded`].forEach(e=>t.removeAttribute(e))},{immediate:!0})}),Vr(()=>{if(l?.(),l=void 0,i.value&&Vv(i.value)){let e=i.value;u.forEach(t=>{let r=n[t];r&&e.removeEventListener(t.slice(2).toLowerCase(),r,[`onFocus`,`onBlur`].includes(t))}),i.value=void 0}}),t({triggerRef:i}),(e,t)=>e.virtualTriggering?K(`v-if`,!0):(V(),U(I(MC),Ja({key:0},e.$attrs,{"aria-controls":I(a),"aria-describedby":I(o),"aria-expanded":I(c),"aria-haspopup":I(s)}),{default:L(()=>[z(e.$slots,`default`)]),_:3},16,[`aria-controls`,`aria-describedby`,`aria-expanded`,`aria-haspopup`]))}}),[[`__file`,`trigger.vue`]]),IC=`focus-trap.focus-after-trapped`,LC=`focus-trap.focus-after-released`,RC=`focus-trap.focusout-prevented`,zC={cancelable:!0,bubbles:!1},BC={cancelable:!0,bubbles:!1},VC=`focusAfterTrapped`,HC=`focusAfterReleased`,UC=Symbol(`elFocusTrap`),WC=F(),GC=F(0),KC=F(0),qC=0,JC=e=>{let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},YC=(e,t)=>{for(let n of e)if(!XC(n,t))return n},XC=(e,t)=>{if(getComputedStyle(e).visibility===`hidden`)return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display===`none`)return!0;e=e.parentElement}return!1},ZC=e=>{let t=JC(e);return[YC(t,e),YC(t.reverse(),e)]},QC=e=>e instanceof HTMLInputElement&&`select`in e,$C=(e,t)=>{if(e){let n=document.activeElement;aC(e,{preventScroll:!0}),KC.value=window.performance.now(),e!==n&&QC(e)&&t&&e.select()}};function ew(e,t){let n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}var tw=()=>{let e=[];return{push:t=>{let n=e[0];n&&t!==n&&n.pause(),e=ew(e,t),e.unshift(t)},remove:t=>{var n,r;e=ew(e,t),(r=(n=e[0])?.resume)==null||r.call(n)}}},nw=(e,t=!1)=>{let n=document.activeElement;for(let r of e)if($C(r,t),document.activeElement!==n)return},rw=tw(),iw=()=>GC.value>KC.value,aw=()=>{WC.value=`pointer`,GC.value=window.performance.now()},ow=()=>{WC.value=`keyboard`,GC.value=window.performance.now()},sw=()=>(Rr(()=>{qC===0&&(document.addEventListener(`mousedown`,aw),document.addEventListener(`touchstart`,aw),document.addEventListener(`keydown`,ow)),qC++}),Vr(()=>{qC--,qC<=0&&(document.removeEventListener(`mousedown`,aw),document.removeEventListener(`touchstart`,aw),document.removeEventListener(`keydown`,ow))}),{focusReason:WC,lastUserFocusTimestamp:GC,lastAutomatedFocusTimestamp:KC}),cw=e=>new CustomEvent(RC,{...BC,detail:e}),Z={tab:`Tab`,enter:`Enter`,space:`Space`,left:`ArrowLeft`,up:`ArrowUp`,right:`ArrowRight`,down:`ArrowDown`,esc:`Escape`,delete:`Delete`,backspace:`Backspace`,numpadEnter:`NumpadEnter`,pageUp:`PageUp`,pageDown:`PageDown`,home:`Home`,end:`End`},lw=(e,t,{checkForDefaultPrevented:n=!0}={})=>r=>{let i=e?.(r);if(n===!1||!i)return t?.(r)},uw=e=>t=>t.pointerType===`mouse`?e(t):void 0,dw=e=>{if(e.code&&e.code!==`Unidentified`)return e.code;let t=fw(e);if(t){if(Object.values(Z).includes(t))return t;switch(t){case` `:return Z.space;default:return``}}return``},fw=e=>{let t=e.key&&e.key!==`Unidentified`?e.key:``;if(!t&&e.type===`keyup`&&TS()){let n=e.target;t=n.value.charAt(n.selectionStart-1)}return t},pw=[],mw=e=>{dw(e)===Z.esc&&pw.forEach(t=>t(e))},hw=e=>{Rr(()=>{pw.length===0&&document.addEventListener(`keydown`,mw),ty&&pw.push(e)}),Vr(()=>{pw=pw.filter(t=>t!==e),pw.length===0&&ty&&document.removeEventListener(`keydown`,mw)})},gw=R({name:`ElFocusTrap`,inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:`first`}},emits:[VC,HC,`focusin`,`focusout`,`focusout-prevented`,`release-requested`],setup(e,{emit:t}){let n=F(),r,i,{focusReason:a}=sw();hw(n=>{e.trapped&&!o.paused&&t(`release-requested`,n)});let o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=n=>{if(!e.loop&&!e.trapped||o.paused)return;let{altKey:r,ctrlKey:i,metaKey:s,currentTarget:c,shiftKey:l}=n,{loop:u}=e,d=dw(n)===Z.tab&&!r&&!i&&!s,f=document.activeElement;if(d&&f){let e=c,[r,i]=ZC(e);if(r&&i){if(!l&&f===i){let e=cw({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||(n.preventDefault(),u&&$C(r,!0))}else if(l&&[r,e].includes(f)){let e=cw({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||(n.preventDefault(),u&&$C(i,!0))}}else if(f===e){let e=cw({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||n.preventDefault()}}};Mi(UC,{focusTrapRef:n,onKeydown:s}),B(()=>e.focusTrapEl,e=>{e&&(n.value=e)},{immediate:!0}),B([n],([e],[t])=>{e&&(e.addEventListener(`keydown`,s),e.addEventListener(`focusin`,u),e.addEventListener(`focusout`,d)),t&&(t.removeEventListener(`keydown`,s),t.removeEventListener(`focusin`,u),t.removeEventListener(`focusout`,d))});let c=e=>{t(VC,e)},l=e=>t(HC,e),u=a=>{let s=I(n);if(!s)return;let c=a.target,l=a.relatedTarget,u=c&&s.contains(c);e.trapped||l&&s.contains(l)||(r=l),u&&t(`focusin`,a),!o.paused&&e.trapped&&(u?i=c:$C(i,!0))},d=r=>{let s=I(n);if(!(o.paused||!s))if(e.trapped){let n=r.relatedTarget;!ov(n)&&!s.contains(n)&&setTimeout(()=>{if(!o.paused&&e.trapped){let e=cw({focusReason:a.value});t(`focusout-prevented`,e),e.defaultPrevented||$C(i,!0)}},0)}else{let e=r.target;e&&s.contains(e)||t(`focusout`,r)}};async function f(){await Ln();let t=I(n);if(t){rw.push(o);let n=t.contains(document.activeElement)?r:document.activeElement;if(r=n,!t.contains(n)){let r=new Event(IC,zC);t.addEventListener(IC,c),t.dispatchEvent(r),r.defaultPrevented||Ln(()=>{let r=e.focusStartEl;T(r)||($C(r),document.activeElement!==r&&(r=`first`)),r===`first`&&nw(JC(t),!0),(document.activeElement===n||r===`container`)&&$C(t)})}}}function p(){let e=I(n);if(e){e.removeEventListener(IC,c);let t=new CustomEvent(LC,{...zC,detail:{focusReason:a.value}});e.addEventListener(LC,l),e.dispatchEvent(t),!t.defaultPrevented&&(a.value==`keyboard`||!iw()||e.contains(document.activeElement))&&$C(r??document.body),e.removeEventListener(LC,l),rw.remove(o),r=null,i=null}}return Rr(()=>{e.trapped&&f(),B(()=>e.trapped,e=>{e?f():p()})}),Vr(()=>{e.trapped&&p(),n.value&&=(n.value.removeEventListener(`keydown`,s),n.value.removeEventListener(`focusin`,u),n.value.removeEventListener(`focusout`,d),void 0),r=null,i=null}),{onKeydown:s}}});function _w(e,t,n,r,i,a){return z(e.$slots,`default`,{handleKeydown:e.onKeydown})}var vw=Hb(gw,[[`render`,_w],[`__file`,`focus-trap.vue`]]),yw=`bottom`,bw=`right`,xw=`left`,Sw=`auto`,Cw=[`top`,yw,bw,xw],ww=`start`,Tw=`clippingParents`,Ew=`viewport`,Dw=`popper`,Ow=`reference`,kw=Cw.reduce(function(e,t){return e.concat([t+`-`+ww,t+`-end`])},[]),Aw=[].concat(Cw,[Sw]).reduce(function(e,t){return e.concat([t,t+`-`+ww,t+`-end`])},[]),jw=[`beforeRead`,`read`,`afterRead`,`beforeMain`,`main`,`afterMain`,`beforeWrite`,`write`,`afterWrite`];function Mw(e){return e?(e.nodeName||``).toLowerCase():null}function Nw(e){if(e==null)return window;if(e.toString()!==`[object Window]`){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pw(e){return e instanceof Nw(e).Element||e instanceof Element}function Fw(e){return e instanceof Nw(e).HTMLElement||e instanceof HTMLElement}function Iw(e){return typeof ShadowRoot>`u`?!1:e instanceof Nw(e).ShadowRoot||e instanceof ShadowRoot}function Lw(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];!Fw(i)||!Mw(i)||(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];t===!1?i.removeAttribute(e):i.setAttribute(e,t===!0?``:t)}))})}function Rw(e){var t=e.state,n={popper:{position:t.options.strategy,left:`0`,top:`0`,margin:`0`},arrow:{position:`absolute`},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]=``,e},{});!Fw(r)||!Mw(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}}var zw={name:`applyStyles`,enabled:!0,phase:`write`,fn:Lw,effect:Rw,requires:[`computeStyles`]};function Bw(e){return e.split(`-`)[0]}var Vw=Math.max,Hw=Math.min,Uw=Math.round;function Ww(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Fw(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Uw(n.width)/o||1),a>0&&(i=Uw(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Gw(e){var t=Ww(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Kw(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Iw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qw(e){return Nw(e).getComputedStyle(e)}function Jw(e){return[`table`,`td`,`th`].indexOf(Mw(e))>=0}function Yw(e){return((Pw(e)?e.ownerDocument:e.document)||window.document).documentElement}function Xw(e){return Mw(e)===`html`?e:e.assignedSlot||e.parentNode||(Iw(e)?e.host:null)||Yw(e)}function Zw(e){return!Fw(e)||qw(e).position===`fixed`?null:e.offsetParent}function Qw(e){var t=navigator.userAgent.toLowerCase().indexOf(`firefox`)!==-1;if(navigator.userAgent.indexOf(`Trident`)!==-1&&Fw(e)&&qw(e).position===`fixed`)return null;var n=Xw(e);for(Iw(n)&&(n=n.host);Fw(n)&&[`html`,`body`].indexOf(Mw(n))<0;){var r=qw(n);if(r.transform!==`none`||r.perspective!==`none`||r.contain===`paint`||[`transform`,`perspective`].indexOf(r.willChange)!==-1||t&&r.willChange===`filter`||t&&r.filter&&r.filter!==`none`)return n;n=n.parentNode}return null}function $w(e){for(var t=Nw(e),n=Zw(e);n&&Jw(n)&&qw(n).position===`static`;)n=Zw(n);return n&&(Mw(n)===`html`||Mw(n)===`body`&&qw(n).position===`static`)?t:n||Qw(e)||t}function eT(e){return[`top`,`bottom`].indexOf(e)>=0?`x`:`y`}function tT(e,t,n){return Vw(e,Hw(t,n))}function nT(e,t,n){var r=tT(e,t,n);return r>n?n:r}function rT(){return{top:0,right:0,bottom:0,left:0}}function iT(e){return Object.assign({},rT(),e)}function aT(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var oT=function(e,t){return e=typeof e==`function`?e(Object.assign({},t.rects,{placement:t.placement})):e,iT(typeof e==`number`?aT(e,Cw):e)};function sT(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Bw(n.placement),c=eT(s),l=[`left`,`right`].indexOf(s)>=0?`height`:`width`;if(!(!a||!o)){var u=oT(i.padding,n),d=Gw(a),f=c===`y`?`top`:xw,p=c===`y`?yw:bw,m=n.rects.reference[l]+n.rects.reference[c]-o[c]-n.rects.popper[l],h=o[c]-n.rects.reference[c],g=$w(a),_=g?c===`y`?g.clientHeight||0:g.clientWidth||0:0,v=m/2-h/2,y=u[f],b=_-d[l]-u[p],x=_/2-d[l]/2+v,S=tT(y,x,b),C=c;n.modifiersData[r]=(t={},t[C]=S,t.centerOffset=S-x,t)}}function cT(e){var t=e.state,n=e.options.element,r=n===void 0?`[data-popper-arrow]`:n;r!=null&&(typeof r==`string`&&(r=t.elements.popper.querySelector(r),!r)||!Kw(t.elements.popper,r)||(t.elements.arrow=r))}var lT={name:`arrow`,enabled:!0,phase:`main`,fn:sT,effect:cT,requires:[`popperOffsets`],requiresIfExists:[`preventOverflow`]};function uT(e){return e.split(`-`)[1]}var dT={top:`auto`,right:`auto`,bottom:`auto`,left:`auto`};function fT(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Uw(t*r)/r||0,y:Uw(n*r)/r||0}}function pT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,h=m===void 0?0:m,g=typeof u==`function`?u({x:p,y:h}):{x:p,y:h};p=g.x,h=g.y;var _=o.hasOwnProperty(`x`),v=o.hasOwnProperty(`y`),y=xw,b=`top`,x=window;if(l){var S=$w(n),C=`clientHeight`,w=`clientWidth`;if(S===Nw(n)&&(S=Yw(n),qw(S).position!==`static`&&s===`absolute`&&(C=`scrollHeight`,w=`scrollWidth`)),S=S,i===`top`||(i===`left`||i===`right`)&&a===`end`){b=yw;var T=d&&S===x&&x.visualViewport?x.visualViewport.height:S[C];h-=T-r.height,h*=c?1:-1}if(i===`left`||(i===`top`||i===`bottom`)&&a===`end`){y=bw;var E=d&&S===x&&x.visualViewport?x.visualViewport.width:S[w];p-=E-r.width,p*=c?1:-1}}var D=Object.assign({position:s},l&&dT),O=u===!0?fT({x:p,y:h}):{x:p,y:h};if(p=O.x,h=O.y,c){var k;return Object.assign({},D,(k={},k[b]=v?`0`:``,k[y]=_?`0`:``,k.transform=(x.devicePixelRatio||1)<=1?`translate(`+p+`px, `+h+`px)`:`translate3d(`+p+`px, `+h+`px, 0)`,k))}return Object.assign({},D,(t={},t[b]=v?h+`px`:``,t[y]=_?p+`px`:``,t.transform=``,t))}function mT(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,c=s===void 0?!0:s,l={placement:Bw(t.placement),variation:uT(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy===`fixed`};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,pT(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,pT(Object.assign({},l,{offsets:t.modifiersData.arrow,position:`absolute`,adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var hT={name:`computeStyles`,enabled:!0,phase:`beforeWrite`,fn:mT,data:{}},gT={passive:!0};function _T(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,c=Nw(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener(`scroll`,n.update,gT)}),s&&c.addEventListener(`resize`,n.update,gT),function(){a&&l.forEach(function(e){e.removeEventListener(`scroll`,n.update,gT)}),s&&c.removeEventListener(`resize`,n.update,gT)}}var vT={name:`eventListeners`,enabled:!0,phase:`write`,fn:function(){},effect:_T,data:{}},yT={left:`right`,right:`left`,bottom:`top`,top:`bottom`};function bT(e){return e.replace(/left|right|bottom|top/g,function(e){return yT[e]})}var xT={start:`end`,end:`start`};function ST(e){return e.replace(/start|end/g,function(e){return xT[e]})}function CT(e){var t=Nw(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wT(e){return Ww(Yw(e)).left+CT(e).scrollLeft}function TT(e){var t=Nw(e),n=Yw(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+wT(e),y:s}}function ET(e){var t=Yw(e),n=CT(e),r=e.ownerDocument?.body,i=Vw(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Vw(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+wT(e),s=-n.scrollTop;return qw(r||t).direction===`rtl`&&(o+=Vw(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}function DT(e){var t=qw(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function OT(e){return[`html`,`body`,`#document`].indexOf(Mw(e))>=0?e.ownerDocument.body:Fw(e)&&DT(e)?e:OT(Xw(e))}function kT(e,t){t===void 0&&(t=[]);var n=OT(e),r=n===e.ownerDocument?.body,i=Nw(n),a=r?[i].concat(i.visualViewport||[],DT(n)?n:[]):n,o=t.concat(a);return r?o:o.concat(kT(Xw(a)))}function AT(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jT(e){var t=Ww(e);return t.top+=e.clientTop,t.left+=e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function MT(e,t){return t===`viewport`?AT(TT(e)):Pw(t)?jT(t):AT(ET(Yw(e)))}function NT(e){var t=kT(Xw(e)),n=[`absolute`,`fixed`].indexOf(qw(e).position)>=0&&Fw(e)?$w(e):e;return Pw(n)?t.filter(function(e){return Pw(e)&&Kw(e,n)&&Mw(e)!==`body`}):[]}function PT(e,t,n){var r=t===`clippingParents`?NT(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(t,n){var r=MT(e,n);return t.top=Vw(r.top,t.top),t.right=Hw(r.right,t.right),t.bottom=Hw(r.bottom,t.bottom),t.left=Vw(r.left,t.left),t},MT(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function FT(e){var t=e.reference,n=e.element,r=e.placement,i=r?Bw(r):null,a=r?uT(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,c;switch(i){case`top`:c={x:o,y:t.y-n.height};break;case yw:c={x:o,y:t.y+t.height};break;case bw:c={x:t.x+t.width,y:s};break;case xw:c={x:t.x-n.width,y:s};break;default:c={x:t.x,y:t.y}}var l=i?eT(i):null;if(l!=null){var u=l===`y`?`height`:`width`;switch(a){case ww:c[l]=c[l]-(t[u]/2-n[u]/2);break;case`end`:c[l]=c[l]+(t[u]/2-n[u]/2);break}}return c}function IT(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,o=a===void 0?Tw:a,s=n.rootBoundary,c=s===void 0?Ew:s,l=n.elementContext,u=l===void 0?Dw:l,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,m=p===void 0?0:p,h=iT(typeof m==`number`?aT(m,Cw):m),g=u===`popper`?Ow:Dw,_=e.rects.popper,v=e.elements[f?g:u],y=PT(Pw(v)?v:v.contextElement||Yw(e.elements.popper),o,c),b=Ww(e.elements.reference),x=FT({reference:b,element:_,strategy:`absolute`,placement:i}),S=AT(Object.assign({},_,x)),C=u===`popper`?S:b,w={top:y.top-C.top+h.top,bottom:C.bottom-y.bottom+h.bottom,left:y.left-C.left+h.left,right:C.right-y.right+h.right},T=e.modifiersData.offset;if(u===`popper`&&T){var E=T[i];Object.keys(w).forEach(function(e){var t=[`right`,`bottom`].indexOf(e)>=0?1:-1,n=[`top`,`bottom`].indexOf(e)>=0?`y`:`x`;w[e]+=E[n]*t})}return w}function LT(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?Aw:c,u=uT(r),d=u?s?kw:kw.filter(function(e){return uT(e)===u}):Cw,f=d.filter(function(e){return l.indexOf(e)>=0});f.length===0&&(f=d);var p=f.reduce(function(t,n){return t[n]=IT(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Bw(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}function RT(e){if(Bw(e)===`auto`)return[];var t=bT(e);return[ST(e),t,ST(t)]}function zT(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,h=n.allowedAutoPlacements,g=t.options.placement,_=Bw(g)===g,v=c||(_||!m?[bT(g)]:RT(g)),y=[g].concat(v).reduce(function(e,n){return e.concat(Bw(n)===`auto`?LT(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:m,allowedAutoPlacements:h}):n)},[]),b=t.rects.reference,x=t.rects.popper,S=new Map,C=!0,w=y[0],T=0;T<y.length;T++){var E=y[T],D=Bw(E),O=uT(E)===ww,k=[`top`,yw].indexOf(D)>=0,A=k?`width`:`height`,ee=IT(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:f,padding:l}),te=k?O?bw:xw:O?yw:`top`;b[A]>x[A]&&(te=bT(te));var ne=bT(te),re=[];if(a&&re.push(ee[D]<=0),s&&re.push(ee[te]<=0,ee[ne]<=0),re.every(function(e){return e})){w=E,C=!1;break}S.set(E,re)}if(C)for(var ie=m?3:1,ae=function(e){var t=y.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return w=t,`break`},oe=ie;oe>0&&ae(oe)!==`break`;oe--);t.placement!==w&&(t.modifiersData[r]._skip=!0,t.placement=w,t.reset=!0)}}var BT={name:`flip`,enabled:!0,phase:`main`,fn:zT,requiresIfExists:[`offset`],data:{_skip:!1}};function VT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function HT(e){return[`top`,bw,yw,xw].some(function(t){return e[t]>=0})}function UT(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=IT(t,{elementContext:`reference`}),s=IT(t,{altBoundary:!0}),c=VT(o,r),l=VT(s,i,a),u=HT(c),d=HT(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var WT={name:`hide`,enabled:!0,phase:`main`,requiresIfExists:[`preventOverflow`],fn:UT};function GT(e,t,n){var r=Bw(e),i=[`left`,`top`].indexOf(r)>=0?-1:1,a=typeof n==`function`?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o||=0,s=(s||0)*i,[`left`,`right`].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function KT(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=Aw.reduce(function(e,n){return e[n]=GT(n,t.rects,a),e},{}),s=o[t.placement],c=s.x,l=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}var qT={name:`offset`,enabled:!0,phase:`main`,requires:[`popperOffsets`],fn:KT};function JT(e){var t=e.state,n=e.name;t.modifiersData[n]=FT({reference:t.rects.reference,element:t.rects.popper,strategy:`absolute`,placement:t.placement})}var YT={name:`popperOffsets`,enabled:!0,phase:`read`,fn:JT,data:{}};function XT(e){return e===`x`?`y`:`x`}function ZT(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,h=m===void 0?0:m,g=IT(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),_=Bw(t.placement),v=uT(t.placement),y=!v,b=eT(_),x=XT(b),S=t.modifiersData.popperOffsets,C=t.rects.reference,w=t.rects.popper,T=typeof h==`function`?h(Object.assign({},t.rects,{placement:t.placement})):h,E=typeof T==`number`?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(S){if(a){var k=b===`y`?`top`:xw,A=b===`y`?yw:bw,ee=b===`y`?`height`:`width`,te=S[b],ne=te+g[k],re=te-g[A],ie=p?-w[ee]/2:0,ae=v===`start`?C[ee]:w[ee],oe=v===`start`?-w[ee]:-C[ee],se=t.elements.arrow,ce=p&&se?Gw(se):{width:0,height:0},le=t.modifiersData[`arrow#persistent`]?t.modifiersData[`arrow#persistent`].padding:rT(),ue=le[k],de=le[A],fe=tT(0,C[ee],ce[ee]),pe=y?C[ee]/2-ie-fe-ue-E.mainAxis:ae-fe-ue-E.mainAxis,me=y?-C[ee]/2+ie+fe+de+E.mainAxis:oe+fe+de+E.mainAxis,he=t.elements.arrow&&$w(t.elements.arrow),ge=he?b===`y`?he.clientTop||0:he.clientLeft||0:0,_e=D?.[b]??0,j=te+pe-_e-ge,M=te+me-_e,ve=tT(p?Hw(ne,j):ne,te,p?Vw(re,M):re);S[b]=ve,O[b]=ve-te}if(s){var ye=b===`x`?`top`:xw,be=b===`x`?yw:bw,N=S[x],xe=x===`y`?`height`:`width`,Se=N+g[ye],Ce=N-g[be],we=[`top`,xw].indexOf(_)!==-1,Te=D?.[x]??0,Ee=we?Se:N-C[xe]-w[xe]-Te+E.altAxis,De=we?N+C[xe]+w[xe]-Te-E.altAxis:Ce,Oe=p&&we?nT(Ee,N,De):tT(p?Ee:Se,N,p?De:Ce);S[x]=Oe,O[x]=Oe-N}t.modifiersData[r]=O}}var QT={name:`preventOverflow`,enabled:!0,phase:`main`,fn:ZT,requiresIfExists:[`offset`]};function $T(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function eE(e){return e===Nw(e)||!Fw(e)?CT(e):$T(e)}function tE(e){var t=e.getBoundingClientRect(),n=Uw(t.width)/e.offsetWidth||1,r=Uw(t.height)/e.offsetHeight||1;return n!==1||r!==1}function nE(e,t,n){n===void 0&&(n=!1);var r=Fw(t),i=Fw(t)&&tE(t),a=Yw(t),o=Ww(e,i),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Mw(t)!==`body`||DT(a))&&(s=eE(t)),Fw(t)?(c=Ww(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=wT(a))),{x:o.left+s.scrollLeft-c.x,y:o.top+s.scrollTop-c.y,width:o.width,height:o.height}}function rE(e){var t=new Map,n=new Set,r=[];e.forEach(function(e){t.set(e.name,e)});function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){n.has(e.name)||i(e)}),r}function iE(e){var t=rE(e);return jw.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function aE(e){var t;return function(){return t||=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})}),t}}function oE(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var sE={placement:`bottom`,modifiers:[],strategy:`absolute`};function cE(){return![...arguments].some(function(e){return!(e&&typeof e.getBoundingClientRect==`function`)})}function lE(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?sE:i;return function(e,t,n){n===void 0&&(n=a);var i={placement:`bottom`,orderedModifiers:[],options:Object.assign({},sE,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,c={state:i,setOptions:function(n){var o=typeof n==`function`?n(i.options):n;return u(),i.options=Object.assign({},a,i.options,o),i.scrollParents={reference:Pw(e)?kT(e):e.contextElement?kT(e.contextElement):[],popper:kT(t)},i.orderedModifiers=iE(oE([].concat(r,i.options.modifiers))).filter(function(e){return e.enabled}),l(),c.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(cE(t,n)){i.rects={reference:nE(t,$w(n),i.options.strategy===`fixed`),popper:Gw(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach(function(e){return i.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<i.orderedModifiers.length;r++){if(i.reset===!0){i.reset=!1,r=-1;continue}var a=i.orderedModifiers[r],o=a.fn,l=a.options,u=l===void 0?{}:l,d=a.name;typeof o==`function`&&(i=o({state:i,options:u,name:d,instance:c})||i)}}}},update:aE(function(){return new Promise(function(e){c.forceUpdate(),e(i)})}),destroy:function(){u(),s=!0}};if(!cE(e,t))return c;c.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)});function l(){i.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=n===void 0?{}:n,a=e.effect;if(typeof a==`function`){var s=a({state:i,name:t,instance:c,options:r});o.push(s||function(){})}})}function u(){o.forEach(function(e){return e()}),o=[]}return c}}lE(),lE({defaultModifiers:[vT,YT,hT,zw]});var uE=lE({defaultModifiers:[vT,YT,hT,zw,qT,BT,QT,lT,WT]}),dE=X({arrowOffset:{type:Number,default:5}}),fE=X({...X({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Y(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Aw,default:`bottom`},popperOptions:{type:Y(Object),default:()=>({})},strategy:{type:String,values:[`fixed`,`absolute`],default:`absolute`}}),...dE,id:String,style:{type:Y([String,Array,Object])},className:{type:Y([String,Array,Object])},effect:{type:Y(String),default:`dark`},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:Y([String,Array,Object])},popperStyle:{type:Y([String,Array,Object])},referenceEl:{type:Y(Object)},triggerTargetEl:{type:Y(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...PS([`ariaLabel`]),loop:Boolean}),pE={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},mE=(e,t)=>{let n=F(!1),r=F();return Vr(()=>{r.value=void 0}),{focusStartRef:r,trapped:n,onFocusAfterReleased:e=>{e.detail?.focusReason!==`pointer`&&(r.value=`first`,t(`blur`))},onFocusAfterTrapped:()=>{t(`focus`)},onFocusInTrap:t=>{e.visible&&!n.value&&(t.target&&(r.value=t.target),n.value=!0)},onFocusoutPrevented:t=>{e.trapping||(t.detail.focusReason===`pointer`&&t.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t(`close`)}}},hE=(e,t=[])=>{let{placement:n,strategy:r,popperOptions:i}=e,a={placement:n,strategy:r,...i,modifiers:[..._E(e),...t]};return vE(a,i?.modifiers),a},gE=e=>{if(ty)return Sy(e)};function _E(e){let{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:`offset`,options:{offset:[0,t??12]}},{name:`preventOverflow`,options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:`flip`,options:{padding:5,fallbackPlacements:r}},{name:`computeStyles`,options:{gpuAcceleration:n}}]}function vE(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}var yE=(e,t,n={})=>{let r={name:`updateState`,enabled:!0,phase:`write`,fn:({state:e})=>{let t=bE(e);Object.assign(o.value,t)},requires:[`computeStyles`]},i=q(()=>{let{onFirstUpdate:e,placement:t,strategy:i,modifiers:a}=I(n);return{onFirstUpdate:e,placement:t||`bottom`,strategy:i||`absolute`,modifiers:[...a||[],r,{name:`applyStyles`,enabled:!1}]}}),a=on(),o=F({styles:{popper:{position:I(i).strategy,left:`0`,top:`0`},arrow:{position:`absolute`}},attributes:{}}),s=()=>{a.value&&=(a.value.destroy(),void 0)};return B(i,e=>{let t=I(a);t&&t.setOptions(e)},{deep:!0}),B([e,t],([e,t])=>{s(),!(!e||!t)&&(a.value=uE(e,t,I(i)))}),Vr(()=>{s()}),{state:q(()=>({...I(a)?.state||{}})),styles:q(()=>I(o).styles),attributes:q(()=>I(o).attributes),update:()=>I(a)?.update(),forceUpdate:()=>I(a)?.forceUpdate(),instanceRef:q(()=>I(a))}};function bE(e){let t=Object.keys(e.elements);return{styles:ev(t.map(t=>[t,e.styles[t]||{}])),attributes:ev(t.map(t=>[t,e.attributes[t]]))}}var xE=0,SE=e=>{let{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=Ni(SC,void 0),a=F(),o=q(()=>e.arrowOffset),s=q(()=>({name:`eventListeners`,enabled:!!e.visible})),c=q(()=>{let e=I(a),t=I(o)??xE;return{name:`arrow`,enabled:!uv(e),options:{element:e,padding:t}}}),l=q(()=>({onFirstUpdate:()=>{m()},...hE(e,[I(c),I(s)])})),u=q(()=>gE(e.referenceEl)||I(r)),{attributes:d,state:f,styles:p,update:m,forceUpdate:h,instanceRef:g}=yE(u,n,l);return B(g,e=>t.value=e,{flush:`sync`}),Rr(()=>{B(()=>{var e;return((e=I(u))?.getBoundingClientRect)?.call(e)},()=>{m()})}),Vr(()=>{t.value=void 0}),{attributes:d,arrowRef:a,contentRef:n,instanceRef:g,state:f,styles:p,role:i,forceUpdate:h,update:m}},CE=(e,{attributes:t,styles:n,role:r})=>{let{nextZIndex:i}=ub(),a=J(`popper`),o=q(()=>I(t).popper),s=F(zv(e.zIndex)?e.zIndex:i()),c=q(()=>[a.b(),a.is(`pure`,e.pure),a.is(e.effect),e.popperClass]),l=q(()=>[{zIndex:I(s)},I(n).popper,e.popperStyle||{}]);return{ariaModal:q(()=>r.value===`dialog`?`false`:void 0),arrowStyle:q(()=>I(n).arrow||{}),contentAttrs:o,contentClass:c,contentStyle:l,contentZIndex:s,updateZIndex:()=>{s.value=zv(e.zIndex)?e.zIndex:i()}}},wE=Hb(R({...R({name:`ElPopperContent`}),props:fE,emits:pE,setup(e,{expose:t,emit:n}){let r=e,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:c,onFocusoutPrevented:l,onReleaseRequested:u}=mE(r,n),{attributes:d,arrowRef:p,contentRef:m,styles:h,instanceRef:g,role:_,update:v}=SE(r),{ariaModal:y,arrowStyle:b,contentAttrs:x,contentClass:S,contentStyle:C,updateZIndex:w}=CE(r,{styles:h,attributes:d,role:_}),T=Ni(GS,void 0);Mi(CC,{arrowStyle:b,arrowRef:p}),T&&Mi(GS,{...T,addInputId:f,removeInputId:f});let E,D=(e=!0)=>{v(),e&&w()},O=()=>{D(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return Rr(()=>{B(()=>r.triggerTargetEl,(e,t)=>{E?.(),E=void 0;let n=I(e||m.value),i=I(t||m.value);Vv(n)&&(E=B([_,()=>r.ariaLabel,y,()=>r.id],e=>{[`role`,`aria-label`,`aria-modal`,`id`].forEach((t,r)=>{ov(e[r])?n.removeAttribute(t):n.setAttribute(t,e[r])})},{immediate:!0})),i!==n&&Vv(i)&&[`role`,`aria-label`,`aria-modal`,`id`].forEach(e=>{i.removeAttribute(e)})},{immediate:!0}),B(()=>r.visible,O,{immediate:!0})}),Vr(()=>{E?.(),E=void 0,m.value=void 0}),t({popperContentRef:m,popperInstanceRef:g,updatePopper:D,contentStyle:C}),(e,t)=>(V(),H(`div`,Ja({ref_key:`contentRef`,ref:m},I(x),{style:I(C),class:I(S),tabindex:`-1`,onMouseenter:t=>e.$emit(`mouseenter`,t),onMouseleave:t=>e.$emit(`mouseleave`,t)}),[G(I(vw),{loop:e.loop,trapped:I(a),"trap-on-focus-in":!0,"focus-trap-el":I(m),"focus-start-el":I(i),onFocusAfterTrapped:I(s),onFocusAfterReleased:I(o),onFocusin:I(c),onFocusoutPrevented:I(l),onReleaseRequested:I(u)},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`loop`,`trapped`,`focus-trap-el`,`focus-start-el`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusin`,`onFocusoutPrevented`,`onReleaseRequested`])],16,[`onMouseenter`,`onMouseleave`]))}}),[[`__file`,`content.vue`]]),TE=lx(EC),EE=Symbol(`elTooltip`);function DE(){let e,t=(t,r)=>{n(),e=window.setTimeout(t,r)},n=()=>window.clearTimeout(e);return my(()=>n()),{registerTimeout:t,cancelTimeout:n}}var OE=X({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),kE=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{let{registerTimeout:a}=DE(),{registerTimeout:o,cancelTimeout:s}=DE();return{onOpen:(t,s=I(e))=>{a(()=>{r(t);let e=I(n);zv(e)&&e>0&&o(()=>{i(t)},e)},s)},onClose:(e,n=I(t))=>{s(),a(()=>{i(e)},n)}}},AE=X({to:{type:Y([String,Object]),required:!0},disabled:Boolean}),jE=X({...OE,...fE,appendTo:{type:AE.to.type},content:{type:String,default:``},rawContent:Boolean,persistent:Boolean,visible:{type:Y(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...PS([`ariaLabel`])}),ME=X({...OC,disabled:Boolean,trigger:{type:Y([String,Array]),default:`hover`},triggerKeys:{type:Y(Array),default:()=>[Z.enter,Z.numpadEnter,Z.space]},focusOnTarget:Boolean}),NE=yb({type:Y(Boolean),default:null}),PE=yb({type:Y(Function)}),FE=e=>{let t=`update:${e}`,n=`onUpdate:${e}`,r=[t];return{useModelToggle:({indicator:r,toggleReason:i,shouldHideWhenRouteChanges:a,shouldProceed:o,onShow:s,onHide:c})=>{let l=eo(),{emit:u}=l,d=l.props,f=q(()=>w(d[n])),p=q(()=>d[e]===null),m=e=>{r.value!==!0&&(r.value=!0,i&&(i.value=e),w(s)&&s(e))},h=e=>{r.value!==!1&&(r.value=!1,i&&(i.value=e),w(c)&&c(e))},g=e=>{if(d.disabled===!0||w(o)&&!o())return;let n=f.value&&ty;n&&u(t,!0),(p.value||!n)&&m(e)},_=e=>{if(d.disabled===!0||!ty)return;let n=f.value&&ty;n&&u(t,!1),(p.value||!n)&&h(e)},v=e=>{Rv(e)&&(d.disabled&&e?f.value&&u(t,!1):r.value!==e&&(e?m():h()))};return B(()=>d[e],v),a&&l.appContext.config.globalProperties.$route!==void 0&&B(()=>({...l.proxy.$route}),()=>{a.value&&r.value&&_()}),Rr(()=>{v(d[e])}),{hide:_,show:g,toggle:()=>{r.value?_():g()},hasUpdateHandler:f}},useModelToggleProps:{[e]:NE,[n]:PE},useModelToggleEmits:r}},{useModelToggle:Xee,useModelToggleProps:Zee,useModelToggleEmits:Qee}=FE(`modelValue`),{useModelToggleProps:IE,useModelToggleEmits:LE,useModelToggle:RE}=FE(`visible`),zE=X({...TC,...IE,...jE,...ME,...dE,showArrow:{type:Boolean,default:!0}}),BE=[...LE,`before-show`,`before-hide`,`show`,`hide`,`open`,`close`],VE=(e,t)=>b(e)?e.includes(t):e===t,HE=(e,t,n)=>r=>{VE(I(e),t)&&n(r)},UE=Hb(R({...R({name:`ElTooltipTrigger`}),props:ME,setup(e,{expose:t}){let n=e,r=J(`tooltip`),{controlled:i,id:a,open:o,onOpen:s,onClose:c,onToggle:l}=Ni(EE,void 0),u=F(null),d=()=>{if(I(i)||n.disabled)return!0},f=_n(n,`trigger`),p=lw(d,HE(f,`hover`,e=>{s(e),n.focusOnTarget&&e.target&&Ln(()=>{aC(e.target,{preventScroll:!0})})})),m=lw(d,HE(f,`hover`,c)),h=lw(d,HE(f,`click`,e=>{e.button===0&&l(e)})),g=lw(d,HE(f,`focus`,s)),_=lw(d,HE(f,`focus`,c)),v=lw(d,HE(f,`contextmenu`,e=>{e.preventDefault(),l(e)})),y=lw(d,e=>{let t=dw(e);n.triggerKeys.includes(t)&&(e.preventDefault(),l(e))});return t({triggerRef:u}),(e,t)=>(V(),U(I(FC),{id:I(a),"virtual-ref":e.virtualRef,open:I(o),"virtual-triggering":e.virtualTriggering,class:N(I(r).e(`trigger`)),onBlur:I(_),onClick:I(h),onContextmenu:I(v),onFocus:I(g),onMouseenter:I(p),onMouseleave:I(m),onKeydown:I(y)},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`id`,`virtual-ref`,`open`,`virtual-triggering`,`class`,`onBlur`,`onClick`,`onContextmenu`,`onFocus`,`onMouseenter`,`onMouseleave`,`onKeydown`]))}}),[[`__file`,`trigger.vue`]]),WE=lx(Hb(R({__name:`teleport`,props:AE,setup(e){return(e,t)=>e.disabled?z(e.$slots,`default`,{key:0}):(V(),U(sr,{key:1,to:e.to},[z(e.$slots,`default`)],8,[`to`]))}}),[[`__file`,`teleport.vue`]])),GE=()=>{let e=cc(),t=HS(),n=q(()=>`${e.value}-popper-container-${t.prefix}`);return{id:n,selector:q(()=>`#${n.value}`)}},KE=e=>{let t=document.createElement(`div`);return t.id=e,document.body.appendChild(t),t},qE=()=>{let{id:e,selector:t}=GE();return Lr(()=>{ty&&(document.body.querySelector(t.value)||KE(e.value))}),{id:e,selector:t}},JE=e=>[...new Set(e)],YE=e=>b(e)?e[0]:e,XE=e=>!e&&e!==0?[]:b(e)?e:[e],ZE=Hb(R({...R({name:`ElTooltipContent`,inheritAttrs:!1}),props:jE,setup(e,{expose:t}){let n=e,{selector:r}=GE(),i=J(`tooltip`),a=F(),o=ey(()=>a.value?.popperContentRef),s,{controlled:c,id:l,open:u,trigger:d,onClose:f,onOpen:p,onShow:m,onHide:h,onBeforeShow:g,onBeforeHide:_}=Ni(EE,void 0),v=q(()=>n.transition||`${i.namespace.value}-fade-in-linear`),y=q(()=>n.persistent);Vr(()=>{s?.()});let b=q(()=>I(y)?!0:I(u)),x=q(()=>n.disabled?!1:I(u)),S=q(()=>n.appendTo||r.value),C=q(()=>n.style??{}),w=F(!0),T=()=>{h(),ne()&&aC(document.body,{preventScroll:!0}),w.value=!0},E=()=>{if(I(c))return!0},D=lw(E,()=>{n.enterable&&VE(I(d),`hover`)&&p()}),O=lw(E,()=>{VE(I(d),`hover`)&&f()}),k=()=>{var e,t;(t=(e=a.value)?.updatePopper)==null||t.call(e),g?.()},A=()=>{_?.()},ee=()=>{m()},te=()=>{n.virtualTriggering||f()},ne=e=>{let t=a.value?.popperContentRef,n=e?.relatedTarget||document.activeElement;return t?.contains(n)};return B(()=>I(u),e=>{e?(w.value=!1,s=Dy(o,()=>{I(c)||XE(I(d)).every(e=>e!==`hover`&&e!==`focus`)&&f()},{detectIframe:!0})):s?.()},{flush:`post`}),B(()=>n.content,()=>{var e,t;(t=(e=a.value)?.updatePopper)==null||t.call(e)}),t({contentRef:a,isFocusInsideContent:ne}),(e,t)=>(V(),U(I(WE),{disabled:!e.teleported,to:I(S)},{default:L(()=>[I(b)||!w.value?(V(),U(No,{key:0,name:I(v),appear:!I(y),onAfterLeave:T,onBeforeEnter:k,onAfterEnter:ee,onBeforeLeave:A,persisted:``},{default:L(()=>[Yn(G(I(wE),Ja({id:I(l),ref_key:`contentRef`,ref:a},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":w.value,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,I(C)],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:I(x),"z-index":e.zIndex,loop:e.loop,onMouseenter:I(D),onMouseleave:I(O),onBlur:te,onClose:I(f)}),{default:L(()=>[z(e.$slots,`default`)]),_:3},16,[`id`,`aria-label`,`aria-hidden`,`boundaries-padding`,`fallback-placements`,`gpu-acceleration`,`offset`,`placement`,`popper-options`,`arrow-offset`,`strategy`,`effect`,`enterable`,`pure`,`popper-class`,`popper-style`,`reference-el`,`trigger-target-el`,`visible`,`z-index`,`loop`,`onMouseenter`,`onMouseleave`,`onClose`]),[[Zo,I(x)]])]),_:3},8,[`name`,`appear`])):K(`v-if`,!0)]),_:3},8,[`disabled`,`to`]))}}),[[`__file`,`content.vue`]]),QE=lx(Hb(R({...R({name:`ElTooltip`}),props:zE,emits:BE,setup(e,{expose:t,emit:n}){let r=e;qE();let i=J(`tooltip`),a=US(),o=F(),s=F(),c=()=>{var e;let t=I(o);t&&((e=t.popperInstanceRef)==null||e.update())},l=F(!1),u=F(),{show:d,hide:f,hasUpdateHandler:p}=RE({indicator:l,toggleReason:u}),{onOpen:m,onClose:h}=kE({showAfter:_n(r,`showAfter`),hideAfter:_n(r,`hideAfter`),autoClose:_n(r,`autoClose`),open:d,close:f}),g=q(()=>Rv(r.visible)&&!p.value),_=q(()=>[i.b(),r.popperClass]);return Mi(EE,{controlled:g,id:a,open:Jt(l),trigger:_n(r,`trigger`),onOpen:m,onClose:h,onToggle:e=>{I(l)?h(e):m(e)},onShow:()=>{n(`show`,u.value)},onHide:()=>{n(`hide`,u.value)},onBeforeShow:()=>{n(`before-show`,u.value)},onBeforeHide:()=>{n(`before-hide`,u.value)},updatePopper:c}),B(()=>r.disabled,e=>{e&&l.value&&(l.value=!1)}),Mr(()=>l.value&&f()),Vr(()=>{u.value=void 0}),t({popperRef:o,contentRef:s,isFocusInsideContent:e=>s.value?.isFocusInsideContent(e),updatePopper:c,onOpen:m,onClose:h,hide:f}),(e,t)=>(V(),U(I(TE),{ref_key:`popperRef`,ref:o,role:e.role},{default:L(()=>[G(UE,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering,"focus-on-target":e.focusOnTarget},{default:L(()=>[e.$slots.default?z(e.$slots,`default`,{key:0}):K(`v-if`,!0)]),_:3},8,[`disabled`,`trigger`,`trigger-keys`,`virtual-ref`,`virtual-triggering`,`focus-on-target`]),G(ZE,{ref_key:`contentRef`,ref:s,"aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":I(_),"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,"arrow-offset":e.arrowOffset,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.showAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo,loop:e.loop},{default:L(()=>[z(e.$slots,`content`,{},()=>[e.rawContent?(V(),H(`span`,{key:0,innerHTML:e.content},null,8,[`innerHTML`])):(V(),H(`span`,{key:1},P(e.content),1))]),e.showArrow?(V(),U(I(DC),{key:0})):K(`v-if`,!0)]),_:3},8,`aria-label.boundaries-padding.content.disabled.effect.enterable.fallback-placements.hide-after.gpu-acceleration.offset.persistent.popper-class.popper-style.placement.popper-options.arrow-offset.pure.raw-content.reference-el.trigger-target-el.show-after.strategy.teleported.transition.virtual-triggering.z-index.append-to.loop`.split(`.`))]),_:3},8,[`role`]))}}),[[`__file`,`tooltip.vue`]])),$E=X({...FS,valueKey:{type:String,default:`value`},modelValue:{type:[String,Number],default:``},debounce:{type:Number,default:300},placement:{type:Y(String),values:[`top`,`top-start`,`top-end`,`bottom`,`bottom-start`,`bottom-end`],default:`bottom-start`},fetchSuggestions:{type:Y([Function,Array]),default:f},popperClass:jE.popperClass,popperStyle:jE.popperStyle,triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:jE.teleported,appendTo:jE.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean,loopNavigation:{type:Boolean,default:!0}}),eD={[Lb]:e=>T(e)||zv(e),[zb]:e=>T(e)||zv(e),[Rb]:e=>T(e)||zv(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>D(e)},tD=`ElAutocomplete`,nD=lx(Hb(R({...R({name:tD,inheritAttrs:!1}),props:$E,emits:eD,setup(e,{expose:t,emit:n}){let r=e,i=q(()=>Ev(r,Object.keys(FS))),a=ui(),o=XS(),s=J(`autocomplete`),c=F(),l=F(),u=F(),d=F(),f=!1,p=!1,m=F([]),h=F(-1),g=F(``),_=F(!1),v=F(!1),y=F(!1),x=US(),S=q(()=>a.style),C=q(()=>(m.value.length>0||y.value)&&_.value),w=q(()=>!r.hideLoading&&y.value),T=q(()=>c.value?Array.from(c.value.$el.querySelectorAll(`input`)):[]),E=()=>{C.value&&(g.value=`${c.value.$el.offsetWidth}px`)},D=()=>{h.value=-1},O=async e=>{if(v.value)return;let t=e=>{y.value=!1,!v.value&&(b(e)?(m.value=e,h.value=r.highlightFirstItem?0:-1):ib(tD,`autocomplete suggestions must be an array`))};if(y.value=!0,b(r.fetchSuggestions))t(r.fetchSuggestions);else{let n=await r.fetchSuggestions(e,t);b(n)&&t(n)}},k=_y(O,q(()=>r.debounce)),A=e=>{let t=!!e;if(n(zb,e),n(Lb,e),v.value=!1,_.value||=t,!r.triggerOnFocus&&!e){v.value=!0,m.value=[];return}k(e)},ee=e=>{o.value||(e.target?.tagName!==`INPUT`||T.value.includes(document.activeElement))&&(_.value=!0)},te=e=>{n(Rb,e)},ne=e=>{if(p)p=!1;else{_.value=!0,n(`focus`,e);let t=r.modelValue??``;r.triggerOnFocus&&!f&&k(String(t))}},re=e=>{setTimeout(()=>{if(u.value?.isFocusInsideContent()){p=!0;return}_.value&&se(),n(`blur`,e)})},ie=()=>{_.value=!1,n(Lb,``),n(`clear`)},ae=async()=>{c.value?.isComposing||(C.value&&h.value>=0&&h.value<m.value.length?ue(m.value[h.value]):(r.selectWhenUnmatched&&(n(`select`,{value:r.modelValue}),m.value=[],h.value=-1),_.value=!0,k(String(r.modelValue))))},oe=e=>{C.value&&(e.preventDefault(),e.stopPropagation(),se())},se=()=>{_.value=!1},ce=()=>{var e;(e=c.value)==null||e.focus()},le=()=>{var e;(e=c.value)==null||e.blur()},ue=async e=>{n(zb,e[r.valueKey]),n(Lb,e[r.valueKey]),n(`select`,e),m.value=[],h.value=-1},de=e=>{var t;if(!C.value||y.value)return;if(e<0){if(!r.loopNavigation){h.value=-1;return}e=m.value.length-1}e>=m.value.length&&(e=r.loopNavigation?0:m.value.length-1);let[n,i]=fe(),a=i[e],o=n.scrollTop,{offsetTop:s,scrollHeight:l}=a;s+l>o+n.clientHeight&&(n.scrollTop=s+l-n.clientHeight),s<o&&(n.scrollTop=s),h.value=e,(t=c.value?.ref)==null||t.setAttribute(`aria-activedescendant`,`${x.value}-item-${h.value}`)},fe=()=>{let e=l.value.querySelector(`.${s.be(`suggestion`,`wrap`)}`);return[e,e.querySelectorAll(`.${s.be(`suggestion`,`list`)} li`)]},pe=Dy(d,()=>{u.value?.isFocusInsideContent()||C.value&&se()}),me=e=>{switch(dw(e)){case Z.up:e.preventDefault(),de(h.value-1);break;case Z.down:e.preventDefault(),de(h.value+1);break;case Z.enter:case Z.numpadEnter:e.preventDefault(),ae();break;case Z.tab:se();break;case Z.esc:oe(e);break;case Z.home:e.preventDefault(),de(0);break;case Z.end:e.preventDefault(),de(m.value.length-1);break;case Z.pageUp:e.preventDefault(),de(Math.max(0,h.value-10));break;case Z.pageDown:e.preventDefault(),de(Math.min(m.value.length-1,h.value+10));break}};return Vr(()=>{pe?.()}),Rr(()=>{let e=c.value?.ref;e&&([{key:`role`,value:`textbox`},{key:`aria-autocomplete`,value:`list`},{key:`aria-controls`,value:`id`},{key:`aria-activedescendant`,value:`${x.value}-item-${h.value}`}].forEach(({key:t,value:n})=>e.setAttribute(t,n)),f=e.hasAttribute(`readonly`))}),t({highlightedIndex:h,activated:_,loading:y,inputRef:c,popperRef:u,suggestions:m,handleSelect:ue,handleKeyEnter:ae,focus:ce,blur:le,close:se,highlight:de,getData:O}),(e,t)=>(V(),U(I(QE),{ref_key:`popperRef`,ref:u,visible:I(C),placement:e.placement,"fallback-placements":[`bottom-start`,`top-start`],"popper-class":[I(s).e(`popper`),e.popperClass],"popper-style":e.popperStyle,teleported:e.teleported,"append-to":e.appendTo,"gpu-acceleration":!1,pure:``,"manual-mode":``,effect:`light`,trigger:`click`,transition:`${I(s).namespace.value}-zoom-in-top`,persistent:``,role:`listbox`,onBeforeShow:E,onHide:D},{content:L(()=>[W(`div`,{ref_key:`regionRef`,ref:l,class:N([I(s).b(`suggestion`),I(s).is(`loading`,I(w))]),style:j({[e.fitInputWidth?`width`:`minWidth`]:g.value,outline:`none`}),role:`region`},[e.$slots.header?(V(),H(`div`,{key:0,class:N(I(s).be(`suggestion`,`header`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`header`)],10,[`onClick`])):K(`v-if`,!0),G(I(xC),{id:I(x),tag:`ul`,"wrap-class":I(s).be(`suggestion`,`wrap`),"view-class":I(s).be(`suggestion`,`list`),role:`listbox`},{default:L(()=>[I(w)?(V(),H(`li`,{key:0},[z(e.$slots,`loading`,{},()=>[G(I(hx),{class:N(I(s).is(`loading`))},{default:L(()=>[G(I(Wx))]),_:1},8,[`class`])])])):(V(!0),H(Da,{key:1},ti(m.value,(t,n)=>(V(),H(`li`,{id:`${I(x)}-item-${n}`,key:n,class:N({highlighted:h.value===n}),role:`option`,"aria-selected":h.value===n,onClick:e=>ue(t)},[z(e.$slots,`default`,{item:t},()=>[Wa(P(t[e.valueKey]),1)])],10,[`id`,`aria-selected`,`onClick`]))),128))]),_:3},8,[`id`,`wrap-class`,`view-class`]),e.$slots.footer?(V(),H(`div`,{key:1,class:N(I(s).be(`suggestion`,`footer`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`footer`)],10,[`onClick`])):K(`v-if`,!0)],6)]),default:L(()=>[W(`div`,{ref_key:`listboxRef`,ref:d,class:N([I(s).b(),e.$attrs.class]),style:j(I(S)),role:`combobox`,"aria-haspopup":`listbox`,"aria-expanded":I(C),"aria-owns":I(x)},[G(I(dC),Ja({ref_key:`inputRef`,ref:c},Ja(I(i),e.$attrs),{"model-value":e.modelValue,disabled:I(o),onInput:A,onChange:te,onFocus:ne,onBlur:re,onClear:ie,onKeydown:me,onMousedown:ee}),ni({_:2},[e.$slots.prepend?{name:`prepend`,fn:L(()=>[z(e.$slots,`prepend`)])}:void 0,e.$slots.append?{name:`append`,fn:L(()=>[z(e.$slots,`append`)])}:void 0,e.$slots.prefix?{name:`prefix`,fn:L(()=>[z(e.$slots,`prefix`)])}:void 0,e.$slots.suffix?{name:`suffix`,fn:L(()=>[z(e.$slots,`suffix`)])}:void 0]),1040,[`model-value`,`disabled`])],14,[`aria-expanded`,`aria-owns`])]),_:3},8,[`visible`,`placement`,`popper-class`,`popper-style`,`teleported`,`append-to`,`transition`]))}}),[[`__file`,`autocomplete.vue`]])),rD=X({size:{type:[Number,String],values:bb,default:``,validator:e=>zv(e)},shape:{type:String,values:[`circle`,`square`],default:`circle`},icon:{type:gS},src:{type:String,default:``},alt:String,srcSet:String,fit:{type:Y(String),default:`cover`}}),iD={error:e=>e instanceof Event},aD=lx(Hb(R({...R({name:`ElAvatar`}),props:rD,emits:iD,setup(e,{emit:t}){let n=e,r=J(`avatar`),i=F(!1),a=q(()=>{let{size:e,icon:t,shape:i}=n,a=[r.b()];return T(e)&&a.push(r.m(e)),t&&a.push(r.m(`icon`)),i&&a.push(r.m(i)),a}),o=q(()=>{let{size:e}=n;return zv(e)?r.cssVarBlock({size:Qb(e)}):void 0}),s=q(()=>({objectFit:n.fit}));B(()=>n.src,()=>i.value=!1);function c(e){i.value=!0,t(`error`,e)}return(e,t)=>(V(),H(`span`,{class:N(I(a)),style:j(I(o))},[(e.src||e.srcSet)&&!i.value?(V(),H(`img`,{key:0,src:e.src,alt:e.alt,srcset:e.srcSet,style:j(I(s)),onError:c},null,44,[`src`,`alt`,`srcset`])):e.icon?(V(),U(I(hx),{key:1},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1})):z(e.$slots,`default`,{key:2})],6))}}),[[`__file`,`avatar.vue`]])),oD={visibilityHeight:{type:Number,default:200},target:{type:String,default:``},right:{type:Number,default:40},bottom:{type:Number,default:40}},sD={click:e=>e instanceof MouseEvent},cD=(e,t,n)=>{let r=on(),i=on(),a=F(!1),o=()=>{r.value&&(a.value=r.value.scrollTop>=e.visibilityHeight)};return Ty(i,`scroll`,yy(o,300,!0)),Rr(()=>{i.value=document,r.value=document.documentElement,e.target&&(r.value=document.querySelector(e.target)??void 0,r.value||ib(n,`target does not exist: ${e.target}`),i.value=r.value),o()}),{visible:a,handleClick:e=>{var n;(n=r.value)==null||n.scrollTo({top:0,behavior:`smooth`}),t(`click`,e)}}},lD=`ElBacktop`,uD=lx(Hb(R({...R({name:lD}),props:oD,emits:sD,setup(e,{emit:t}){let n=e,r=J(`backtop`),{handleClick:i,visible:a}=cD(n,t,lD),o=q(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(e,t)=>(V(),U(No,{name:`${I(r).namespace.value}-fade-in`},{default:L(()=>[I(a)?(V(),H(`div`,{key:0,style:j(I(o)),class:N(I(r).b()),onClick:Ks(I(i),[`stop`])},[z(e.$slots,`default`,{},()=>[G(I(hx),{class:N(I(r).e(`icon`))},{default:L(()=>[G(I(Tx))]),_:1},8,[`class`])])],14,[`onClick`])):K(`v-if`,!0)]),_:3},8,[`name`]))}}),[[`__file`,`backtop.vue`]])),dD=X({value:{type:[String,Number],default:``},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:[`primary`,`success`,`warning`,`info`,`danger`],default:`danger`},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Y([String,Object,Array])},offset:{type:Y(Array),default:[0,0]},badgeClass:{type:String}}),fD=lx(Hb(R({...R({name:`ElBadge`}),props:dD,setup(e,{expose:t}){let n=e,r=J(`badge`),i=q(()=>n.isDot?``:zv(n.value)&&zv(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`),a=q(()=>[{backgroundColor:n.color,marginRight:Qb(-n.offset[0]),marginTop:Qb(n.offset[1])},n.badgeStyle??{}]);return t({content:i}),(e,t)=>(V(),H(`div`,{class:N(I(r).b())},[z(e.$slots,`default`),G(No,{name:`${I(r).namespace.value}-zoom-in-center`,persisted:``},{default:L(()=>[Yn(W(`sup`,{class:N([I(r).e(`content`),I(r).em(`content`,e.type),I(r).is(`fixed`,!!e.$slots.default),I(r).is(`dot`,e.isDot),I(r).is(`hide-zero`,!e.showZero&&e.value===0),e.badgeClass]),style:j(I(a))},[z(e.$slots,`content`,{value:I(i)},()=>[Wa(P(I(i)),1)])],6),[[Zo,!e.hidden&&(I(i)||e.isDot||e.$slots.content)]])]),_:3},8,[`name`])],2))}}),[[`__file`,`badge.vue`]])),pD=Symbol(`breadcrumbKey`),mD=X({separator:{type:String,default:`/`},separatorIcon:{type:gS}}),hD=Hb(R({...R({name:`ElBreadcrumb`}),props:mD,setup(e){let t=e,{t:n}=gb(),r=J(`breadcrumb`),i=F();return Mi(pD,t),Rr(()=>{let e=i.value.querySelectorAll(`.${r.e(`item`)}`);e.length&&e[e.length-1].setAttribute(`aria-current`,`page`)}),(e,t)=>(V(),H(`div`,{ref_key:`breadcrumb`,ref:i,class:N(I(r).b()),"aria-label":I(n)(`el.breadcrumb.label`),role:`navigation`},[z(e.$slots,`default`)],10,[`aria-label`]))}}),[[`__file`,`breadcrumb.vue`]]),gD=X({to:{type:Y([String,Object]),default:``},replace:Boolean}),_D=Hb(R({...R({name:`ElBreadcrumbItem`}),props:gD,setup(e){let t=e,n=eo(),r=Ni(pD,void 0),i=J(`breadcrumb`),a=n.appContext.config.globalProperties.$router,o=F(),s=()=>{!t.to||!a||(t.replace?a.replace(t.to):a.push(t.to))};return(e,t)=>(V(),H(`span`,{class:N(I(i).e(`item`))},[W(`span`,{ref_key:`link`,ref:o,class:N([I(i).e(`inner`),I(i).is(`link`,!!e.to)]),role:`link`,onClick:s},[z(e.$slots,`default`)],2),I(r)?.separatorIcon?(V(),U(I(hx),{key:0,class:N(I(i).e(`separator`))},{default:L(()=>[(V(),U(Zr(I(r).separatorIcon)))]),_:1},8,[`class`])):(V(),H(`span`,{key:1,class:N(I(i).e(`separator`)),role:`presentation`},P(I(r)?.separator),3))],2))}}),[[`__file`,`breadcrumb-item.vue`]]),vD=lx(hD,{BreadcrumbItem:_D}),yD=fx(_D),bD=Symbol(`buttonGroupContextKey`),xD=({from:e,replacement:t,scope:n,version:r,ref:i,type:a=`API`},o)=>{B(()=>I(o),n=>{n&&`${a}${e}${r}${t}${i}`},{immediate:!0})},SD=(e,t)=>{xD({from:`type.text`,replacement:`link`,version:`3.0.0`,scope:`props`,ref:`https://element-plus.org/en-US/component/button.html#button-attributes`},q(()=>e.type===`text`));let n=Ni(bD,void 0),r=Mb(`button`),{form:i}=KS(),a=YS(q(()=>n?.size)),o=XS(),s=F(),c=li(),l=q(()=>e.type||n?.type||r.value?.type||``),u=q(()=>e.autoInsertSpace??r.value?.autoInsertSpace??!1),d=q(()=>e.plain??r.value?.plain??!1),f=q(()=>e.round??r.value?.round??!1),p=q(()=>e.text??r.value?.text??!1);return{_disabled:o,_size:a,_type:l,_ref:s,_props:q(()=>e.tag===`button`?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),_plain:d,_round:f,_text:p,shouldAddSpace:q(()=>{let e=c.default?.call(c);if(u.value&&e?.length===1){let t=e[0];if(t?.type===Oa){let e=t.children;return/^\p{Unified_Ideograph}{2}$/u.test(e.trim())}}return!1}),handleClick:n=>{if(o.value||e.loading){n.stopPropagation();return}e.nativeType===`reset`&&i?.resetFields(),t(`click`,n)}}},CD=[`default`,`primary`,`success`,`warning`,`info`,`danger`,`text`,``],wD=X({size:xb,disabled:{type:Boolean,default:void 0},type:{type:String,values:CD,default:``},icon:{type:gS},nativeType:{type:String,values:[`button`,`submit`,`reset`],default:`button`},loading:Boolean,loadingIcon:{type:gS,default:()=>Wx},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Y([String,Object]),default:`button`}}),TD={click:e=>e instanceof MouseEvent};function ED(e,t){OD(e)&&(e=`100%`);var n=kD(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(e=t===360?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t)),e)}function DD(e){return Math.min(1,Math.max(0,e))}function OD(e){return typeof e==`string`&&e.indexOf(`.`)!==-1&&parseFloat(e)===1}function kD(e){return typeof e==`string`&&e.indexOf(`%`)!==-1}function AD(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function jD(e){return e<=1?`${Number(e)*100}%`:e}function MD(e){return e.length===1?`0`+e:String(e)}function ND(e,t,n){return{r:ED(e,255)*255,g:ED(t,255)*255,b:ED(n,255)*255}}function PD(e,t,n){e=ED(e,255),t=ED(t,255),n=ED(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4;break;default:break}a/=6}return{h:a,s:o,l:s}}function FD(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ID(e,t,n){var r,i,a;if(e=ED(e,360),t=ED(t,100),n=ED(n,100),t===0)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=FD(s,o,e+1/3),i=FD(s,o,e),a=FD(s,o,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function LD(e,t,n){e=ED(e,255),t=ED(t,255),n=ED(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,c=r===0?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4;break;default:break}a/=6}return{h:a,s:c,v:o}}function RD(e,t,n){e=ED(e,360)*6,t=ED(t,100),n=ED(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6,l=[n,o,a,a,s,n][c],u=[s,n,n,o,a,a][c],d=[a,a,s,n,n,o][c];return{r:l*255,g:u*255,b:d*255}}function zD(e,t,n,r){var i=[MD(Math.round(e).toString(16)),MD(Math.round(t).toString(16)),MD(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(``)}function BD(e,t,n,r,i){var a=[MD(Math.round(e).toString(16)),MD(Math.round(t).toString(16)),MD(Math.round(n).toString(16)),MD(VD(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join(``)}function VD(e){return Math.round(parseFloat(e)*255).toString(16)}function HD(e){return UD(e)/255}function UD(e){return parseInt(e,16)}function WD(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var GD={aliceblue:`#f0f8ff`,antiquewhite:`#faebd7`,aqua:`#00ffff`,aquamarine:`#7fffd4`,azure:`#f0ffff`,beige:`#f5f5dc`,bisque:`#ffe4c4`,black:`#000000`,blanchedalmond:`#ffebcd`,blue:`#0000ff`,blueviolet:`#8a2be2`,brown:`#a52a2a`,burlywood:`#deb887`,cadetblue:`#5f9ea0`,chartreuse:`#7fff00`,chocolate:`#d2691e`,coral:`#ff7f50`,cornflowerblue:`#6495ed`,cornsilk:`#fff8dc`,crimson:`#dc143c`,cyan:`#00ffff`,darkblue:`#00008b`,darkcyan:`#008b8b`,darkgoldenrod:`#b8860b`,darkgray:`#a9a9a9`,darkgreen:`#006400`,darkgrey:`#a9a9a9`,darkkhaki:`#bdb76b`,darkmagenta:`#8b008b`,darkolivegreen:`#556b2f`,darkorange:`#ff8c00`,darkorchid:`#9932cc`,darkred:`#8b0000`,darksalmon:`#e9967a`,darkseagreen:`#8fbc8f`,darkslateblue:`#483d8b`,darkslategray:`#2f4f4f`,darkslategrey:`#2f4f4f`,darkturquoise:`#00ced1`,darkviolet:`#9400d3`,deeppink:`#ff1493`,deepskyblue:`#00bfff`,dimgray:`#696969`,dimgrey:`#696969`,dodgerblue:`#1e90ff`,firebrick:`#b22222`,floralwhite:`#fffaf0`,forestgreen:`#228b22`,fuchsia:`#ff00ff`,gainsboro:`#dcdcdc`,ghostwhite:`#f8f8ff`,goldenrod:`#daa520`,gold:`#ffd700`,gray:`#808080`,green:`#008000`,greenyellow:`#adff2f`,grey:`#808080`,honeydew:`#f0fff0`,hotpink:`#ff69b4`,indianred:`#cd5c5c`,indigo:`#4b0082`,ivory:`#fffff0`,khaki:`#f0e68c`,lavenderblush:`#fff0f5`,lavender:`#e6e6fa`,lawngreen:`#7cfc00`,lemonchiffon:`#fffacd`,lightblue:`#add8e6`,lightcoral:`#f08080`,lightcyan:`#e0ffff`,lightgoldenrodyellow:`#fafad2`,lightgray:`#d3d3d3`,lightgreen:`#90ee90`,lightgrey:`#d3d3d3`,lightpink:`#ffb6c1`,lightsalmon:`#ffa07a`,lightseagreen:`#20b2aa`,lightskyblue:`#87cefa`,lightslategray:`#778899`,lightslategrey:`#778899`,lightsteelblue:`#b0c4de`,lightyellow:`#ffffe0`,lime:`#00ff00`,limegreen:`#32cd32`,linen:`#faf0e6`,magenta:`#ff00ff`,maroon:`#800000`,mediumaquamarine:`#66cdaa`,mediumblue:`#0000cd`,mediumorchid:`#ba55d3`,mediumpurple:`#9370db`,mediumseagreen:`#3cb371`,mediumslateblue:`#7b68ee`,mediumspringgreen:`#00fa9a`,mediumturquoise:`#48d1cc`,mediumvioletred:`#c71585`,midnightblue:`#191970`,mintcream:`#f5fffa`,mistyrose:`#ffe4e1`,moccasin:`#ffe4b5`,navajowhite:`#ffdead`,navy:`#000080`,oldlace:`#fdf5e6`,olive:`#808000`,olivedrab:`#6b8e23`,orange:`#ffa500`,orangered:`#ff4500`,orchid:`#da70d6`,palegoldenrod:`#eee8aa`,palegreen:`#98fb98`,paleturquoise:`#afeeee`,palevioletred:`#db7093`,papayawhip:`#ffefd5`,peachpuff:`#ffdab9`,peru:`#cd853f`,pink:`#ffc0cb`,plum:`#dda0dd`,powderblue:`#b0e0e6`,purple:`#800080`,rebeccapurple:`#663399`,red:`#ff0000`,rosybrown:`#bc8f8f`,royalblue:`#4169e1`,saddlebrown:`#8b4513`,salmon:`#fa8072`,sandybrown:`#f4a460`,seagreen:`#2e8b57`,seashell:`#fff5ee`,sienna:`#a0522d`,silver:`#c0c0c0`,skyblue:`#87ceeb`,slateblue:`#6a5acd`,slategray:`#708090`,slategrey:`#708090`,snow:`#fffafa`,springgreen:`#00ff7f`,steelblue:`#4682b4`,tan:`#d2b48c`,teal:`#008080`,thistle:`#d8bfd8`,tomato:`#ff6347`,turquoise:`#40e0d0`,violet:`#ee82ee`,wheat:`#f5deb3`,white:`#ffffff`,whitesmoke:`#f5f5f5`,yellow:`#ffff00`,yellowgreen:`#9acd32`};function KD(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof e==`string`&&(e=ZD(e)),typeof e==`object`&&(QD(e.r)&&QD(e.g)&&QD(e.b)?(t=ND(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)===`%`?`prgb`:`rgb`):QD(e.h)&&QD(e.s)&&QD(e.v)?(r=jD(e.s),i=jD(e.v),t=RD(e.h,r,i),o=!0,s=`hsv`):QD(e.h)&&QD(e.s)&&QD(e.l)&&(r=jD(e.s),a=jD(e.l),t=ID(e.h,r,a),o=!0,s=`hsl`),Object.prototype.hasOwnProperty.call(e,`a`)&&(n=e.a)),n=AD(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var qD=`(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)`,JD=`[\\s|\\(]+(${qD})[,|\\s]+(${qD})[,|\\s]+(${qD})\\s*\\)?`,YD=`[\\s|\\(]+(${qD})[,|\\s]+(${qD})[,|\\s]+(${qD})[,|\\s]+(${qD})\\s*\\)?`,XD={CSS_UNIT:new RegExp(qD),rgb:RegExp(`rgb`+JD),rgba:RegExp(`rgba`+YD),hsl:RegExp(`hsl`+JD),hsla:RegExp(`hsla`+YD),hsv:RegExp(`hsv`+JD),hsva:RegExp(`hsva`+YD),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ZD(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(GD[e])e=GD[e],t=!0;else if(e===`transparent`)return{r:0,g:0,b:0,a:0,format:`name`};var n=XD.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=XD.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=XD.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=XD.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=XD.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=XD.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=XD.hex8.exec(e),n?{r:UD(n[1]),g:UD(n[2]),b:UD(n[3]),a:HD(n[4]),format:t?`name`:`hex8`}:(n=XD.hex6.exec(e),n?{r:UD(n[1]),g:UD(n[2]),b:UD(n[3]),format:t?`name`:`hex`}:(n=XD.hex4.exec(e),n?{r:UD(n[1]+n[1]),g:UD(n[2]+n[2]),b:UD(n[3]+n[3]),a:HD(n[4]+n[4]),format:t?`name`:`hex8`}:(n=XD.hex3.exec(e),n?{r:UD(n[1]+n[1]),g:UD(n[2]+n[2]),b:UD(n[3]+n[3]),format:t?`name`:`hex`}:!1)))))))))}function QD(e){return!!XD.CSS_UNIT.exec(String(e))}var $D=function(){function e(t,n){if(t===void 0&&(t=``),n===void 0&&(n={}),t instanceof e)return t;typeof t==`number`&&(t=WD(t)),this.originalInput=t;var r=KD(t);this.originalInput=t,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=n.format??r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t,n,r,i=e.r/255,a=e.g/255,o=e.b/255;return t=i<=.03928?i/12.92:((i+.055)/1.055)**2.4,n=a<=.03928?a/12.92:((a+.055)/1.055)**2.4,r=o<=.03928?o/12.92:((o+.055)/1.055)**2.4,.2126*t+.7152*n+.0722*r},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=AD(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return this.toHsl().s===0},e.prototype.toHsv=function(){var e=LD(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=LD(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?`hsv(${t}, ${n}%, ${r}%)`:`hsva(${t}, ${n}%, ${r}%, ${this.roundA})`},e.prototype.toHsl=function(){var e=PD(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=PD(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?`hsl(${t}, ${n}%, ${r}%)`:`hsla(${t}, ${n}%, ${r}%, ${this.roundA})`},e.prototype.toHex=function(e){return e===void 0&&(e=!1),zD(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return e===void 0&&(e=!1),`#`+this.toHex(e)},e.prototype.toHex8=function(e){return e===void 0&&(e=!1),BD(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return e===void 0&&(e=!1),`#`+this.toHex8(e)},e.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return this.a===1?`rgb(${e}, ${t}, ${n})`:`rgba(${e}, ${t}, ${n}, ${this.roundA})`},e.prototype.toPercentageRgb=function(){var e=function(e){return`${Math.round(ED(e,255)*100)}%`};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(ED(e,255)*100)};return this.a===1?`rgb(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%)`:`rgba(${e(this.r)}%, ${e(this.g)}%, ${e(this.b)}%, ${this.roundA})`},e.prototype.toName=function(){if(this.a===0)return`transparent`;if(this.a<1)return!1;for(var e=`#`+zD(this.r,this.g,this.b,!1),t=0,n=Object.entries(GD);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=!!e;e??=this.format;var n=!1,r=this.a<1&&this.a>=0;return!t&&r&&(e.startsWith(`hex`)||e===`name`)?e===`name`&&this.a===0?this.toName():this.toRgbString():(e===`rgb`&&(n=this.toRgbString()),e===`prgb`&&(n=this.toPercentageRgbString()),(e===`hex`||e===`hex6`)&&(n=this.toHexString()),e===`hex3`&&(n=this.toHexString(!0)),e===`hex4`&&(n=this.toHex8String(!0)),e===`hex8`&&(n=this.toHex8String()),e===`name`&&(n=this.toName()),e===`hsl`&&(n=this.toHslString()),e===`hsv`&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=DD(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=DD(n.l),new e(n)},e.prototype.tint=function(e){return e===void 0&&(e=10),this.mix(`white`,e)},e.prototype.shade=function(e){return e===void 0&&(e=10),this.mix(`black`,e)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=DD(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=DD(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function eO(e,t=20){return e.mix(`#141414`,t).toString()}function tO(e){let t=XS(),n=J(`button`);return q(()=>{let r={},i=e.color;if(i){let a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));let o=new $D(i),s=e.dark?o.tint(20).toString():eO(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?eO(o,90):o.tint(90).toString(),"text-color":i,"border-color":e.dark?eO(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName(`color-white`)})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName(`color-white`)})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName(`disabled-bg-color`)]=e.dark?eO(o,90):o.tint(90).toString(),r[n.cssVarBlockName(`disabled-text-color`)]=e.dark?eO(o,50):o.tint(50).toString(),r[n.cssVarBlockName(`disabled-border-color`)]=e.dark?eO(o,80):o.tint(80).toString());else{let a=e.dark?eO(o,30):o.tint(30).toString(),c=o.isDark()?`var(${n.cssVarName(`color-white`)})`:`var(${n.cssVarName(`color-black`)})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":c,"border-color":i,"hover-bg-color":a,"hover-text-color":c,"hover-border-color":a,"active-bg-color":s,"active-border-color":s}),t.value){let t=e.dark?eO(o,50):o.tint(50).toString();r[n.cssVarBlockName(`disabled-bg-color`)]=t,r[n.cssVarBlockName(`disabled-text-color`)]=e.dark?`rgba(255, 255, 255, 0.5)`:`var(${n.cssVarName(`color-white`)})`,r[n.cssVarBlockName(`disabled-border-color`)]=t}}}return r})}var nO=Hb(R({...R({name:`ElButton`}),props:wD,emits:TD,setup(e,{expose:t,emit:n}){let r=e,i=tO(r),a=J(`button`),{_ref:o,_size:s,_type:c,_disabled:l,_props:u,_plain:d,_round:f,_text:p,shouldAddSpace:m,handleClick:h}=SD(r,n),g=q(()=>[a.b(),a.m(c.value),a.m(s.value),a.is(`disabled`,l.value),a.is(`loading`,r.loading),a.is(`plain`,d.value),a.is(`round`,f.value),a.is(`circle`,r.circle),a.is(`text`,p.value),a.is(`link`,r.link),a.is(`has-bg`,r.bg)]);return t({ref:o,size:s,type:c,disabled:l,shouldAddSpace:m}),(e,t)=>(V(),U(Zr(e.tag),Ja({ref_key:`_ref`,ref:o},I(u),{class:I(g),style:I(i),onClick:I(h)}),{default:L(()=>[e.loading?(V(),H(Da,{key:0},[e.$slots.loading?z(e.$slots,`loading`,{key:0}):(V(),U(I(hx),{key:1,class:N(I(a).is(`loading`))},{default:L(()=>[(V(),U(Zr(e.loadingIcon)))]),_:1},8,[`class`]))],64)):e.icon||e.$slots.icon?(V(),U(I(hx),{key:1},{default:L(()=>[e.icon?(V(),U(Zr(e.icon),{key:0})):z(e.$slots,`icon`,{key:1})]),_:3})):K(`v-if`,!0),e.$slots.default?(V(),H(`span`,{key:2,class:N({[I(a).em(`text`,`expand`)]:I(m)})},[z(e.$slots,`default`)],2)):K(`v-if`,!0)]),_:3},16,[`class`,`style`,`onClick`]))}}),[[`__file`,`button.vue`]]),rO={size:wD.size,type:wD.type,direction:{type:Y(String),values:[`horizontal`,`vertical`],default:`horizontal`}},iO=Hb(R({...R({name:`ElButtonGroup`}),props:rO,setup(e){let t=e;Mi(bD,Kt({size:_n(t,`size`),type:_n(t,`type`)}));let n=J(`button`);return(e,r)=>(V(),H(`div`,{class:N([I(n).b(`group`),I(n).bm(`group`,t.direction)])},[z(e.$slots,`default`)],2))}}),[[`__file`,`button-group.vue`]]),aO=lx(nO,{ButtonGroup:iO}),oO=fx(iO),sO=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs=r()})(e,(function(){var e=1e3,t=6e4,n=36e5,r=`millisecond`,i=`second`,a=`minute`,o=`hour`,s=`day`,c=`week`,l=`month`,u=`quarter`,d=`year`,f=`date`,p=`Invalid Date`,m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:`en`,weekdays:`Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday`.split(`_`),months:`January_February_March_April_May_June_July_August_September_October_November_December`.split(`_`),ordinal:function(e){var t=[`th`,`st`,`nd`,`rd`],n=e%100;return`[`+e+(t[(n-20)%10]||t[n]||t[0])+`]`}},_=function(e,t,n){var r=String(e);return!r||r.length>=t?e:``+Array(t+1-r.length).join(n)+e},v={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?`+`:`-`)+_(r,2,`0`)+`:`+_(i,2,`0`)},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),a=n-i<0,o=t.clone().add(r+(a?-1:1),l);return+(-(r+(n-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:c,d:s,D:f,h:o,m:a,s:i,ms:r,Q:u}[e]||String(e||``).toLowerCase().replace(/s$/,``)},u:function(e){return e===void 0}},y=`en`,b={};b[y]=g;var x=`$isDayjsObject`,S=function(e){return e instanceof E||!(!e||!e[x])},C=function e(t,n,r){var i;if(!t)return y;if(typeof t==`string`){var a=t.toLowerCase();b[a]&&(i=a),n&&(b[a]=n,i=a);var o=t.split(`-`);if(!i&&o.length>1)return e(o[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(y=i),i||!r&&y},w=function(e,t){if(S(e))return e.clone();var n=typeof t==`object`?t:{};return n.date=e,n.args=arguments,new E(n)},T=v;T.l=C,T.i=S,T.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var _=g.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(t===null)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t==`string`&&!/Z$/i.test(t)){var r=t.match(m);if(r){var i=r[2]-1||0,a=(r[7]||`0`).substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return T},_.isValid=function(){return this.$d.toString()!==p},_.isSame=function(e,t){var n=w(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return w(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<w(e)},_.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,r=!!T.u(t)||t,u=T.p(e),p=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},m=function(e,t){return T.w(n.toDate()[e].apply(n.toDate(`s`),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,g=this.$M,_=this.$D,v=`set`+(this.$u?`UTC`:``);switch(u){case d:return r?p(1,0):p(31,11);case l:return r?p(1,g):p(0,g+1);case c:var y=this.$locale().weekStart||0,b=(h<y?h+7:h)-y;return p(r?_-b:_+(6-b),g);case s:case f:return m(v+`Hours`,0);case o:return m(v+`Minutes`,1);case a:return m(v+`Seconds`,2);case i:return m(v+`Milliseconds`,3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,c=T.p(e),u=`set`+(this.$u?`UTC`:``),p=(n={},n[s]=u+`Date`,n[f]=u+`Date`,n[l]=u+`Month`,n[d]=u+`FullYear`,n[o]=u+`Hours`,n[a]=u+`Minutes`,n[i]=u+`Seconds`,n[r]=u+`Milliseconds`,n)[c],m=c===s?this.$D+(t-this.$W):t;if(c===l||c===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[T.p(e)]()},_.add=function(r,u){var f,p=this;r=Number(r);var m=T.p(u),h=function(e){var t=w(p);return T.w(t.date(t.date()+Math.round(e*r)),p)};if(m===l)return this.set(l,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===s)return h(1);if(m===c)return h(7);var g=(f={},f[a]=t,f[o]=n,f[i]=e,f)[m]||1,_=this.$d.getTime()+r*g;return T.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||`YYYY-MM-DDTHH:mm:ssZ`,i=T.z(this),a=this.$H,o=this.$m,s=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},f=function(e){return T.s(a%12||12,e,`0`)},m=u||function(e,t,n){var r=e<12?`AM`:`PM`;return n?r.toLowerCase():r};return r.replace(h,(function(e,r){return r||function(e){switch(e){case`YY`:return String(t.$y).slice(-2);case`YYYY`:return T.s(t.$y,4,`0`);case`M`:return s+1;case`MM`:return T.s(s+1,2,`0`);case`MMM`:return d(n.monthsShort,s,l,3);case`MMMM`:return d(l,s);case`D`:return t.$D;case`DD`:return T.s(t.$D,2,`0`);case`d`:return String(t.$W);case`dd`:return d(n.weekdaysMin,t.$W,c,2);case`ddd`:return d(n.weekdaysShort,t.$W,c,3);case`dddd`:return c[t.$W];case`H`:return String(a);case`HH`:return T.s(a,2,`0`);case`h`:return f(1);case`hh`:return f(2);case`a`:return m(a,o,!0);case`A`:return m(a,o,!1);case`m`:return String(o);case`mm`:return T.s(o,2,`0`);case`s`:return String(t.$s);case`ss`:return T.s(t.$s,2,`0`);case`SSS`:return T.s(t.$ms,3,`0`);case`Z`:return i}return null}(e)||i.replace(`:`,``)}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(r,f,p){var m,h=this,g=T.p(f),_=w(r),v=(_.utcOffset()-this.utcOffset())*t,y=this-_,b=function(){return T.m(h,_)};switch(g){case d:m=b()/12;break;case l:m=b();break;case u:m=b()/3;break;case c:m=(y-v)/6048e5;break;case s:m=(y-v)/864e5;break;case o:m=y/n;break;case a:m=y/t;break;case i:m=y/e;break;default:m=y}return p?m:T.a(m)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return b[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},_.clone=function(){return T.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},g}(),D=E.prototype;return w.prototype=D,[[`$ms`,r],[`$s`,i],[`$m`,a],[`$H`,o],[`$W`,s],[`$M`,l],[`$y`,d],[`$D`,f]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||=(e(t,E,w),!0),w},w.locale=C,w.isDayjs=S,w.unix=function(e){return w(1e3*e)},w.en=b[y],w.Ls=b,w.p={},w}))})),cO=c(sO(),1),lO=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],uO=e=>Array.from(Array.from({length:e}).keys()),dO=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,``).replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,``).trim(),fO=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,``).trim(),pO=function(e,t){let n=C(e),r=C(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},mO=function(e,t){let n=b(e),r=b(t);return n&&r?e.length===t.length?e.every((e,n)=>pO(e,t[n])):!1:!n&&!r?pO(e,t):!1},hO=function(e,t,n){let r=Bv(t)||t===`x`?(0,cO.default)(e).locale(n):(0,cO.default)(e,t).locale(n);return r.isValid()?r:void 0},gO=function(e,t,n){return Bv(t)?e:t===`x`?+e:(0,cO.default)(e).locale(n).format(t)},_O=(e,t)=>{let n=[],r=t?.();for(let t=0;t<e;t++)n.push(r?.includes(t)??!1);return n},vO=e=>b(e)?e.map(e=>e.toDate()):e.toDate(),yO=(e,t)=>{let n=e.subtract(1,`month`).endOf(`month`).date();return uO(t).map((e,r)=>n-(t-r-1))},bO=e=>uO(e.daysInMonth()).map((e,t)=>t+1),xO=e=>uO(e.length/7).map(t=>{let n=t*7;return e.slice(n,n+7)}),SO=X({selectedDay:{type:Y(Object)},range:{type:Y(Array)},date:{type:Y(Object),required:!0},hideHeader:{type:Boolean}}),CO={pick:e=>D(e)},wO=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_localeData=r()})(e,(function(){return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},a=function(e,t,n,r,a){var o=e.name?e:e.$locale(),s=i(o[t]),c=i(o[n]),l=s||c.map((function(e){return e.slice(0,r)}));if(!a)return l;var u=o.weekStart;return l.map((function(e,t){return l[(t+(u||0))%7]}))},o=function(){return n.Ls[n.locale()]},s=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},c=function(){var e=this;return{months:function(t){return t?t.format(`MMMM`):a(e,`months`)},monthsShort:function(t){return t?t.format(`MMM`):a(e,`monthsShort`,`months`,3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format(`dddd`):a(e,`weekdays`)},weekdaysMin:function(t){return t?t.format(`dd`):a(e,`weekdaysMin`,`weekdays`,2)},weekdaysShort:function(t){return t?t.format(`ddd`):a(e,`weekdaysShort`,`weekdays`,3)},longDateFormat:function(t){return s(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var e=o();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return s(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return a(o(),`months`)},n.monthsShort=function(){return a(o(),`monthsShort`,`months`,3)},n.weekdays=function(e){return a(o(),`weekdays`,null,null,e)},n.weekdaysShort=function(e){return a(o(),`weekdaysShort`,`weekdays`,3,e)},n.weekdaysMin=function(e){return a(o(),`weekdaysMin`,`weekdays`,2,e)}}}))})),TO=[`year`,`years`,`month`,`months`,`date`,`dates`,`week`,`datetime`,`datetimerange`,`daterange`,`monthrange`,`yearrange`],EO=[`sun`,`mon`,`tue`,`wed`,`thu`,`fri`,`sat`],DO=c(sO(),1),OO=c(wO(),1),kO=(e,t)=>{DO.default.extend(OO.default);let n=DO.default.localeData().firstDayOfWeek(),{t:r,lang:i}=gb(),a=(0,DO.default)().locale(i.value),o=q(()=>!!e.range&&!!e.range.length),s=q(()=>{let t=[];if(o.value){let[n,r]=e.range,i=uO(r.date()-n.date()+1).map(e=>({text:n.date()+e,type:`current`})),a=i.length%7;a=a===0?0:7-a;let o=uO(a).map((e,t)=>({text:t+1,type:`next`}));t=i.concat(o)}else{let r=e.date.startOf(`month`).day(),i=yO(e.date,(r-n+7)%7).map(e=>({text:e,type:`prev`})),a=bO(e.date).map(e=>({text:e,type:`current`}));t=[...i,...a];let o=uO(7-(t.length%7||7)).map((e,t)=>({text:t+1,type:`next`}));t=t.concat(o)}return xO(t)}),c=q(()=>{let e=n;return e===0?EO.map(e=>r(`el.datepicker.weeks.${e}`)):EO.slice(e).concat(EO.slice(0,e)).map(e=>r(`el.datepicker.weeks.${e}`))}),l=(t,n)=>{switch(n){case`prev`:return e.date.startOf(`month`).subtract(1,`month`).date(t);case`next`:return e.date.startOf(`month`).add(1,`month`).date(t);case`current`:return e.date.date(t)}};return{now:a,isInRange:o,rows:s,weekDays:c,getFormattedDate:l,handlePickDay:({text:e,type:n})=>{t(`pick`,l(e,n))},getSlotData:({text:t,type:n})=>{let r=l(t,n);return{isSelected:r.isSame(e.selectedDay),type:`${n}-month`,day:r.format(`YYYY-MM-DD`),date:r.toDate()}}}},AO=Hb(R({...R({name:`DateTable`}),props:SO,emits:CO,setup(e,{expose:t,emit:n}){let r=e,{isInRange:i,now:a,rows:o,weekDays:s,getFormattedDate:c,handlePickDay:l,getSlotData:u}=kO(r,n),d=J(`calendar-table`),f=J(`calendar-day`),p=({text:e,type:t})=>{let n=[t];if(t===`current`){let i=c(e,t);i.isSame(r.selectedDay,`day`)&&n.push(f.is(`selected`)),i.isSame(a,`day`)&&n.push(f.is(`today`))}return n};return t({getFormattedDate:c}),(e,t)=>(V(),H(`table`,{class:N([I(d).b(),I(d).is(`range`,I(i))]),cellspacing:`0`,cellpadding:`0`},[e.hideHeader?K(`v-if`,!0):(V(),H(`thead`,{key:0},[W(`tr`,null,[(V(!0),H(Da,null,ti(I(s),e=>(V(),H(`th`,{key:e,scope:`col`},P(e),1))),128))])])),W(`tbody`,null,[(V(!0),H(Da,null,ti(I(o),(t,n)=>(V(),H(`tr`,{key:n,class:N({[I(d).e(`row`)]:!0,[I(d).em(`row`,`hide-border`)]:n===0&&e.hideHeader})},[(V(!0),H(Da,null,ti(t,(t,n)=>(V(),H(`td`,{key:n,class:N(p(t)),onClick:e=>I(l)(t)},[W(`div`,{class:N(I(f).b())},[z(e.$slots,`date-cell`,{data:I(u)(t)},()=>[W(`span`,null,P(t.text),1)])],2)],10,[`onClick`]))),128))],2))),128))])],2))}}),[[`__file`,`date-table.vue`]]),jO=c(sO(),1),MO=(e,t)=>{let n=e.endOf(`month`),r=t.startOf(`month`),i=n.isSame(r,`week`)?r.add(1,`week`):r;return[[e,n],[i.startOf(`week`),t]]},NO=(e,t)=>{let n=e.endOf(`month`),r=e.add(1,`month`).startOf(`month`),i=n.isSame(r,`week`)?r.add(1,`week`):r,a=i.endOf(`month`),o=t.startOf(`month`),s=a.isSame(o,`week`)?o.add(1,`week`):o;return[[e,n],[i.startOf(`week`),a],[s.startOf(`week`),t]]},PO=(e,t,n)=>{let{lang:r}=gb(),i=F(),a=(0,jO.default)().locale(r.value),o=q({get(){return e.modelValue?c.value:i.value},set(e){if(!e)return;i.value=e;let n=e.toDate();t(zb,n),t(Lb,n)}}),s=q(()=>{if(!e.range||!b(e.range)||e.range.length!==2||e.range.some(e=>!C(e)))return[];let[t,n]=e.range.map(e=>(0,jO.default)(e).locale(r.value));return t.isAfter(n)?[]:t.isSame(n,`month`)||t.add(1,`month`).month()===n.month()?p(t,n):[]}),c=q(()=>e.modelValue?(0,jO.default)(e.modelValue).locale(r.value):o.value||(s.value.length?s.value[0][0]:a)),l=q(()=>c.value.subtract(1,`month`).date(1)),u=q(()=>c.value.add(1,`month`).date(1)),d=q(()=>c.value.subtract(1,`year`).date(1)),f=q(()=>c.value.add(1,`year`).date(1)),p=(e,t)=>{let n=e.startOf(`week`),r=t.endOf(`week`),i=n.get(`month`),a=r.get(`month`);return i===a?[[n,r]]:(i+1)%12===a?MO(n,r):i+2===a||(i+1)%11===a?NO(n,r):[]},m=e=>{o.value=e};return{calculateValidatedDateRange:p,date:c,realSelectedDay:o,pickDay:m,selectDate:e=>{let t={"prev-month":l.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:a}[e];t.isSame(c.value,`day`)||m(t)},validatedRange:s}},FO=X({modelValue:{type:Date},range:{type:Y(Array),validator:e=>b(e)&&e.length===2&&e.every(e=>C(e))}}),IO={[Lb]:e=>C(e),[zb]:e=>C(e)},LO=`ElCalendar`,RO=lx(Hb(R({...R({name:LO}),props:FO,emits:IO,setup(e,{expose:t,emit:n}){let r=e,i=J(`calendar`),{calculateValidatedDateRange:a,date:o,pickDay:s,realSelectedDay:c,selectDate:l,validatedRange:u}=PO(r,n,LO),{t:d}=gb(),f=q(()=>{let e=`el.datepicker.month${o.value.format(`M`)}`;return`${o.value.year()} ${d(`el.datepicker.year`)} ${d(e)}`});return t({selectedDay:c,pickDay:s,selectDate:l,calculateValidatedDateRange:a}),(e,t)=>(V(),H(`div`,{class:N(I(i).b())},[W(`div`,{class:N(I(i).e(`header`))},[z(e.$slots,`header`,{date:I(f)},()=>[W(`div`,{class:N(I(i).e(`title`))},P(I(f)),3),I(u).length===0?(V(),H(`div`,{key:0,class:N(I(i).e(`button-group`))},[G(I(oO),null,{default:L(()=>[G(I(aO),{size:`small`,onClick:e=>I(l)(`prev-month`)},{default:L(()=>[Wa(P(I(d)(`el.datepicker.prevMonth`)),1)]),_:1},8,[`onClick`]),G(I(aO),{size:`small`,onClick:e=>I(l)(`today`)},{default:L(()=>[Wa(P(I(d)(`el.datepicker.today`)),1)]),_:1},8,[`onClick`]),G(I(aO),{size:`small`,onClick:e=>I(l)(`next-month`)},{default:L(()=>[Wa(P(I(d)(`el.datepicker.nextMonth`)),1)]),_:1},8,[`onClick`])]),_:1})],2)):K(`v-if`,!0)])],2),I(u).length===0?(V(),H(`div`,{key:0,class:N(I(i).e(`body`))},[G(AO,{date:I(o),"selected-day":I(c),onPick:I(s)},ni({_:2},[e.$slots[`date-cell`]?{name:`date-cell`,fn:L(t=>[z(e.$slots,`date-cell`,xe(Ha(t)))])}:void 0]),1032,[`date`,`selected-day`,`onPick`])],2)):(V(),H(`div`,{key:1,class:N(I(i).e(`body`))},[(V(!0),H(Da,null,ti(I(u),(t,n)=>(V(),U(AO,{key:n,date:t[0],"selected-day":I(c),range:t,"hide-header":n!==0,onPick:I(s)},ni({_:2},[e.$slots[`date-cell`]?{name:`date-cell`,fn:L(t=>[z(e.$slots,`date-cell`,xe(Ha(t)))])}:void 0]),1032,[`date`,`selected-day`,`range`,`hide-header`,`onPick`]))),128))],2))],2))}}),[[`__file`,`calendar.vue`]])),zO=X({header:{type:String,default:``},footer:{type:String,default:``},bodyStyle:{type:Y([String,Object,Array]),default:``},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:[`always`,`hover`,`never`],default:void 0}}),BO=lx(Hb(R({...R({name:`ElCard`}),props:zO,setup(e){let t=Mb(`card`),n=J(`card`);return(e,r)=>(V(),H(`div`,{class:N([I(n).b(),I(n).is(`${e.shadow||I(t)?.shadow||`always`}-shadow`)])},[e.$slots.header||e.header?(V(),H(`div`,{key:0,class:N([I(n).e(`header`),e.headerClass])},[z(e.$slots,`header`,{},()=>[Wa(P(e.header),1)])],2)):K(`v-if`,!0),W(`div`,{class:N([I(n).e(`body`),e.bodyClass]),style:j(e.bodyStyle)},[z(e.$slots,`default`)],6),e.$slots.footer||e.footer?(V(),H(`div`,{key:1,class:N([I(n).e(`footer`),e.footerClass])},[z(e.$slots,`footer`,{},()=>[Wa(P(e.footer),1)])],2)):K(`v-if`,!0)],2))}}),[[`__file`,`card.vue`]])),VO=X({initialIndex:{type:Number,default:0},height:{type:String,default:``},trigger:{type:String,values:[`hover`,`click`],default:`hover`},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:[``,`none`,`outside`],default:``},arrow:{type:String,values:[`always`,`hover`,`never`],default:`hover`},type:{type:String,values:[``,`card`],default:``},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),HO={change:(e,t)=>[e,t].every(zv)},UO=Symbol(`carouselContextKey`),WO=`ElCarouselItem`,GO=(e=>(e[e.TEXT=1]=`TEXT`,e[e.CLASS=2]=`CLASS`,e[e.STYLE=4]=`STYLE`,e[e.PROPS=8]=`PROPS`,e[e.FULL_PROPS=16]=`FULL_PROPS`,e[e.HYDRATE_EVENTS=32]=`HYDRATE_EVENTS`,e[e.STABLE_FRAGMENT=64]=`STABLE_FRAGMENT`,e[e.KEYED_FRAGMENT=128]=`KEYED_FRAGMENT`,e[e.UNKEYED_FRAGMENT=256]=`UNKEYED_FRAGMENT`,e[e.NEED_PATCH=512]=`NEED_PATCH`,e[e.DYNAMIC_SLOTS=1024]=`DYNAMIC_SLOTS`,e[e.HOISTED=-1]=`HOISTED`,e[e.BAIL=-2]=`BAIL`,e))(GO||{});function KO(e){return La(e)&&e.type===Da}function qO(e){return La(e)&&e.type===ka}function JO(e){return La(e)&&!KO(e)&&!qO(e)}var YO=e=>{if(!La(e))return{};let t=e.props||{},n=(La(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(e=>{y(n[e],`default`)&&(r[e]=n[e].default)}),Object.keys(t).forEach(e=>{r[oe(e)]=t[e]}),r},XO=e=>{let t=b(e)?e:[e],n=[];return t.forEach(e=>{b(e)?n.push(...XO(e)):La(e)&&e.component?.subTree?n.push(e,...XO(e.component.subTree)):La(e)&&b(e.children)?n.push(...XO(e.children)):La(e)&&e.shapeFlag===2?n.push(...XO(e.type())):n.push(e)}),n},ZO=(e,t,n)=>XO(e.subTree).filter(e=>La(e)&&e.type?.name===t&&!!e.component).map(e=>e.component.uid).map(e=>n[e]).filter(e=>!!e),QO=(e,t)=>{let n=on({}),r=on([]),i=new WeakMap,a=e=>{n.value[e.uid]=e,ln(n),Rr(()=>{let t=e.getVnode().el,r=t.parentNode;if(!i.has(r)){i.set(r,[]);let e=r.insertBefore.bind(r);r.insertBefore=(t,a)=>(i.get(r).some(e=>t===e||a===e)&&ln(n),e(t,a))}i.get(r).push(t)})},o=e=>{delete n.value[e.uid],ln(n);let t=e.getVnode().el,r=t.parentNode,a=i.get(r),o=a.indexOf(t);a.splice(o,1)},s=()=>{r.value=ZO(e,t,n.value)},c=e=>e.render();return{children:r,addChild:a,removeChild:o,ChildrenSorter:R({setup(e,{slots:t}){return()=>(s(),t.default?_o(c,{render:t.default}):null)}})}},$O=300,ek=(e,t,n)=>{let{children:r,addChild:i,removeChild:a,ChildrenSorter:o}=QO(eo(),WO),s=li(),c=F(-1),l=F(null),u=F(!1),d=F(),f=F(0),p=F(!0),m=q(()=>e.arrow!==`never`&&!I(_)),h=q(()=>r.value.some(e=>e.props.label.toString().length>0)),g=q(()=>e.type===`card`),_=q(()=>e.direction===`vertical`),v=q(()=>e.height===`auto`?{height:`${f.value}px`,overflow:`hidden`}:{height:e.height}),y=jv(e=>{E(e)},$O,{trailing:!0}),b=jv(e=>{re(e)},$O),x=e=>p.value?c.value<=1?e<=1:e>1:!0;function S(){l.value&&=(clearInterval(l.value),null)}function C(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>w(),e.interval))}let w=()=>{c.value<r.value.length-1?c.value+=1:e.loop&&(c.value=0)};function E(t){if(T(t)){let e=r.value.filter(e=>e.props.name===t);e.length>0&&(t=r.value.indexOf(e[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;let n=r.value.length,i=c.value;t<0?c.value=e.loop?n-1:0:t>=n?c.value=e.loop?0:n-1:c.value=t,i===c.value&&D(i),oe()}function D(e){r.value.forEach((t,n)=>{t.translateItem(n,c.value,e)})}function O(e,t){let n=I(r),i=n.length;if(i===0||!e.states.inStage)return!1;let a=t+1,o=t-1,s=i-1,c=n[s].states.active,l=n[0].states.active,u=n[a]?.states?.active,d=n[o]?.states?.active;return t===s&&l||u?`left`:t===0&&c||d?`right`:!1}function k(){u.value=!0,e.pauseOnHover&&S()}function A(){u.value=!1,C()}function ee(e){I(_)||r.value.forEach((t,n)=>{e===O(t,n)&&(t.states.hover=!0)})}function te(){I(_)||r.value.forEach(e=>{e.states.hover=!1})}function ne(e){c.value=e}function re(t){e.trigger===`hover`&&t!==c.value&&(c.value=t)}function ie(){E(c.value-1)}function ae(){E(c.value+1)}function oe(){S(),e.pauseOnHover||C()}function se(t){e.height===`auto`&&(f.value=t)}function ce(){let t=s.default?.call(s);if(!t)return null;let n=XO(t).filter(e=>La(e)&&e.type.name===`ElCarouselItem`);return n?.length===2&&e.loop&&!g.value?(p.value=!0,n):(p.value=!1,null)}B(()=>c.value,(e,n)=>{D(n),p.value&&(e%=2,n%=2),n>-1&&t(Rb,e,n)});let le=q({get:()=>p.value?c.value%2:c.value,set:e=>c.value=e});B(()=>e.autoplay,e=>{e?C():S()}),B(()=>e.loop,()=>{E(c.value)}),B(()=>e.interval,()=>{oe()});let ue=on();return Rr(()=>{B(()=>r.value,()=>{r.value.length>0&&E(e.initialIndex)},{immediate:!0}),ue.value=zy(d.value,()=>{D()}),C()}),Vr(()=>{S(),d.value&&ue.value&&ue.value.stop()}),Mi(UO,{root:d,isCardType:g,isVertical:_,items:r,loop:e.loop,cardScale:e.cardScale,addItem:i,removeItem:a,setActiveItem:E,setContainerHeight:se}),{root:d,activeIndex:c,exposeActiveIndex:le,arrowDisplay:m,hasLabel:h,hover:u,isCardType:g,items:r,isVertical:_,containerStyle:v,isItemsTwoLength:p,handleButtonEnter:ee,handleButtonLeave:te,handleIndicatorClick:ne,handleMouseEnter:k,handleMouseLeave:A,setActiveItem:E,prev:ie,next:ae,PlaceholderItem:ce,isTwoLengthShow:x,ItemsSorter:o,throttledArrowClick:y,throttledIndicatorHover:b}},tk=`ElCarousel`,nk=Hb(R({...R({name:tk}),props:VO,emits:HO,setup(e,{expose:t,emit:n}){let r=e,{root:i,activeIndex:a,exposeActiveIndex:o,arrowDisplay:s,hasLabel:c,hover:l,isCardType:u,items:d,isVertical:f,containerStyle:p,handleButtonEnter:m,handleButtonLeave:h,handleIndicatorClick:g,handleMouseEnter:_,handleMouseLeave:v,setActiveItem:y,prev:b,next:x,PlaceholderItem:S,isTwoLengthShow:C,ItemsSorter:w,throttledArrowClick:T,throttledIndicatorHover:E}=ek(r,n,tk),D=J(`carousel`),{t:O}=gb(),k=q(()=>{let e=[D.b(),D.m(r.direction)];return I(u)&&e.push(D.m(`card`)),e}),A=q(()=>{let e=[D.e(`indicators`),D.em(`indicators`,r.direction)];return I(c)&&e.push(D.em(`indicators`,`labels`)),r.indicatorPosition===`outside`&&e.push(D.em(`indicators`,`outside`)),I(f)&&e.push(D.em(`indicators`,`right`)),e});function ee(e){if(!r.motionBlur)return;let t=I(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`;e.currentTarget.classList.add(t)}function te(e){if(!r.motionBlur)return;let t=I(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`;e.currentTarget.classList.remove(t)}return t({activeIndex:o,setActiveItem:y,prev:b,next:x}),(e,t)=>(V(),H(`div`,{ref_key:`root`,ref:i,class:N(I(k)),onMouseenter:Ks(I(_),[`stop`]),onMouseleave:Ks(I(v),[`stop`])},[I(s)?(V(),U(No,{key:0,name:`carousel-arrow-left`,persisted:``},{default:L(()=>[Yn(W(`button`,{type:`button`,class:N([I(D).e(`arrow`),I(D).em(`arrow`,`left`)]),"aria-label":I(O)(`el.carousel.leftArrow`),onMouseenter:e=>I(m)(`left`),onMouseleave:I(h),onClick:Ks(e=>I(T)(I(a)-1),[`stop`])},[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1})],42,[`aria-label`,`onMouseenter`,`onMouseleave`,`onClick`]),[[Zo,(e.arrow===`always`||I(l))&&(e.loop||I(a)>0)]])]),_:1})):K(`v-if`,!0),I(s)?(V(),U(No,{key:1,name:`carousel-arrow-right`,persisted:``},{default:L(()=>[Yn(W(`button`,{type:`button`,class:N([I(D).e(`arrow`),I(D).em(`arrow`,`right`)]),"aria-label":I(O)(`el.carousel.rightArrow`),onMouseenter:e=>I(m)(`right`),onMouseleave:I(h),onClick:Ks(e=>I(T)(I(a)+1),[`stop`])},[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})],42,[`aria-label`,`onMouseenter`,`onMouseleave`,`onClick`]),[[Zo,(e.arrow===`always`||I(l))&&(e.loop||I(a)<I(d).length-1)]])]),_:1})):K(`v-if`,!0),W(`div`,{class:N(I(D).e(`container`)),style:j(I(p)),onTransitionstart:ee,onTransitionend:te},[G(I(S)),z(e.$slots,`default`)],38),G(I(w),null,{default:L(()=>[e.indicatorPosition===`none`?K(`v-if`,!0):(V(),H(`ul`,{key:0,class:N(I(A))},[(V(!0),H(Da,null,ti(I(d),(t,n)=>Yn((V(),H(`li`,{key:n,class:N([I(D).e(`indicator`),I(D).em(`indicator`,e.direction),I(D).is(`active`,n===I(a))]),onMouseenter:e=>I(E)(n),onClick:Ks(e=>I(g)(n),[`stop`])},[W(`button`,{class:N(I(D).e(`button`)),"aria-label":I(O)(`el.carousel.indicator`,{index:n+1})},[I(c)?(V(),H(`span`,{key:0},P(t.props.label),1)):K(`v-if`,!0)],10,[`aria-label`])],42,[`onMouseenter`,`onClick`])),[[Zo,I(C)(n)]])),128))],2))]),_:1}),e.motionBlur?(V(),H(`svg`,{key:2,xmlns:`http://www.w3.org/2000/svg`,version:`1.1`,style:{display:`none`}},[W(`defs`,null,[W(`filter`,{id:`elCarouselHorizontal`},[W(`feGaussianBlur`,{in:`SourceGraphic`,stdDeviation:`12,0`})]),W(`filter`,{id:`elCarouselVertical`},[W(`feGaussianBlur`,{in:`SourceGraphic`,stdDeviation:`0,10`})])])])):K(`v-if`,!0)],42,[`onMouseenter`,`onMouseleave`]))}}),[[`__file`,`carousel.vue`]]),rk=X({name:{type:String,default:``},label:{type:[String,Number],default:``}}),ik=e=>{let t=Ni(UO),n=eo(),r=F(),i=F(!1),a=F(0),o=F(1),s=F(!1),c=F(!1),l=F(!1),u=F(!1),{isCardType:d,isVertical:f,cardScale:p}=t;function m(e,t,n){let r=n-1,i=t-1,a=t+1,o=n/2;return t===0&&e===r?-1:t===r&&e===0?n:e<i&&t-e>=o?n+1:e>a&&e-t>=o?-2:e}function h(e,n){let r=I(f)?t.root.value?.offsetHeight||0:t.root.value?.offsetWidth||0;return l.value?r*((2-p)*(e-n)+1)/4:e<n?-(1+p)*r/4:(3+p)*r/4}function g(e,n,r){let i=t.root.value;return i?((r?i.offsetHeight:i.offsetWidth)||0)*(e-n):0}let _=(e,n,i)=>{let _=I(d),v=t.items.value.length??NaN,y=e===n;!_&&!Lv(i)&&(u.value=y||e===i),!y&&v>2&&t.loop&&(e=m(e,n,v));let b=I(f);s.value=y,_?(l.value=Math.round(Math.abs(e-n))<=1,a.value=h(e,n),o.value=I(s)?1:p):a.value=g(e,n,b),c.value=!0,y&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function v(){if(t&&I(d)){let e=t.items.value.findIndex(({uid:e})=>e===n.uid);t.setActiveItem(e)}}let y={props:e,states:Kt({hover:i,translate:a,scale:o,active:s,ready:c,inStage:l,animating:u}),uid:n.uid,getVnode:()=>n.vnode,translateItem:_};return t.addItem(y),Vr(()=>{t.removeItem(y)}),{carouselItemRef:r,active:s,animating:u,hover:i,inStage:l,isVertical:f,translate:a,isCardType:d,scale:o,ready:c,handleItemClick:v}},ak=Hb(R({...R({name:WO}),props:rk,setup(e){let t=e,n=J(`carousel`),{carouselItemRef:r,active:i,animating:a,hover:o,inStage:s,isVertical:c,translate:l,isCardType:u,scale:d,ready:f,handleItemClick:p}=ik(t),m=q(()=>[n.e(`item`),n.is(`active`,i.value),n.is(`in-stage`,s.value),n.is(`hover`,o.value),n.is(`animating`,a.value),{[n.em(`item`,`card`)]:u.value,[n.em(`item`,`card-vertical`)]:u.value&&c.value}]),h=q(()=>({transform:[`${`translate${I(c)?`Y`:`X`}`}(${I(l)}px)`,`scale(${I(d)})`].join(` `)}));return(e,t)=>Yn((V(),H(`div`,{ref_key:`carouselItemRef`,ref:r,class:N(I(m)),style:j(I(h)),onClick:I(p)},[I(u)?Yn((V(),H(`div`,{key:0,class:N(I(n).e(`mask`))},null,2)),[[Zo,!I(i)]]):K(`v-if`,!0),z(e.$slots,`default`)],14,[`onClick`])),[[Zo,I(f)]])}}),[[`__file`,`carousel-item.vue`]]),ok=lx(nk,{CarouselItem:ak}),sk=fx(ak),ck={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:{type:Boolean,default:void 0},checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:xb,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},ariaLabel:String,...PS([`ariaControls`])},lk={[Lb]:e=>T(e)||zv(e)||Rv(e),change:e=>T(e)||zv(e)||Rv(e)},uk=Symbol(`checkboxGroupContextKey`),dk=({model:e,isChecked:t})=>{let n=Ni(uk,void 0),r=Ni(WS,void 0),i=q(()=>{let r=n?.max?.value,i=n?.min?.value;return!Lv(r)&&e.value.length>=r&&!t.value||!Lv(i)&&e.value.length<=i&&t.value});return{isDisabled:XS(q(()=>n===void 0?r?.disabled??i.value:n.disabled?.value||i.value)),isLimitDisabled:i}},fk=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{let o=Ni(uk,void 0),{formItem:s}=KS(),{emit:c}=eo();function l(t){return[!0,e.trueValue,e.trueLabel].includes(t)?e.trueValue??e.trueLabel??!0:e.falseValue??e.falseLabel??!1}function u(e,t){c(Rb,l(e),t)}function d(e){if(n.value)return;let t=e.target;c(Rb,l(t.checked),e)}async function f(o){n.value||!r.value&&!i.value&&a.value&&(o.composedPath().some(e=>e.tagName===`LABEL`)||(t.value=l([!1,e.falseValue,e.falseLabel].includes(t.value)),await Ln(),u(t.value,o)))}let p=q(()=>o?.validateEvent||e.validateEvent);return B(()=>e.modelValue,()=>{p.value&&s?.validate(`change`).catch(e=>void 0)}),{handleChange:d,onClickRoot:f}},pk=e=>{let t=F(!1),{emit:n}=eo(),r=Ni(uk,void 0),i=q(()=>Lv(r)===!1),a=F(!1),o=q({get(){return i.value?r?.modelValue?.value:e.modelValue??t.value},set(e){var s;i.value&&b(e)?(a.value=r?.max?.value!==void 0&&e.length>r?.max.value&&e.length>o.value.length,a.value===!1&&((s=r?.changeEvent)==null||s.call(r,e))):(n(Lb,e),t.value=e)}});return{model:o,isGroup:i,isLimitExceeded:a}},mk=(e,t,{model:n})=>{let r=Ni(uk,void 0),i=F(!1),a=q(()=>Hv(e.value)?e.label:e.value),o=q(()=>{let t=n.value;return Rv(t)?t:b(t)?D(a.value)?t.map(en).some(e=>iv(e,a.value)):t.map(en).includes(a.value):t==null?!!t:t===e.trueValue||t===e.trueLabel});return{checkboxButtonSize:YS(q(()=>r?.size?.value),{prop:!0}),isChecked:o,isFocused:i,checkboxSize:YS(q(()=>r?.size?.value)),hasOwnLabel:q(()=>!!t.default||!Hv(a.value)),actualValue:a}},hk=(e,t)=>{let{formItem:n}=KS(),{model:r,isGroup:i,isLimitExceeded:a}=pk(e),{isFocused:o,isChecked:s,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,actualValue:d}=mk(e,t,{model:r}),{isDisabled:f}=dk({model:r,isChecked:s}),{inputId:p,isLabeledByFormItem:m}=qS(e,{formItemContext:n,disableIdGeneration:u,disableIdManagement:i}),{handleChange:h,onClickRoot:g}=fk(e,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:m});return(()=>{function t(){b(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=e.trueValue??e.trueLabel??!0}e.checked&&t()})(),xD({from:`label act as value`,replacement:`value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},q(()=>i.value&&Hv(e.value))),xD({from:`true-label`,replacement:`true-value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},q(()=>!!e.trueLabel)),xD({from:`false-label`,replacement:`false-value`,version:`3.0.0`,scope:`el-checkbox`,ref:`https://element-plus.org/en-US/component/checkbox.html`},q(()=>!!e.falseLabel)),{inputId:p,isLabeledByFormItem:m,isChecked:s,isDisabled:f,isFocused:o,checkboxButtonSize:c,checkboxSize:l,hasOwnLabel:u,model:r,actualValue:d,handleChange:h,onClickRoot:g}},gk=Hb(R({...R({name:`ElCheckbox`}),props:ck,emits:lk,setup(e){let t=e,{inputId:n,isLabeledByFormItem:r,isChecked:i,isDisabled:a,isFocused:o,checkboxSize:s,hasOwnLabel:c,model:l,actualValue:u,handleChange:d,onClickRoot:f}=hk(t,li()),p=q(()=>t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":t.trueValue??t.trueLabel??!0,"false-value":t.falseValue??t.falseLabel??!1}:{value:u.value}),m=J(`checkbox`),h=q(()=>[m.b(),m.m(s.value),m.is(`disabled`,a.value),m.is(`bordered`,t.border),m.is(`checked`,i.value)]),g=q(()=>[m.e(`input`),m.is(`disabled`,a.value),m.is(`checked`,i.value),m.is(`indeterminate`,t.indeterminate),m.is(`focus`,o.value)]);return(e,t)=>(V(),U(Zr(!I(c)&&I(r)?`span`:`label`),{for:!I(c)&&I(r)?null:I(n),class:N(I(h)),"aria-controls":e.indeterminate?e.ariaControls:null,"aria-checked":e.indeterminate?`mixed`:void 0,"aria-label":e.ariaLabel,onClick:I(f)},{default:L(()=>[W(`span`,{class:N(I(g))},[Yn(W(`input`,Ja({id:I(n),"onUpdate:modelValue":e=>an(l)?l.value=e:null,class:I(m).e(`original`),type:`checkbox`,indeterminate:e.indeterminate,name:e.name,tabindex:e.tabindex,disabled:I(a)},I(p),{onChange:I(d),onFocus:e=>o.value=!0,onBlur:e=>o.value=!1,onClick:Ks(()=>{},[`stop`])}),null,16,[`id`,`onUpdate:modelValue`,`indeterminate`,`name`,`tabindex`,`disabled`,`onChange`,`onFocus`,`onBlur`,`onClick`]),[[zs,I(l)]]),W(`span`,{class:N(I(m).e(`inner`))},null,2)],2),I(c)?(V(),H(`span`,{key:0,class:N(I(m).e(`label`))},[z(e.$slots,`default`),e.$slots.default?K(`v-if`,!0):(V(),H(Da,{key:0},[Wa(P(e.label),1)],64))],2)):K(`v-if`,!0)]),_:3},8,[`for`,`class`,`aria-controls`,`aria-checked`,`aria-label`,`onClick`]))}}),[[`__file`,`checkbox.vue`]]),_k=Hb(R({...R({name:`ElCheckboxButton`}),props:ck,emits:lk,setup(e){let t=e,{isFocused:n,isChecked:r,isDisabled:i,checkboxButtonSize:a,model:o,actualValue:s,handleChange:c}=hk(t,li()),l=q(()=>t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?{"true-value":t.trueValue??t.trueLabel??!0,"false-value":t.falseValue??t.falseLabel??!1}:{value:s.value}),u=Ni(uk,void 0),d=J(`checkbox`),f=q(()=>{let e=u?.fill?.value??``;return{backgroundColor:e,borderColor:e,color:u?.textColor?.value??``,boxShadow:e?`-1px 0 0 0 ${e}`:void 0}}),p=q(()=>[d.b(`button`),d.bm(`button`,a.value),d.is(`disabled`,i.value),d.is(`checked`,r.value),d.is(`focus`,n.value)]);return(e,t)=>(V(),H(`label`,{class:N(I(p))},[Yn(W(`input`,Ja({"onUpdate:modelValue":e=>an(o)?o.value=e:null,class:I(d).be(`button`,`original`),type:`checkbox`,name:e.name,tabindex:e.tabindex,disabled:I(i)},I(l),{onChange:I(c),onFocus:e=>n.value=!0,onBlur:e=>n.value=!1,onClick:Ks(()=>{},[`stop`])}),null,16,[`onUpdate:modelValue`,`name`,`tabindex`,`disabled`,`onChange`,`onFocus`,`onBlur`,`onClick`]),[[zs,I(o)]]),e.$slots.default||e.label?(V(),H(`span`,{key:0,class:N(I(d).be(`button`,`inner`)),style:j(I(r)?I(f):void 0)},[z(e.$slots,`default`,{},()=>[Wa(P(e.label),1)])],6)):K(`v-if`,!0)],2))}}),[[`__file`,`checkbox-button.vue`]]),vk=X({modelValue:{type:Y(Array),default:()=>[]},disabled:{type:Boolean,default:void 0},min:Number,max:Number,size:xb,fill:String,textColor:String,tag:{type:String,default:`div`},validateEvent:{type:Boolean,default:!0},options:{type:Y(Array)},props:{type:Y(Object),default:()=>bk},type:{type:String,values:[`checkbox`,`button`],default:`checkbox`},...PS([`ariaLabel`])}),yk={[Lb]:e=>b(e),change:e=>b(e)},bk={label:`label`,value:`value`,disabled:`disabled`},xk=Hb(R({...R({name:`ElCheckboxGroup`}),props:vk,emits:yk,setup(e,{emit:t}){let n=e,r=J(`checkbox`),i=XS(),{formItem:a}=KS(),{inputId:o,isLabeledByFormItem:s}=qS(n,{formItemContext:a}),c=async e=>{t(Lb,e),await Ln(),t(Rb,e)},l=q({get(){return n.modelValue},set(e){c(e)}}),u=q(()=>({...bk,...n.props})),d=e=>{let{label:t,value:n,disabled:r}=u.value,i={label:e[t],value:e[n],disabled:e[r]};return{...yv(e,[t,n,r]),...i}},f=q(()=>n.type===`button`?_k:gk);return Mi(uk,{...Ev(mn(n),[`size`,`min`,`max`,`validateEvent`,`fill`,`textColor`]),disabled:i,modelValue:l,changeEvent:c}),B(()=>n.modelValue,(e,t)=>{n.validateEvent&&!iv(e,t)&&a?.validate(`change`).catch(e=>void 0)}),(e,t)=>(V(),U(Zr(e.tag),{id:I(o),class:N(I(r).b(`group`)),role:`group`,"aria-label":I(s)?void 0:e.ariaLabel||`checkbox-group`,"aria-labelledby":I(s)?I(a)?.labelId:void 0},{default:L(()=>[z(e.$slots,`default`,{},()=>[(V(!0),H(Da,null,ti(e.options,(e,t)=>(V(),U(Zr(I(f)),Ja({key:t},d(e)),null,16))),128))])]),_:3},8,[`id`,`class`,`aria-label`,`aria-labelledby`]))}}),[[`__file`,`checkbox-group.vue`]]),Sk=lx(gk,{CheckboxButton:_k,CheckboxGroup:xk}),Ck=fx(_k),wk=fx(xk),Tk=X({modelValue:{type:[String,Number,Boolean],default:void 0},size:xb,disabled:{type:Boolean,default:void 0},label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Ek=X({...Tk,border:Boolean}),Dk={[Lb]:e=>T(e)||zv(e)||Rv(e),[Rb]:e=>T(e)||zv(e)||Rv(e)},Ok=Symbol(`radioGroupKey`),kk=(e,t)=>{let n=F(),r=Ni(Ok,void 0),i=q(()=>!!r),a=q(()=>Hv(e.value)?e.label:e.value),o=q({get(){return i.value?r.modelValue:e.modelValue},set(o){i.value?r.changeEvent(o):t&&t(`update:modelValue`,o),n.value.checked=e.modelValue===a.value}}),s=YS(q(()=>r?.size)),c=XS(q(()=>r?.disabled)),l=F(!1),u=q(()=>c.value||i.value&&o.value!==a.value?-1:0);return xD({from:`label act as value`,replacement:`value`,version:`3.0.0`,scope:`el-radio`,ref:`https://element-plus.org/en-US/component/radio.html`},q(()=>i.value&&Hv(e.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:l,size:s,disabled:c,tabIndex:u,modelValue:o,actualValue:a}},Ak=Hb(R({...R({name:`ElRadio`}),props:Ek,emits:Dk,setup(e,{emit:t}){let n=e,r=J(`radio`),{radioRef:i,radioGroup:a,focus:o,size:s,disabled:c,modelValue:l,actualValue:u}=kk(n,t);function d(){Ln(()=>t(Rb,l.value))}return(e,t)=>(V(),H(`label`,{class:N([I(r).b(),I(r).is(`disabled`,I(c)),I(r).is(`focus`,I(o)),I(r).is(`bordered`,e.border),I(r).is(`checked`,I(l)===I(u)),I(r).m(I(s))])},[W(`span`,{class:N([I(r).e(`input`),I(r).is(`disabled`,I(c)),I(r).is(`checked`,I(l)===I(u))])},[Yn(W(`input`,{ref_key:`radioRef`,ref:i,"onUpdate:modelValue":e=>an(l)?l.value=e:null,class:N(I(r).e(`original`)),value:I(u),name:e.name||I(a)?.name,disabled:I(c),checked:I(l)===I(u),type:`radio`,onFocus:e=>o.value=!0,onBlur:e=>o.value=!1,onChange:d,onClick:Ks(()=>{},[`stop`])},null,42,[`onUpdate:modelValue`,`value`,`name`,`disabled`,`checked`,`onFocus`,`onBlur`,`onClick`]),[[Vs,I(l)]]),W(`span`,{class:N(I(r).e(`inner`))},null,2)],2),W(`span`,{class:N(I(r).e(`label`)),onKeydown:Ks(()=>{},[`stop`])},[z(e.$slots,`default`,{},()=>[Wa(P(e.label),1)])],42,[`onKeydown`])],2))}}),[[`__file`,`radio.vue`]]),jk=X({...Tk}),Mk=Hb(R({...R({name:`ElRadioButton`}),props:jk,setup(e){let t=e,n=J(`radio`),{radioRef:r,focus:i,size:a,disabled:o,modelValue:s,radioGroup:c,actualValue:l}=kk(t),u=q(()=>({backgroundColor:c?.fill||``,borderColor:c?.fill||``,boxShadow:c?.fill?`-1px 0 0 0 ${c.fill}`:``,color:c?.textColor||``}));return(e,t)=>(V(),H(`label`,{class:N([I(n).b(`button`),I(n).is(`active`,I(s)===I(l)),I(n).is(`disabled`,I(o)),I(n).is(`focus`,I(i)),I(n).bm(`button`,I(a))])},[Yn(W(`input`,{ref_key:`radioRef`,ref:r,"onUpdate:modelValue":e=>an(s)?s.value=e:null,class:N(I(n).be(`button`,`original-radio`)),value:I(l),type:`radio`,name:e.name||I(c)?.name,disabled:I(o),onFocus:e=>i.value=!0,onBlur:e=>i.value=!1,onClick:Ks(()=>{},[`stop`])},null,42,[`onUpdate:modelValue`,`value`,`name`,`disabled`,`onFocus`,`onBlur`,`onClick`]),[[Vs,I(s)]]),W(`span`,{class:N(I(n).be(`button`,`inner`)),style:j(I(s)===I(l)?I(u):{}),onKeydown:Ks(()=>{},[`stop`])},[z(e.$slots,`default`,{},()=>[Wa(P(e.label),1)])],46,[`onKeydown`])],2))}}),[[`__file`,`radio-button.vue`]]),Nk=X({id:{type:String,default:void 0},size:xb,disabled:{type:Boolean,default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:``},textColor:{type:String,default:``},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:Y(Array)},props:{type:Y(Object),default:()=>Fk},type:{type:String,values:[`radio`,`button`],default:`radio`},...PS([`ariaLabel`])}),Pk=Dk,Fk={label:`label`,value:`value`,disabled:`disabled`},Ik=Hb(R({...R({name:`ElRadioGroup`}),props:Nk,emits:Pk,setup(e,{emit:t}){let n=e,r=J(`radio`),i=US(),a=F(),{formItem:o}=KS(),{inputId:s,isLabeledByFormItem:c}=qS(n,{formItemContext:o}),l=e=>{t(Lb,e),Ln(()=>t(Rb,e))};Rr(()=>{let e=a.value.querySelectorAll(`[type=radio]`),t=e[0];!Array.from(e).some(e=>e.checked)&&t&&(t.tabIndex=0)});let u=q(()=>n.name||i.value),d=q(()=>({...Fk,...n.props})),f=e=>{let{label:t,value:n,disabled:r}=d.value,i={label:e[t],value:e[n],disabled:e[r]};return{...yv(e,[t,n,r]),...i}},p=q(()=>n.type===`button`?Mk:Ak);return Mi(Ok,Kt({...mn(n),changeEvent:l,name:u})),B(()=>n.modelValue,(e,t)=>{n.validateEvent&&!iv(e,t)&&o?.validate(`change`).catch(e=>void 0)}),(e,t)=>(V(),H(`div`,{id:I(s),ref_key:`radioGroupRef`,ref:a,class:N(I(r).b(`group`)),role:`radiogroup`,"aria-label":I(c)?void 0:e.ariaLabel||`radio-group`,"aria-labelledby":I(c)?I(o).labelId:void 0},[z(e.$slots,`default`,{},()=>[(V(!0),H(Da,null,ti(e.options,(e,t)=>(V(),U(Zr(I(p)),Ja({key:t},f(e)),null,16))),128))])],10,[`id`,`aria-label`,`aria-labelledby`]))}}),[[`__file`,`radio-group.vue`]]),Lk=lx(Ak,{RadioButton:Mk,RadioGroup:Ik}),Rk=fx(Ik),zk=fx(Mk),Bk=Symbol();function Vk(e){return!!(b(e)?e.every(({type:e})=>e===ka):e?.type===ka)}var Hk=R({name:`NodeContent`,props:{node:{type:Object,required:!0}},setup(e){let t=J(`cascader-node`),{renderLabelFn:n}=Ni(Bk),{node:r}=e,{data:i,label:a}=r,o=()=>{let e=n?.({node:r,data:i});return Vk(e)?a:e??a};return()=>G(`span`,{class:t.e(`label`)},[o()])}}),Uk=Hb(R({...R({name:`ElCascaderNode`}),props:{node:{type:Object,required:!0},menuId:String},emits:[`expand`],setup(e,{emit:t}){let n=e,r=Ni(Bk),i=J(`cascader-node`),a=q(()=>r.isHoverMenu),o=q(()=>r.config.multiple),s=q(()=>r.config.checkStrictly),c=q(()=>r.config.showPrefix),l=q(()=>r.checkedNodes[0]?.uid),u=q(()=>n.node.isDisabled),d=q(()=>n.node.isLeaf),f=q(()=>s.value&&!d.value||!u.value),p=q(()=>h(r.expandingNode)),m=q(()=>s.value&&r.checkedNodes.some(h)),h=e=>{let{level:t,uid:r}=n.node;return e?.pathNodes[t-1]?.uid===r},g=()=>{p.value||r.expandNode(n.node)},_=e=>{let{node:t}=n;e!==t.checked&&r.handleCheckChange(t,e)},v=()=>{r.lazyLoad(n.node,()=>{d.value||g()})},y=e=>{a.value&&(b(),!d.value&&t(`expand`,e))},b=()=>{let{node:e}=n;!f.value||e.loading||(e.loaded?g():v())},x=()=>{d.value&&!u.value&&!s.value&&!o.value?C(!0):(r.config.checkOnClickNode&&(o.value||s.value)||d.value&&r.config.checkOnClickLeaf)&&!u.value?S(!n.node.checked):a.value||b()},S=e=>{s.value?(_(e),n.node.loaded&&g()):C(e)},C=e=>{n.node.loaded?(_(e),!s.value&&g()):v()};return(t,n)=>(V(),H(`li`,{id:`${e.menuId}-${e.node.uid}`,role:`menuitem`,"aria-haspopup":!I(d),"aria-owns":I(d)?void 0:e.menuId,"aria-expanded":I(p),tabindex:I(f)?-1:void 0,class:N([I(i).b(),I(i).is(`selectable`,I(s)),I(i).is(`active`,e.node.checked),I(i).is(`disabled`,!I(f)),I(p)&&`in-active-path`,I(m)&&`in-checked-path`]),onMouseenter:y,onFocus:y,onClick:x},[K(` prefix `),I(o)&&I(c)?(V(),U(I(Sk),{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:I(u),onClick:Ks(()=>{},[`stop`]),"onUpdate:modelValue":S},null,8,[`model-value`,`indeterminate`,`disabled`,`onClick`])):I(s)&&I(c)?(V(),U(I(Lk),{key:1,"model-value":I(l),label:e.node.uid,disabled:I(u),"onUpdate:modelValue":S,onClick:Ks(()=>{},[`stop`])},{default:L(()=>[K(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),W(`span`)]),_:1},8,[`model-value`,`label`,`disabled`,`onClick`])):I(d)&&e.node.checked?(V(),U(I(hx),{key:2,class:N(I(i).e(`prefix`))},{default:L(()=>[G(I(Ex))]),_:1},8,[`class`])):K(`v-if`,!0),K(` content `),G(I(Hk),{node:e.node},null,8,[`node`]),K(` postfix `),I(d)?K(`v-if`,!0):(V(),H(Da,{key:3},[e.node.loading?(V(),U(I(hx),{key:0,class:N([I(i).is(`loading`),I(i).e(`postfix`)])},{default:L(()=>[G(I(Wx))]),_:1},8,[`class`])):(V(),U(I(hx),{key:1,class:N([`arrow-right`,I(i).e(`postfix`)])},{default:L(()=>[G(I(yx))]),_:1},8,[`class`]))],64))],42,[`id`,`aria-haspopup`,`aria-owns`,`aria-expanded`,`tabindex`]))}}),[[`__file`,`node.vue`]]),Wk=Hb(R({...R({name:`ElCascaderMenu`}),props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){let t=e,n=eo(),r=J(`cascader-menu`),{t:i}=gb(),a=US(),o,s,c=Ni(Bk),l=F(),u=q(()=>!t.nodes.length),d=q(()=>!c.initialLoaded),f=q(()=>`${a.value}-${t.index}`),p=e=>{o=e.target},m=e=>{if(!(!c.isHoverMenu||!o||!l.value))if(o.contains(e.target)){h();let t=n.vnode.el,{left:i}=t.getBoundingClientRect(),{offsetWidth:a,offsetHeight:s}=t,c=e.clientX-i,u=o.offsetTop,d=u+o.offsetHeight,f=t.querySelector(`.${r.e(`wrap`)}`)?.scrollTop||0;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${c} ${u} L${a} ${f} V${u} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${c} ${d} L${a} ${s+f} V${d} Z" />
        `}else s||=window.setTimeout(g,c.config.hoverThreshold)},h=()=>{s&&=(clearTimeout(s),void 0)},g=()=>{l.value&&(l.value.innerHTML=``,h())};return(t,n)=>(V(),U(I(xC),{key:I(f),tag:`ul`,role:`menu`,class:N(I(r).b()),"wrap-class":I(r).e(`wrap`),"view-class":[I(r).e(`list`),I(r).is(`empty`,I(u))],onMousemove:m,onMouseleave:g},{default:L(()=>[(V(!0),H(Da,null,ti(e.nodes,e=>(V(),U(Uk,{key:e.uid,node:e,"menu-id":I(f),onExpand:p},null,8,[`node`,`menu-id`]))),128)),I(d)?(V(),H(`div`,{key:0,class:N(I(r).e(`empty-text`))},[G(I(hx),{size:`14`,class:N(I(r).is(`loading`))},{default:L(()=>[G(I(Wx))]),_:1},8,[`class`]),Wa(` `+P(I(i)(`el.cascader.loading`)),1)],2)):I(u)?(V(),H(`div`,{key:1,class:N(I(r).e(`empty-text`))},[z(t.$slots,`empty`,{},()=>[Wa(P(I(i)(`el.cascader.noData`)),1)])],2)):I(c)?.isHoverMenu?(V(),H(Da,{key:2},[K(` eslint-disable-next-line vue/html-self-closing `),(V(),H(`svg`,{ref_key:`hoverZone`,ref:l,class:N(I(r).e(`hover-zone`))},null,2))],2112)):K(`v-if`,!0)]),_:3},8,[`class`,`wrap-class`,`view-class`]))}}),[[`__file`,`menu.vue`]]),Gk=0,Kk=e=>{let t=[e],{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t},qk=class e{constructor(t,n,r,i=!1){this.data=t,this.config=n,this.parent=r,this.root=i,this.uid=Gk++,this.checked=!1,this.indeterminate=!1,this.loading=!1;let{value:a,label:o,children:s}=n,c=t[s],l=Kk(this);this.level=i?0:r?r.level+1:1,this.value=t[a],this.label=t[o],this.pathNodes=l,this.pathValues=l.map(e=>e.value),this.pathLabels=l.map(e=>e.label),this.childrenData=c,this.children=(c||[]).map(t=>new e(t,n,this)),this.loaded=!n.lazy||this.isLeaf||!Bv(c),this.text=``}get isDisabled(){let{data:e,parent:t,config:n}=this,{disabled:r,checkStrictly:i}=n;return(w(r)?r(e,this):!!e[r])||!i&&!!t?.isDisabled}get isLeaf(){let{data:e,config:t,childrenData:n,loaded:r}=this,{lazy:i,leaf:a}=t,o=w(a)?a(e,this):e[a];return Lv(o)?i&&!r?!1:!(b(n)&&n.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){let{childrenData:n,children:r}=this,i=new e(t,this.config,this);return b(n)?n.push(t):this.childrenData=[t],r.push(i),i}calcText(e,t){let n=e?this.pathLabels.join(t):this.label;return this.text=n,n}broadcast(e){this.children.forEach(t=>{var n;t&&(t.broadcast(e),(n=t.onParentCheck)==null||n.call(t,e))})}emit(){var e;let{parent:t}=this;t&&((e=t.onChildCheck)==null||e.call(t),t.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){let{children:e}=this,t=e.filter(e=>!e.isDisabled),n=t.length?t.every(e=>e.checked):!1;this.setCheckState(n)}setCheckState(e){let t=this.children.length,n=this.children.reduce((e,t)=>e+(t.checked?1:t.indeterminate?.5:0),0);this.checked=this.loaded&&this.children.filter(e=>!e.isDisabled).every(e=>e.loaded&&e.checked)&&e,this.indeterminate=this.loaded&&n!==t&&n>0}doCheck(e){if(this.checked===e)return;let{checkStrictly:t,multiple:n}=this.config;t||!n?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}},Jk=(e,t)=>e.reduce((e,n)=>(n.isLeaf?e.push(n):(!t&&e.push(n),e=e.concat(Jk(n.children,t))),e),[]),Yk=class{constructor(e,t){this.config=t;let n=(e||[]).map(e=>new qk(e,this.config));this.nodes=n,this.allNodes=Jk(n,!1),this.leafNodes=Jk(n,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){let n=t?t.appendChild(e):new qk(e,this.config);t||this.nodes.push(n),this.appendAllNodesAndLeafNodes(n)}appendNodes(e,t){e.length>0?e.forEach(e=>this.appendNode(e,t)):t&&t.isLeaf&&this.leafNodes.push(t)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(e=>{this.appendAllNodesAndLeafNodes(e)})}getNodeByValue(e,t=!1){return Hv(e)?null:this.getFlattedNodes(t).find(t=>iv(t.value,e)||iv(t.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:t,level:n})=>iv(e.value,t)&&e.level===n)||null}},Xk=X({modelValue:{type:Y([Number,String,Array,Object])},options:{type:Y(Array),default:()=>[]},props:{type:Y(Object),default:()=>({})}}),Zk={expandTrigger:`click`,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:f,value:`value`,label:`label`,children:`children`,leaf:`leaf`,disabled:`disabled`,hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},Qk=X({...Xk,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),$k=e=>!0,eA={[Lb]:$k,[Rb]:$k,close:()=>!0,"expand-change":e=>e},tA=e=>q(()=>({...Zk,...e.props})),nA=e=>{if(!e)return 0;let t=e.id.split(`-`);return Number(t[t.length-2])},rA=e=>{if(!e)return;let t=e.querySelector(`input`);t?t.click():rC(e)&&e.click()},iA=(e,t)=>{let n=t.slice(0),r=n.map(e=>e.uid),i=e.reduce((e,t)=>{let i=r.indexOf(t.uid);return i>-1&&(e.push(t),n.splice(i,1),r.splice(i,1)),e},[]);return i.push(...n),i},aA=lx(Hb(R({...R({name:`ElCascaderPanel`}),props:Qk,emits:eA,setup(e,{expose:t,emit:n}){let r=e,i=!1,a=J(`cascader`),o=tA(r),s=li(),c,l=F(!0),u=F(!1),d=F([]),f=F(),p=F([]),m=F(),h=F([]),g=q(()=>o.value.expandTrigger===`hover`),_=q(()=>r.renderLabel||s.default),v=()=>{let{options:e}=r,t=o.value;i=!1,c=new Yk(e,t),p.value=[c.getNodes()],t.lazy&&Bv(r.options)?(l.value=!1,y(void 0,e=>{e&&(c=new Yk(e,t),p.value=[c.getNodes()]),l.value=!0,D(!1,!0)})):D(!1,!0)},y=(e,t)=>{let n=o.value;e||=new qk({},n,void 0,!0),e.loading=!0,n.lazyLoad(e,n=>{let r=e,i=r.root?null:r;r.loading=!1,r.loaded=!0,r.childrenData=r.childrenData||[],n&&c?.appendNodes(n,i),n&&t?.(n),e.level===0&&(u.value=!0)},()=>{e.loading=!1,e.loaded=!1,e.level===0&&(l.value=!0)})},b=(e,t)=>{let{level:r}=e,i=p.value.slice(0,r),a;e.isLeaf?a=e.pathNodes[r-2]:(a=e,i.push(e.children)),m.value?.uid!==a?.uid&&(m.value=e,p.value=i,!t&&n(`expand-change`,e?.pathValues||[]))},x=(e,t,r=!0)=>{let{checkStrictly:a,multiple:s}=o.value,c=h.value[0];i=!0,!s&&c?.doCheck(!1),e.doCheck(t),E(),r&&!s&&!a&&n(`close`),!r&&!s&&S(e)},S=e=>{e&&(e=e.parent,S(e),e&&b(e))},C=e=>c?.getFlattedNodes(e),w=e=>C(e)?.filter(({checked:e})=>e!==!1),T=()=>{h.value.forEach(e=>e.doCheck(!1)),E(),p.value=p.value.slice(0,1),m.value=void 0,n(`expand-change`,[])},E=()=>{let{checkStrictly:e,multiple:t}=o.value,n=h.value,r=iA(n,w(!e)),i=r.map(e=>e.valueByOption);h.value=r,f.value=t?i:i[0]??null},D=(e=!1,t=!1)=>{let{modelValue:n}=r,{lazy:a,multiple:s,checkStrictly:u}=o.value,d=!u;if(!(!l.value||i||!t&&iv(n,f.value)))if(a&&!e){let e=JE(Q_(XE(n))).map(e=>c?.getNodeByValue(e)).filter(e=>!!e&&!e.loaded&&!e.loading);e.length?e.forEach(e=>{y(e,()=>D(!1,t))}):D(!0,t)}else O(JE((s?XE(n):[n]).map(e=>c?.getNodeByValue(e,d))),t),f.value=lg(n??void 0)},O=(e,t=!0)=>{let{checkStrictly:n}=o.value,r=h.value,i=e.filter(e=>!!e&&(n||e.isLeaf)),a=c?.getSameNode(m.value),s=t&&a||i[0];s?s.pathNodes.forEach(e=>b(e,!0)):m.value=void 0,r.forEach(e=>e.doCheck(!1)),Kt(i).forEach(e=>e.doCheck(!0)),h.value=i,Ln(k)},k=()=>{ty&&d.value.forEach(e=>{let t=e?.$el;t&&rx(t.querySelector(`.${a.namespace.value}-scrollbar__wrap`),t.querySelector(`.${a.b(`node`)}.${a.is(`active`)}:last-child`)||t.querySelector(`.${a.b(`node`)}.in-active-path`))})},A=e=>{let t=e.target,n=dw(e);switch(n){case Z.up:case Z.down:e.preventDefault(),oC(iC(t,n===Z.up?-1:1,`.${a.b(`node`)}[tabindex="-1"]`));break;case Z.left:{e.preventDefault();let n=d.value[nA(t)-1];oC(n?.$el.querySelector(`.${a.b(`node`)}[aria-expanded="true"]`));break}case Z.right:{e.preventDefault();let n=d.value[nA(t)+1];oC(n?.$el.querySelector(`.${a.b(`node`)}[tabindex="-1"]`));break}case Z.enter:case Z.numpadEnter:rA(t);break}};return Mi(Bk,Kt({config:o,expandingNode:m,checkedNodes:h,isHoverMenu:g,initialLoaded:l,renderLabelFn:_,lazyLoad:y,expandNode:b,handleCheckChange:x})),B(o,(e,t)=>{iv(e,t)||v()},{immediate:!0}),B(()=>r.options,v,{deep:!0}),B(()=>r.modelValue,()=>{i=!1,D()},{deep:!0}),B(()=>f.value,e=>{iv(e,r.modelValue)||(n(Lb,e),n(Rb,e))}),zr(()=>d.value=[]),Rr(()=>!Bv(r.modelValue)&&D()),t({menuList:d,menus:p,checkedNodes:h,handleKeyDown:A,handleCheckChange:x,getFlattedNodes:C,getCheckedNodes:w,clearCheckedNodes:T,calculateCheckedValue:E,scrollToExpandingNode:k,loadLazyRootNodes:()=>{u.value||v()}}),(e,t)=>(V(),H(`div`,{class:N([I(a).b(`panel`),I(a).is(`bordered`,e.border)]),onKeydown:A},[(V(!0),H(Da,null,ti(p.value,(t,n)=>(V(),U(Wk,{key:n,ref_for:!0,ref:e=>d.value[n]=e,index:n,nodes:[...t]},{empty:L(()=>[z(e.$slots,`empty`)]),_:2},1032,[`index`,`nodes`]))),128))],34))}}),[[`__file`,`index.vue`]])),oA=X({type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`],default:`primary`},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:bb},effect:{type:String,values:[`dark`,`light`,`plain`],default:`light`},round:Boolean}),sA={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},cA=lx(Hb(R({...R({name:`ElTag`}),props:oA,emits:sA,setup(e,{emit:t}){let n=e,r=YS(),{t:i}=gb(),a=J(`tag`),o=q(()=>{let{type:e,hit:t,effect:i,closable:o,round:s}=n;return[a.b(),a.is(`closable`,o),a.m(e||`primary`),a.m(r.value),a.m(i),a.is(`hit`,t),a.is(`round`,s)]}),s=e=>{t(`close`,e)},c=e=>{t(`click`,e)},l=e=>{e?.component?.subTree?.component?.bum&&(e.component.subTree.component.bum=null)};return(e,t)=>e.disableTransitions?(V(),H(`span`,{key:0,class:N(I(o)),style:j({backgroundColor:e.color}),onClick:c},[W(`span`,{class:N(I(a).e(`content`))},[z(e.$slots,`default`)],2),e.closable?(V(),H(`button`,{key:0,"aria-label":I(i)(`el.tag.close`),class:N(I(a).e(`close`)),type:`button`,onClick:Ks(s,[`stop`])},[G(I(hx),null,{default:L(()=>[G(I(Mx))]),_:1})],10,[`aria-label`,`onClick`])):K(`v-if`,!0)],6)):(V(),U(No,{key:1,name:`${I(a).namespace.value}-zoom-in-center`,appear:``,onVnodeMounted:l},{default:L(()=>[W(`span`,{class:N(I(o)),style:j({backgroundColor:e.color}),onClick:c},[W(`span`,{class:N(I(a).e(`content`))},[z(e.$slots,`default`)],2),e.closable?(V(),H(`button`,{key:0,"aria-label":I(i)(`el.tag.close`),class:N(I(a).e(`close`)),type:`button`,onClick:Ks(s,[`stop`])},[G(I(hx),null,{default:L(()=>[G(I(Mx))]),_:1})],10,[`aria-label`,`onClick`])):K(`v-if`,!0)],6)]),_:3},8,[`name`]))}}),[[`__file`,`tag.vue`]])),lA=X({...Xk,size:xb,placeholder:String,disabled:{type:Boolean,default:void 0},clearable:Boolean,clearIcon:{type:gS,default:Ax},filterable:Boolean,filterMethod:{type:Y(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:` / `},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:Y(Function),default:()=>!0},placement:{type:Y(String),values:Aw,default:`bottom-start`},fallbackPlacements:{type:Y(Array),default:[`bottom-start`,`bottom`,`top-start`,`top`,`right`,`left`]},popperClass:jE.popperClass,popperStyle:jE.popperStyle,teleported:jE.teleported,effect:{type:Y(String),default:`light`},tagType:{...oA.type,default:`info`},tagEffect:{...oA.effect,default:`light`},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:[`parent`,`child`],default:`child`},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...Eb}),uA=e=>!0,dA={[Lb]:uA,[Rb]:uA,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Rv(e),expandChange:e=>!!e,removeTag:e=>!!e},fA=new Map;if(ty){let e;document.addEventListener(`mousedown`,t=>e=t),document.addEventListener(`mouseup`,t=>{if(e){for(let n of fA.values())for(let{documentHandler:r}of n)r(t,e);e=void 0}})}function pA(e,t){let n=[];return b(t.arg)?n=t.arg:Vv(t.arg)&&n.push(t.arg),function(r,i){let a=t.instance.popperRef,o=r.target,s=i?.target,c=!t||!t.instance,l=!o||!s,u=e.contains(o)||e.contains(s),d=e===o,f=n.length&&n.some(e=>e?.contains(o))||n.length&&n.includes(s),p=a&&(a.contains(o)||a.contains(s));c||l||u||d||f||p||t.value(r,i)}}var mA={beforeMount(e,t){fA.has(e)||fA.set(e,[]),fA.get(e).push({documentHandler:pA(e,t),bindingFn:t.value})},updated(e,t){fA.has(e)||fA.set(e,[]);let n=fA.get(e),r=n.findIndex(e=>e.bindingFn===t.oldValue),i={documentHandler:pA(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){fA.delete(e)}},hA=lx(Hb(R({...R({name:`ElCascader`}),props:lA,emits:dA,setup(e,{expose:t,emit:n}){let r=e,i={modifiers:[{name:`arrowPosition`,enabled:!0,phase:`main`,fn:({state:e})=>{let{modifiersData:t,placement:n}=e;[`right`,`left`,`bottom`,`top`].includes(n)||t.arrow&&(t.arrow.x=35)},requires:[`arrow`]}]},a=ui(),o=0,s=0,c=J(`cascader`),l=J(`input`),{t:u}=gb(),{formItem:d}=KS(),f=XS(),{valueOnClear:p}=Db(r),{isComposing:m,handleComposition:h}=lC({afterComposition(e){Be(e.target?.value)}}),g=F(),_=F(),v=F(),y=F(),b=F(),x=F(),S=F(!1),C=F(!1),w=F(!1),T=F(``),E=F(``),D=F([]),k=F([]),A=q(()=>r.props.multiple?r.collapseTags?D.value.slice(0,r.maxCollapseTags):D.value:[]),ee=q(()=>r.props.multiple&&r.collapseTags?D.value.slice(r.maxCollapseTags):[]),te=q(()=>a.style),ne=q(()=>r.placeholder??u(`el.cascader.placeholder`)),re=q(()=>E.value||D.value.length>0||m.value?``:ne.value),ie=YS(),ae=q(()=>ie.value===`small`?`small`:`default`),oe=q(()=>!!r.props.multiple),se=q(()=>!r.filterable||oe.value),ce=q(()=>oe.value?E.value:T.value),le=q(()=>b.value?.checkedNodes||[]),{wrapperRef:ue,isFocused:de,handleBlur:fe}=sC(v,{disabled:f,beforeBlur(e){return g.value?.isFocusInsideContent(e)||_.value?.isFocusInsideContent(e)},afterBlur(){var e;r.validateEvent&&((e=d?.validate)==null||e.call(d,`blur`).catch(e=>void 0))}}),pe=q(()=>!r.clearable||f.value||w.value||!C.value&&!de.value?!1:!!le.value.length),me=q(()=>{let{showAllLevels:e,separator:t}=r,n=le.value;return n.length?oe.value?``:n[0].calcText(e,t):``}),he=q(()=>d?.validateState||``),ge=q({get(){return lg(r.modelValue)},set(e){let t=e??p.value;n(Lb,t),n(Rb,t),r.validateEvent&&d?.validate(`change`).catch(e=>void 0)}}),_e=q(()=>[c.b(),c.m(ie.value),c.is(`disabled`,f.value),a.class]),M=q(()=>[l.e(`icon`),`icon-arrow-down`,c.is(`reverse`,S.value)]),ve=q(()=>c.is(`focus`,de.value)),ye=q(()=>g.value?.popperRef?.contentRef),be=e=>{de.value&&fe(new FocusEvent(`blur`,e)),xe(!1)},xe=e=>{var t;f.value||(e??=!S.value,e!==S.value&&(S.value=e,(t=v.value?.input)==null||t.setAttribute(`aria-expanded`,`${e}`),e?(Se(),Ln(b.value?.scrollToExpandingNode)):r.filterable&&Fe(),n(`visibleChange`,e)))},Se=()=>{Ln(()=>{var e;(e=g.value)==null||e.updatePopper()})},Ce=()=>{w.value=!1},we=e=>{let{showAllLevels:t,separator:n}=r;return{node:e,key:e.uid,text:e.calcText(t,n),hitState:!1,closable:!f.value&&!e.isDisabled}},Te=e=>{var t;let r=e.node;r.doCheck(!1),(t=b.value)==null||t.calculateCheckedValue(),n(`removeTag`,r.valueByOption)},Ee=()=>{switch(r.showCheckedStrategy){case`child`:return le.value;case`parent`:{let e=je(!1),t=e.map(e=>e.value);return e.filter(e=>!e.parent||!t.includes(e.parent.value))}default:return[]}},De=()=>{if(!oe.value)return;let e=Ee(),t=[];e.forEach(e=>t.push(we(e))),D.value=t},Oe=()=>{let{filterMethod:e,showAllLevels:t,separator:n}=r,i=(b.value?.getFlattedNodes(!r.props.checkStrictly))?.filter(r=>r.isDisabled?!1:(r.calcText(t,n),e(r,ce.value)));oe.value&&D.value.forEach(e=>{e.hitState=!1}),w.value=!0,k.value=i,Se()},ke=()=>{let e;e=w.value&&x.value?x.value.$el.querySelector(`.${c.e(`suggestion-item`)}`):b.value?.$el.querySelector(`.${c.b(`node`)}[tabindex="-1"]`),e&&(e.focus(),!w.value&&e.click())},Ae=()=>{let e=v.value?.input,t=y.value,n=x.value?.$el;if(!(!ty||!e)){if(n){let t=n.querySelector(`.${c.e(`suggestion-list`)}`);t.style.minWidth=`${e.offsetWidth}px`}if(t){let{offsetHeight:n}=t,r=D.value.length>0?`${Math.max(n,o)-2}px`:`${o}px`;e.style.height=r,Se()}}},je=e=>b.value?.getCheckedNodes(e),Me=e=>{Se(),n(`expandChange`,e)},Ne=e=>{if(!m.value)switch(dw(e)){case Z.enter:case Z.numpadEnter:xe();break;case Z.down:xe(!0),Ln(ke),e.preventDefault();break;case Z.esc:S.value===!0&&(e.preventDefault(),e.stopPropagation(),xe(!1));break;case Z.tab:xe(!1);break}},Pe=()=>{var e;(e=b.value)==null||e.clearCheckedNodes(),!S.value&&r.filterable&&Fe(),xe(!1),n(`clear`)},Fe=()=>{let{value:e}=me;T.value=e,E.value=e},Ie=e=>{var t,n;let{checked:r}=e;oe.value?(t=b.value)==null||t.handleCheckChange(e,!r,!1):(!r&&((n=b.value)==null||n.handleCheckChange(e,!0,!1)),xe(!1))},Le=e=>{let t=e.target,n=dw(e);switch(n){case Z.up:case Z.down:e.preventDefault(),oC(iC(t,n===Z.up?-1:1,`.${c.e(`suggestion-item`)}[tabindex="-1"]`));break;case Z.enter:case Z.numpadEnter:t.click();break}},Re=()=>{let e=D.value[D.value.length-1];s=E.value?0:s+1,!(!e||!s||r.collapseTags&&D.value.length>1)&&(e.hitState?Te(e):e.hitState=!0)},ze=_y(()=>{let{value:e}=ce;if(!e)return;let t=r.beforeFilter(e);O(t)?t.then(Oe).catch(()=>{}):t===!1?Ce():Oe()},q(()=>r.debounce)),Be=(e,t)=>{!S.value&&xe(!0),!t?.isComposing&&(e?ze():Ce())},Ve=e=>Number.parseFloat(Ny(l.cssVarName(`input-height`),e).value)-2;return B(w,Se),B([le,f,()=>r.collapseTags,()=>r.maxCollapseTags],De),B(D,()=>{Ln(()=>Ae())}),B(ie,async()=>{await Ln();let e=v.value.input;o=Ve(e)||o,Ae()}),B(me,Fe,{immediate:!0}),B(()=>S.value,e=>{var t;e&&r.props.lazy&&r.props.lazyLoad&&((t=b.value)==null||t.loadLazyRootNodes())}),Rr(()=>{let e=v.value.input,t=Ve(e);o=e.offsetHeight||t,zy(e,Ae)}),t({getCheckedNodes:je,cascaderPanelRef:b,togglePopperVisible:xe,contentRef:ye,presentText:me,focus:()=>{var e;(e=v.value)==null||e.focus()},blur:()=>{var e;(e=v.value)==null||e.blur()}}),(e,t)=>(V(),U(I(QE),{ref_key:`tooltipRef`,ref:g,visible:S.value,teleported:e.teleported,"popper-class":[I(c).e(`dropdown`),e.popperClass],"popper-style":e.popperStyle,"popper-options":i,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:`${I(c).namespace.value}-zoom-in-top`,effect:e.effect,pure:``,persistent:e.persistent,onHide:Ce},{default:L(()=>[Yn((V(),H(`div`,{ref_key:`wrapperRef`,ref:ue,class:N(I(_e)),style:j(I(te)),onClick:()=>xe(I(se)?void 0:!0),onKeydown:Ne,onMouseenter:e=>C.value=!0,onMouseleave:e=>C.value=!1},[G(I(dC),{ref_key:`inputRef`,ref:v,modelValue:T.value,"onUpdate:modelValue":e=>T.value=e,placeholder:I(re),readonly:I(se),disabled:I(f),"validate-event":!1,size:I(ie),class:N(I(ve)),tabindex:I(oe)&&e.filterable&&!I(f)?-1:void 0,onCompositionstart:I(h),onCompositionupdate:I(h),onCompositionend:I(h),onInput:Be},ni({suffix:L(()=>[I(pe)?(V(),U(I(hx),{key:`clear`,class:N([I(l).e(`icon`),`icon-circle-close`]),onClick:Ks(Pe,[`stop`])},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onClick`])):(V(),U(I(hx),{key:`arrow-down`,class:N(I(M)),onClick:Ks(e=>xe(),[`stop`])},{default:L(()=>[G(I(_x))]),_:1},8,[`class`,`onClick`]))]),_:2},[e.$slots.prefix?{name:`prefix`,fn:L(()=>[z(e.$slots,`prefix`)])}:void 0]),1032,[`modelValue`,`onUpdate:modelValue`,`placeholder`,`readonly`,`disabled`,`size`,`class`,`tabindex`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`]),I(oe)?(V(),H(`div`,{key:0,ref_key:`tagWrapper`,ref:y,class:N([I(c).e(`tags`),I(c).is(`validate`,!!I(he))])},[z(e.$slots,`tag`,{data:D.value,deleteTag:Te},()=>[(V(!0),H(Da,null,ti(I(A),t=>(V(),U(I(cA),{key:t.key,type:e.tagType,size:I(ae),effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":``,onClose:e=>Te(t)},{default:L(()=>[W(`span`,null,P(t.text),1)]),_:2},1032,[`type`,`size`,`effect`,`hit`,`closable`,`onClose`]))),128))]),e.collapseTags&&D.value.length>e.maxCollapseTags?(V(),U(I(QE),{key:0,ref_key:`tagTooltipRef`,ref:_,disabled:S.value||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,effect:e.effect,persistent:e.persistent},{default:L(()=>[G(I(cA),{closable:!1,size:I(ae),type:e.tagType,effect:e.tagEffect,"disable-transitions":``},{default:L(()=>[W(`span`,{class:N(I(c).e(`tags-text`))},` + `+P(D.value.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`])]),content:L(()=>[G(I(xC),{"max-height":e.maxCollapseTagsTooltipHeight},{default:L(()=>[W(`div`,{class:N(I(c).e(`collapse-tags`))},[(V(!0),H(Da,null,ti(I(ee),(t,n)=>(V(),H(`div`,{key:n,class:N(I(c).e(`collapse-tag`))},[(V(),U(I(cA),{key:t.key,class:`in-tooltip`,type:e.tagType,size:I(ae),effect:e.tagEffect,hit:t.hitState,closable:t.closable,"disable-transitions":``,onClose:e=>Te(t)},{default:L(()=>[W(`span`,null,P(t.text),1)]),_:2},1032,[`type`,`size`,`effect`,`hit`,`closable`,`onClose`]))],2))),128))],2)]),_:1},8,[`max-height`])]),_:1},8,[`disabled`,`popper-class`,`popper-style`,`effect`,`persistent`])):K(`v-if`,!0),e.filterable&&!I(f)?Yn((V(),H(`input`,{key:1,"onUpdate:modelValue":e=>E.value=e,type:`text`,class:N(I(c).e(`search-input`)),placeholder:I(me)?``:I(ne),onInput:e=>Be(E.value,e),onClick:Ks(e=>xe(!0),[`stop`]),onKeydown:Js(Re,[`delete`]),onCompositionstart:I(h),onCompositionupdate:I(h),onCompositionend:I(h)},null,42,[`onUpdate:modelValue`,`placeholder`,`onInput`,`onClick`,`onKeydown`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`])),[[Rs,E.value]]):K(`v-if`,!0)],2)):K(`v-if`,!0)],46,[`onClick`,`onMouseenter`,`onMouseleave`])),[[I(mA),be,I(ye)]])]),content:L(()=>[e.$slots.header?(V(),H(`div`,{key:0,class:N(I(c).e(`header`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`header`)],10,[`onClick`])):K(`v-if`,!0),Yn(G(I(aA),{ref_key:`cascaderPanelRef`,ref:b,modelValue:I(ge),"onUpdate:modelValue":e=>an(ge)?ge.value=e:null,options:e.options,props:r.props,border:!1,"render-label":e.$slots.default,onExpandChange:Me,onClose:t=>e.$nextTick(()=>xe(!1))},{empty:L(()=>[z(e.$slots,`empty`)]),_:3},8,[`modelValue`,`onUpdate:modelValue`,`options`,`props`,`render-label`,`onClose`]),[[Zo,!w.value]]),e.filterable?Yn((V(),U(I(xC),{key:1,ref_key:`suggestionPanel`,ref:x,tag:`ul`,class:N(I(c).e(`suggestion-panel`)),"view-class":I(c).e(`suggestion-list`),onKeydown:Le},{default:L(()=>[k.value.length?(V(!0),H(Da,{key:0},ti(k.value,t=>(V(),H(`li`,{key:t.uid,class:N([I(c).e(`suggestion-item`),I(c).is(`checked`,t.checked)]),tabindex:-1,onClick:e=>Ie(t)},[z(e.$slots,`suggestion-item`,{item:t},()=>[W(`span`,null,P(t.text),1),t.checked?(V(),U(I(hx),{key:0},{default:L(()=>[G(I(Ex))]),_:1})):K(`v-if`,!0)])],10,[`onClick`]))),128)):z(e.$slots,`empty`,{key:1},()=>[W(`li`,{class:N(I(c).e(`empty-text`))},P(I(u)(`el.cascader.noMatch`)),3)])]),_:3},8,[`class`,`view-class`])),[[Zo,w.value]]):K(`v-if`,!0),e.$slots.footer?(V(),H(`div`,{key:2,class:N(I(c).e(`footer`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`footer`)],10,[`onClick`])):K(`v-if`,!0)]),_:3},8,[`visible`,`teleported`,`popper-class`,`popper-style`,`fallback-placements`,`placement`,`transition`,`effect`,`persistent`]))}}),[[`__file`,`cascader.vue`]])),gA=X({checked:Boolean,disabled:Boolean,type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`],default:`primary`}}),_A={"update:checked":e=>Rv(e),[Rb]:e=>Rv(e)},vA=lx(Hb(R({...R({name:`ElCheckTag`}),props:gA,emits:_A,setup(e,{emit:t}){let n=e,r=J(`check-tag`),i=q(()=>[r.b(),r.is(`checked`,n.checked),r.is(`disabled`,n.disabled),r.m(n.type||`primary`)]),a=()=>{if(n.disabled)return;let e=!n.checked;t(Rb,e),t(`update:checked`,e)};return(e,t)=>(V(),H(`span`,{class:N(I(i)),onClick:a},[z(e.$slots,`default`)],2))}}),[[`__file`,`check-tag.vue`]])),yA=X({tag:{type:String,default:`div`},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Y([Number,Object]),default:()=>MS({})},sm:{type:Y([Number,Object]),default:()=>MS({})},md:{type:Y([Number,Object]),default:()=>MS({})},lg:{type:Y([Number,Object]),default:()=>MS({})},xl:{type:Y([Number,Object]),default:()=>MS({})}}),bA=Symbol(`rowContextKey`),xA=lx(Hb(R({...R({name:`ElCol`}),props:yA,setup(e){let t=e,{gutter:n}=Ni(bA,{gutter:q(()=>0)}),r=J(`col`),i=q(()=>{let e={};return n.value&&(e.paddingLeft=e.paddingRight=`${n.value/2}px`),e}),a=q(()=>{let e=[];return[`span`,`offset`,`pull`,`push`].forEach(n=>{let i=t[n];zv(i)&&(n===`span`?e.push(r.b(`${t[n]}`)):i>0&&e.push(r.b(`${n}-${t[n]}`)))}),[`xs`,`sm`,`md`,`lg`,`xl`].forEach(n=>{zv(t[n])?e.push(r.b(`${n}-${t[n]}`)):D(t[n])&&Object.entries(t[n]).forEach(([t,i])=>{e.push(t===`span`?r.b(`${n}-${i}`):r.b(`${n}-${t}-${i}`))})}),n.value&&e.push(r.is(`guttered`)),[r.b(),e]});return(e,t)=>(V(),U(Zr(e.tag),{class:N(I(a)),style:j(I(i))},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`col.vue`]])),SA=e=>zv(e)||T(e)||b(e),CA=X({accordion:Boolean,modelValue:{type:Y([Array,String,Number]),default:()=>MS([])},expandIconPosition:{type:Y([String]),default:`right`},beforeCollapse:{type:Y(Function)}}),wA={[Lb]:SA,[Rb]:SA},TA=Symbol(`collapseContextKey`),EA=`ElCollapse`,DA=(e,t)=>{let n=F(Lp(e.modelValue)),r=r=>{n.value=r;let i=e.accordion?n.value[0]:n.value;t(Lb,i),t(Rb,i)},i=t=>{if(e.accordion)r([n.value[0]===t?``:t]);else{let e=[...n.value],i=e.indexOf(t);i>-1?e.splice(i,1):e.push(t),r(e)}};return B(()=>e.modelValue,()=>n.value=Lp(e.modelValue),{deep:!0}),Mi(TA,{activeNames:n,handleItemClick:async t=>{let{beforeCollapse:n}=e;if(!n){i(t);return}let r=n(t);[O(r),Rv(r)].includes(!0)||ib(EA,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),O(r)?r.then(e=>{e!==!1&&i(t)}).catch(e=>{`${e}`}):r&&i(t)}}),{activeNames:n,setActiveNames:r}},OA=e=>{let t=J(`collapse`);return{rootKls:q(()=>[t.b(),t.b(`icon-position-${e.expandIconPosition}`)])}},kA=Hb(R({...R({name:`ElCollapse`}),props:CA,emits:wA,setup(e,{expose:t,emit:n}){let r=e,{activeNames:i,setActiveNames:a}=DA(r,n),{rootKls:o}=OA(r);return t({activeNames:i,setActiveNames:a}),(e,t)=>(V(),H(`div`,{class:N(I(o))},[z(e.$slots,`default`)],2))}}),[[`__file`,`collapse.vue`]]),AA=lx(Hb(R({...R({name:`ElCollapseTransition`}),setup(e){let t=J(`collapse-transition`),n=e=>{e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},r={beforeEnter(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight===0?e.style.maxHeight=0:e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow=`hidden`})},afterEnter(e){e.style.maxHeight=``,e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){n(e)},beforeLeave(e){e.dataset||={},e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow=`hidden`},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){n(e)},leaveCancelled(e){n(e)}};return(e,n)=>(V(),U(No,Ja({name:I(t).b()},ii(r)),{default:L(()=>[z(e.$slots,`default`)]),_:3},16,[`name`]))}}),[[`__file`,`collapse-transition.vue`]])),jA=X({title:{type:String,default:``},name:{type:Y([String,Number]),default:void 0},icon:{type:gS,default:yx},disabled:Boolean}),MA=e=>{let t=Ni(TA),{namespace:n}=J(`collapse`),r=F(!1),i=F(!1),a=HS(),o=q(()=>a.current++),s=q(()=>e.name??`${n.value}-id-${a.prefix}-${I(o)}`);return{focusing:r,id:o,isActive:q(()=>t?.activeNames.value.includes(I(s))),handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:n=>{e.disabled||n.target?.closest(`input, textarea, select`)||(t?.handleItemClick(I(s)),r.value=!1,i.value=!0)},handleEnterClick:e=>{e.target?.closest(`input, textarea, select`)||(e.preventDefault(),t?.handleItemClick(I(s)))}}},NA=(e,{focusing:t,isActive:n,id:r})=>{let i=J(`collapse`),a=q(()=>[i.b(`item`),i.is(`active`,I(n)),i.is(`disabled`,e.disabled)]),o=q(()=>[i.be(`item`,`header`),i.is(`active`,I(n)),{focusing:I(t)&&!e.disabled}]),s=q(()=>[i.be(`item`,`arrow`),i.is(`active`,I(n))]);return{itemTitleKls:q(()=>[i.be(`item`,`title`)]),arrowKls:s,headKls:o,rootKls:a,itemWrapperKls:q(()=>i.be(`item`,`wrap`)),itemContentKls:q(()=>i.be(`item`,`content`)),scopedContentId:q(()=>i.b(`content-${I(r)}`)),scopedHeadId:q(()=>i.b(`head-${I(r)}`))}},PA=Hb(R({...R({name:`ElCollapseItem`}),props:jA,setup(e,{expose:t}){let n=e,{focusing:r,id:i,isActive:a,handleFocus:o,handleHeaderClick:s,handleEnterClick:c}=MA(n),{arrowKls:l,headKls:u,rootKls:d,itemTitleKls:f,itemWrapperKls:p,itemContentKls:m,scopedContentId:h,scopedHeadId:g}=NA(n,{focusing:r,isActive:a,id:i});return t({isActive:a}),(e,t)=>(V(),H(`div`,{class:N(I(d))},[W(`div`,{id:I(g),class:N(I(u)),"aria-expanded":I(a),"aria-controls":I(h),"aria-describedby":I(h),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:`button`,onClick:I(s),onKeydown:Js(Ks(I(c),[`stop`]),[`space`,`enter`]),onFocus:I(o),onBlur:e=>r.value=!1},[W(`span`,{class:N(I(f))},[z(e.$slots,`title`,{isActive:I(a)},()=>[Wa(P(e.title),1)])],2),z(e.$slots,`icon`,{isActive:I(a)},()=>[G(I(hx),{class:N(I(l))},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1},8,[`class`])])],42,[`id`,`aria-expanded`,`aria-controls`,`aria-describedby`,`tabindex`,`aria-disabled`,`onClick`,`onKeydown`,`onFocus`,`onBlur`]),G(I(AA),null,{default:L(()=>[Yn(W(`div`,{id:I(h),role:`region`,class:N(I(p)),"aria-hidden":!I(a),"aria-labelledby":I(g)},[W(`div`,{class:N(I(m))},[z(e.$slots,`default`)],2)],10,[`id`,`aria-hidden`,`aria-labelledby`]),[[Zo,I(a)]])]),_:3})],2))}}),[[`__file`,`collapse-item.vue`]]),FA=lx(kA,{CollapseItem:PA}),IA=fx(PA),LA=X({color:{type:Y(Object),required:!0},vertical:Boolean,disabled:Boolean}),RA=LA,zA=!1;function BA(e,t){if(!ty)return;let n=function(e){var n;(n=t.drag)==null||n.call(t,e)},r=function(e){var i;document.removeEventListener(`mousemove`,n),document.removeEventListener(`mouseup`,r),document.removeEventListener(`touchmove`,n),document.removeEventListener(`touchend`,r),document.onselectstart=null,document.ondragstart=null,zA=!1,(i=t.end)==null||i.call(t,e)},i=function(e){var i;zA||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener(`mousemove`,n),document.addEventListener(`mouseup`,r),document.addEventListener(`touchmove`,n),document.addEventListener(`touchend`,r),zA=!0,(i=t.start)==null||i.call(t,e))};e.addEventListener(`mousedown`,i),e.addEventListener(`touchstart`,i,{passive:!1})}var VA=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},HA=(e,t)=>Math.abs(VA(e)-VA(t)),UA=e=>{let t,n;return e.type===`touchend`?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith(`touch`)?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},WA=(e,{key:t,minValue:n,maxValue:r})=>{let i=eo(),a=on(),o=on(),s=q(()=>e.color.get(t));function c(t){var n;e.disabled||(t.target!==a.value&&l(t),(n=a.value)==null||n.focus())}function l(n){if(!o.value||!a.value||e.disabled)return;let s=i.vnode.el.getBoundingClientRect(),{clientX:c,clientY:l}=UA(n),u;if(e.vertical){let e=l-s.top;e=Math.max(a.value.offsetHeight/2,e),e=Math.min(e,s.height-a.value.offsetHeight/2),u=Math.round((e-a.value.offsetHeight/2)/(s.height-a.value.offsetHeight)*r)}else{let e=c-s.left;e=Math.max(a.value.offsetWidth/2,e),e=Math.min(e,s.width-a.value.offsetWidth/2),u=Math.round((e-a.value.offsetWidth/2)/(s.width-a.value.offsetWidth)*r)}e.color.set(t,u)}function u(i){if(e.disabled)return;let{shiftKey:a}=i,o=dw(i),s=a?10:1,c=t===`hue`?-1:1,l=!0;switch(o){case Z.left:case Z.down:d(-s*c);break;case Z.right:case Z.up:d(s*c);break;case Z.home:e.color.set(t,t===`hue`?r:n);break;case Z.end:e.color.set(t,t===`hue`?n:r);break;case Z.pageDown:d(-4*c);break;case Z.pageUp:d(4*c);break;default:l=!1;break}l&&i.preventDefault()}function d(i){let a=s.value+i;a=a<n?n:a>r?r:a,e.color.set(t,a)}return{thumb:a,bar:o,currentValue:s,handleDrag:l,handleClick:c,handleKeydown:u}},GA=(e,{namespace:t,maxValue:n,bar:r,thumb:i,currentValue:a,handleDrag:o,getBackground:s})=>{let c=eo(),l=J(t),u=F(0),d=F(0),f=F();function p(){if(!i.value||e.vertical)return 0;let t=c.vnode.el,r=a.value;return t?Math.round(r*(t.offsetWidth-i.value.offsetWidth/2)/n):0}function m(){if(!i.value)return 0;let t=c.vnode.el;if(!e.vertical)return 0;let r=a.value;return t?Math.round(r*(t.offsetHeight-i.value.offsetHeight/2)/n):0}function h(){u.value=p(),d.value=m(),f.value=s?.()}Rr(()=>{if(!r.value||!i.value)return;let e={drag:e=>{o(e)},end:e=>{o(e)}};BA(r.value,e),BA(i.value,e),h()}),B(a,()=>h()),B(()=>e.color.value,()=>h());let g=q(()=>[l.b(),l.is(`vertical`,e.vertical),l.is(`disabled`,e.disabled)]),_=q(()=>l.e(`bar`)),v=q(()=>l.e(`thumb`));return{rootKls:g,barKls:_,barStyle:q(()=>({background:f.value})),thumbKls:v,thumbStyle:q(()=>({left:Qb(u.value),top:Qb(d.value)})),thumbLeft:u,thumbTop:d,update:h}},KA=0,qA=100,JA=Hb(R({...R({name:`ElColorAlphaSlider`}),props:LA,setup(e,{expose:t}){let n=e,{currentValue:r,bar:i,thumb:a,handleDrag:o,handleClick:s,handleKeydown:c}=WA(n,{key:`alpha`,minValue:KA,maxValue:qA}),{rootKls:l,barKls:u,barStyle:d,thumbKls:f,thumbStyle:p,update:m}=GA(n,{namespace:`color-alpha-slider`,maxValue:qA,currentValue:r,bar:i,thumb:a,handleDrag:o,getBackground:v}),{t:h}=gb(),g=q(()=>h(`el.colorpicker.alphaLabel`)),_=q(()=>h(`el.colorpicker.alphaDescription`,{alpha:r.value,color:n.color.value}));function v(){if(n.color&&n.color.value){let{r:e,g:t,b:r}=n.color.toRgb();return`linear-gradient(to right, rgba(${e}, ${t}, ${r}, 0) 0%, rgba(${e}, ${t}, ${r}, 1) 100%)`}return``}return t({update:m,bar:i,thumb:a}),(e,t)=>(V(),H(`div`,{class:N(I(l))},[W(`div`,{ref_key:`bar`,ref:i,class:N(I(u)),style:j(I(d)),onClick:I(s)},null,14,[`onClick`]),W(`div`,{ref_key:`thumb`,ref:a,class:N(I(f)),style:j(I(p)),"aria-label":I(g),"aria-valuenow":I(r),"aria-valuetext":I(_),"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-valuemin":KA,"aria-valuemax":qA,role:`slider`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:I(c)},null,46,[`aria-label`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`tabindex`,`aria-disabled`,`onKeydown`])],2))}}),[[`__file`,`alpha-slider.vue`]]),YA=0,XA=360,ZA=Hb(R({...R({name:`ElColorHueSlider`}),props:RA,setup(e,{expose:t}){let n=e,{currentValue:r,bar:i,thumb:a,handleDrag:o,handleClick:s,handleKeydown:c}=WA(n,{key:`hue`,minValue:YA,maxValue:XA}),{rootKls:l,barKls:u,thumbKls:d,thumbStyle:f,thumbTop:p,update:m}=GA(n,{namespace:`color-hue-slider`,maxValue:XA,currentValue:r,bar:i,thumb:a,handleDrag:o}),{t:h}=gb(),g=q(()=>h(`el.colorpicker.hueLabel`)),_=q(()=>h(`el.colorpicker.hueDescription`,{hue:r.value,color:n.color.value}));return t({bar:i,thumb:a,thumbTop:p,update:m}),(e,t)=>(V(),H(`div`,{class:N(I(l))},[W(`div`,{ref_key:`bar`,ref:i,class:N(I(u)),onClick:I(s)},null,10,[`onClick`]),W(`div`,{ref_key:`thumb`,ref:a,class:N(I(d)),style:j(I(f)),"aria-label":I(g),"aria-valuenow":I(r),"aria-valuetext":I(_),"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-valuemin":YA,"aria-valuemax":XA,role:`slider`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:I(c)},null,46,[`aria-label`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`tabindex`,`aria-disabled`,`onKeydown`])],2))}}),[[`__file`,`hue-slider.vue`]]),QA=X({colors:{type:Y(Array),required:!0},color:{type:Y(Object),required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean}),$A=X({modelValue:{type:Y(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:Y(Array)},validateEvent:{type:Boolean,default:!0}}),ej={[Lb]:e=>T(e)||ov(e)},tj=Symbol(`colorCommonPickerKey`),nj=Symbol(`colorPickerPanelContextKey`),rj=class{constructor(e={}){for(let t in this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new $D,this._isValid=!1,this.enableAlpha=!1,this.format=``,this.value=``,e)y(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e==`object`){for(let t in e)y(e,t)&&this.set(t,e[t]);return}this[`_${e}`]=t,this._isValid=!0,this.doOnChange()}get(e){return[`hue`,`saturation`,`value`,`alpha`].includes(e)?Math.round(this[`_${e}`]):this[`_${e}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(e){let t=new $D(e);if(this._isValid=t.isValid,t.isValid){let{h:e,s:n,v:r,a:i}=t.toHsv();this._hue=e,this._saturation=n*100,this._value=r*100,this._alpha=i*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}clear(){this._isValid=!1,this.value=``,this._hue=0,this._saturation=100,this._value=100,this._alpha=100}compare(e){let t=new $D({h:e._hue,s:e._saturation/100,v:e._value/100,a:e._alpha/100});return this._tiny.equals(t)}doOnChange(){let{_hue:e,_saturation:t,_value:n,_alpha:r,format:i,enableAlpha:a}=this,o=i||(a?`rgb`:`hex`);i===`hex`&&a&&(o=`hex8`),this._tiny=new $D({h:e,s:t/100,v:n/100,a:r/100}),this.value=this._isValid?this._tiny.toString(o):``}},$ee=e=>{let{currentColor:t}=Ni(nj),n=F(i(e.colors,e.color));B(()=>t.value,t=>{let r=new rj({value:t,enableAlpha:e.enableAlpha});n.value.forEach(e=>{e.selected=r.compare(e)})}),Ii(()=>{n.value=i(e.colors,e.color)});function r(t){e.color.fromString(e.colors[t])}function i(t,n){return t.map(t=>{let r=new rj({value:t,enableAlpha:e.enableAlpha});return r.selected=r.compare(n),r})}return{rgbaColors:n,handleSelect:r}},ete=e=>{let t=J(`color-predefine`),n=q(()=>[t.b(),t.is(`disabled`,e.disabled)]),r=q(()=>t.e(`colors`));function i(e){return[t.e(`color-selector`),t.is(`alpha`,e.get(`alpha`)<100),{selected:e.selected}]}return{rootKls:n,colorsKls:r,colorSelectorKls:i}},tte=Hb(R({...R({name:`ElColorPredefine`}),props:QA,setup(e){let t=e,{rgbaColors:n,handleSelect:r}=$ee(t),{rootKls:i,colorsKls:a,colorSelectorKls:o}=ete(t),{t:s}=gb(),c=e=>s(`el.colorpicker.predefineDescription`,{value:e});return(e,t)=>(V(),H(`div`,{class:N(I(i))},[W(`div`,{class:N(I(a))},[(V(!0),H(Da,null,ti(I(n),(t,n)=>(V(),H(`button`,{key:e.colors[n],type:`button`,disabled:e.disabled,"aria-label":c(t.value),class:N(I(o)(t)),onClick:e=>I(r)(n)},[W(`div`,{style:j({backgroundColor:t.value})},null,4)],10,[`disabled`,`aria-label`,`onClick`]))),128))],2)],2))}}),[[`__file`,`predefine.vue`]]),nte=X({color:{type:Y(Object),required:!0},disabled:Boolean}),rte=e=>{let t=eo(),n=F(),r=F(0),i=F(0),a=F(`hsl(0, 100%, 50%)`),o=q(()=>e.color.get(`saturation`)),s=q(()=>e.color.get(`value`)),c=q(()=>e.color.get(`hue`));function l(t){var r;e.disabled||(t.target!==n.value&&u(t),(r=n.value)==null||r.focus({preventScroll:!0}))}function u(n){if(e.disabled)return;let a=t.vnode.el.getBoundingClientRect(),{clientX:o,clientY:s}=UA(n),c=o-a.left,l=s-a.top;c=Math.max(0,c),c=Math.min(c,a.width),l=Math.max(0,l),l=Math.min(l,a.height),i.value=c,r.value=l,e.color.set({saturation:c/a.width*100,value:100-l/a.height*100})}function d(t){if(e.disabled)return;let{shiftKey:n}=t,r=dw(t),i=n?10:1,a=!0;switch(r){case Z.left:f(-i);break;case Z.right:f(i);break;case Z.up:p(i);break;case Z.down:p(-i);break;default:a=!1;break}a&&t.preventDefault()}function f(t){let n=o.value+t;n=n<0?0:n>100?100:n,e.color.set(`saturation`,n)}function p(t){let n=s.value+t;n=n<0?0:n>100?100:n,e.color.set(`value`,n)}return{cursorRef:n,cursorTop:r,cursorLeft:i,background:a,saturation:o,brightness:s,hue:c,handleClick:l,handleDrag:u,handleKeydown:d}},ite=(e,{cursorTop:t,cursorLeft:n,background:r,handleDrag:i})=>{let a=eo(),o=J(`color-svpanel`);function s(){let i=e.color.get(`saturation`),o=e.color.get(`value`),{clientWidth:s,clientHeight:c}=a.vnode.el;n.value=i*s/100,t.value=(100-o)*c/100,r.value=`hsl(${e.color.get(`hue`)}, 100%, 50%)`}return Rr(()=>{BA(a.vnode.el,{drag:e=>{i(e)},end:e=>{i(e)}}),s()}),B([()=>e.color.get(`hue`),()=>e.color.get(`value`),()=>e.color.value],()=>s()),{rootKls:q(()=>o.b()),cursorKls:q(()=>o.e(`cursor`)),rootStyle:q(()=>({backgroundColor:r.value})),cursorStyle:q(()=>({top:Qb(t.value),left:Qb(n.value)})),update:s}},ate=Hb(R({...R({name:`ElSvPanel`}),props:nte,setup(e,{expose:t}){let n=e,{cursorRef:r,cursorTop:i,cursorLeft:a,background:o,saturation:s,brightness:c,handleClick:l,handleDrag:u,handleKeydown:d}=rte(n),{rootKls:f,cursorKls:p,rootStyle:m,cursorStyle:h,update:g}=ite(n,{cursorTop:i,cursorLeft:a,background:o,handleDrag:u}),{t:_}=gb(),v=q(()=>_(`el.colorpicker.svLabel`)),y=q(()=>_(`el.colorpicker.svDescription`,{saturation:s.value,brightness:c.value,color:n.color.value}));return t({update:g}),(e,t)=>(V(),H(`div`,{class:N(I(f)),style:j(I(m)),onClick:I(l)},[W(`div`,{ref_key:`cursorRef`,ref:r,class:N(I(p)),style:j(I(h)),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,role:`slider`,"aria-valuemin":`0,0`,"aria-valuemax":`100,100`,"aria-label":I(v),"aria-valuenow":`${I(s)},${I(c)}`,"aria-valuetext":I(y),onKeydown:I(d)},null,46,[`tabindex`,`aria-disabled`,`aria-label`,`aria-valuenow`,`aria-valuetext`,`onKeydown`])],14,[`onClick`]))}}),[[`__file`,`sv-panel.vue`]]),ij=(e,t)=>{let n=Kt(new rj({enableAlpha:e.showAlpha,format:e.colorFormat||``,value:e.modelValue}));return B(()=>[e.colorFormat,e.showAlpha],()=>{n.enableAlpha=e.showAlpha,n.format=e.colorFormat||n.format,n.doOnChange(),t(Lb,n.value)}),{color:n}},aj=lx(Hb(R({...R({name:`ElColorPickerPanel`}),props:$A,emits:ej,setup(e,{expose:t,emit:n}){let r=e,i=J(`color-picker-panel`),{formItem:a}=KS(),o=XS(),s=F(),c=F(),l=F(),u=F(),d=F(``),{color:f}=Ni(tj,()=>ij(r,n),!0);function p(){f.fromString(d.value),f.value!==d.value&&(d.value=f.value)}function m(){var e;r.validateEvent&&((e=a?.validate)==null||e.call(a,`blur`).catch(e=>void 0))}function h(){var e,t,n;(e=s.value)==null||e.update(),(t=c.value)==null||t.update(),(n=l.value)==null||n.update()}return Rr(()=>{r.modelValue&&(d.value=f.value),Ln(h)}),B(()=>r.modelValue,e=>{e!==f.value&&(e?f.fromString(e):f.clear())}),B(()=>f.value,e=>{n(Lb,e),d.value=e,r.validateEvent&&a?.validate(`change`).catch(e=>void 0)}),Mi(nj,{currentColor:q(()=>f.value)}),t({color:f,inputRef:u,update:h}),(e,t)=>(V(),H(`div`,{class:N([I(i).b(),I(i).is(`disabled`,I(o)),I(i).is(`border`,e.border)]),onFocusout:m},[W(`div`,{class:N(I(i).e(`wrapper`))},[G(ZA,{ref_key:`hueRef`,ref:s,class:`hue-slider`,color:I(f),vertical:``,disabled:I(o)},null,8,[`color`,`disabled`]),G(ate,{ref_key:`svRef`,ref:c,color:I(f),disabled:I(o)},null,8,[`color`,`disabled`])],2),e.showAlpha?(V(),U(JA,{key:0,ref_key:`alphaRef`,ref:l,color:I(f),disabled:I(o)},null,8,[`color`,`disabled`])):K(`v-if`,!0),e.predefine?(V(),U(tte,{key:1,ref:`predefine`,"enable-alpha":e.showAlpha,color:I(f),colors:e.predefine,disabled:I(o)},null,8,[`enable-alpha`,`color`,`colors`,`disabled`])):K(`v-if`,!0),W(`div`,{class:N(I(i).e(`footer`))},[G(I(dC),{ref_key:`inputRef`,ref:u,modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,"validate-event":!1,size:`small`,disabled:I(o),onChange:p},null,8,[`modelValue`,`onUpdate:modelValue`,`disabled`]),z(e.$slots,`footer`)],2)],34))}}),[[`__file`,`color-picker-panel.vue`]])),ote=X({persistent:{type:Boolean,default:!0},modelValue:{type:Y(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:{type:Boolean,default:void 0},size:xb,popperClass:jE.popperClass,popperStyle:jE.popperStyle,tabindex:{type:[String,Number],default:0},teleported:jE.teleported,appendTo:jE.appendTo,predefine:{type:Y(Array)},validateEvent:{type:Boolean,default:!0},...Eb,...PS([`ariaLabel`])}),ste={[Lb]:e=>T(e)||ov(e),[Rb]:e=>T(e)||ov(e),activeChange:e=>T(e)||ov(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},cte=lx(Hb(R({...R({name:`ElColorPicker`}),props:ote,emits:ste,setup(e,{expose:t,emit:n}){let r=e,{t:i}=gb(),a=J(`color`),{formItem:o}=KS(),s=YS(),c=XS(),{valueOnClear:l,isEmptyValue:u}=Db(r,null),d=ij(r,n),{inputId:f,isLabeledByFormItem:p}=qS(r,{formItemContext:o}),m=F(),h=F(),g=F(),_=F(!1),v=F(!1),y=!0,{isFocused:b,handleFocus:x,handleBlur:S}=sC(h,{disabled:c,beforeBlur(e){return m.value?.isFocusInsideContent(e)},afterBlur(){var e;ee(!1),ie(),r.validateEvent&&((e=o?.validate)==null||e.call(o,`blur`).catch(e=>void 0))}}),C=gy(()=>g.value?.color??d.color),w=q(()=>Ev(r,Object.keys($A))),T=q(()=>!r.modelValue&&!v.value?`transparent`:A(C,r.showAlpha)),E=q(()=>!r.modelValue&&!v.value?``:C.value),D=q(()=>p.value?void 0:r.ariaLabel||i(`el.colorpicker.defaultLabel`)),O=q(()=>p.value?o?.labelId:void 0),k=q(()=>[a.b(`picker`),a.is(`disabled`,c.value),a.bm(`picker`,s.value),a.is(`focused`,b.value)]);function A(e,t){let{r:n,g:r,b:i,a}=e.toRgb();return t?`rgba(${n}, ${r}, ${i}, ${a})`:`rgb(${n}, ${r}, ${i})`}function ee(e){_.value=e}let te=C_(ee,100,{leading:!0});function ne(){c.value||ee(!0)}function re(){te(!1),ie()}function ie(){Ln(()=>{r.modelValue?C.fromString(r.modelValue):(C.value=``,Ln(()=>{v.value=!1}))})}function ae(){c.value||(_.value&&ie(),te(!_.value))}function oe(){let e=u(C.value)?l.value:C.value;n(Lb,e),n(Rb,e),r.validateEvent&&o?.validate(`change`).catch(e=>void 0),te(!1),Ln(()=>{let e=new rj({enableAlpha:r.showAlpha,format:r.colorFormat||``,value:r.modelValue});C.compare(e)||ie()})}function se(){te(!1),n(Lb,l.value),n(Rb,l.value),r.modelValue!==l.value&&r.validateEvent&&o?.validate(`change`).catch(e=>void 0),ie()}function ce(){var e;(e=g?.value?.inputRef)==null||e.focus()}function le(){_.value&&(re(),b.value&&fe())}function ue(e){e.preventDefault(),e.stopPropagation(),ee(!1),ie()}function de(e){switch(dw(e)){case Z.enter:case Z.numpadEnter:case Z.space:e.preventDefault(),e.stopPropagation(),ne();break;case Z.esc:ue(e);break}}function fe(){h.value.focus()}function pe(){h.value.blur()}return B(()=>E.value,e=>{y&&n(`activeChange`,e),y=!0}),B(()=>C.value,()=>{!r.modelValue&&!v.value&&(v.value=!0)}),B(()=>r.modelValue,e=>{e?e&&e!==C.value&&(y=!1,C.fromString(e)):v.value=!1}),B(()=>_.value,()=>{Ln(g.value?.update)}),Mi(tj,d),t({color:C,show:ne,hide:re,focus:fe,blur:pe}),(e,t)=>(V(),U(I(QE),{ref_key:`popper`,ref:m,visible:_.value,"show-arrow":!1,"fallback-placements":[`bottom`,`top`,`right`,`left`],offset:0,"gpu-acceleration":!1,"popper-class":[I(a).be(`picker`,`panel`),e.popperClass],"popper-style":e.popperStyle,"stop-popper-mouse-event":!1,pure:``,loop:``,role:`dialog`,effect:`light`,trigger:`click`,teleported:e.teleported,transition:`${I(a).namespace.value}-zoom-in-top`,persistent:e.persistent,"append-to":e.appendTo,onShow:ce,onHide:e=>ee(!1)},{content:L(()=>[Yn((V(),U(I(aj),Ja({ref_key:`pickerPanelRef`,ref:g},I(w),{border:!1,"validate-event":!1,onKeydown:Js(ue,[`esc`])}),{footer:L(()=>[W(`div`,null,[G(I(aO),{class:N(I(a).be(`footer`,`link-btn`)),text:``,size:`small`,onClick:se},{default:L(()=>[Wa(P(I(i)(`el.colorpicker.clear`)),1)]),_:1},8,[`class`]),G(I(aO),{plain:``,size:`small`,class:N(I(a).be(`footer`,`btn`)),onClick:oe},{default:L(()=>[Wa(P(I(i)(`el.colorpicker.confirm`)),1)]),_:1},8,[`class`])])]),_:1},16,[`onKeydown`])),[[I(mA),le,h.value]])]),default:L(()=>[W(`div`,Ja({id:I(f),ref_key:`triggerRef`,ref:h},e.$attrs,{class:I(k),role:`button`,"aria-label":I(D),"aria-labelledby":I(O),"aria-description":I(i)(`el.colorpicker.description`,{color:e.modelValue||``}),"aria-disabled":I(c),tabindex:I(c)?void 0:e.tabindex,onKeydown:de,onFocus:I(x),onBlur:I(S)}),[W(`div`,{class:N(I(a).be(`picker`,`trigger`)),onClick:ae},[W(`span`,{class:N([I(a).be(`picker`,`color`),I(a).is(`alpha`,e.showAlpha)])},[W(`span`,{class:N(I(a).be(`picker`,`color-inner`)),style:j({backgroundColor:I(T)})},[Yn(G(I(hx),{class:N([I(a).be(`picker`,`icon`),I(a).is(`icon-arrow-down`)])},{default:L(()=>[G(I(_x))]),_:1},8,[`class`]),[[Zo,e.modelValue||v.value]]),Yn(G(I(hx),{class:N([I(a).be(`picker`,`empty`),I(a).is(`icon-close`)])},{default:L(()=>[G(I(Mx))]),_:1},8,[`class`]),[[Zo,!e.modelValue&&!v.value]])],6)],2)],2)],16,[`id`,`aria-label`,`aria-labelledby`,`aria-description`,`aria-disabled`,`tabindex`,`onFocus`,`onBlur`])]),_:1},8,[`visible`,`popper-class`,`popper-style`,`teleported`,`transition`,`persistent`,`append-to`,`onHide`]))}}),[[`__file`,`color-picker.vue`]])),lte=X({a11y:{type:Boolean,default:!0},locale:{type:Y(Object)},size:xb,button:{type:Y(Object)},card:{type:Y(Object)},dialog:{type:Y(Object)},link:{type:Y(Object)},experimentalFeatures:{type:Y(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Y(Object)},zIndex:Number,namespace:{type:String,default:`el`},...Eb}),oj={placement:`top`},ute=lx(R({name:`ElConfigProvider`,props:lte,setup(e,{slots:t}){let n=Pb(e);return B(()=>e.message,e=>{Object.assign(oj,n?.value?.message??{},e??{})},{immediate:!0,deep:!0}),()=>z(t,`default`,{config:n?.value})}})),dte=Hb(R({...R({name:`ElContainer`}),props:X({direction:{type:String,values:[`horizontal`,`vertical`]}}),setup(e){let t=e,n=li(),r=J(`container`),i=q(()=>t.direction===`vertical`?!0:t.direction===`horizontal`?!1:n&&n.default?n.default().some(e=>{let t=e.type.name;return t===`ElHeader`||t===`ElFooter`}):!1);return(e,t)=>(V(),H(`section`,{class:N([I(r).b(),I(r).is(`vertical`,I(i))])},[z(e.$slots,`default`)],2))}}),[[`__file`,`container.vue`]]),sj=Hb(R({...R({name:`ElAside`}),props:{width:{type:String,default:null}},setup(e){let t=e,n=J(`aside`),r=q(()=>t.width?n.cssVarBlock({width:t.width}):{});return(e,t)=>(V(),H(`aside`,{class:N(I(n).b()),style:j(I(r))},[z(e.$slots,`default`)],6))}}),[[`__file`,`aside.vue`]]),cj=Hb(R({...R({name:`ElFooter`}),props:{height:{type:String,default:null}},setup(e){let t=e,n=J(`footer`),r=q(()=>t.height?n.cssVarBlock({height:t.height}):{});return(e,t)=>(V(),H(`footer`,{class:N(I(n).b()),style:j(I(r))},[z(e.$slots,`default`)],6))}}),[[`__file`,`footer.vue`]]),lj=Hb(R({...R({name:`ElHeader`}),props:{height:{type:String,default:null}},setup(e){let t=e,n=J(`header`),r=q(()=>t.height?n.cssVarBlock({height:t.height}):{});return(e,t)=>(V(),H(`header`,{class:N(I(n).b()),style:j(I(r))},[z(e.$slots,`default`)],6))}}),[[`__file`,`header.vue`]]),uj=Hb(R({...R({name:`ElMain`}),setup(e){let t=J(`main`);return(e,n)=>(V(),H(`main`,{class:N(I(t).b())},[z(e.$slots,`default`)],2))}}),[[`__file`,`main.vue`]]),fte=lx(dte,{Aside:sj,Footer:cj,Header:lj,Main:uj}),pte=fx(sj),mte=fx(cj),hte=fx(lj),gte=fx(uj),dj=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_customParseFormat=r()})(e,(function(){var e={LTS:`h:mm:ss A`,LT:`h:mm A`,L:`MM/DD/YYYY`,LL:`MMMM D, YYYY`,LLL:`MMMM D, YYYY h:mm A`,LLLL:`dddd, MMMM D, YYYY h:mm A`},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,r=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||={}).offset=function(e){if(!e||e===`Z`)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return n===0?0:t[0]===`+`?-n:n}(e)}],u=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?`pm`:`PM`);return n},f={A:[a,function(e){this.afternoon=d(e,!1)}],a:[a,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*e}],SS:[r,function(e){this.milliseconds=10*e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,c(`seconds`)],ss:[i,c(`seconds`)],m:[i,c(`minutes`)],mm:[i,c(`minutes`)],H:[i,c(`hours`)],h:[i,c(`hours`)],HH:[i,c(`hours`)],hh:[i,c(`hours`)],D:[i,c(`day`)],DD:[r,c(`day`)],Do:[a,function(e){var t=o.ordinal;if(this.day=e.match(/\d+/)[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,``)===e&&(this.day=n)}],w:[i,c(`week`)],ww:[r,c(`week`)],M:[i,c(`month`)],MM:[r,c(`month`)],MMM:[a,function(e){var t=u(`months`),n=(u(`monthsShort`)||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw Error();this.month=n%12||n}],MMMM:[a,function(e){var t=u(`months`).indexOf(e)+1;if(t<1)throw Error();this.month=t%12||t}],Y:[/[+-]?\d+/,c(`year`)],YY:[r,function(e){this.year=s(e)}],YYYY:[/\d{4}/,c(`year`)],Z:l,ZZ:l};function p(n){for(var r=n,i=o&&o.formats,a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var a=r&&r.toUpperCase();return n||i[r]||e[r]||i[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,c=0;c<s;c+=1){var l=a[c],u=f[l],d=u&&u[0],p=u&&u[1];a[c]=p?{regex:d,parser:p}:l.replace(/^\[|\]$/g,``)}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var i=a[n];if(typeof i==`string`)r+=i.length;else{var o=i.regex,c=i.parser,l=e.slice(r),u=o.exec(l)[0];c.call(t,u),e=e.replace(u,``)}}return function(e){var t=e.afternoon;if(t!==void 0){var n=e.hours;t?n<12&&(e.hours+=12):n===12&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var s=a[1];if(typeof s==`string`){var c=!0===a[2],l=!0===a[3],u=c||l,d=a[2];l&&(d=a[2]),o=this.$locale(),!c&&d&&(o=n.Ls[d]),this.$d=function(e,t,n,r){try{if([`x`,`X`].indexOf(t)>-1)return new Date((t===`X`?1e3:1)*e);var i=p(t)(e),a=i.year,o=i.month,s=i.day,c=i.hours,l=i.minutes,u=i.seconds,d=i.milliseconds,f=i.zone,m=i.week,h=new Date,g=s||(a||o?1:h.getDate()),_=a||h.getFullYear(),v=0;a&&!o||(v=o>0?o-1:h.getMonth());var y,b=c||0,x=l||0,S=u||0,C=d||0;return f?new Date(Date.UTC(_,v,g,b,x,S,C+60*f.offset*1e3)):n?new Date(Date.UTC(_,v,g,b,x,S,C)):(y=new Date(_,v,g,b,x,S,C),m&&(y=r(y).week(m).toDate()),y)}catch{return new Date(``)}}(t,s,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date(``)),o={}}else if(s instanceof Array)for(var f=s.length,m=1;m<=f;m+=1){a[1]=s[m-1];var h=n.apply(this,a);if(h.isValid()){this.$d=h.$d,this.$L=h.$L,this.init();break}m===f&&(this.$d=new Date(``))}else i.call(this,e)}}}))})),fj=[`hours`,`minutes`,`seconds`],pj=`EP_PICKER_BASE`,mj=`ElPopperOptions`,hj=Symbol(`commonPickerContextKey`),gj=`HH:mm:ss`,_j=`YYYY-MM-DD`,_te={date:_j,dates:_j,week:`gggg[w]ww`,year:`YYYY`,years:`YYYY`,month:`YYYY-MM`,months:`YYYY-MM`,datetime:`${_j} ${gj}`,monthrange:`YYYY-MM`,yearrange:`YYYY`,daterange:_j,datetimerange:`${_j} ${gj}`},vj=(e,t)=>{let{lang:n}=gb(),r=F(!1),i=F(!1),a=F(null),o=q(()=>{let{modelValue:t}=e;return!t||b(t)&&!t.filter(Boolean).length}),s=r=>{if(!mO(e.modelValue,r)){let i;b(r)?i=r.map(t=>gO(t,e.valueFormat,n.value)):r&&(i=gO(r,e.valueFormat,n.value)),t(Lb,r&&i,n.value)}},c=q(()=>{let t;if(o.value?l.value.getDefaultValue&&(t=l.value.getDefaultValue()):t=b(e.modelValue)?e.modelValue.map(t=>hO(t,e.valueFormat,n.value)):hO(e.modelValue??``,e.valueFormat,n.value),l.value.getRangeAvailableTime){let e=l.value.getRangeAvailableTime(t);iv(e,t)||(t=e,o.value||s(vO(t)))}return b(t)&&t.some(e=>!e)&&(t=[]),t}),l=F({});return{parsedValue:c,pickerActualVisible:i,pickerOptions:l,pickerVisible:r,userInput:a,valueIsEmpty:o,emitInput:s,onCalendarChange:e=>{t(`calendar-change`,e)},onPanelChange:(e,n,r)=>{t(`panel-change`,e,n,r)},onPick:(e=``,t=!1)=>{r.value=t;let n;n=b(e)?e.map(e=>e.toDate()):e&&e.toDate(),a.value=null,s(n)},onSetPickerOption:e=>{l.value[e[0]]=e[1],l.value.panelReady=!0}}},yj=X({disabledHours:{type:Y(Function)},disabledMinutes:{type:Y(Function)},disabledSeconds:{type:Y(Function)}}),bj=X({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:``}}),xj=X({automaticDropdown:{type:Boolean,default:!0},id:{type:Y([Array,String])},name:{type:Y([Array,String])},popperClass:jE.popperClass,popperStyle:jE.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:``},clearable:{type:Boolean,default:!0},clearIcon:{type:Y([String,Object]),default:Ax},editable:{type:Boolean,default:!0},prefixIcon:{type:Y([String,Object]),default:``},size:xb,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:``},popperOptions:{type:Y(Object),default:()=>({})},modelValue:{type:Y([Date,Array,String,Number]),default:``},rangeSeparator:{type:String,default:`-`},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Y([Date,Array])},defaultTime:{type:Y([Date,Array])},isRange:Boolean,...yj,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Y([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Y(String),values:Aw,default:`bottom`},fallbackPlacements:{type:Y(Array),default:[`bottom`,`top`,`right`,`left`]},...Eb,...PS([`ariaLabel`]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),vte=X({id:{type:Y(Array)},name:{type:Y(Array)},modelValue:{type:Y([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),yte=Hb(R({...R({name:`PickerRangeTrigger`,inheritAttrs:!1}),props:vte,emits:[`mouseenter`,`mouseleave`,`click`,`touchstart`,`focus`,`blur`,`startInput`,`endInput`,`startChange`,`endChange`],setup(e,{expose:t,emit:n}){let r=e,{formItem:i}=KS(),{inputId:a}=qS(Kt({id:q(()=>r.id?.[0])}),{formItemContext:i}),o=zS(),s=J(`date`),c=J(`range`),l=F(),u=F(),{wrapperRef:d,isFocused:f}=sC(l,{disabled:q(()=>r.disabled)}),p=e=>{n(`click`,e)},m=e=>{n(`mouseenter`,e)},h=e=>{n(`mouseleave`,e)},g=e=>{n(`touchstart`,e)},_=e=>{n(`startInput`,e)},v=e=>{n(`endInput`,e)},y=e=>{n(`startChange`,e)},b=e=>{n(`endChange`,e)};return t({focus:()=>{var e;(e=l.value)==null||e.focus()},blur:()=>{var e,t;(e=l.value)==null||e.blur(),(t=u.value)==null||t.blur()}}),(e,t)=>(V(),H(`div`,{ref_key:`wrapperRef`,ref:d,class:N([I(s).is(`active`,I(f)),e.$attrs.class]),style:j(e.$attrs.style),onClick:p,onMouseenter:m,onMouseleave:h,onTouchstartPassive:g},[z(e.$slots,`prefix`),W(`input`,Ja(I(o),{id:I(a),ref_key:`inputRef`,ref:l,name:e.name&&e.name[0],placeholder:e.startPlaceholder,value:e.modelValue&&e.modelValue[0],class:I(c).b(`input`),disabled:e.disabled,onInput:_,onChange:y}),null,16,[`id`,`name`,`placeholder`,`value`,`disabled`]),z(e.$slots,`range-separator`),W(`input`,Ja(I(o),{id:e.id&&e.id[1],ref_key:`endInputRef`,ref:u,name:e.name&&e.name[1],placeholder:e.endPlaceholder,value:e.modelValue&&e.modelValue[1],class:I(c).b(`input`),disabled:e.disabled,onInput:v,onChange:b}),null,16,[`id`,`name`,`placeholder`,`value`,`disabled`]),z(e.$slots,`suffix`)],38))}}),[[`__file`,`picker-range-trigger.vue`]]),Sj=Hb(R({...R({name:`Picker`}),props:xj,emits:[Lb,Rb,`focus`,`blur`,`clear`,`calendar-change`,`panel-change`,`visible-change`,`keydown`],setup(e,{expose:t,emit:n}){let r=e,i=ui(),a=J(`date`),o=J(`input`),s=J(`range`),{formItem:c}=KS(),l=Ni(mj,{}),u=Db(r,null),d=F(),p=F(),m=F(null),h=!1,g=XS(),_=vj(r,n),{parsedValue:v,pickerActualVisible:y,userInput:x,pickerVisible:S,pickerOptions:C,valueIsEmpty:w,emitInput:T,onPick:E,onSetPickerOption:D,onCalendarChange:O,onPanelChange:k}=_,{isFocused:A,handleFocus:ee,handleBlur:te}=sC(p,{disabled:g,beforeFocus(){return r.readonly},afterFocus(){r.automaticDropdown&&(S.value=!0)},beforeBlur(e){return!h&&d.value?.isFocusInsideContent(e)},afterBlur(){Ae(),S.value=!1,h=!1,r.validateEvent&&c?.validate(`blur`).catch(e=>void 0)}}),ne=F(!1),re=q(()=>[a.b(`editor`),a.bm(`editor`,r.type),o.e(`wrapper`),a.is(`disabled`,g.value),a.is(`active`,S.value),s.b(`editor`),De?s.bm(`editor`,De.value):``,i.class]),ie=q(()=>[o.e(`icon`),s.e(`close-icon`),be.value?``:s.em(`close-icon`,`hidden`)]);B(S,e=>{e?Ln(()=>{e&&(m.value=r.modelValue)}):(x.value=null,Ln(()=>{ae(r.modelValue)}))});let ae=(e,t)=>{(t||!mO(e,m.value))&&(n(Rb,e),t&&(m.value=e),r.validateEvent&&c?.validate(`change`).catch(e=>void 0))},oe=e=>{n(`keydown`,e)},se=q(()=>p.value?Array.from(p.value.$el.querySelectorAll(`input`)):[]),ce=(e,t,n)=>{let r=se.value;r.length&&(!n||n===`min`?(r[0].setSelectionRange(e,t),r[0].focus()):n===`max`&&(r[1].setSelectionRange(e,t),r[1].focus()))},le=()=>{y.value=!0},ue=()=>{n(`visible-change`,!0)},de=()=>{y.value=!1,S.value=!1,n(`visible-change`,!1)},fe=()=>{S.value=!0},pe=()=>{S.value=!1},me=q(()=>{let e=Me(v.value);return b(x.value)?[x.value[0]||e&&e[0]||``,x.value[1]||e&&e[1]||``]:x.value===null?!ge.value&&w.value||!S.value&&w.value?``:e?_e.value||M.value||ve.value?e.join(`, `):e:``:x.value}),he=q(()=>r.type.includes(`time`)),ge=q(()=>r.type.startsWith(`time`)),_e=q(()=>r.type===`dates`),M=q(()=>r.type===`months`),ve=q(()=>r.type===`years`),ye=q(()=>r.prefixIcon||(he.value?jx:Cx)),be=q(()=>r.clearable&&!g.value&&!r.readonly&&!w.value&&(ne.value||A.value)),xe=e=>{r.readonly||g.value||(be.value&&(e.stopPropagation(),C.value.handleClear?C.value.handleClear():T(u.valueOnClear.value),ae(u.valueOnClear.value,!0),de()),n(`clear`))},Se=async e=>{r.readonly||g.value||(e.target?.tagName!==`INPUT`||A.value||!r.automaticDropdown)&&(S.value=!0)},Ce=()=>{r.readonly||g.value||!w.value&&r.clearable&&(ne.value=!0)},we=()=>{ne.value=!1},Te=e=>{r.readonly||g.value||(e.touches[0].target?.tagName!==`INPUT`||A.value||!r.automaticDropdown)&&(S.value=!0)},Ee=q(()=>r.type.includes(`range`)),De=YS(),Oe=q(()=>I(d)?.popperRef?.contentRef),ke=Dy(p,e=>{let t=I(Oe),n=Sy(p);t&&(e.target===t||e.composedPath().includes(t))||e.target===n||n&&e.composedPath().includes(n)||(S.value=!1)});Vr(()=>{ke?.()});let Ae=()=>{if(x.value){let e=je(me.value);e&&(Ne(e)&&T(vO(e)),x.value=null)}x.value===``&&(T(u.valueOnClear.value),ae(u.valueOnClear.value,!0),x.value=null)},je=e=>e?C.value.parseUserInput(e):null,Me=e=>e?b(e)?e.map(e=>e.format(r.format)):e.format(r.format):null,Ne=e=>C.value.isValidValue(e),Pe=async e=>{if(r.readonly||g.value)return;let t=dw(e);if(oe(e),t===Z.esc){S.value===!0&&(S.value=!1,e.preventDefault(),e.stopPropagation());return}if(t===Z.down&&(C.value.handleFocusPicker&&(e.preventDefault(),e.stopPropagation()),S.value===!1&&(S.value=!0,await Ln()),C.value.handleFocusPicker)){C.value.handleFocusPicker();return}if(t===Z.tab){h=!0;return}if(t===Z.enter||t===Z.numpadEnter){S.value?(x.value===null||x.value===``||Ne(je(me.value)))&&(Ae(),S.value=!1):S.value=!0,e.preventDefault(),e.stopPropagation();return}if(x.value){e.stopPropagation();return}C.value.handleKeydownInput&&C.value.handleKeydownInput(e)},Fe=e=>{x.value=e,S.value||=!0},Ie=e=>{let t=e.target;x.value?x.value=[t.value,x.value[1]]:x.value=[t.value,null]},Le=e=>{let t=e.target;x.value?x.value=[x.value[0],t.value]:x.value=[null,t.value]},Re=()=>{let e=x.value,t=je(e&&e[0]),n=I(v);if(t&&t.isValid()){x.value=[Me(t),me.value?.[1]||null];let e=[t,n&&(n[1]||null)];Ne(e)&&(T(vO(e)),x.value=null)}},ze=()=>{let e=I(x),t=je(e&&e[1]),n=I(v);if(t&&t.isValid()){x.value=[I(me)?.[0]||null,Me(t)];let e=[n&&n[0],t];Ne(e)&&(T(vO(e)),x.value=null)}};return Mi(pj,{props:r,emptyValues:u}),Mi(hj,_),t({focus:()=>{var e;(e=p.value)==null||e.focus()},blur:()=>{var e;(e=p.value)==null||e.blur()},handleOpen:fe,handleClose:pe,onPick:E}),(e,t)=>(V(),U(I(QE),Ja({ref_key:`refPopper`,ref:d,visible:I(S),effect:`light`,pure:``,trigger:`click`},e.$attrs,{role:`dialog`,teleported:``,transition:`${I(a).namespace.value}-zoom-in-top`,"popper-class":[`${I(a).namespace.value}-picker__popper`,e.popperClass],"popper-style":e.popperStyle,"popper-options":I(l),"fallback-placements":e.fallbackPlacements,"gpu-acceleration":!1,placement:e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:``,onBeforeShow:le,onShow:ue,onHide:de}),{default:L(()=>[I(Ee)?(V(),U(yte,{key:1,id:e.id,ref_key:`inputRef`,ref:p,"model-value":I(me),name:e.name,disabled:I(g),readonly:!e.editable||e.readonly,"start-placeholder":e.startPlaceholder,"end-placeholder":e.endPlaceholder,class:N(I(re)),style:j(e.$attrs.style),"aria-label":e.ariaLabel,tabindex:e.tabindex,autocomplete:`off`,role:`combobox`,onClick:Se,onFocus:I(ee),onBlur:I(te),onStartInput:Ie,onStartChange:Re,onEndInput:Le,onEndChange:ze,onMousedown:Se,onMouseenter:Ce,onMouseleave:we,onTouchstartPassive:Te,onKeydown:Pe},{prefix:L(()=>[I(ye)?(V(),U(I(hx),{key:0,class:N([I(o).e(`icon`),I(s).e(`icon`)])},{default:L(()=>[(V(),U(Zr(I(ye))))]),_:1},8,[`class`])):K(`v-if`,!0)]),"range-separator":L(()=>[z(e.$slots,`range-separator`,{},()=>[W(`span`,{class:N(I(s).b(`separator`))},P(e.rangeSeparator),3)])]),suffix:L(()=>[e.clearIcon?(V(),U(I(hx),{key:0,class:N(I(ie)),onMousedown:Ks(I(f),[`prevent`]),onClick:xe},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):K(`v-if`,!0)]),_:3},8,[`id`,`model-value`,`name`,`disabled`,`readonly`,`start-placeholder`,`end-placeholder`,`class`,`style`,`aria-label`,`tabindex`,`onFocus`,`onBlur`])):(V(),U(I(dC),{key:0,id:e.id,ref_key:`inputRef`,ref:p,"container-role":`combobox`,"model-value":I(me),name:e.name,size:I(De),disabled:I(g),placeholder:e.placeholder,class:N([I(a).b(`editor`),I(a).bm(`editor`,e.type),I(a).is(`focus`,I(S)),e.$attrs.class]),style:j(e.$attrs.style),readonly:!e.editable||e.readonly||I(_e)||I(M)||I(ve)||e.type===`week`,"aria-label":e.ariaLabel,tabindex:e.tabindex,"validate-event":!1,onInput:Fe,onFocus:I(ee),onBlur:I(te),onKeydown:Pe,onChange:Ae,onMousedown:Se,onMouseenter:Ce,onMouseleave:we,onTouchstartPassive:Te,onClick:Ks(()=>{},[`stop`])},{prefix:L(()=>[I(ye)?(V(),U(I(hx),{key:0,class:N(I(o).e(`icon`)),onMousedown:Ks(Se,[`prevent`]),onTouchstartPassive:Te},{default:L(()=>[(V(),U(Zr(I(ye))))]),_:1},8,[`class`,`onMousedown`])):K(`v-if`,!0)]),suffix:L(()=>[I(be)&&e.clearIcon?(V(),U(I(hx),{key:0,class:N(`${I(o).e(`icon`)} clear-icon`),onMousedown:Ks(I(f),[`prevent`]),onClick:xe},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`])):K(`v-if`,!0)]),_:1},8,[`id`,`model-value`,`name`,`size`,`disabled`,`placeholder`,`class`,`style`,`readonly`,`aria-label`,`tabindex`,`onFocus`,`onBlur`,`onClick`]))]),content:L(()=>[z(e.$slots,`default`,{visible:I(S),actualVisible:I(y),parsedValue:I(v),format:e.format,dateFormat:e.dateFormat,timeFormat:e.timeFormat,unlinkPanels:e.unlinkPanels,type:e.type,defaultValue:e.defaultValue,showNow:e.showNow,showConfirm:e.showConfirm,showFooter:e.showFooter,showWeekNumber:e.showWeekNumber,onPick:I(E),onSelectRange:ce,onSetPickerOption:I(D),onCalendarChange:I(O),onPanelChange:I(k),onMousedown:Ks(()=>{},[`stop`])})]),_:3},16,[`visible`,`transition`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`placement`]))}}),[[`__file`,`picker.vue`]]),bte=X({...bj,datetimeRole:String,parsedValue:{type:Y(Object)}}),Cj=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{let r=(r,i,a,o)=>{let s={hour:e,minute:t,second:n},c=r;return[`hour`,`minute`,`second`].forEach(e=>{if(s[e]){let t,n=s[e];switch(e){case`minute`:t=n(c.hour(),i,o);break;case`second`:t=n(c.hour(),c.minute(),i,o);break;default:t=n(i,o);break}if(t?.length&&!t.includes(c[e]())){let n=a?0:t.length-1;c=c[e](t[n])}}}),c},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([e,t])=>{i[e]=t}}},wj=e=>e.map((e,t)=>e||t).filter(e=>e!==!0),Tj=(e,t,n)=>({getHoursList:(t,n)=>_O(24,e&&(()=>e?.(t,n))),getMinutesList:(e,n,r)=>_O(60,t&&(()=>t?.(e,n,r))),getSecondsList:(e,t,r,i)=>_O(60,n&&(()=>n?.(e,t,r,i)))}),Ej=(e,t,n)=>{let{getHoursList:r,getMinutesList:i,getSecondsList:a}=Tj(e,t,n);return{getAvailableHours:(e,t)=>wj(r(e,t)),getAvailableMinutes:(e,t,n)=>wj(i(e,t,n)),getAvailableSeconds:(e,t,n,r)=>wj(a(e,t,n,r))}},Dj=e=>{let t=F(e.parsedValue);return B(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},xte=X({role:{type:String,required:!0},spinnerDate:{type:Y(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Y(String),default:``},...yj}),Oj=`_RepeatClick`,kj={beforeMount(e,t){let n=t.value,{interval:r=100,delay:i=600}=w(n)?{}:n,a,o,s=()=>w(n)?n():n.handler(),c=()=>{o&&=(clearTimeout(o),void 0),a&&=(clearInterval(a),void 0)},l=e=>{e.button===0&&(c(),s(),document.addEventListener(`mouseup`,c,{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{s()},r)},i))};e[Oj]={start:l,clear:c},e.addEventListener(`mousedown`,l)},unmounted(e){if(!e[Oj])return;let{start:t,clear:n}=e[Oj];t&&e.removeEventListener(`mousedown`,t),n&&(n(),document.removeEventListener(`mouseup`,n)),e[Oj]=null}},Aj=Hb(R({__name:`basic-time-spinner`,props:xte,emits:[Rb,`select-range`,`set-option`],setup(e,{emit:t}){let n=e,{isRange:r,format:i}=Ni(pj).props,a=J(`time`),{getHoursList:o,getMinutesList:s,getSecondsList:c}=Tj(n.disabledHours,n.disabledMinutes,n.disabledSeconds),l=!1,u=F(),d={hours:F(),minutes:F(),seconds:F()},f=q(()=>n.showSeconds?fj:fj.slice(0,2)),p=q(()=>{let{spinnerDate:e}=n;return{hours:e.hour(),minutes:e.minute(),seconds:e.second()}}),m=q(()=>{let{hours:e,minutes:t}=I(p),{role:i,spinnerDate:a}=n,l=r?void 0:a;return{hours:o(i,l),minutes:s(e,i,l),seconds:c(e,t,i,l)}}),h=q(()=>{let{hours:e,minutes:t,seconds:n}=I(p);return{hours:lO(e,23),minutes:lO(t,59),seconds:lO(n,59)}}),g=C_(e=>{l=!1,y(e)},200),_=e=>{if(!n.amPmMode)return``;let t=n.amPmMode===`A`,r=e<12?` am`:` pm`;return t&&(r=r.toUpperCase()),r},v=e=>{let n=[0,0],r=i||`HH:mm:ss`,a=r.indexOf(`HH`),o=r.indexOf(`mm`),s=r.indexOf(`ss`);switch(e){case`hours`:a!==-1&&(n=[a,a+2]);break;case`minutes`:o!==-1&&(n=[o,o+2]);break;case`seconds`:s!==-1&&(n=[s,s+2]);break}let[c,l]=n;t(`select-range`,c,l),u.value=e},y=e=>{S(e,I(p)[e])},b=()=>{y(`hours`),y(`minutes`),y(`seconds`)},x=e=>e.querySelector(`.${a.namespace.value}-scrollbar__wrap`),S=(e,t)=>{if(n.arrowControl)return;let r=I(d[e]);r&&r.$el&&(x(r.$el).scrollTop=Math.max(0,t*C(e)))},C=e=>{let t=I(d[e])?.$el.querySelector(`li`);return t&&Number.parseFloat(Xb(t,`height`))||0},w=()=>{E(1)},T=()=>{E(-1)},E=e=>{u.value||v(`hours`);let t=u.value,n=I(p)[t],r=D(t,n,e,u.value===`hours`?24:60);O(t,r),S(t,r),Ln(()=>v(t))},D=(e,t,n,r)=>{let i=(t+n+r)%r,a=I(m)[e];for(;a[i]&&i!==t;)i=(i+n+r)%r;return i},O=(e,r)=>{if(I(m)[e][r])return;let{hours:i,minutes:a,seconds:o}=I(p),s;switch(e){case`hours`:s=n.spinnerDate.hour(r).minute(a).second(o);break;case`minutes`:s=n.spinnerDate.hour(i).minute(r).second(o);break;case`seconds`:s=n.spinnerDate.hour(i).minute(a).second(r);break}t(Rb,s)},k=(e,{value:t,disabled:n})=>{n||(O(e,t),v(e),S(e,t))},A=e=>{let t=I(d[e]);t&&(l=!0,g(e),O(e,Math.min(Math.round((x(t.$el).scrollTop-(ee(e)*.5-10)/C(e)+3)/C(e)),e===`hours`?23:59)))},ee=e=>I(d[e]).$el.offsetHeight,te=()=>{let e=e=>{let t=I(d[e]);t&&t.$el&&(x(t.$el).onscroll=()=>{A(e)})};e(`hours`),e(`minutes`),e(`seconds`)};Rr(()=>{Ln(()=>{!n.arrowControl&&te(),b(),n.role===`start`&&v(`hours`)})});let ne=(e,t)=>{d[t].value=e??void 0};return t(`set-option`,[`${n.role}_scrollDown`,E]),t(`set-option`,[`${n.role}_emitSelectRange`,v]),B(()=>n.spinnerDate,()=>{l||b()}),(e,t)=>(V(),H(`div`,{class:N([I(a).b(`spinner`),{"has-seconds":e.showSeconds}])},[e.arrowControl?K(`v-if`,!0):(V(!0),H(Da,{key:0},ti(I(f),t=>(V(),U(I(xC),{key:t,ref_for:!0,ref:e=>ne(e,t),class:N(I(a).be(`spinner`,`wrapper`)),"wrap-style":`max-height: inherit;`,"view-class":I(a).be(`spinner`,`list`),noresize:``,tag:`ul`,onMouseenter:e=>v(t),onMousemove:e=>y(t)},{default:L(()=>[(V(!0),H(Da,null,ti(I(m)[t],(n,r)=>(V(),H(`li`,{key:r,class:N([I(a).be(`spinner`,`item`),I(a).is(`active`,r===I(p)[t]),I(a).is(`disabled`,n)]),onClick:e=>k(t,{value:r,disabled:n})},[t===`hours`?(V(),H(Da,{key:0},[Wa(P((`0`+(e.amPmMode?r%12||12:r)).slice(-2))+P(_(r)),1)],64)):(V(),H(Da,{key:1},[Wa(P((`0`+r).slice(-2)),1)],64))],10,[`onClick`]))),128))]),_:2},1032,[`class`,`view-class`,`onMouseenter`,`onMousemove`]))),128)),e.arrowControl?(V(!0),H(Da,{key:1},ti(I(f),t=>(V(),H(`div`,{key:t,class:N([I(a).be(`spinner`,`wrapper`),I(a).is(`arrow`)]),onMouseenter:e=>v(t)},[Yn((V(),U(I(hx),{class:N([`arrow-up`,I(a).be(`spinner`,`arrow`)])},{default:L(()=>[G(I(bx))]),_:1},8,[`class`])),[[I(kj),T]]),Yn((V(),U(I(hx),{class:N([`arrow-down`,I(a).be(`spinner`,`arrow`)])},{default:L(()=>[G(I(_x))]),_:1},8,[`class`])),[[I(kj),w]]),W(`ul`,{class:N(I(a).be(`spinner`,`list`))},[(V(!0),H(Da,null,ti(I(h)[t],(n,r)=>(V(),H(`li`,{key:r,class:N([I(a).be(`spinner`,`item`),I(a).is(`active`,n===I(p)[t]),I(a).is(`disabled`,I(m)[t][n])])},[I(zv)(n)?(V(),H(Da,{key:0},[t===`hours`?(V(),H(Da,{key:0},[Wa(P((`0`+(e.amPmMode?n%12||12:n)).slice(-2))+P(_(n)),1)],64)):(V(),H(Da,{key:1},[Wa(P((`0`+n).slice(-2)),1)],64))],64)):K(`v-if`,!0)],2))),128))],2)],42,[`onMouseenter`]))),128)):K(`v-if`,!0)],2))}}),[[`__file`,`basic-time-spinner.vue`]]),jj=c(sO(),1),Mj=Hb(R({__name:`panel-time-pick`,props:bte,emits:[`pick`,`select-range`,`set-picker-option`],setup(e,{emit:t}){let n=e,{arrowControl:r,disabledHours:i,disabledMinutes:a,disabledSeconds:o,defaultValue:s}=Ni(pj).props,{getAvailableHours:c,getAvailableMinutes:l,getAvailableSeconds:u}=Ej(i,a,o),d=J(`time`),{t:f,lang:p}=gb(),m=F([0,2]),h=Dj(n),g=q(()=>Lv(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:``),_=q(()=>n.format.includes(`ss`)),v=q(()=>n.format.includes(`A`)?`A`:n.format.includes(`a`)?`a`:``),y=e=>{let t=(0,jj.default)(e).locale(p.value),n=k(t);return t.isSame(n)},b=()=>{let e=h.value;t(`pick`,e,!1),Ln(()=>{h.value=e})},x=(e=!1,r=!1)=>{r||t(`pick`,n.parsedValue,e)},S=e=>{n.visible&&t(`pick`,k(e).millisecond(0),!0)},C=(e,n)=>{t(`select-range`,e,n),m.value=[e,n]},w=e=>{let t=n.format,r=t.indexOf(`HH`),i=t.indexOf(`mm`),a=t.indexOf(`ss`),o=[],s=[];r!==-1&&(o.push(r),s.push(`hours`)),i!==-1&&(o.push(i),s.push(`minutes`)),a!==-1&&_.value&&(o.push(a),s.push(`seconds`));let c=(o.indexOf(m.value[0])+e+o.length)%o.length;E.start_emitSelectRange(s[c])},T=e=>{let t=dw(e),{left:n,right:r,up:i,down:a}=Z;if([n,r].includes(t)){w(t===n?-1:1),e.preventDefault();return}if([i,a].includes(t)){let n=t===i?-1:1;E.start_scrollDown(n),e.preventDefault();return}},{timePickerOptions:E,onSetOption:D,getAvailableTime:O}=Cj({getAvailableHours:c,getAvailableMinutes:l,getAvailableSeconds:u}),k=e=>O(e,n.datetimeRole||``,!0);return t(`set-picker-option`,[`isValidValue`,y]),t(`set-picker-option`,[`parseUserInput`,e=>e?(0,jj.default)(e,n.format).locale(p.value):null]),t(`set-picker-option`,[`handleKeydownInput`,T]),t(`set-picker-option`,[`getRangeAvailableTime`,k]),t(`set-picker-option`,[`getDefaultValue`,()=>(0,jj.default)(s).locale(p.value)]),(e,t)=>(V(),U(No,{name:I(g)},{default:L(()=>[e.actualVisible||e.visible?(V(),H(`div`,{key:0,class:N(I(d).b(`panel`))},[W(`div`,{class:N([I(d).be(`panel`,`content`),{"has-seconds":I(_)}])},[G(Aj,{ref:`spinner`,role:e.datetimeRole||`start`,"arrow-control":I(r),"show-seconds":I(_),"am-pm-mode":I(v),"spinner-date":e.parsedValue,"disabled-hours":I(i),"disabled-minutes":I(a),"disabled-seconds":I(o),onChange:S,onSetOption:I(D),onSelectRange:C},null,8,[`role`,`arrow-control`,`show-seconds`,`am-pm-mode`,`spinner-date`,`disabled-hours`,`disabled-minutes`,`disabled-seconds`,`onSetOption`])],2),W(`div`,{class:N(I(d).be(`panel`,`footer`))},[W(`button`,{type:`button`,class:N([I(d).be(`panel`,`btn`),`cancel`]),onClick:b},P(I(f)(`el.datepicker.cancel`)),3),W(`button`,{type:`button`,class:N([I(d).be(`panel`,`btn`),`confirm`]),onClick:e=>x()},P(I(f)(`el.datepicker.confirm`)),11,[`onClick`])],2)],2)):K(`v-if`,!0)]),_:1},8,[`name`]))}}),[[`__file`,`panel-time-pick.vue`]]),Ste=X({...bj,parsedValue:{type:Y(Array)}}),Nj=c(sO(),1),Cte=Hb(R({__name:`panel-time-range`,props:Ste,emits:[`pick`,`select-range`,`set-picker-option`],setup(e,{emit:t}){let n=e,r=(e,t)=>{let n=[];for(let r=e;r<=t;r++)n.push(r);return n},{t:i,lang:a}=gb(),o=J(`time`),s=J(`picker`),{arrowControl:c,disabledHours:l,disabledMinutes:u,disabledSeconds:d,defaultValue:f}=Ni(pj).props,p=q(()=>[o.be(`range-picker`,`body`),o.be(`panel`,`content`),o.is(`arrow`,c),y.value?`has-seconds`:``]),m=q(()=>[o.be(`range-picker`,`body`),o.be(`panel`,`content`),o.is(`arrow`,c),y.value?`has-seconds`:``]),h=q(()=>n.parsedValue[0]),g=q(()=>n.parsedValue[1]),_=Dj(n),v=()=>{let e=_.value;t(`pick`,e,!1),Ln(()=>{_.value=e})},y=q(()=>n.format.includes(`ss`)),x=q(()=>n.format.includes(`A`)?`A`:n.format.includes(`a`)?`a`:``),S=(e=!1)=>{t(`pick`,[h.value,g.value],e)},C=e=>{E(e.millisecond(0),g.value)},w=e=>{E(h.value,e.millisecond(0))},T=e=>{let t=e.map(e=>(0,Nj.default)(e).locale(a.value)),n=oe(t);return t[0].isSame(n[0])&&t[1].isSame(n[1])},E=(e,r)=>{n.visible&&t(`pick`,[e,r],!0)},D=q(()=>h.value>g.value),O=F([0,2]),k=(e,n)=>{t(`select-range`,e,n,`min`),O.value=[e,n]},A=q(()=>y.value?11:8),ee=(e,n)=>{t(`select-range`,e,n,`max`);let r=I(A);O.value=[e+r,n+r]},te=e=>{let t=y.value?[0,3,6,11,14,17]:[0,3,8,11],n=[`hours`,`minutes`].concat(y.value?[`seconds`]:[]),r=(t.indexOf(O.value[0])+e+t.length)%t.length,i=t.length/2;r<i?ue.start_emitSelectRange(n[r]):ue.end_emitSelectRange(n[r-i])},ne=e=>{let t=dw(e),{left:n,right:r,up:i,down:a}=Z;if([n,r].includes(t)){te(t===n?-1:1),e.preventDefault();return}if([i,a].includes(t)){let n=t===i?-1:1;ue[`${O.value[0]<A.value?`start`:`end`}_scrollDown`](n),e.preventDefault();return}},re=(e,t)=>{let n=l?l(e):[],i=e===`start`,a=(t||(i?g.value:h.value)).hour();return Iv(n,i?r(a+1,23):r(0,a-1))},ie=(e,t,n)=>{let i=u?u(e,t):[],a=t===`start`,o=n||(a?g.value:h.value);if(e!==o.hour())return i;let s=o.minute();return Iv(i,a?r(s+1,59):r(0,s-1))},ae=(e,t,n,i)=>{let a=d?d(e,t,n):[],o=n===`start`,s=i||(o?g.value:h.value),c=s.hour(),l=s.minute();if(e!==c||t!==l)return a;let u=s.second();return Iv(a,o?r(u+1,59):r(0,u-1))},oe=([e,t])=>[de(e,`start`,!0,t),de(t,`end`,!1,e)],{getAvailableHours:se,getAvailableMinutes:ce,getAvailableSeconds:le}=Ej(re,ie,ae),{timePickerOptions:ue,getAvailableTime:de,onSetOption:fe}=Cj({getAvailableHours:se,getAvailableMinutes:ce,getAvailableSeconds:le});return t(`set-picker-option`,[`parseUserInput`,e=>e?b(e)?e.map(e=>(0,Nj.default)(e,n.format).locale(a.value)):(0,Nj.default)(e,n.format).locale(a.value):null]),t(`set-picker-option`,[`isValidValue`,T]),t(`set-picker-option`,[`handleKeydownInput`,ne]),t(`set-picker-option`,[`getDefaultValue`,()=>{if(b(f))return f.map(e=>(0,Nj.default)(e).locale(a.value));let e=(0,Nj.default)(f).locale(a.value);return[e,e.add(60,`m`)]}]),t(`set-picker-option`,[`getRangeAvailableTime`,oe]),(e,t)=>e.actualVisible?(V(),H(`div`,{key:0,class:N([I(o).b(`range-picker`),I(s).b(`panel`)])},[W(`div`,{class:N(I(o).be(`range-picker`,`content`))},[W(`div`,{class:N(I(o).be(`range-picker`,`cell`))},[W(`div`,{class:N(I(o).be(`range-picker`,`header`))},P(I(i)(`el.datepicker.startTime`)),3),W(`div`,{class:N(I(p))},[G(Aj,{ref:`minSpinner`,role:`start`,"show-seconds":I(y),"am-pm-mode":I(x),"arrow-control":I(c),"spinner-date":I(h),"disabled-hours":re,"disabled-minutes":ie,"disabled-seconds":ae,onChange:C,onSetOption:I(fe),onSelectRange:k},null,8,[`show-seconds`,`am-pm-mode`,`arrow-control`,`spinner-date`,`onSetOption`])],2)],2),W(`div`,{class:N(I(o).be(`range-picker`,`cell`))},[W(`div`,{class:N(I(o).be(`range-picker`,`header`))},P(I(i)(`el.datepicker.endTime`)),3),W(`div`,{class:N(I(m))},[G(Aj,{ref:`maxSpinner`,role:`end`,"show-seconds":I(y),"am-pm-mode":I(x),"arrow-control":I(c),"spinner-date":I(g),"disabled-hours":re,"disabled-minutes":ie,"disabled-seconds":ae,onChange:w,onSetOption:I(fe),onSelectRange:ee},null,8,[`show-seconds`,`am-pm-mode`,`arrow-control`,`spinner-date`,`onSetOption`])],2)],2)],2),W(`div`,{class:N(I(o).be(`panel`,`footer`))},[W(`button`,{type:`button`,class:N([I(o).be(`panel`,`btn`),`cancel`]),onClick:e=>v()},P(I(i)(`el.datepicker.cancel`)),11,[`onClick`]),W(`button`,{type:`button`,class:N([I(o).be(`panel`,`btn`),`confirm`]),disabled:I(D),onClick:e=>S()},P(I(i)(`el.datepicker.confirm`)),11,[`disabled`,`onClick`])],2)],2)):K(`v-if`,!0)}}),[[`__file`,`panel-time-range.vue`]]),wte=c(sO(),1),Tte=c(dj(),1);wte.default.extend(Tte.default);var Ete=lx(R({name:`ElTimePicker`,install:null,props:{...xj,isRange:Boolean},emits:[Lb],setup(e,t){let n=F(),[r,i]=e.isRange?[`timerange`,Cte]:[`time`,Mj],a=e=>t.emit(Lb,e);return Mi(mj,e.popperOptions),t.expose({focus:()=>{var e;(e=n.value)==null||e.focus()},blur:()=>{var e;(e=n.value)==null||e.blur()},handleOpen:()=>{var e;(e=n.value)==null||e.handleOpen()},handleClose:()=>{var e;(e=n.value)==null||e.handleClose()}}),()=>G(Sj,Ja(e,{ref:n,type:r,format:e.format??gj,"onUpdate:modelValue":a}),{default:e=>G(i,e,null)})}})),Dte=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_advancedFormat=r()})(e,(function(){return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),a=(e||`YYYY-MM-DDTHH:mm:ssZ`).replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case`Q`:return Math.ceil((t.$M+1)/3);case`Do`:return n.ordinal(t.$D);case`gggg`:return t.weekYear();case`GGGG`:return t.isoWeekYear();case`wo`:return n.ordinal(t.week(),`W`);case`w`:case`ww`:return i.s(t.week(),e===`w`?1:2,`0`);case`W`:case`WW`:return i.s(t.isoWeek(),e===`W`?1:2,`0`);case`k`:case`kk`:return i.s(String(t.$H===0?24:t.$H),e===`k`?1:2,`0`);case`X`:return Math.floor(t.$d.getTime()/1e3);case`x`:return t.$d.getTime();case`z`:return`[`+t.offsetName()+`]`;case`zzz`:return`[`+t.offsetName(`long`)+`]`;default:return e}}));return r.bind(this)(a)}}}))})),Ote=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_weekOfYear=r()})(e,(function(){var e=`week`,t=`year`;return function(n,r,i){var a=r.prototype;a.week=function(n){if(n===void 0&&(n=null),n!==null)return this.add(7*(n-this.week()),`day`);var r=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var a=i(this).startOf(t).add(1,t).date(r),o=i(this).endOf(e);if(a.isBefore(o))return 1}var s=i(this).startOf(t).date(r).startOf(e).subtract(1,`millisecond`),c=this.diff(s,e,!0);return c<0?i(this).startOf(`week`).week():Math.ceil(c)},a.weeks=function(e){return e===void 0&&(e=null),this.week(e)}}}))})),kte=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_weekYear=r()})(e,(function(){return function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),n=this.year();return t===1&&e===11?n+1:e===0&&t>=52?n-1:n}}}))})),Ate=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_dayOfYear=r()})(e,(function(){return function(e,t,n){t.prototype.dayOfYear=function(e){var t=Math.round((n(this).startOf(`day`)-n(this).startOf(`year`))/864e5)+1;return e==null?t:this.add(e-t,`day`)}}}))})),jte=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_isSameOrAfter=r()})(e,(function(){return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}))})),Mte=o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self).dayjs_plugin_isSameOrBefore=r()})(e,(function(){return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}))})),Nte=X({valueFormat:String,dateFormat:String,timeFormat:String,disabled:{type:Boolean,default:void 0},modelValue:{type:Y([Date,Array,String,Number]),default:``},defaultValue:{type:Y([Date,Array])},defaultTime:{type:Y([Date,Array])},isRange:Boolean,...yj,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:Y(String),default:`date`},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0}}),Pj=Symbol(`rootPickerContextKey`),Fj=`ElIsDefaultFormat`,Pte=[`date`,`dates`,`year`,`years`,`month`,`months`,`week`,`range`],Ij=X({cellClassName:{type:Y(Function)},disabledDate:{type:Y(Function)},date:{type:Y(Object),required:!0},minDate:{type:Y(Object)},maxDate:{type:Y(Object)},parsedValue:{type:Y([Object,Array])},rangeState:{type:Y(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),Lj=X({type:{type:Y(String),required:!0,values:TO},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean}),Rj=X({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:Y(Array)}}),zj=e=>({type:String,values:Pte,default:e}),Fte=X({...Lj,parsedValue:{type:Y([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:``}}),Bj=c(sO(),1),Vj=e=>{if(!b(e))return!1;let[t,n]=e;return Bj.default.isDayjs(t)&&Bj.default.isDayjs(n)&&(0,Bj.default)(t).isValid()&&(0,Bj.default)(n).isValid()&&t.isSameOrBefore(n)},Hj=(e,{lang:t,step:n=1,unit:r,unlinkPanels:i})=>{let a;if(b(e)){let[a,o]=e.map(e=>(0,Bj.default)(e).locale(t));return i||(o=a.add(n,r)),[a,o]}else a=e?(0,Bj.default)(e):(0,Bj.default)();return a=a.locale(t),[a,a.add(n,r)]},Ite=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:a,unit:o,relativeDateGetter:s,setCellMetadata:c,setRowMetadata:l})=>{for(let u=0;u<e.row;u++){let d=t[u];for(let t=0;t<e.column;t++){let l=d[t+n];l||={row:u,column:t,type:`normal`,inRange:!1,start:!1,end:!1};let f=s(u*e.column+t);l.dayjs=f,l.date=f.toDate(),l.timestamp=f.valueOf(),l.type=`normal`,l.inRange=!!(r&&f.isSameOrAfter(r,o)&&i&&f.isSameOrBefore(i,o))||!!(r&&f.isSameOrBefore(r,o)&&i&&f.isSameOrAfter(i,o)),r?.isSameOrAfter(i)?(l.start=!!i&&f.isSame(i,o),l.end=r&&f.isSame(r,o)):(l.start=!!r&&f.isSame(r,o),l.end=!!i&&f.isSame(i,o)),f.isSame(a,o)&&(l.type=`today`),c?.(l,{rowIndex:u,columnIndex:t}),d[t+n]=l}l?.(d)}},Uj=(e,t,n,r)=>{let i=(0,Bj.default)().locale(r).startOf(`month`).month(n).year(t).hour(e.hour()).minute(e.minute()).second(e.second());return uO(i.daysInMonth()).map(e=>i.add(e,`day`).toDate())},Wj=(e,t,n,r,i)=>{let a=(0,Bj.default)().year(t).month(n).startOf(`month`).hour(e.hour()).minute(e.minute()).second(e.second()),o=Uj(e,t,n,r).find(e=>!i?.(e));return o?(0,Bj.default)(o).locale(r):a.locale(r)},Gj=(e,t,n)=>{let r=e.year();if(!n?.(e.toDate()))return e.locale(t);let i=e.month();if(!Uj(e,r,i,t).every(n))return Wj(e,r,i,t,n);for(let i=0;i<12;i++)if(!Uj(e,r,i,t).every(n))return Wj(e,r,i,t,n);return e},Kj=(e,t,n,r)=>{if(b(e))return e.map(e=>Kj(e,t,n,r));if(T(e)){let n=r?.value?(0,Bj.default)(e):(0,Bj.default)(e,t);if(!n.isValid())return n}return(0,Bj.default)(e,t).locale(n)},Lte=X({...Ij,showWeekNumber:Boolean,selectionMode:zj(`date`)}),Rte=[`changerange`,`pick`,`select`],qj=c(sO(),1),Jj=(e=``)=>[`normal`,`today`].includes(e),zte=(e,t)=>{let{lang:n}=gb(),r=F(),i=F(),a=F(),o=F(),s=F([[],[],[],[],[],[]]),c=!1,l=e.date.$locale().weekStart||7,u=e.date.locale(`en`).localeData().weekdaysShort().map(e=>e.toLowerCase()),d=q(()=>l>3?7-l:-l),f=q(()=>{let t=e.date.startOf(`month`);return t.subtract(t.day()||7,`day`)}),p=q(()=>u.concat(u).slice(l,l+7)),m=q(()=>Sp(I(x)).some(e=>e.isCurrent)),h=q(()=>{let t=e.date.startOf(`month`);return{startOfMonthDay:t.day()||7,dateCountOfMonth:t.daysInMonth(),dateCountOfLastMonth:t.subtract(1,`month`).daysInMonth()}}),g=q(()=>e.selectionMode===`dates`?XE(e.parsedValue):[]),_=(e,{count:t,rowIndex:n,columnIndex:r})=>{let{startOfMonthDay:i,dateCountOfMonth:a,dateCountOfLastMonth:o}=I(h),s=I(d);if(n>=0&&n<=1){let a=i+s<0?7+i+s:i+s;if(r+n*7>=a)return e.text=t,!0;e.text=o-(a-r%7)+1+n*7,e.type=`prev-month`}else return t<=a?e.text=t:(e.text=t-a,e.type=`next-month`),!0;return!1},v=(t,{columnIndex:n,rowIndex:r},i)=>{let{disabledDate:a,cellClassName:o}=e,s=I(g),c=_(t,{count:i,rowIndex:r,columnIndex:n}),l=t.dayjs.toDate();return t.selected=s.find(e=>e.isSame(t.dayjs,`day`)),t.isSelected=!!t.selected,t.isCurrent=C(t),t.disabled=a?.(l),t.customClass=o?.(l),c},y=t=>{if(e.selectionMode===`week`){let[n,r]=e.showWeekNumber?[1,7]:[0,6],i=ie(t[n+1]);t[n].inRange=i,t[n].start=i,t[r].inRange=i,t[r].end=i}},x=q(()=>{let{minDate:t,maxDate:r,rangeState:i,showWeekNumber:a}=e,o=I(d),c=I(s),l=1;if(Ite({row:6,column:7},c,{startDate:t,columnIndexOffset:a?1:0,nextEndDate:i.endDate||r||i.selecting&&t||null,now:(0,qj.default)().locale(I(n)).startOf(`day`),unit:`day`,relativeDateGetter:e=>I(f).add(e-o,`day`),setCellMetadata:(...e)=>{v(...e,l)&&(l+=1)},setRowMetadata:y}),a)for(let e=0;e<6;e++)c[e][1].dayjs&&(c[e][0]={type:`week`,text:c[e][1].dayjs.week()});return c});B(()=>e.date,async()=>{I(r)?.contains(document.activeElement)&&(await Ln(),await S())});let S=async()=>I(i)?.focus(),C=t=>e.selectionMode===`date`&&Jj(t.type)&&w(t,e.parsedValue),w=(t,r)=>r?(0,qj.default)(r).locale(I(n)).isSame(e.date.date(Number(t.text)),`day`):!1,T=(t,n)=>{let r=t*7+(n-(e.showWeekNumber?1:0))-I(d);return I(f).add(r,`day`)},E=n=>{if(!e.rangeState.selecting)return;let r=n.target;if(r.tagName===`SPAN`&&(r=r.parentNode?.parentNode),r.tagName===`DIV`&&(r=r.parentNode),r.tagName!==`TD`)return;let i=r.parentNode.rowIndex-1,s=r.cellIndex;I(x)[i][s].disabled||(i!==I(a)||s!==I(o))&&(a.value=i,o.value=s,t(`changerange`,{selecting:!0,endDate:T(i,s)}))},D=e=>!I(m)&&e?.text===1&&Jj(e.type)||e.isCurrent,O=t=>{c||I(m)||e.selectionMode!==`date`||re(t,!0)},k=e=>{e.target.closest(`td`)&&(c=!0)},A=e=>{e.target.closest(`td`)&&(c=!1)},ee=n=>{!e.rangeState.selecting||!e.minDate?(t(`pick`,{minDate:n,maxDate:null}),t(`select`,!0)):(n>=e.minDate?t(`pick`,{minDate:e.minDate,maxDate:n}):t(`pick`,{minDate:n,maxDate:e.minDate}),t(`select`,!1))},te=e=>{let n=e.week(),r=`${e.year()}w${n}`;t(`pick`,{year:e.year(),week:n,value:r,date:e.startOf(`week`)})},ne=(n,r)=>{t(`pick`,r?XE(e.parsedValue).filter(e=>e?.valueOf()!==n.valueOf()):XE(e.parsedValue).concat([n]))},re=(n,r=!1)=>{if(e.disabled)return;let i=n.target.closest(`td`);if(!i)return;let a=i.parentNode.rowIndex-1,o=i.cellIndex,s=I(x)[a][o];if(s.disabled||s.type===`week`)return;let c=T(a,o);switch(e.selectionMode){case`range`:ee(c);break;case`date`:t(`pick`,c,r);break;case`week`:te(c);break;case`dates`:ne(c,!!s.selected);break}},ie=t=>{if(e.selectionMode!==`week`)return!1;let n=e.date.startOf(`day`);if(t.type===`prev-month`&&(n=n.subtract(1,`month`)),t.type===`next-month`&&(n=n.add(1,`month`)),n=n.date(Number.parseInt(t.text,10)),e.parsedValue&&!b(e.parsedValue)){let t=(e.parsedValue.day()-l+7)%7-1;return e.parsedValue.subtract(t,`day`).isSame(n,`day`)}return!1};return{WEEKS:p,rows:x,tbodyRef:r,currentCellRef:i,focus:S,isCurrent:C,isWeekActive:ie,isSelectedCell:D,handlePickDate:re,handleMouseUp:A,handleMouseDown:k,handleMouseMove:E,handleFocus:O}},Bte=(e,{isCurrent:t,isWeekActive:n})=>{let r=J(`date-table`),{t:i}=gb();return{tableKls:q(()=>[r.b(),r.is(`week-mode`,e.selectionMode===`week`&&!e.disabled)]),tableLabel:q(()=>i(`el.datepicker.dateTablePrompt`)),weekHeaderClass:r.e(`week-header`),getCellClasses:n=>{let r=[];return Jj(n.type)&&!n.disabled?(r.push(`available`),n.type===`today`&&r.push(`today`)):r.push(n.type),t(n)&&r.push(`current`),n.inRange&&(Jj(n.type)||e.selectionMode===`week`)&&(r.push(`in-range`),n.start&&r.push(`start-date`),n.end&&r.push(`end-date`)),(n.disabled||e.disabled)&&r.push(`disabled`),n.selected&&r.push(`selected`),n.customClass&&r.push(n.customClass),r.join(` `)},getRowKls:e=>[r.e(`row`),{current:n(e)}],t:i}},Yj=R({name:`ElDatePickerCell`,props:X({cell:{type:Y(Object)}}),setup(e){let t=J(`date-table-cell`),{slots:n}=Ni(Pj);return()=>{let{cell:r}=e;return z(n,`default`,{...r},()=>[G(`div`,{class:t.b()},[G(`span`,{class:t.e(`text`)},[r?.renderText??r?.text])])])}}}),Xj=Hb(R({__name:`basic-date-table`,props:Lte,emits:Rte,setup(e,{expose:t,emit:n}){let r=e,{WEEKS:i,rows:a,tbodyRef:o,currentCellRef:s,focus:c,isCurrent:l,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:p,handleMouseDown:m,handleMouseMove:h,handleFocus:g}=zte(r,n),{tableLabel:_,tableKls:v,getCellClasses:y,getRowKls:b,weekHeaderClass:x,t:S}=Bte(r,{isCurrent:l,isWeekActive:u}),C=!1;return Vr(()=>{C=!0}),t({focus:c}),(e,t)=>(V(),H(`table`,{"aria-label":I(_),class:N(I(v)),cellspacing:`0`,cellpadding:`0`,role:`grid`,onClick:I(f),onMousemove:I(h),onMousedown:I(m),onMouseup:I(p)},[W(`tbody`,{ref_key:`tbodyRef`,ref:o},[W(`tr`,null,[e.showWeekNumber?(V(),H(`th`,{key:0,scope:`col`,class:N(I(x))},null,2)):K(`v-if`,!0),(V(!0),H(Da,null,ti(I(i),(e,t)=>(V(),H(`th`,{key:t,"aria-label":I(S)(`el.datepicker.weeksFull.`+e),scope:`col`},P(I(S)(`el.datepicker.weeks.`+e)),9,[`aria-label`]))),128))]),(V(!0),H(Da,null,ti(I(a),(t,n)=>(V(),H(`tr`,{key:n,class:N(I(b)(e.showWeekNumber?t[2]:t[1]))},[(V(!0),H(Da,null,ti(t,(t,r)=>(V(),H(`td`,{key:`${n}.${r}`,ref_for:!0,ref:e=>!I(C)&&I(d)(t)&&(s.value=e),class:N(I(y)(t)),"aria-current":t.isCurrent?`date`:void 0,"aria-selected":t.isCurrent,tabindex:e.disabled?void 0:I(d)(t)?0:-1,"aria-disabled":e.disabled,onFocus:I(g)},[G(I(Yj),{cell:t},null,8,[`cell`])],42,[`aria-current`,`aria-selected`,`tabindex`,`aria-disabled`,`onFocus`]))),128))],2))),128))],512)],42,[`aria-label`,`onClick`,`onMousemove`,`onMousedown`,`onMouseup`]))}}),[[`__file`,`basic-date-table.vue`]]),Zj=X({...Ij,selectionMode:zj(`month`)}),Qj=c(sO(),1),$j=Hb(R({__name:`basic-month-table`,props:Zj,emits:[`changerange`,`pick`,`select`],setup(e,{expose:t,emit:n}){let r=e,i=J(`month-table`),{t:a,lang:o}=gb(),s=F(),c=F(),l=F(r.date.locale(`en`).localeData().monthsShort().map(e=>e.toLowerCase())),u=F([[],[],[]]),d=F(),f=F(),p=q(()=>{let e=u.value,t=(0,Qj.default)().locale(o.value).startOf(`month`);for(let n=0;n<3;n++){let i=e[n];for(let e=0;e<4;e++){let a=i[e]||(i[e]={row:n,column:e,type:`normal`,inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});a.type=`normal`;let o=n*4+e,s=r.date.startOf(`year`).month(o),c=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;a.inRange=!!(r.minDate&&s.isSameOrAfter(r.minDate,`month`)&&c&&s.isSameOrBefore(c,`month`))||!!(r.minDate&&s.isSameOrBefore(r.minDate,`month`)&&c&&s.isSameOrAfter(c,`month`)),r.minDate?.isSameOrAfter(c)?(a.start=!!(c&&s.isSame(c,`month`)),a.end=r.minDate&&s.isSame(r.minDate,`month`)):(a.start=!!(r.minDate&&s.isSame(r.minDate,`month`)),a.end=!!(c&&s.isSame(c,`month`))),t.isSame(s)&&(a.type=`today`);let l=s.toDate();a.text=o,a.disabled=r.disabledDate?.call(r,l)||!1,a.date=l,a.customClass=r.cellClassName?.call(r,l),a.dayjs=s,a.timestamp=s.valueOf(),a.isSelected=g(a)}}return e}),m=()=>{var e;(e=c.value)==null||e.focus()},h=e=>{let t={},n=r.date.year(),i=new Date,a=e.text;return t.disabled=r.disabled||(r.disabledDate?Uj(r.date,n,a,o.value).every(r.disabledDate):!1),t.current=XE(r.parsedValue).some(e=>Qj.default.isDayjs(e)&&e.year()===n&&e.month()===a),t.today=i.getFullYear()===n&&i.getMonth()===a,e.customClass&&(t[e.customClass]=!0),e.inRange&&(t[`in-range`]=!0,e.start&&(t[`start-date`]=!0),e.end&&(t[`end-date`]=!0)),t},g=e=>{let t=r.date.year(),n=e.text;return XE(r.date).some(e=>e.year()===t&&e.month()===n)},_=e=>{if(!r.rangeState.selecting)return;let t=e.target;if(t.tagName===`SPAN`&&(t=t.parentNode?.parentNode),t.tagName===`DIV`&&(t=t.parentNode),t.tagName!==`TD`)return;let i=t.parentNode.rowIndex,a=t.cellIndex;p.value[i][a].disabled||(i!==d.value||a!==f.value)&&(d.value=i,f.value=a,n(`changerange`,{selecting:!0,endDate:r.date.startOf(`year`).month(i*4+a)}))},v=e=>{if(r.disabled)return;let t=e.target?.closest(`td`);if(t?.tagName!==`TD`||qb(t,`disabled`))return;let i=t.cellIndex,a=t.parentNode.rowIndex*4+i,s=r.date.startOf(`year`).month(a);if(r.selectionMode===`months`){if(e.type===`keydown`){n(`pick`,XE(r.parsedValue),!1);return}let i=Wj(r.date,r.date.year(),a,o.value,r.disabledDate);n(`pick`,qb(t,`current`)?XE(r.parsedValue).filter(e=>e?.year()!==i.year()||e?.month()!==i.month()):XE(r.parsedValue).concat([(0,Qj.default)(i)]))}else r.selectionMode===`range`?r.rangeState.selecting?(r.minDate&&s>=r.minDate?n(`pick`,{minDate:r.minDate,maxDate:s}):n(`pick`,{minDate:s,maxDate:r.minDate}),n(`select`,!1)):(n(`pick`,{minDate:s,maxDate:null}),n(`select`,!0)):n(`pick`,a)};return B(()=>r.date,async()=>{var e;s.value?.contains(document.activeElement)&&(await Ln(),(e=c.value)==null||e.focus())}),t({focus:m}),(e,t)=>(V(),H(`table`,{role:`grid`,"aria-label":I(a)(`el.datepicker.monthTablePrompt`),class:N(I(i).b()),onClick:v,onMousemove:_},[W(`tbody`,{ref_key:`tbodyRef`,ref:s},[(V(!0),H(Da,null,ti(I(p),(e,t)=>(V(),H(`tr`,{key:t},[(V(!0),H(Da,null,ti(e,(e,t)=>(V(),H(`td`,{key:t,ref_for:!0,ref:t=>e.isSelected&&(c.value=t),class:N(h(e)),"aria-selected":!!e.isSelected,"aria-label":I(a)(`el.datepicker.month${+e.text+1}`),tabindex:e.isSelected?0:-1,onKeydown:[Js(Ks(v,[`prevent`,`stop`]),[`space`]),Js(Ks(v,[`prevent`,`stop`]),[`enter`])]},[G(I(Yj),{cell:{...e,renderText:I(a)(`el.datepicker.months.`+l.value[e.text])}},null,8,[`cell`])],42,[`aria-selected`,`aria-label`,`tabindex`,`onKeydown`]))),128))]))),128))],512)],42,[`aria-label`]))}}),[[`__file`,`basic-month-table.vue`]]),eM=X({...Ij,selectionMode:zj(`year`)}),tM=c(sO(),1),nM=Hb(R({__name:`basic-year-table`,props:eM,emits:[`changerange`,`pick`,`select`],setup(e,{expose:t,emit:n}){let r=e,i=(e,t)=>{let n=(0,tM.default)(String(e)).locale(t).startOf(`year`);return uO(n.endOf(`year`).dayOfYear()).map(e=>n.add(e,`day`).toDate())},a=J(`year-table`),{t:o,lang:s}=gb(),c=F(),l=F(),u=q(()=>Math.floor(r.date.year()/10)*10),d=F([[],[],[]]),f=F(),p=F(),m=q(()=>{let e=d.value,t=(0,tM.default)().locale(s.value).startOf(`year`);for(let n=0;n<3;n++){let i=e[n];for(let e=0;e<4&&!(n*4+e>=10);e++){let a=i[e];a||={row:n,column:e,type:`normal`,inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0},a.type=`normal`;let o=n*4+e+u.value,s=(0,tM.default)().year(o),c=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;a.inRange=!!(r.minDate&&s.isSameOrAfter(r.minDate,`year`)&&c&&s.isSameOrBefore(c,`year`))||!!(r.minDate&&s.isSameOrBefore(r.minDate,`year`)&&c&&s.isSameOrAfter(c,`year`)),r.minDate?.isSameOrAfter(c)?(a.start=!!(c&&s.isSame(c,`year`)),a.end=!!(r.minDate&&s.isSame(r.minDate,`year`))):(a.start=!!(r.minDate&&s.isSame(r.minDate,`year`)),a.end=!!(c&&s.isSame(c,`year`))),t.isSame(s)&&(a.type=`today`),a.text=o;let l=s.toDate();a.disabled=r.disabledDate?.call(r,l)||!1,a.date=l,a.customClass=r.cellClassName?.call(r,l),a.dayjs=s,a.timestamp=s.valueOf(),a.isSelected=_(a),i[e]=a}}return e}),h=()=>{var e;(e=l.value)==null||e.focus()},g=e=>{let t={},n=(0,tM.default)().locale(s.value),a=e.text;return t.disabled=r.disabled||(r.disabledDate?i(a,s.value).every(r.disabledDate):!1),t.today=n.year()===a,t.current=XE(r.parsedValue).some(e=>e.year()===a),e.customClass&&(t[e.customClass]=!0),e.inRange&&(t[`in-range`]=!0,e.start&&(t[`start-date`]=!0),e.end&&(t[`end-date`]=!0)),t},_=e=>{let t=e.text;return XE(r.date).some(e=>e.year()===t)},v=e=>{if(r.disabled)return;let t=e.target?.closest(`td`);if(!t||!t.textContent||qb(t,`disabled`))return;let i=t.cellIndex,a=t.parentNode.rowIndex*4+i+u.value,o=(0,tM.default)().year(a);if(r.selectionMode===`range`)r.rangeState.selecting?(r.minDate&&o>=r.minDate?n(`pick`,{minDate:r.minDate,maxDate:o}):n(`pick`,{minDate:o,maxDate:r.minDate}),n(`select`,!1)):(n(`pick`,{minDate:o,maxDate:null}),n(`select`,!0));else if(r.selectionMode===`years`){if(e.type===`keydown`){n(`pick`,XE(r.parsedValue),!1);return}let i=Gj(o.startOf(`year`),s.value,r.disabledDate);n(`pick`,qb(t,`current`)?XE(r.parsedValue).filter(e=>e?.year()!==a):XE(r.parsedValue).concat([i]))}else n(`pick`,a)},y=e=>{if(!r.rangeState.selecting)return;let t=e.target?.closest(`td`);if(!t)return;let i=t.parentNode.rowIndex,a=t.cellIndex;m.value[i][a].disabled||(i!==f.value||a!==p.value)&&(f.value=i,p.value=a,n(`changerange`,{selecting:!0,endDate:(0,tM.default)().year(u.value).add(i*4+a,`year`)}))};return B(()=>r.date,async()=>{var e;c.value?.contains(document.activeElement)&&(await Ln(),(e=l.value)==null||e.focus())}),t({focus:h}),(e,t)=>(V(),H(`table`,{role:`grid`,"aria-label":I(o)(`el.datepicker.yearTablePrompt`),class:N(I(a).b()),onClick:v,onMousemove:y},[W(`tbody`,{ref_key:`tbodyRef`,ref:c},[(V(!0),H(Da,null,ti(I(m),(e,t)=>(V(),H(`tr`,{key:t},[(V(!0),H(Da,null,ti(e,(e,n)=>(V(),H(`td`,{key:`${t}_${n}`,ref_for:!0,ref:t=>e.isSelected&&(l.value=t),class:N([`available`,g(e)]),"aria-selected":e.isSelected,"aria-label":String(e.text),tabindex:e.isSelected?0:-1,onKeydown:[Js(Ks(v,[`prevent`,`stop`]),[`space`]),Js(Ks(v,[`prevent`,`stop`]),[`enter`])]},[G(I(Yj),{cell:e},null,8,[`cell`])],42,[`aria-selected`,`aria-label`,`tabindex`,`onKeydown`]))),128))]))),128))],512)],42,[`aria-label`]))}}),[[`__file`,`basic-year-table.vue`]]),rM=c(sO(),1),iM=Hb(R({__name:`panel-date-pick`,props:Fte,emits:[`pick`,`set-picker-option`,`panel-change`],setup(e,{emit:t}){let n=e,r=(e,t,n)=>!0,i=J(`picker-panel`),a=J(`date-picker`),o=ui(),s=li(),{t:c,lang:l}=gb(),u=Ni(pj),d=Ni(Fj,void 0),{shortcuts:f,disabledDate:p,cellClassName:m,defaultTime:h}=u.props,g=_n(u.props,`defaultValue`),_=F(),v=F((0,rM.default)().locale(l.value)),y=F(!1),x=!1,S=q(()=>(0,rM.default)(h).locale(l.value)),C=q(()=>v.value.month()),T=q(()=>v.value.year()),E=F([]),D=F(null),O=F(null),k=e=>E.value.length>0?r(e,E.value,n.format||`HH:mm:ss`):!0,A=e=>h&&!Se.value&&!y.value&&!x?S.value.year(e.year()).month(e.month()).date(e.date()):he.value?e.millisecond(0):e.startOf(`day`),ee=(e,...n)=>{e?b(e)?t(`pick`,e.map(A),...n):t(`pick`,A(e),...n):t(`pick`,e,...n),D.value=null,O.value=null,y.value=!1,x=!1},te=async(e,t)=>{if(se.value===`date`&&rM.default.isDayjs(e)){let r=YE(n.parsedValue),i=r?r.year(e.year()).month(e.month()).date(e.date()):e;k(i)||(i=E.value[0][0].year(e.year()).month(e.month()).date(e.date())),v.value=i,ee(i,he.value||t)}else se.value===`week`?ee(e.date):se.value===`dates`&&ee(e,!0)},ne=e=>{let t=e?`add`:`subtract`;v.value=v.value[t](1,`month`),Re(`month`)},re=e=>{let t=v.value,n=e?`add`:`subtract`;v.value=ie.value===`year`?t[n](10,`year`):t[n](1,`year`),Re(`year`)},ie=F(`date`),ae=q(()=>{let e=c(`el.datepicker.year`);if(ie.value===`year`){let t=Math.floor(T.value/10)*10;return e?`${t} ${e} - ${t+9} ${e}`:`${t} - ${t+9}`}return`${T.value} ${e}`}),oe=e=>{let n=w(e.value)?e.value():e.value;if(n){x=!0,ee((0,rM.default)(n).locale(l.value));return}e.onClick&&e.onClick({attrs:o,slots:s,emit:t})},se=q(()=>{let{type:e}=n;return[`week`,`month`,`months`,`year`,`years`,`dates`].includes(e)?e:`date`}),ce=q(()=>se.value===`dates`||se.value===`months`||se.value===`years`),le=q(()=>se.value===`date`?ie.value:se.value),ue=q(()=>!!f.length),de=async(e,t)=>{se.value===`month`?(v.value=Wj(v.value,v.value.year(),e,l.value,p),ee(v.value,!1)):se.value===`months`?ee(e,t??!0):(v.value=Wj(v.value,v.value.year(),e,l.value,p),ie.value=`date`,[`month`,`year`,`date`,`week`].includes(se.value)&&(ee(v.value,!0),await Ln(),Pe())),Re(`month`)},fe=async(e,t)=>{se.value===`year`?(v.value=Gj(v.value.startOf(`year`).year(e),l.value,p),ee(v.value,!1)):se.value===`years`?ee(e,t??!0):(v.value=Gj(v.value.year(e),l.value,p),ie.value=`month`,[`month`,`year`,`date`,`week`].includes(se.value)&&(ee(v.value,!0),await Ln(),Pe())),Re(`year`)},pe=XS(),me=async e=>{pe.value||(ie.value=e,await Ln(),Pe())},he=q(()=>n.type===`datetime`||n.type===`datetimerange`),ge=q(()=>{let e=he.value||se.value===`dates`,t=se.value===`years`,n=se.value===`months`,r=ie.value===`date`,i=ie.value===`year`,a=ie.value===`month`;return e&&r||t&&i||n&&a}),_e=q(()=>!ce.value&&n.showNow||n.showConfirm),j=q(()=>p?n.parsedValue?b(n.parsedValue)?p(n.parsedValue[0].toDate()):p(n.parsedValue.toDate()):!0:!1),M=()=>{if(ce.value)ee(n.parsedValue);else{let e=YE(n.parsedValue);if(!e){let t=(0,rM.default)(h).locale(l.value),n=Ne();e=t.year(n.year()).month(n.month()).date(n.date())}v.value=e,ee(e)}},ve=q(()=>p?p((0,rM.default)().locale(l.value).toDate()):!1),ye=()=>{let e=(0,rM.default)().locale(l.value).toDate();y.value=!0,(!p||!p(e))&&k(e)&&(v.value=(0,rM.default)().locale(l.value),ee(v.value))},be=q(()=>n.timeFormat||fO(n.format)||`HH:mm:ss`),xe=q(()=>n.dateFormat||dO(n.format)||`YYYY-MM-DD`),Se=q(()=>{if(O.value)return O.value;if(!(!n.parsedValue&&!g.value))return(YE(n.parsedValue)||v.value).format(be.value)}),Ce=q(()=>{if(D.value)return D.value;if(!(!n.parsedValue&&!g.value))return(YE(n.parsedValue)||v.value).format(xe.value)}),we=F(!1),Te=()=>{we.value=!0},Ee=()=>{we.value=!1},De=e=>({hour:e.hour(),minute:e.minute(),second:e.second(),year:e.year(),month:e.month(),date:e.date()}),Oe=(e,t,r)=>{let{hour:i,minute:a,second:o}=De(e),s=YE(n.parsedValue);v.value=s?s.hour(i).minute(a).second(o):e,ee(v.value,!0),r||(we.value=t)},ke=e=>{let t=(0,rM.default)(e,be.value).locale(l.value);if(t.isValid()&&k(t)){let{year:e,month:n,date:r}=De(v.value);v.value=t.year(e).month(n).date(r),O.value=null,we.value=!1,ee(v.value,!0)}},Ae=e=>{let t=Kj(e,xe.value,l.value,d);if(t.isValid()){if(p&&p(t.toDate()))return;let{hour:e,minute:n,second:r}=De(v.value);v.value=t.hour(e).minute(n).second(r),D.value=null,ee(v.value,!0)}},je=e=>rM.default.isDayjs(e)&&e.isValid()&&(p?!p(e.toDate()):!0),Me=e=>Kj(e,n.format,l.value,d),Ne=()=>{let e=(0,rM.default)(g.value).locale(l.value);if(!g.value){let e=S.value;return(0,rM.default)().hour(e.hour()).minute(e.minute()).second(e.second()).locale(l.value)}return e},Pe=()=>{var e;[`week`,`month`,`year`,`date`].includes(se.value)&&((e=_.value)==null||e.focus())},Fe=()=>{Pe(),se.value===`week`&&Le(Z.down)},Ie=e=>{let t=dw(e);[Z.up,Z.down,Z.left,Z.right,Z.home,Z.end,Z.pageUp,Z.pageDown].includes(t)&&(Le(t),e.stopPropagation(),e.preventDefault()),[Z.enter,Z.space,Z.numpadEnter].includes(t)&&D.value===null&&O.value===null&&(e.preventDefault(),ee(v.value,!1))},Le=e=>{let{up:n,down:r,left:i,right:a,home:o,end:s,pageUp:c,pageDown:u}=Z,d={year:{[n]:-4,[r]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setFullYear(e.getFullYear()+t)},month:{[n]:-4,[r]:4,[i]:-1,[a]:1,offset:(e,t)=>e.setMonth(e.getMonth()+t)},week:{[n]:-1,[r]:1,[i]:-1,[a]:1,offset:(e,t)=>e.setDate(e.getDate()+t*7)},date:{[n]:-7,[r]:7,[i]:-1,[a]:1,[o]:e=>-e.getDay(),[s]:e=>-e.getDay()+6,[c]:e=>-new Date(e.getFullYear(),e.getMonth(),0).getDate(),[u]:e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),offset:(e,t)=>e.setDate(e.getDate()+t)}},f=v.value.toDate();for(;Math.abs(v.value.diff(f,`year`,!0))<1;){let n=d[le.value];if(!n)return;if(n.offset(f,w(n[e])?n[e](f):n[e]??0),p&&p(f))break;let r=(0,rM.default)(f).locale(l.value);v.value=r,t(`pick`,r,!0);break}},Re=e=>{t(`panel-change`,v.value.toDate(),e,ie.value)};return B(()=>se.value,e=>{if([`month`,`year`].includes(e)){ie.value=e;return}else if(e===`years`){ie.value=`year`;return}else if(e===`months`){ie.value=`month`;return}ie.value=`date`},{immediate:!0}),B(()=>g.value,e=>{e&&(v.value=Ne())},{immediate:!0}),B(()=>n.parsedValue,e=>{if(e){if(ce.value||b(e))return;v.value=e}else v.value=Ne()},{immediate:!0}),t(`set-picker-option`,[`isValidValue`,je]),t(`set-picker-option`,[`parseUserInput`,Me]),t(`set-picker-option`,[`handleFocusPicker`,Fe]),(e,t)=>(V(),H(`div`,{class:N([I(i).b(),I(a).b(),I(i).is(`border`,e.border),I(i).is(`disabled`,I(pe)),{"has-sidebar":e.$slots.sidebar||I(ue),"has-time":I(he)}])},[W(`div`,{class:N(I(i).e(`body-wrapper`))},[z(e.$slots,`sidebar`,{class:N(I(i).e(`sidebar`))}),I(ue)?(V(),H(`div`,{key:0,class:N(I(i).e(`sidebar`))},[(V(!0),H(Da,null,ti(I(f),(e,t)=>(V(),H(`button`,{key:t,type:`button`,disabled:I(pe),class:N(I(i).e(`shortcut`)),onClick:t=>oe(e)},P(e.text),11,[`disabled`,`onClick`]))),128))],2)):K(`v-if`,!0),W(`div`,{class:N(I(i).e(`body`))},[I(he)?(V(),H(`div`,{key:0,class:N(I(a).e(`time-header`))},[W(`span`,{class:N(I(a).e(`editor-wrap`))},[G(I(dC),{placeholder:I(c)(`el.datepicker.selectDate`),"model-value":I(Ce),size:`small`,"validate-event":!1,disabled:I(pe),onInput:e=>D.value=e,onChange:Ae},null,8,[`placeholder`,`model-value`,`disabled`,`onInput`])],2),Yn((V(),H(`span`,{class:N(I(a).e(`editor-wrap`))},[G(I(dC),{placeholder:I(c)(`el.datepicker.selectTime`),"model-value":I(Se),size:`small`,"validate-event":!1,disabled:I(pe),onFocus:Te,onInput:e=>O.value=e,onChange:ke},null,8,[`placeholder`,`model-value`,`disabled`,`onInput`]),G(I(Mj),{visible:we.value,format:I(be),"parsed-value":v.value,onPick:Oe},null,8,[`visible`,`format`,`parsed-value`])],2)),[[I(mA),Ee]])],2)):K(`v-if`,!0),Yn(W(`div`,{class:N([I(a).e(`header`),(ie.value===`year`||ie.value===`month`)&&I(a).em(`header`,`bordered`)])},[W(`span`,{class:N(I(a).e(`prev-btn`))},[W(`button`,{type:`button`,"aria-label":I(c)(`el.datepicker.prevYear`),class:N([`d-arrow-left`,I(i).e(`icon-btn`)]),disabled:I(pe),onClick:e=>re(!1)},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`aria-label`,`disabled`,`onClick`]),Yn(W(`button`,{type:`button`,"aria-label":I(c)(`el.datepicker.prevMonth`),class:N([I(i).e(`icon-btn`),`arrow-left`]),disabled:I(pe),onClick:e=>ne(!1)},[z(e.$slots,`prev-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1})])],10,[`aria-label`,`disabled`,`onClick`]),[[Zo,ie.value===`date`]])],2),W(`span`,{role:`button`,class:N(I(a).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:Js(e=>me(`year`),[`enter`]),onClick:e=>me(`year`)},P(I(ae)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),Yn(W(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:N([I(a).e(`header-label`),{active:ie.value===`month`}]),onKeydown:Js(e=>me(`month`),[`enter`]),onClick:e=>me(`month`)},P(I(c)(`el.datepicker.month${I(C)+1}`)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),[[Zo,ie.value===`date`]]),W(`span`,{class:N(I(a).e(`next-btn`))},[Yn(W(`button`,{type:`button`,"aria-label":I(c)(`el.datepicker.nextMonth`),class:N([I(i).e(`icon-btn`),`arrow-right`]),disabled:I(pe),onClick:e=>ne(!0)},[z(e.$slots,`next-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})])],10,[`aria-label`,`disabled`,`onClick`]),[[Zo,ie.value===`date`]]),W(`button`,{type:`button`,"aria-label":I(c)(`el.datepicker.nextYear`),class:N([I(i).e(`icon-btn`),`d-arrow-right`]),disabled:I(pe),onClick:e=>re(!0)},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`aria-label`,`disabled`,`onClick`])],2)],2),[[Zo,ie.value!==`time`]]),W(`div`,{class:N(I(i).e(`content`)),onKeydown:Ie},[ie.value===`date`?(V(),U(Xj,{key:0,ref_key:`currentViewRef`,ref:_,"selection-mode":I(se),date:v.value,"parsed-value":e.parsedValue,"disabled-date":I(p),disabled:I(pe),"cell-class-name":I(m),"show-week-number":e.showWeekNumber,onPick:te},null,8,[`selection-mode`,`date`,`parsed-value`,`disabled-date`,`disabled`,`cell-class-name`,`show-week-number`])):K(`v-if`,!0),ie.value===`year`?(V(),U(nM,{key:1,ref_key:`currentViewRef`,ref:_,"selection-mode":I(se),date:v.value,"disabled-date":I(p),disabled:I(pe),"parsed-value":e.parsedValue,"cell-class-name":I(m),onPick:fe},null,8,[`selection-mode`,`date`,`disabled-date`,`disabled`,`parsed-value`,`cell-class-name`])):K(`v-if`,!0),ie.value===`month`?(V(),U($j,{key:2,ref_key:`currentViewRef`,ref:_,"selection-mode":I(se),date:v.value,"parsed-value":e.parsedValue,"disabled-date":I(p),disabled:I(pe),"cell-class-name":I(m),onPick:de},null,8,[`selection-mode`,`date`,`parsed-value`,`disabled-date`,`disabled`,`cell-class-name`])):K(`v-if`,!0)],34)],2)],2),e.showFooter&&I(ge)&&I(_e)?(V(),H(`div`,{key:0,class:N(I(i).e(`footer`))},[Yn(G(I(aO),{text:``,size:`small`,class:N(I(i).e(`link-btn`)),disabled:I(ve),onClick:ye},{default:L(()=>[Wa(P(I(c)(`el.datepicker.now`)),1)]),_:1},8,[`class`,`disabled`]),[[Zo,!I(ce)&&e.showNow]]),e.showConfirm?(V(),U(I(aO),{key:0,plain:``,size:`small`,class:N(I(i).e(`link-btn`)),disabled:I(j),onClick:M},{default:L(()=>[Wa(P(I(c)(`el.datepicker.confirm`)),1)]),_:1},8,[`class`,`disabled`])):K(`v-if`,!0)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`panel-date-pick.vue`]]),aM=X({...Lj,...Rj}),oM=c(sO(),1),sM=e=>{let{emit:t}=eo(),n=ui(),r=li();return i=>{let a=w(i.value)?i.value():i.value;if(a){t(`pick`,[(0,oM.default)(a[0]).locale(e.value),(0,oM.default)(a[1]).locale(e.value)]);return}i.onClick&&i.onClick({attrs:n,slots:r,emit:t})}},cM=c(sO(),1),lM=(e,{defaultValue:t,defaultTime:n,leftDate:r,rightDate:i,step:a,unit:o,sortDates:s})=>{let{emit:c}=eo(),{pickerNs:l}=Ni(Pj),u=J(`date-range-picker`),{t:d,lang:f}=gb(),p=sM(f),m=F(),h=F(),g=F({endDate:null,selecting:!1}),_=e=>{g.value=e},v=(e=!1)=>{let t=I(m),n=I(h);Vj([t,n])&&c(`pick`,[t,n],e)},y=e=>{g.value.selecting=e,e||(g.value.endDate=null)},x=e=>{if(b(e)&&e.length===2){let[t,n]=e;m.value=t,r.value=t,h.value=n,s(I(m),I(h))}else S()},S=()=>{let[s,c]=Hj(I(t),{lang:I(f),step:a,unit:o,unlinkPanels:e.unlinkPanels}),l=e=>e.diff(e.startOf(`d`),`ms`),u=I(n);if(u){let e=0,t=0;if(b(u)){let[n,r]=u.map(cM.default);e=l(n),t=l(r)}else{let n=l((0,cM.default)(u));e=n,t=n}s=s.startOf(`d`).add(e,`ms`),c=c.startOf(`d`).add(t,`ms`)}m.value=void 0,h.value=void 0,r.value=s,i.value=c};return B(t,e=>{e&&S()},{immediate:!0}),B(()=>e.parsedValue,e=>{(!e?.length||!iv(e,[m.value,h.value]))&&x(e)},{immediate:!0}),B(()=>e.visible,()=>{e.visible&&x(e.parsedValue)},{immediate:!0}),{minDate:m,maxDate:h,rangeState:g,lang:f,ppNs:l,drpNs:u,handleChangeRange:_,handleRangeConfirm:v,handleShortcutClick:p,onSelect:y,parseValue:x,t:d}},uM=(e,t,n,r)=>{let i=F(`date`),a=F(),o=F(`date`),s=F(),{disabledDate:c}=Ni(pj).props,{t:l,lang:u}=gb(),d=q(()=>n.value.year()),f=q(()=>n.value.month()),p=q(()=>r.value.year()),m=q(()=>r.value.month());function h(e,t){let n=l(`el.datepicker.year`);if(e.value===`year`){let e=Math.floor(t.value/10)*10;return n?`${e} ${n} - ${e+9} ${n}`:`${e} - ${e+9}`}return`${t.value} ${n}`}function g(e){e?.focus()}async function _(t,n){if(e.disabled)return;let r=t===`left`?i:o,c=t===`left`?a:s;r.value=n,await Ln(),g(c.value)}async function v(t,l,d){if(e.disabled)return;let f=l===`left`,p=f?n:r,m=f?r:n,h=f?i:o,_=f?a:s;t===`year`&&(p.value=Gj(p.value.year(d),u.value,c)),t===`month`&&(p.value=Wj(p.value,p.value.year(),d,u.value,c)),e.unlinkPanels||(m.value=l===`left`?p.value.add(1,`month`):p.value.subtract(1,`month`)),h.value=t===`year`?`month`:`date`,await Ln(),g(_.value),y(t)}function y(e){t(`panel-change`,[n.value.toDate(),r.value.toDate()],e)}function b(e,t,n){let r=n?`add`:`subtract`;return e===`year`?t[r](10,`year`):t[r](1,`year`)}return{leftCurrentView:i,rightCurrentView:o,leftCurrentViewRef:a,rightCurrentViewRef:s,leftYear:d,rightYear:p,leftMonth:f,rightMonth:m,leftYearLabel:q(()=>h(i,d)),rightYearLabel:q(()=>h(o,p)),showLeftPicker:e=>_(`left`,e),showRightPicker:e=>_(`right`,e),handleLeftYearPick:e=>v(`year`,`left`,e),handleRightYearPick:e=>v(`year`,`right`,e),handleLeftMonthPick:e=>v(`month`,`left`,e),handleRightMonthPick:e=>v(`month`,`right`,e),handlePanelChange:y,adjustDateByView:b}},dM=c(sO(),1),fM=`month`,pM=Hb(R({__name:`panel-date-range`,props:aM,emits:[`pick`,`set-picker-option`,`calendar-change`,`panel-change`],setup(e,{emit:t}){let n=e,r=Ni(pj),i=Ni(Fj,void 0),{disabledDate:a,cellClassName:o,defaultTime:s,clearable:c}=r.props,l=_n(r.props,`format`),u=_n(r.props,`shortcuts`),d=_n(r.props,`defaultValue`),{lang:f}=gb(),p=F((0,dM.default)().locale(f.value)),m=F((0,dM.default)().locale(f.value).add(1,fM)),{minDate:h,maxDate:g,rangeState:_,ppNs:v,drpNs:y,handleChangeRange:b,handleRangeConfirm:x,handleShortcutClick:S,onSelect:C,parseValue:w,t:T}=lM(n,{defaultValue:d,defaultTime:s,leftDate:p,rightDate:m,unit:fM,sortDates:Je});B(()=>n.visible,e=>{!e&&_.value.selecting&&(w(n.parsedValue),C(!1))});let E=F({min:null,max:null}),D=F({min:null,max:null}),{leftCurrentView:O,rightCurrentView:k,leftCurrentViewRef:A,rightCurrentViewRef:ee,leftYear:te,rightYear:ne,leftMonth:re,rightMonth:ie,leftYearLabel:ae,rightYearLabel:oe,showLeftPicker:se,showRightPicker:ce,handleLeftYearPick:le,handleRightYearPick:ue,handleLeftMonthPick:de,handleRightMonthPick:fe,handlePanelChange:pe,adjustDateByView:me}=uM(n,t,p,m),he=q(()=>!!u.value.length),ge=q(()=>E.value.min===null?h.value?h.value.format(ye.value):``:E.value.min),_e=q(()=>E.value.max===null?g.value||h.value?(g.value||h.value).format(ye.value):``:E.value.max),j=q(()=>D.value.min===null?h.value?h.value.format(ve.value):``:D.value.min),M=q(()=>D.value.max===null?g.value||h.value?(g.value||h.value).format(ve.value):``:D.value.max),ve=q(()=>n.timeFormat||fO(l.value||``)||`HH:mm:ss`),ye=q(()=>n.dateFormat||dO(l.value||``)||`YYYY-MM-DD`),be=e=>Vj(e)&&(a?!a(e[0].toDate())&&!a(e[1].toDate()):!0),xe=()=>{p.value=me(O.value,p.value,!1),n.unlinkPanels||(m.value=p.value.add(1,`month`)),pe(`year`)},Se=()=>{p.value=p.value.subtract(1,`month`),n.unlinkPanels||(m.value=p.value.add(1,`month`)),pe(`month`)},Ce=()=>{n.unlinkPanels?m.value=me(k.value,m.value,!0):(p.value=me(k.value,p.value,!0),m.value=p.value.add(1,`month`)),pe(`year`)},we=()=>{n.unlinkPanels?m.value=m.value.add(1,`month`):(p.value=p.value.add(1,`month`),m.value=p.value.add(1,`month`)),pe(`month`)},Te=()=>{p.value=me(O.value,p.value,!0),pe(`year`)},Ee=()=>{p.value=p.value.add(1,`month`),pe(`month`)},De=()=>{m.value=me(k.value,m.value,!1),pe(`year`)},Oe=()=>{m.value=m.value.subtract(1,`month`),pe(`month`)},ke=q(()=>{let e=(re.value+1)%12,t=re.value+1>=12?1:0;return n.unlinkPanels&&new Date(te.value+t,e)<new Date(ne.value,ie.value)}),Ae=q(()=>n.unlinkPanels&&ne.value*12+ie.value-(te.value*12+re.value+1)>=12),je=XS(),Me=q(()=>!(h.value&&g.value&&!_.value.selecting&&Vj([h.value,g.value])&&!je.value)),Ne=q(()=>n.type===`datetime`||n.type===`datetimerange`),Pe=(e,t)=>{if(e)return s?(0,dM.default)(s[t]||s).locale(f.value).year(e.year()).month(e.month()).date(e.date()):e},Fe=(e,n=!0)=>{let r=e.minDate,i=e.maxDate,a=Pe(r,0),o=Pe(i,1);g.value===o&&h.value===a||(t(`calendar-change`,[r.toDate(),i&&i.toDate()]),g.value=o,h.value=a,!Ne.value&&n&&(n=!a||!o),x(n))},Ie=F(!1),Le=F(!1),Re=()=>{Ie.value=!1},ze=()=>{Le.value=!1},Be=(e,t)=>{E.value[t]=e;let r=(0,dM.default)(e,ye.value).locale(f.value);if(r.isValid()){if(a&&a(r.toDate()))return;t===`min`?(p.value=r,h.value=(h.value||p.value).year(r.year()).month(r.month()).date(r.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(h.value))&&(m.value=r.add(1,`month`),g.value=h.value.add(1,`month`))):(m.value=r,g.value=(g.value||m.value).year(r.year()).month(r.month()).date(r.date()),!n.unlinkPanels&&(!h.value||h.value.isAfter(g.value))&&(p.value=r.subtract(1,`month`),h.value=g.value.subtract(1,`month`))),Je(h.value,g.value),x(!0)}},Ve=(e,t)=>{E.value[t]=null},He=(e,t)=>{D.value[t]=e;let n=(0,dM.default)(e,ve.value).locale(f.value);n.isValid()&&(t===`min`?(Ie.value=!0,h.value=(h.value||p.value).hour(n.hour()).minute(n.minute()).second(n.second()),p.value=h.value):(Le.value=!0,g.value=(g.value||m.value).hour(n.hour()).minute(n.minute()).second(n.second()),m.value=g.value))},Ue=(e,t)=>{D.value[t]=null,t===`min`?(p.value=h.value,Ie.value=!1,(!g.value||g.value.isBefore(h.value))&&(g.value=h.value)):(m.value=g.value,Le.value=!1,g.value&&g.value.isBefore(h.value)&&(h.value=g.value)),x(!0)},We=(e,t,r)=>{D.value.min||(e&&(p.value=e,h.value=(h.value||p.value).hour(e.hour()).minute(e.minute()).second(e.second())),r||(Ie.value=t),(!g.value||g.value.isBefore(h.value))&&(g.value=h.value,m.value=e,Ln(()=>{w(n.parsedValue)})),x(!0))},Ge=(e,t,n)=>{D.value.max||(e&&(m.value=e,g.value=(g.value||m.value).hour(e.hour()).minute(e.minute()).second(e.second())),n||(Le.value=t),g.value&&g.value.isBefore(h.value)&&(h.value=g.value),x(!0))},Ke=()=>{let e=null;r?.emptyValues&&(e=r.emptyValues.valueOnClear.value),p.value=Hj(I(d),{lang:I(f),unit:`month`,unlinkPanels:n.unlinkPanels})[0],m.value=p.value.add(1,`month`),g.value=void 0,h.value=void 0,x(!0),t(`pick`,e)},qe=e=>Kj(e,l.value||``,f.value,i);function Je(e,t){if(n.unlinkPanels&&t){let n=e?.year()||0,r=e?.month()||0,i=t.year(),a=t.month();m.value=n===i&&r===a?t.add(1,fM):t}else m.value=p.value.add(1,fM),t&&(m.value=m.value.hour(t.hour()).minute(t.minute()).second(t.second()))}return t(`set-picker-option`,[`isValidValue`,be]),t(`set-picker-option`,[`parseUserInput`,qe]),t(`set-picker-option`,[`handleClear`,Ke]),(e,t)=>(V(),H(`div`,{class:N([I(v).b(),I(y).b(),I(v).is(`border`,e.border),I(v).is(`disabled`,I(je)),{"has-sidebar":e.$slots.sidebar||I(he),"has-time":I(Ne)}])},[W(`div`,{class:N(I(v).e(`body-wrapper`))},[z(e.$slots,`sidebar`,{class:N(I(v).e(`sidebar`))}),I(he)?(V(),H(`div`,{key:0,class:N(I(v).e(`sidebar`))},[(V(!0),H(Da,null,ti(I(u),(e,t)=>(V(),H(`button`,{key:t,type:`button`,disabled:I(je),class:N(I(v).e(`shortcut`)),onClick:t=>I(S)(e)},P(e.text),11,[`disabled`,`onClick`]))),128))],2)):K(`v-if`,!0),W(`div`,{class:N(I(v).e(`body`))},[I(Ne)?(V(),H(`div`,{key:0,class:N(I(y).e(`time-header`))},[W(`span`,{class:N(I(y).e(`editors-wrap`))},[W(`span`,{class:N(I(y).e(`time-picker-wrap`))},[G(I(dC),{size:`small`,disabled:I(_).selecting||I(je),placeholder:I(T)(`el.datepicker.startDate`),class:N(I(y).e(`editor`)),"model-value":I(ge),"validate-event":!1,onInput:e=>Be(e,`min`),onChange:e=>Ve(e,`min`)},null,8,[`disabled`,`placeholder`,`class`,`model-value`,`onInput`,`onChange`])],2),Yn((V(),H(`span`,{class:N(I(y).e(`time-picker-wrap`))},[G(I(dC),{size:`small`,class:N(I(y).e(`editor`)),disabled:I(_).selecting||I(je),placeholder:I(T)(`el.datepicker.startTime`),"model-value":I(j),"validate-event":!1,onFocus:e=>Ie.value=!0,onInput:e=>He(e,`min`),onChange:e=>Ue(e,`min`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`onFocus`,`onInput`,`onChange`]),G(I(Mj),{visible:Ie.value,format:I(ve),"datetime-role":`start`,"parsed-value":p.value,onPick:We},null,8,[`visible`,`format`,`parsed-value`])],2)),[[I(mA),Re]])],2),W(`span`,null,[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})]),W(`span`,{class:N([I(y).e(`editors-wrap`),`is-right`])},[W(`span`,{class:N(I(y).e(`time-picker-wrap`))},[G(I(dC),{size:`small`,class:N(I(y).e(`editor`)),disabled:I(_).selecting||I(je),placeholder:I(T)(`el.datepicker.endDate`),"model-value":I(_e),readonly:!I(h),"validate-event":!1,onInput:e=>Be(e,`max`),onChange:e=>Ve(e,`max`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`readonly`,`onInput`,`onChange`])],2),Yn((V(),H(`span`,{class:N(I(y).e(`time-picker-wrap`))},[G(I(dC),{size:`small`,class:N(I(y).e(`editor`)),disabled:I(_).selecting||I(je),placeholder:I(T)(`el.datepicker.endTime`),"model-value":I(M),readonly:!I(h),"validate-event":!1,onFocus:e=>I(h)&&(Le.value=!0),onInput:e=>He(e,`max`),onChange:e=>Ue(e,`max`)},null,8,[`class`,`disabled`,`placeholder`,`model-value`,`readonly`,`onFocus`,`onInput`,`onChange`]),G(I(Mj),{"datetime-role":`end`,visible:Le.value,format:I(ve),"parsed-value":m.value,onPick:Ge},null,8,[`visible`,`format`,`parsed-value`])],2)),[[I(mA),ze]])],2)],2)):K(`v-if`,!0),W(`div`,{class:N([[I(v).e(`content`),I(y).e(`content`)],`is-left`])},[W(`div`,{class:N(I(y).e(`header`))},[W(`button`,{type:`button`,class:N([I(v).e(`icon-btn`),`d-arrow-left`]),"aria-label":I(T)(`el.datepicker.prevYear`),disabled:I(je),onClick:xe},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`aria-label`,`disabled`]),Yn(W(`button`,{type:`button`,class:N([I(v).e(`icon-btn`),`arrow-left`]),"aria-label":I(T)(`el.datepicker.prevMonth`),disabled:I(je),onClick:Se},[z(e.$slots,`prev-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1})])],10,[`aria-label`,`disabled`]),[[Zo,I(O)===`date`]]),e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(Ae)||I(je),class:N([[I(v).e(`icon-btn`),I(v).is(`disabled`,!I(Ae)||I(je))],`d-arrow-right`]),"aria-label":I(T)(`el.datepicker.nextYear`),onClick:Te},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`disabled`,`aria-label`])):K(`v-if`,!0),e.unlinkPanels&&I(O)===`date`?(V(),H(`button`,{key:1,type:`button`,disabled:!I(ke)||I(je),class:N([[I(v).e(`icon-btn`),I(v).is(`disabled`,!I(ke)||I(je))],`arrow-right`]),"aria-label":I(T)(`el.datepicker.nextMonth`),onClick:Ee},[z(e.$slots,`next-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})])],10,[`disabled`,`aria-label`])):K(`v-if`,!0),W(`div`,null,[W(`span`,{role:`button`,class:N(I(y).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:Js(e=>I(se)(`year`),[`enter`]),onClick:e=>I(se)(`year`)},P(I(ae)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),Yn(W(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:N([I(y).e(`header-label`),{active:I(O)===`month`}]),onKeydown:Js(e=>I(se)(`month`),[`enter`]),onClick:e=>I(se)(`month`)},P(I(T)(`el.datepicker.month${p.value.month()+1}`)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),[[Zo,I(O)===`date`]])])],2),I(O)===`date`?(V(),U(Xj,{key:0,ref_key:`leftCurrentViewRef`,ref:A,"selection-mode":`range`,date:p.value,"min-date":I(h),"max-date":I(g),"range-state":I(_),"disabled-date":I(a),"cell-class-name":I(o),"show-week-number":e.showWeekNumber,disabled:I(je),onChangerange:I(b),onPick:Fe,onSelect:I(C)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`cell-class-name`,`show-week-number`,`disabled`,`onChangerange`,`onSelect`])):K(`v-if`,!0),I(O)===`year`?(V(),U(nM,{key:1,ref_key:`leftCurrentViewRef`,ref:A,"selection-mode":`year`,date:p.value,"disabled-date":I(a),"parsed-value":e.parsedValue,disabled:I(je),onPick:I(le)},null,8,[`date`,`disabled-date`,`parsed-value`,`disabled`,`onPick`])):K(`v-if`,!0),I(O)===`month`?(V(),U($j,{key:2,ref_key:`leftCurrentViewRef`,ref:A,"selection-mode":`month`,date:p.value,"parsed-value":e.parsedValue,"disabled-date":I(a),disabled:I(je),onPick:I(de)},null,8,[`date`,`parsed-value`,`disabled-date`,`disabled`,`onPick`])):K(`v-if`,!0)],2),W(`div`,{class:N([[I(v).e(`content`),I(y).e(`content`)],`is-right`])},[W(`div`,{class:N([I(y).e(`header`),I(v).is(`disabled`,!I(Ae)||I(je))])},[e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(Ae)||I(je),class:N([I(v).e(`icon-btn`),`d-arrow-left`]),"aria-label":I(T)(`el.datepicker.prevYear`),onClick:De},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`disabled`,`aria-label`])):K(`v-if`,!0),e.unlinkPanels&&I(k)===`date`?(V(),H(`button`,{key:1,type:`button`,disabled:!I(ke)||I(je),class:N([I(v).e(`icon-btn`),`arrow-left`]),"aria-label":I(T)(`el.datepicker.prevMonth`),onClick:Oe},[z(e.$slots,`prev-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1})])],10,[`disabled`,`aria-label`])):K(`v-if`,!0),W(`button`,{type:`button`,"aria-label":I(T)(`el.datepicker.nextYear`),class:N([I(v).e(`icon-btn`),`d-arrow-right`]),disabled:I(je),onClick:Ce},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`aria-label`,`disabled`]),Yn(W(`button`,{type:`button`,class:N([I(v).e(`icon-btn`),`arrow-right`]),disabled:I(je),"aria-label":I(T)(`el.datepicker.nextMonth`),onClick:we},[z(e.$slots,`next-month`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})])],10,[`disabled`,`aria-label`]),[[Zo,I(k)===`date`]]),W(`div`,null,[W(`span`,{role:`button`,class:N(I(y).e(`header-label`)),"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,onKeydown:Js(e=>I(ce)(`year`),[`enter`]),onClick:e=>I(ce)(`year`)},P(I(oe)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),Yn(W(`span`,{role:`button`,"aria-live":`polite`,tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,class:N([I(y).e(`header-label`),{active:I(k)===`month`}]),onKeydown:Js(e=>I(ce)(`month`),[`enter`]),onClick:e=>I(ce)(`month`)},P(I(T)(`el.datepicker.month${m.value.month()+1}`)),43,[`tabindex`,`aria-disabled`,`onKeydown`,`onClick`]),[[Zo,I(k)===`date`]])])],2),I(k)===`date`?(V(),U(Xj,{key:0,ref_key:`rightCurrentViewRef`,ref:ee,"selection-mode":`range`,date:m.value,"min-date":I(h),"max-date":I(g),"range-state":I(_),"disabled-date":I(a),"cell-class-name":I(o),"show-week-number":e.showWeekNumber,disabled:I(je),onChangerange:I(b),onPick:Fe,onSelect:I(C)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`cell-class-name`,`show-week-number`,`disabled`,`onChangerange`,`onSelect`])):K(`v-if`,!0),I(k)===`year`?(V(),U(nM,{key:1,ref_key:`rightCurrentViewRef`,ref:ee,"selection-mode":`year`,date:m.value,"disabled-date":I(a),"parsed-value":e.parsedValue,disabled:I(je),onPick:I(ue)},null,8,[`date`,`disabled-date`,`parsed-value`,`disabled`,`onPick`])):K(`v-if`,!0),I(k)===`month`?(V(),U($j,{key:2,ref_key:`rightCurrentViewRef`,ref:ee,"selection-mode":`month`,date:m.value,"parsed-value":e.parsedValue,"disabled-date":I(a),disabled:I(je),onPick:I(fe)},null,8,[`date`,`parsed-value`,`disabled-date`,`disabled`,`onPick`])):K(`v-if`,!0)],2)],2)],2),e.showFooter&&I(Ne)&&(e.showConfirm||I(c))?(V(),H(`div`,{key:0,class:N(I(v).e(`footer`))},[I(c)?(V(),U(I(aO),{key:0,text:``,size:`small`,class:N(I(v).e(`link-btn`)),onClick:Ke},{default:L(()=>[Wa(P(I(T)(`el.datepicker.clear`)),1)]),_:1},8,[`class`])):K(`v-if`,!0),e.showConfirm?(V(),U(I(aO),{key:1,plain:``,size:`small`,class:N(I(v).e(`link-btn`)),disabled:I(Me),onClick:e=>I(x)(!1)},{default:L(()=>[Wa(P(I(T)(`el.datepicker.confirm`)),1)]),_:1},8,[`class`,`disabled`,`onClick`])):K(`v-if`,!0)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`panel-date-range.vue`]]),mM=X({...Rj}),hM=[`pick`,`set-picker-option`,`calendar-change`],gM=({unlinkPanels:e,leftDate:t,rightDate:n})=>{let{t:r}=gb();return{leftPrevYear:()=>{t.value=t.value.subtract(1,`year`),e.value||(n.value=n.value.subtract(1,`year`))},rightNextYear:()=>{e.value||(t.value=t.value.add(1,`year`)),n.value=n.value.add(1,`year`)},leftNextYear:()=>{t.value=t.value.add(1,`year`)},rightPrevYear:()=>{n.value=n.value.subtract(1,`year`)},leftLabel:q(()=>`${t.value.year()} ${r(`el.datepicker.year`)}`),rightLabel:q(()=>`${n.value.year()} ${r(`el.datepicker.year`)}`),leftYear:q(()=>t.value.year()),rightYear:q(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year())}},_M=c(sO(),1),vM=`year`,yM=Hb(R({...R({name:`DatePickerMonthRange`}),props:mM,emits:hM,setup(e,{emit:t}){let n=e,{lang:r}=gb(),i=Ni(pj),a=Ni(Fj,void 0),{shortcuts:o,disabledDate:s,cellClassName:c}=i.props,l=_n(i.props,`format`),u=_n(i.props,`defaultValue`),d=F((0,_M.default)().locale(r.value)),f=F((0,_M.default)().locale(r.value).add(1,vM)),{minDate:p,maxDate:m,rangeState:h,ppNs:g,drpNs:_,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:b,onSelect:x,parseValue:S}=lM(n,{defaultValue:u,leftDate:d,rightDate:f,unit:vM,sortDates:ae}),C=q(()=>!!o.length),{leftPrevYear:w,rightNextYear:T,leftNextYear:E,rightPrevYear:D,leftLabel:O,rightLabel:k,leftYear:A,rightYear:ee}=gM({unlinkPanels:_n(n,`unlinkPanels`),leftDate:d,rightDate:f}),te=q(()=>n.unlinkPanels&&ee.value>A.value+1),ne=(e,n=!0)=>{let r=e.minDate,i=e.maxDate;m.value===i&&p.value===r||(t(`calendar-change`,[r.toDate(),i&&i.toDate()]),m.value=i,p.value=r,n&&y())},re=()=>{let e=null;i?.emptyValues&&(e=i.emptyValues.valueOnClear.value),d.value=Hj(I(u),{lang:I(r),unit:`year`,unlinkPanels:n.unlinkPanels})[0],f.value=d.value.add(1,`year`),t(`pick`,e)},ie=e=>Kj(e,l.value,r.value,a);function ae(e,t){n.unlinkPanels&&t?f.value=(e?.year()||0)===t.year()?t.add(1,vM):t:f.value=d.value.add(1,vM)}let oe=XS();return B(()=>n.visible,e=>{!e&&h.value.selecting&&(S(n.parsedValue),x(!1))}),t(`set-picker-option`,[`isValidValue`,Vj]),t(`set-picker-option`,[`parseUserInput`,ie]),t(`set-picker-option`,[`handleClear`,re]),(e,t)=>(V(),H(`div`,{class:N([I(g).b(),I(_).b(),I(g).is(`border`,e.border),I(g).is(`disabled`,I(oe)),{"has-sidebar":!!e.$slots.sidebar||I(C)}])},[W(`div`,{class:N(I(g).e(`body-wrapper`))},[z(e.$slots,`sidebar`,{class:N(I(g).e(`sidebar`))}),I(C)?(V(),H(`div`,{key:0,class:N(I(g).e(`sidebar`))},[(V(!0),H(Da,null,ti(I(o),(e,t)=>(V(),H(`button`,{key:t,type:`button`,class:N(I(g).e(`shortcut`)),disabled:I(oe),onClick:t=>I(b)(e)},P(e.text),11,[`disabled`,`onClick`]))),128))],2)):K(`v-if`,!0),W(`div`,{class:N(I(g).e(`body`))},[W(`div`,{class:N([[I(g).e(`content`),I(_).e(`content`)],`is-left`])},[W(`div`,{class:N(I(_).e(`header`))},[W(`button`,{type:`button`,class:N([I(g).e(`icon-btn`),`d-arrow-left`]),disabled:I(oe),onClick:I(w)},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`disabled`,`onClick`]),e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(te)||I(oe),class:N([[I(g).e(`icon-btn`),I(g).is(`disabled`,!I(te)||I(oe))],`d-arrow-right`]),onClick:I(E)},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`disabled`,`onClick`])):K(`v-if`,!0),W(`div`,null,P(I(O)),1)],2),G($j,{"selection-mode":`range`,date:d.value,"min-date":I(p),"max-date":I(m),"range-state":I(h),"disabled-date":I(s),disabled:I(oe),"cell-class-name":I(c),onChangerange:I(v),onPick:ne,onSelect:I(x)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2),W(`div`,{class:N([[I(g).e(`content`),I(_).e(`content`)],`is-right`])},[W(`div`,{class:N(I(_).e(`header`))},[e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(te)||I(oe),class:N([[I(g).e(`icon-btn`),I(g).is(`disabled`,!I(te)||I(oe))],`d-arrow-left`]),onClick:I(D)},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`disabled`,`onClick`])):K(`v-if`,!0),W(`button`,{type:`button`,class:N([I(g).e(`icon-btn`),`d-arrow-right`]),disabled:I(oe),onClick:I(T)},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`disabled`,`onClick`]),W(`div`,null,P(I(k)),1)],2),G($j,{"selection-mode":`range`,date:f.value,"min-date":I(p),"max-date":I(m),"range-state":I(h),"disabled-date":I(s),disabled:I(oe),"cell-class-name":I(c),onChangerange:I(v),onPick:ne,onSelect:I(x)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2)],2)],2)],2))}}),[[`__file`,`panel-month-range.vue`]]),bM=X({...Rj}),xM=[`pick`,`set-picker-option`,`calendar-change`],SM=({unlinkPanels:e,leftDate:t,rightDate:n})=>({leftPrevYear:()=>{t.value=t.value.subtract(10,`year`),e.value||(n.value=n.value.subtract(10,`year`))},rightNextYear:()=>{e.value||(t.value=t.value.add(10,`year`)),n.value=n.value.add(10,`year`)},leftNextYear:()=>{t.value=t.value.add(10,`year`)},rightPrevYear:()=>{n.value=n.value.subtract(10,`year`)},leftLabel:q(()=>{let e=Math.floor(t.value.year()/10)*10;return`${e}-${e+9}`}),rightLabel:q(()=>{let e=Math.floor(n.value.year()/10)*10;return`${e}-${e+9}`}),leftYear:q(()=>Math.floor(t.value.year()/10)*10+9),rightYear:q(()=>Math.floor(n.value.year()/10)*10)}),CM=c(sO(),1),wM=10,TM=`year`,EM=Hb(R({...R({name:`DatePickerYearRange`}),props:bM,emits:xM,setup(e,{emit:t}){let n=e,{lang:r}=gb(),i=F((0,CM.default)().locale(r.value)),a=F((0,CM.default)().locale(r.value).add(wM,TM)),o=Ni(Fj,void 0),s=Ni(pj),{shortcuts:c,disabledDate:l,cellClassName:u}=s.props,d=_n(s.props,`format`),f=_n(s.props,`defaultValue`),{minDate:p,maxDate:m,rangeState:h,ppNs:g,drpNs:_,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:b,onSelect:x,parseValue:S}=lM(n,{defaultValue:f,leftDate:i,rightDate:a,step:wM,unit:TM,sortDates:ue}),{leftPrevYear:C,rightNextYear:w,leftNextYear:T,rightPrevYear:E,leftLabel:D,rightLabel:O,leftYear:k,rightYear:A}=SM({unlinkPanels:_n(n,`unlinkPanels`),leftDate:i,rightDate:a}),ee=XS(),te=q(()=>!!c.length),ne=q(()=>[g.b(),_.b(),g.is(`border`,n.border),g.is(`disabled`,ee.value),{"has-sidebar":!!li().sidebar||te.value}]),re=q(()=>({content:[g.e(`content`),_.e(`content`),`is-left`],arrowLeftBtn:[g.e(`icon-btn`),`d-arrow-left`],arrowRightBtn:[g.e(`icon-btn`),g.is(`disabled`,!ae.value||ee.value),`d-arrow-right`]})),ie=q(()=>({content:[g.e(`content`),_.e(`content`),`is-right`],arrowLeftBtn:[g.e(`icon-btn`),g.is(`disabled`,!ae.value||ee.value),`d-arrow-left`],arrowRightBtn:[g.e(`icon-btn`),`d-arrow-right`]})),ae=q(()=>n.unlinkPanels&&A.value>k.value+1),oe=(e,n=!0)=>{let r=e.minDate,i=e.maxDate;m.value===i&&p.value===r||(t(`calendar-change`,[r.toDate(),i&&i.toDate()]),m.value=i,p.value=r,n&&y())},se=e=>Kj(e,d.value,r.value,o),ce=e=>Vj(e)&&(l?!l(e[0].toDate())&&!l(e[1].toDate()):!0),le=()=>{let e=null;s?.emptyValues&&(e=s.emptyValues.valueOnClear.value);let o=Hj(I(f),{lang:I(r),step:wM,unit:TM,unlinkPanels:n.unlinkPanels});i.value=o[0],a.value=o[1],t(`pick`,e)};function ue(e,t){if(n.unlinkPanels&&t){let n=e?.year()||0,r=t.year();a.value=n+wM>r?t.add(wM,TM):t}else a.value=i.value.add(wM,TM)}return B(()=>n.visible,e=>{!e&&h.value.selecting&&(S(n.parsedValue),x(!1))}),t(`set-picker-option`,[`isValidValue`,ce]),t(`set-picker-option`,[`parseUserInput`,se]),t(`set-picker-option`,[`handleClear`,le]),(e,t)=>(V(),H(`div`,{class:N(I(ne))},[W(`div`,{class:N(I(g).e(`body-wrapper`))},[z(e.$slots,`sidebar`,{class:N(I(g).e(`sidebar`))}),I(te)?(V(),H(`div`,{key:0,class:N(I(g).e(`sidebar`))},[(V(!0),H(Da,null,ti(I(c),(e,t)=>(V(),H(`button`,{key:t,type:`button`,class:N(I(g).e(`shortcut`)),disabled:I(ee),onClick:t=>I(b)(e)},P(e.text),11,[`disabled`,`onClick`]))),128))],2)):K(`v-if`,!0),W(`div`,{class:N(I(g).e(`body`))},[W(`div`,{class:N(I(re).content)},[W(`div`,{class:N(I(_).e(`header`))},[W(`button`,{type:`button`,class:N(I(re).arrowLeftBtn),disabled:I(ee),onClick:I(C)},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`disabled`,`onClick`]),e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(ae)||I(ee),class:N(I(re).arrowRightBtn),onClick:I(T)},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`disabled`,`onClick`])):K(`v-if`,!0),W(`div`,null,P(I(D)),1)],2),G(nM,{"selection-mode":`range`,date:i.value,"min-date":I(p),"max-date":I(m),"range-state":I(h),"disabled-date":I(l),disabled:I(ee),"cell-class-name":I(u),onChangerange:I(v),onPick:oe,onSelect:I(x)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2),W(`div`,{class:N(I(ie).content)},[W(`div`,{class:N(I(_).e(`header`))},[e.unlinkPanels?(V(),H(`button`,{key:0,type:`button`,disabled:!I(ae)||I(ee),class:N(I(ie).arrowLeftBtn),onClick:I(E)},[z(e.$slots,`prev-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Px))]),_:1})])],10,[`disabled`,`onClick`])):K(`v-if`,!0),W(`button`,{type:`button`,class:N(I(ie).arrowRightBtn),disabled:I(ee),onClick:I(w)},[z(e.$slots,`next-year`,{},()=>[G(I(hx),null,{default:L(()=>[G(I(Fx))]),_:1})])],10,[`disabled`,`onClick`]),W(`div`,null,P(I(O)),1)],2),G(nM,{"selection-mode":`range`,date:a.value,"min-date":I(p),"max-date":I(m),"range-state":I(h),"disabled-date":I(l),disabled:I(ee),"cell-class-name":I(u),onChangerange:I(v),onPick:oe,onSelect:I(x)},null,8,[`date`,`min-date`,`max-date`,`range-state`,`disabled-date`,`disabled`,`cell-class-name`,`onChangerange`,`onSelect`])],2)],2)],2)],2))}}),[[`__file`,`panel-year-range.vue`]]),DM=function(e){switch(e){case`daterange`:case`datetimerange`:return pM;case`monthrange`:return yM;case`yearrange`:return EM;default:return iM}},OM=c(sO(),1),kM=c(dj(),1),AM=c(Dte(),1),jM=c(wO(),1),MM=c(Ote(),1),NM=c(kte(),1),PM=c(Ate(),1),FM=c(jte(),1),IM=c(Mte(),1);function LM(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}OM.default.extend(jM.default),OM.default.extend(AM.default),OM.default.extend(kM.default),OM.default.extend(MM.default),OM.default.extend(NM.default),OM.default.extend(PM.default),OM.default.extend(FM.default),OM.default.extend(IM.default);var RM=lx(R({name:`ElDatePickerPanel`,install:null,props:Nte,emits:[Lb,`calendar-change`,`panel-change`,`visible-change`,`pick`],setup(e,{slots:t,emit:n}){let r=J(`picker-panel`);Lv(Ni(`EP_PICKER_BASE`,void 0))&&Mi(pj,{props:Kt({...mn(e)})}),Mi(Pj,{slots:t,pickerNs:r});let{parsedValue:i,onCalendarChange:a,onPanelChange:o,onSetPickerOption:s,onPick:c}=Ni(hj,()=>vj(e,n),!0);return()=>G(DM(e.type),Ja(e,{parsedValue:i.value,"onSet-picker-option":s,"onCalendar-change":a,"onPanel-change":o,onPick:c}),LM(t)?t:{default:()=>[t]})}})),zM=X({...xj,type:{type:Y(String),default:`date`}});function BM(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var VM=lx(R({name:`ElDatePicker`,install:null,props:zM,emits:[Lb],setup(e,{expose:t,emit:n,slots:r}){Mi(Fj,q(()=>!e.format)),Mi(mj,Kt(_n(e,`popperOptions`)));let i=F();t({focus:()=>{var e;(e=i.value)==null||e.focus()},blur:()=>{var e;(e=i.value)==null||e.blur()},handleOpen:()=>{var e;(e=i.value)==null||e.handleOpen()},handleClose:()=>{var e;(e=i.value)==null||e.handleClose()}});let a=e=>{n(Lb,e)};return()=>G(Sj,Ja(e,{format:e.format??(_te[e.type]||`YYYY-MM-DD`),type:e.type,ref:i,"onUpdate:modelValue":a}),{default:e=>G(RM,Ja({border:!1},e),BM(r)?r:{default:()=>[r]}),"range-separator":r[`range-separator`]})}})),HM=Symbol(`elDescriptions`),UM=R({name:`ElDescriptionsCell`,props:{cell:{type:Object},tag:{type:String,default:`td`},type:{type:String}},setup(){return{descriptions:Ni(HM,{})}},render(){let e=YO(this.cell),t=(this.cell?.dirs||[]).map(e=>{let{dir:t,arg:n,modifiers:r,value:i}=e;return[t,i,n,r]}),{border:n,direction:r}=this.descriptions,i=r===`vertical`,a=()=>{var t;return((t=this.cell?.children)?.label)?.call(t)||e.label},o=()=>{var e;return((e=this.cell?.children)?.default)?.call(e)},s=e.span,c=e.rowspan,l=e.align?`is-${e.align}`:``,u=e.labelAlign?`is-${e.labelAlign}`:l,d=e.className,f=e.labelClassName,p={width:Qb(this.type===`label`?e.labelWidth??this.descriptions.labelWidth??e.width:e.width),minWidth:Qb(e.minWidth)},m=J(`descriptions`);switch(this.type){case`label`:return Yn(_o(this.tag,{style:p,class:[m.e(`cell`),m.e(`label`),m.is(`bordered-label`,n),m.is(`vertical-label`,i),u,f],colSpan:i?s:1,rowspan:i?1:c},a()),t);case`content`:return Yn(_o(this.tag,{style:p,class:[m.e(`cell`),m.e(`content`),m.is(`bordered-content`,n),m.is(`vertical-content`,i),l,d],colSpan:i?s:s*2-1,rowspan:i?c*2-1:c},o()),t);default:{let n=a(),r={},i=Qb(e.labelWidth??this.descriptions.labelWidth);return i&&(r.width=i,r.display=`inline-block`),Yn(_o(`td`,{style:p,class:[m.e(`cell`),l],colSpan:s,rowspan:c},[ov(n)?void 0:_o(`span`,{style:r,class:[m.e(`label`),f]},n),_o(`span`,{class:[m.e(`content`),d]},o())]),t)}}}}),WM=X({row:{type:Y(Array),default:()=>[]}}),GM=Hb(R({...R({name:`ElDescriptionsRow`}),props:WM,setup(e){let t=Ni(HM,{});return(e,n)=>I(t).direction===`vertical`?(V(),H(Da,{key:0},[W(`tr`,null,[(V(!0),H(Da,null,ti(e.row,(e,t)=>(V(),U(I(UM),{key:`tr1-${t}`,cell:e,tag:`th`,type:`label`},null,8,[`cell`]))),128))]),W(`tr`,null,[(V(!0),H(Da,null,ti(e.row,(e,t)=>(V(),U(I(UM),{key:`tr2-${t}`,cell:e,tag:`td`,type:`content`},null,8,[`cell`]))),128))])],64)):(V(),H(`tr`,{key:1},[(V(!0),H(Da,null,ti(e.row,(e,n)=>(V(),H(Da,{key:`tr3-${n}`},[I(t).border?(V(),H(Da,{key:0},[G(I(UM),{cell:e,tag:`td`,type:`label`},null,8,[`cell`]),G(I(UM),{cell:e,tag:`td`,type:`content`},null,8,[`cell`])],64)):(V(),U(I(UM),{key:1,cell:e,tag:`td`,type:`both`},null,8,[`cell`]))],64))),128))]))}}),[[`__file`,`descriptions-row.vue`]]),KM=X({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},size:xb,title:{type:String,default:``},extra:{type:String,default:``},labelWidth:{type:[String,Number]}}),qM=`ElDescriptionsItem`,JM=Hb(R({...R({name:`ElDescriptions`}),props:KM,setup(e){let t=e,n=J(`descriptions`),r=YS(),i=li();Mi(HM,t);let a=q(()=>[n.b(),n.m(r.value)]),o=(e,t,n,r=!1)=>(e.props||={},t>n&&(e.props.span=n),r&&(e.props.span=t),e),s=()=>{if(!i.default)return[];let e=XO(i.default()).filter(e=>e?.type?.name===qM),n=[],r=[],a=t.column,s=0,c=[];return e.forEach((i,l)=>{var u;let d=i.props?.span||1,f=i.props?.rowspan||1,p=n.length;if(c[p]||(c[p]=0),f>1)for(let e=1;e<f;e++)c[u=p+e]||(c[u]=0),c[p+e]++,s++;if(c[p]>0&&(a-=c[p],c[p]=0),l<e.length-1&&(s+=d>a?a:d),l===e.length-1){let e=t.column-s%t.column;r.push(o(i,e,a,!0)),n.push(r);return}d<a?(a-=d,r.push(i)):(r.push(o(i,d,a)),n.push(r),a=t.column,r=[])}),n};return(e,t)=>(V(),H(`div`,{class:N(I(a))},[e.title||e.extra||e.$slots.title||e.$slots.extra?(V(),H(`div`,{key:0,class:N(I(n).e(`header`))},[W(`div`,{class:N(I(n).e(`title`))},[z(e.$slots,`title`,{},()=>[Wa(P(e.title),1)])],2),W(`div`,{class:N(I(n).e(`extra`))},[z(e.$slots,`extra`,{},()=>[Wa(P(e.extra),1)])],2)],2)):K(`v-if`,!0),W(`div`,{class:N(I(n).e(`body`))},[W(`table`,{class:N([I(n).e(`table`),I(n).is(`bordered`,e.border)])},[W(`tbody`,null,[(V(!0),H(Da,null,ti(s(),(e,t)=>(V(),U(GM,{key:t,row:e},null,8,[`row`]))),128))])],2)],2)],2))}}),[[`__file`,`description.vue`]]),YM=[`left`,`center`,`right`],XM=R({name:qM,props:X({label:{type:String,default:``},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},labelWidth:{type:[String,Number]},align:{type:String,values:YM,default:`left`},labelAlign:{type:String,values:YM},className:{type:String,default:``},labelClassName:{type:String,default:``}})}),ZM=lx(JM,{DescriptionsItem:XM}),QM=fx(XM),$M=e=>{if(!e)return{onClick:f,onMousedown:f,onMouseup:f};let t=!1,n=!1;return{onClick:r=>{t&&n&&e(r),t=n=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{n=e.target===e.currentTarget}}},eN=X({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Y([String,Array,Object])},zIndex:{type:Y([String,Number])}}),tN={click:e=>e instanceof MouseEvent},nN=`overlay`,rN=R({name:`ElOverlay`,props:eN,emits:tN,setup(e,{slots:t,emit:n}){let r=J(nN),{onClick:i,onMousedown:a,onMouseup:o}=$M(e.customMaskEvent?void 0:e=>{n(`click`,e)});return()=>e.mask?G(`div`,{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:a,onMouseup:o},[z(t,`default`)],GO.STYLE|GO.CLASS|GO.PROPS,[`onClick`,`onMouseup`,`onMousedown`]):_o(`div`,{class:e.overlayClass,style:{zIndex:e.zIndex,position:`fixed`,top:`0px`,right:`0px`,bottom:`0px`,left:`0px`}},[z(t,`default`)])}}),iN=Symbol(`dialogInjectionKey`),aN=`dialog-fade`,oN=X({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:gS},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:``},ariaLevel:{type:String,default:`2`}}),sN={close:()=>!0},cN=(e,t,n,r)=>{let i={offsetX:0,offsetY:0},a=F(!1),o=(t,n)=>{if(e.value){let{offsetX:a,offsetY:o}=i,s=e.value.getBoundingClientRect(),c=s.left,l=s.top,u=s.width,d=s.height,f=document.documentElement.clientWidth,p=document.documentElement.clientHeight,m=-c+a,h=-l+o,g=f-c-u+a,_=p-l-(d<p?d:0)+o;r?.value||(t=Math.min(Math.max(t,m),g),n=Math.min(Math.max(n,h),_)),i.offsetX=t,i.offsetY=n,e.value.style.transform=`translate(${Qb(t)}, ${Qb(n)})`}},s=e=>{let t=e.clientX,n=e.clientY,{offsetX:r,offsetY:s}=i,c=e=>{a.value||=!0,o(r+e.clientX-t,s+e.clientY-n)},l=()=>{a.value=!1,document.removeEventListener(`mousemove`,c),document.removeEventListener(`mouseup`,l)};document.addEventListener(`mousemove`,c),document.addEventListener(`mouseup`,l)},c=()=>{t.value&&e.value&&(t.value.addEventListener(`mousedown`,s),window.addEventListener(`resize`,d))},l=()=>{t.value&&e.value&&(t.value.removeEventListener(`mousedown`,s),window.removeEventListener(`resize`,d))},u=()=>{i.offsetX=0,i.offsetY=0,e.value&&(e.value.style.transform=``)},d=()=>{let{offsetX:e,offsetY:t}=i;o(e,t)};return Rr(()=>{Ii(()=>{n.value?c():l()})}),Vr(()=>{l()}),{isDragging:a,resetPosition:u,updatePosition:d}},lN=(...e)=>t=>{e.forEach(e=>{e.value=t})},uN=Hb(R({...R({name:`ElDialogContent`}),props:oN,emits:sN,setup(e,{expose:t}){let n=e,{t:r}=gb(),{Close:i}=_S,{dialogRef:a,headerRef:o,bodyId:s,ns:c,style:l}=Ni(iN),{focusTrapRef:u}=Ni(UC),d=lN(u,a),f=q(()=>!!n.draggable),{resetPosition:p,updatePosition:m,isDragging:h}=cN(a,o,f,q(()=>!!n.overflow)),g=q(()=>[c.b(),c.is(`fullscreen`,n.fullscreen),c.is(`draggable`,f.value),c.is(`dragging`,h.value),c.is(`align-center`,!!n.alignCenter),{[c.m(`center`)]:n.center}]);return t({resetPosition:p,updatePosition:m}),(e,t)=>(V(),H(`div`,{ref:I(d),class:N(I(g)),style:j(I(l)),tabindex:`-1`},[W(`header`,{ref_key:`headerRef`,ref:o,class:N([I(c).e(`header`),e.headerClass,{"show-close":e.showClose}])},[z(e.$slots,`header`,{},()=>[W(`span`,{role:`heading`,"aria-level":e.ariaLevel,class:N(I(c).e(`title`))},P(e.title),11,[`aria-level`])]),e.showClose?(V(),H(`button`,{key:0,"aria-label":I(r)(`el.dialog.close`),class:N(I(c).e(`headerbtn`)),type:`button`,onClick:t=>e.$emit(`close`)},[G(I(hx),{class:N(I(c).e(`close`))},{default:L(()=>[(V(),U(Zr(e.closeIcon||I(i))))]),_:1},8,[`class`])],10,[`aria-label`,`onClick`])):K(`v-if`,!0)],2),W(`div`,{id:I(s),class:N([I(c).e(`body`),e.bodyClass])},[z(e.$slots,`default`)],10,[`id`]),e.$slots.footer?(V(),H(`footer`,{key:0,class:N([I(c).e(`footer`),e.footerClass])},[z(e.$slots,`footer`)],2)):K(`v-if`,!0)],6))}}),[[`__file`,`dialog-content.vue`]]),dN=X({...oN,appendToBody:Boolean,appendTo:{type:AE.to.type,default:`body`},beforeClose:{type:Y(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:`2`},transition:{type:Y([String,Object]),default:void 0}}),fN={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Lb]:e=>Rv(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},pN=(e,t={})=>{an(e)||ib(`[useLockscreen]`,`You need to pass a ref param to this function`);let n=t.ns||J(`popup`),r=q(()=>n.bm(`parent`,`hidden`)),i=0,a=!1,o=`0`,s=()=>{setTimeout(()=>{typeof document>`u`||a&&document&&(document.body.style.width=o,Yb(document.body,r.value))},200)};B(e,e=>{if(!e){s();return}a=!qb(document.body,r.value),a&&(o=document.body.style.width,Jb(document.body,r.value)),i=nx(n.namespace.value);let t=document.documentElement.clientHeight<document.body.scrollHeight,c=Xb(document.body,`overflowY`);i>0&&(t||c===`scroll`)&&a&&(document.body.style.width=`calc(100% - ${i}px)`)}),Fe(()=>s())},mN=(e,t)=>{let n=eo().emit,{nextZIndex:r}=ub(),i=``,a=US(),o=US(),s=F(!1),c=F(!1),l=F(!1),u=F(e.zIndex??r()),d,f,p=Mb(),m=q(()=>p.value?.namespace??`el`),h=q(()=>p.value?.dialog),g=q(()=>{let t={},n=`--${m.value}-dialog`;if(!e.fullscreen){e.top&&(t[`${n}-margin-top`]=e.top);let r=Qb(e.width);r&&(t[`${n}-width`]=r)}return t}),_=q(()=>(e.draggable??h.value?.draggable??!1)&&!e.fullscreen),v=q(()=>e.alignCenter??h.value?.alignCenter??!1),y=q(()=>e.overflow??h.value?.overflow??!1),x=q(()=>v.value?{display:`flex`}:{}),S=q(()=>{let t=e.transition??h.value?.transition??aN,n={name:t,onAfterEnter:C,onBeforeLeave:E,onAfterLeave:T};if(D(t)){let e={...t},n=(e,t)=>n=>{b(e)?e.forEach(e=>{w(e)&&e(n)}):w(e)&&e(n),t()};return e.onAfterEnter=n(e.onAfterEnter,C),e.onBeforeLeave=n(e.onBeforeLeave,E),e.onAfterLeave=n(e.onAfterLeave,T),e.name||(e.name=aN,`${aN}`),e}return n});function C(){n(`opened`)}function T(){n(`closed`),n(Lb,!1),e.destroyOnClose&&(l.value=!1)}function E(){n(`close`)}function O(){f?.(),d?.(),e.openDelay&&e.openDelay>0?{stop:d}=xy(()=>te(),e.openDelay):te()}function k(){d?.(),f?.(),e.closeDelay&&e.closeDelay>0?{stop:f}=xy(()=>ne(),e.closeDelay):ne()}function A(){function t(e){e||(c.value=!0,s.value=!1)}e.beforeClose?e.beforeClose(t):k()}function ee(){e.closeOnClickModal&&A()}function te(){ty&&(s.value=!0)}function ne(){s.value=!1}function re(){n(`openAutoFocus`)}function ie(){n(`closeAutoFocus`)}function ae(e){e.detail?.focusReason===`pointer`&&e.preventDefault()}e.lockScroll&&pN(s);function oe(){e.closeOnPressEscape&&A()}return B(()=>e.zIndex,()=>{u.value=e.zIndex??r()}),B(()=>e.modelValue,i=>{i?(c.value=!1,O(),l.value=!0,u.value=e.zIndex??r(),Ln(()=>{n(`open`),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):s.value&&k()}),B(()=>e.fullscreen,e=>{t.value&&(e?(i=t.value.style.transform,t.value.style.transform=``):t.value.style.transform=i)}),Rr(()=>{e.modelValue&&(s.value=!0,l.value=!0,O())}),{afterEnter:C,afterLeave:T,beforeLeave:E,handleClose:A,onModalClick:ee,close:k,doClose:ne,onOpenAutoFocus:re,onCloseAutoFocus:ie,onCloseRequested:oe,onFocusoutPrevented:ae,titleId:a,bodyId:o,closed:c,style:g,overlayDialogStyle:x,rendered:l,visible:s,zIndex:u,transitionConfig:S,_draggable:_,_alignCenter:v,_overflow:y}},hN=lx(Hb(R({...R({name:`ElDialog`,inheritAttrs:!1}),props:dN,emits:fN,setup(e,{expose:t}){let n=e,r=li();xD({scope:`el-dialog`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/dialog.html#slots`},q(()=>!!r.title));let i=J(`dialog`),a=F(),o=F(),s=F(),{visible:c,titleId:l,bodyId:u,style:d,overlayDialogStyle:f,rendered:p,transitionConfig:m,zIndex:h,_draggable:g,_alignCenter:_,_overflow:v,handleClose:y,onModalClick:b,onOpenAutoFocus:x,onCloseAutoFocus:S,onCloseRequested:C,onFocusoutPrevented:w}=mN(n,a);Mi(iN,{dialogRef:a,headerRef:o,bodyId:u,ns:i,rendered:p,style:d});let T=$M(b),E=q(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return t({visible:c,dialogContentRef:s,resetPosition:()=>{var e;(e=s.value)==null||e.resetPosition()},handleClose:y}),(e,t)=>(V(),U(I(WE),{to:e.appendTo,disabled:e.appendTo===`body`?!e.appendToBody:!1},{default:L(()=>[G(No,Ja(I(m),{persisted:``}),{default:L(()=>[Yn(G(I(rN),{"custom-mask-event":``,mask:e.modal,"overlay-class":[e.modalClass??``,`${I(i).namespace.value}-modal-dialog`,I(i).is(`penetrable`,I(E))],"z-index":I(h)},{default:L(()=>[W(`div`,{role:`dialog`,"aria-modal":`true`,"aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:I(l),"aria-describedby":I(u),class:N(`${I(i).namespace.value}-overlay-dialog`),style:j(I(f)),onClick:I(T).onClick,onMousedown:I(T).onMousedown,onMouseup:I(T).onMouseup},[G(I(vw),{loop:``,trapped:I(c),"focus-start-el":`container`,onFocusAfterTrapped:I(x),onFocusAfterReleased:I(S),onFocusoutPrevented:I(w),onReleaseRequested:I(C)},{default:L(()=>[I(p)?(V(),U(uN,Ja({key:0,ref_key:`dialogContentRef`,ref:s},e.$attrs,{center:e.center,"align-center":I(_),"close-icon":e.closeIcon,draggable:I(g),overflow:I(v),fullscreen:e.fullscreen,"header-class":e.headerClass,"body-class":e.bodyClass,"footer-class":e.footerClass,"show-close":e.showClose,title:e.title,"aria-level":e.headerAriaLevel,onClose:I(y)}),ni({header:L(()=>[e.$slots.title?z(e.$slots,`title`,{key:1}):z(e.$slots,`header`,{key:0,close:I(y),titleId:I(l),titleClass:I(i).e(`title`)})]),default:L(()=>[z(e.$slots,`default`)]),_:2},[e.$slots.footer?{name:`footer`,fn:L(()=>[z(e.$slots,`footer`)])}:void 0]),1040,[`center`,`align-center`,`close-icon`,`draggable`,`overflow`,`fullscreen`,`header-class`,`body-class`,`footer-class`,`show-close`,`title`,`aria-level`,`onClose`])):K(`v-if`,!0)]),_:3},8,[`trapped`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])],46,[`aria-label`,`aria-labelledby`,`aria-describedby`,`onClick`,`onMousedown`,`onMouseup`])]),_:3},8,[`mask`,`overlay-class`,`z-index`]),[[Zo,I(c)]])]),_:3},16)]),_:3},8,[`to`,`disabled`]))}}),[[`__file`,`dialog.vue`]])),gN=X({direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},contentPosition:{type:String,values:[`left`,`center`,`right`],default:`center`},borderStyle:{type:Y(String),default:`solid`}}),_N=lx(Hb(R({...R({name:`ElDivider`}),props:gN,setup(e){let t=e,n=J(`divider`),r=q(()=>n.cssVar({"border-style":t.borderStyle}));return(e,t)=>(V(),H(`div`,{class:N([I(n).b(),I(n).m(e.direction)]),style:j(I(r)),role:`separator`},[e.$slots.default&&e.direction!==`vertical`?(V(),H(`div`,{key:0,class:N([I(n).e(`text`),I(n).is(e.contentPosition)])},[z(e.$slots,`default`)],2)):K(`v-if`,!0)],6))}}),[[`__file`,`divider.vue`]])),vN=X({...dN,direction:{type:String,default:`rtl`,values:[`ltr`,`rtl`,`ttb`,`btt`]},resizable:Boolean,size:{type:[String,Number],default:`30%`},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:`2`}}),yN={...fN,"resize-start":(e,t)=>e instanceof MouseEvent&&typeof t==`number`,resize:(e,t)=>e instanceof MouseEvent&&typeof t==`number`,"resize-end":(e,t)=>e instanceof MouseEvent&&typeof t==`number`};function bN(e,t,n){let{width:r,height:i}=nb(),a=q(()=>[`ltr`,`rtl`].includes(e.direction)),o=q(()=>[`ltr`,`ttb`].includes(e.direction)?1:-1),s=q(()=>a.value?r.value:i.value),c=q(()=>ay(l.value+o.value*u.value,4,s.value)),l=F(0),u=F(0),d=F(!1),f=F(!1),p=[],m=[],h=()=>{let e=t.value?.closest(`[aria-modal="true"]`);return e?a.value?e.offsetWidth:e.offsetHeight:100};B(()=>[e.size,e.resizable],()=>{f.value=!1,l.value=0,u.value=0,v()});let g=t=>{e.resizable&&(f.value||=(l.value=h(),!0),p=[t.pageX,t.pageY],d.value=!0,n(`resize-start`,t,l.value),m.push(Ty(window,`mouseup`,v),Ty(window,`mousemove`,_)))},_=e=>{let{pageX:t,pageY:r}=e,i=t-p[0],o=r-p[1];u.value=a.value?i:o,n(`resize`,e,c.value)},v=e=>{d.value&&(p=[],l.value=c.value,u.value=0,d.value=!1,m.forEach(e=>e?.()),m=[],e&&n(`resize-end`,e,l.value))},y=Ty(t,`mousedown`,g);return Vr(()=>{y(),v()}),{size:q(()=>f.value?`${c.value}px`:Qb(e.size)),isResizing:d,isHorizontal:a}}var xN=lx(Hb(R({...R({name:`ElDrawer`,inheritAttrs:!1}),props:vN,emits:yN,setup(e,{expose:t,emit:n}){let r=e,i=li();xD({scope:`el-drawer`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/drawer.html#slots`},q(()=>!!i.title));let a=F(),o=F(),s=F(),c=J(`drawer`),{t:l}=gb(),{afterEnter:u,afterLeave:d,beforeLeave:f,visible:p,rendered:m,titleId:h,bodyId:g,zIndex:_,onModalClick:v,onOpenAutoFocus:y,onCloseAutoFocus:b,onFocusoutPrevented:x,onCloseRequested:S,handleClose:C}=mN(r,a),{isHorizontal:w,size:T,isResizing:E}=bN(r,s,n),D=q(()=>r.modalPenetrable&&!r.modal);return t({handleClose:C,afterEnter:u,afterLeave:d}),(e,t)=>(V(),U(I(WE),{to:e.appendTo,disabled:e.appendTo===`body`?!e.appendToBody:!1},{default:L(()=>[G(No,{name:I(c).b(`fade`),onAfterEnter:I(u),onAfterLeave:I(d),onBeforeLeave:I(f),persisted:``},{default:L(()=>[Yn(G(I(rN),{mask:e.modal,"overlay-class":[I(c).is(`drawer`),e.modalClass??``,`${I(c).namespace.value}-modal-drawer`,I(c).is(`penetrable`,I(D))],"z-index":I(_),onClick:I(v)},{default:L(()=>[G(I(vw),{loop:``,trapped:I(p),"focus-trap-el":a.value,"focus-start-el":o.value,onFocusAfterTrapped:I(y),onFocusAfterReleased:I(b),onFocusoutPrevented:I(x),onReleaseRequested:I(S)},{default:L(()=>[W(`div`,Ja({ref_key:`drawerRef`,ref:a,"aria-modal":`true`,"aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:I(h),"aria-describedby":I(g)},e.$attrs,{class:[I(c).b(),e.direction,I(p)&&`open`,I(c).is(`dragging`,I(E))],style:{[I(w)?`width`:`height`]:I(T)},role:`dialog`,onClick:Ks(()=>{},[`stop`])}),[W(`span`,{ref_key:`focusStartRef`,ref:o,class:N(I(c).e(`sr-focus`)),tabindex:`-1`},null,2),e.withHeader?(V(),H(`header`,{key:0,class:N([I(c).e(`header`),e.headerClass])},[e.$slots.title?z(e.$slots,`title`,{key:1},()=>[K(` DEPRECATED SLOT `)]):z(e.$slots,`header`,{key:0,close:I(C),titleId:I(h),titleClass:I(c).e(`title`)},()=>[W(`span`,{id:I(h),role:`heading`,"aria-level":e.headerAriaLevel,class:N(I(c).e(`title`))},P(e.title),11,[`id`,`aria-level`])]),e.showClose?(V(),H(`button`,{key:2,"aria-label":I(l)(`el.drawer.close`),class:N(I(c).e(`close-btn`)),type:`button`,onClick:I(C)},[G(I(hx),{class:N(I(c).e(`close`))},{default:L(()=>[G(I(Mx))]),_:1},8,[`class`])],10,[`aria-label`,`onClick`])):K(`v-if`,!0)],2)):K(`v-if`,!0),I(m)?(V(),H(`div`,{key:1,id:I(g),class:N([I(c).e(`body`),e.bodyClass])},[z(e.$slots,`default`)],10,[`id`])):K(`v-if`,!0),e.$slots.footer?(V(),H(`div`,{key:2,class:N([I(c).e(`footer`),e.footerClass])},[z(e.$slots,`footer`)],2)):K(`v-if`,!0),e.resizable?(V(),H(`div`,{key:3,ref_key:`draggerRef`,ref:s,style:j({zIndex:I(_)}),class:N(I(c).e(`dragger`))},null,6)):K(`v-if`,!0)],16,[`aria-label`,`aria-labelledby`,`aria-describedby`,`onClick`])]),_:3},8,[`trapped`,`focus-trap-el`,`focus-start-el`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])]),_:3},8,[`mask`,`overlay-class`,`z-index`,`onClick`]),[[Zo,I(p)]])]),_:3},8,[`name`,`onAfterEnter`,`onAfterLeave`,`onBeforeLeave`])]),_:3},8,[`to`,`disabled`]))}}),[[`__file`,`drawer.vue`]])),SN=R({inheritAttrs:!1});function CN(e,t,n,r,i,a){return z(e.$slots,`default`)}var wN=Hb(SN,[[`render`,CN],[`__file`,`collection.vue`]]),TN=R({name:`ElCollectionItem`,inheritAttrs:!1});function EN(e,t,n,r,i,a){return z(e.$slots,`default`)}var DN=Hb(TN,[[`render`,EN],[`__file`,`collection-item.vue`]]),ON=`data-el-collection-item`,kN=e=>{let t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n);return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:{...wN,name:t,setup(){let e=F(),t=new Map;Mi(r,{itemMap:t,getItems:()=>{let n=I(e);if(!n)return[];let r=Array.from(n.querySelectorAll(`[${ON}]`));return[...t.values()].sort((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref))},collectionRef:e})}},ElCollectionItem:{...DN,name:n,setup(e,{attrs:t}){let n=F(),a=Ni(r,void 0);Mi(i,{collectionItemRef:n}),Rr(()=>{let e=I(n);e&&a.itemMap.set(e,{ref:e,...t})}),Vr(()=>{let e=I(n);a.itemMap.delete(e)})}}}},AN=X({style:{type:Y([String,Array,Object])},currentTabId:{type:Y(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:[`ltr`,`rtl`],default:`ltr`},orientation:{type:Y(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:jN,ElCollectionItem:MN,COLLECTION_INJECTION_KEY:NN,COLLECTION_ITEM_INJECTION_KEY:PN}=kN(`RovingFocusGroup`),FN=Symbol(`elRovingFocusGroup`),IN=Symbol(`elRovingFocusGroupItem`),LN={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`},RN=(e,t)=>{if(t!==`rtl`)return e;switch(e){case Z.right:return Z.left;case Z.left:return Z.right;default:return e}},zN=(e,t,n)=>{let r=RN(dw(e),n);if(!(t===`vertical`&&[Z.left,Z.right].includes(r))&&!(t===`horizontal`&&[Z.up,Z.down].includes(r)))return LN[r]},BN=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),VN=e=>{let{activeElement:t}=document;for(let n of e)if(n===t||(n.focus(),t!==document.activeElement))return},HN=`currentTabIdChange`,UN=`rovingFocusGroup.entryFocus`,WN={bubbles:!1,cancelable:!0},GN=R({name:`ElRovingFocusGroupImpl`,inheritAttrs:!1,props:AN,emits:[HN,`entryFocus`],setup(e,{emit:t}){let n=F((e.currentTabId||e.defaultCurrentTabId)??null),r=F(!1),i=F(!1),a=F(),{getItems:o}=Ni(NN,void 0),s=q(()=>[{outline:`none`},e.style]),c=e=>{t(HN,e)},l=()=>{r.value=!0},u=lw(t=>{var n;(n=e.onMousedown)==null||n.call(e,t)},()=>{i.value=!0}),d=lw(t=>{var n;(n=e.onFocus)==null||n.call(e,t)},e=>{let t=!I(i),{target:a,currentTarget:s}=e;if(a===s&&t&&!I(r)){let e=new Event(UN,WN);if(s?.dispatchEvent(e),!e.defaultPrevented){let e=o().filter(e=>e.focusable);VN([e.find(e=>e.active),e.find(e=>e.id===I(n)),...e].filter(Boolean).map(e=>e.ref))}}i.value=!1}),f=lw(t=>{var n;(n=e.onBlur)==null||n.call(e,t)},()=>{r.value=!1});Mi(FN,{currentTabbedId:Jt(n),loop:_n(e,`loop`),tabIndex:q(()=>I(r)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:s,orientation:_n(e,`orientation`),dir:_n(e,`dir`),onItemFocus:c,onItemShiftTab:l,onBlur:f,onFocus:d,onMousedown:u,onKeydown:t=>{let n=zN(t);if(n){t.preventDefault();let r=o().filter(e=>e.focusable).map(e=>e.ref);switch(n){case`last`:r.reverse();break;case`prev`:case`next`:{n===`prev`&&r.reverse();let i=r.indexOf(t.currentTarget);r=e.loop?BN(r,i+1):r.slice(i+1);break}}Ln(()=>{VN(r)})}}}),B(()=>e.currentTabId,e=>{n.value=e??null}),Ty(a,UN,(...e)=>{t(`entryFocus`,...e)})}});function KN(e,t,n,r,i,a){return z(e.$slots,`default`)}var qN=R({name:`ElRovingFocusGroup`,components:{ElFocusGroupCollection:jN,ElRovingFocusGroupImpl:Hb(GN,[[`render`,KN],[`__file`,`roving-focus-group-impl.vue`]])}});function JN(e,t,n,r,i,a){let o=Yr(`el-roving-focus-group-impl`),s=Yr(`el-focus-group-collection`);return V(),U(s,null,{default:L(()=>[G(o,xe(Ha(e.$attrs)),{default:L(()=>[z(e.$slots,`default`)]),_:3},16)]),_:3})}var YN=Hb(qN,[[`render`,JN],[`__file`,`roving-focus-group.vue`]]),XN=X({trigger:{...ME.trigger,type:Y([String,Array])},triggerKeys:{type:Y(Array),default:()=>[Z.enter,Z.numpadEnter,Z.space,Z.down]},virtualTriggering:ME.virtualTriggering,virtualRef:ME.virtualRef,effect:{...jE.effect,default:`light`},type:{type:Y(String)},placement:{type:Y(String),default:`bottom`},popperOptions:{type:Y(Object),default:()=>({})},id:String,size:{type:String,default:``},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Y([Number,String]),default:0},maxHeight:{type:Y([Number,String]),default:``},popperClass:jE.popperClass,popperStyle:jE.popperStyle,disabled:Boolean,role:{type:String,values:wC,default:`menu`},buttonProps:{type:Y(Object)},teleported:jE.teleported,persistent:{type:Boolean,default:!0}}),ZN=X({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:gS}}),QN=X({onKeydown:{type:Y(Function)}}),$N=[Z.down,Z.pageDown,Z.home],eP=[Z.up,Z.pageUp,Z.end];[...$N,...eP];var tP=Symbol(`elDropdown`),nP=`elDropdown`,{ButtonGroup:rP}=aO,iP=R({name:`ElDropdown`,components:{ElButton:aO,ElButtonGroup:rP,ElScrollbar:xC,ElTooltip:QE,ElRovingFocusGroup:YN,ElOnlyChild:MC,ElIcon:hx,ArrowDown:_x},props:XN,emits:[`visible-change`,`click`,`command`],setup(e,{emit:t}){let n=eo(),r=J(`dropdown`),{t:i}=gb(),a=F(),o=F(),s=F(),c=F(),l=F(null),u=F(null),d=F(!1),f=q(()=>({maxHeight:Qb(e.maxHeight)})),p=q(()=>[r.m(b.value)]),m=q(()=>Lp(e.trigger)),h=US().value,g=q(()=>e.id||h);function _(){var e;(e=s.value)==null||e.onClose(void 0,0)}function v(){var e;(e=s.value)==null||e.onClose()}function y(){var e;(e=s.value)==null||e.onOpen()}let b=YS();function x(...e){t(`command`,...e)}function S(){}function C(){let e=I(c);m.value.includes(`hover`)&&e?.focus({preventScroll:!0}),u.value=null}function w(e){u.value=e}function T(){t(`visible-change`,!0)}function E(e){var t;d.value=e?.type===`keydown`,(t=c.value)==null||t.focus()}function D(){t(`visible-change`,!1)}return Mi(tP,{contentRef:c,role:q(()=>e.role),triggerId:g,isUsingKeyboard:d,onItemEnter:S,onItemLeave:C,handleClose:v}),Mi(nP,{instance:n,dropdownSize:b,handleClick:_,commandHandler:x,trigger:_n(e,`trigger`),hideOnClick:_n(e,`hideOnClick`)}),{t:i,ns:r,scrollbar:l,wrapStyle:f,dropdownTriggerKls:p,dropdownSize:b,triggerId:g,currentTabId:u,handleCurrentTabIdChange:w,handlerMainButtonClick:e=>{t(`click`,e)},handleClose:v,handleOpen:y,handleBeforeShowTooltip:T,handleShowTooltip:E,handleBeforeHideTooltip:D,popperRef:s,contentRef:c,triggeringElementRef:a,referenceElementRef:o}}});function aP(e,t,n,r,i,a){let o=Yr(`el-roving-focus-group`),s=Yr(`el-scrollbar`),c=Yr(`el-only-child`),l=Yr(`el-tooltip`),u=Yr(`el-button`),d=Yr(`arrow-down`),f=Yr(`el-icon`),p=Yr(`el-button-group`);return V(),H(`div`,{class:N([e.ns.b(),e.ns.is(`disabled`,e.disabled)])},[G(l,{ref:`popperRef`,role:e.role,effect:e.effect,"fallback-placements":[`bottom`,`top`],"popper-options":e.popperOptions,"gpu-acceleration":!1,placement:e.placement,"popper-class":[e.ns.e(`popper`),e.popperClass],"popper-style":e.popperStyle,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-arrow":e.showArrow,"show-after":e.trigger===`hover`?e.showTimeout:0,"hide-after":e.trigger===`hover`?e.hideTimeout:0,"virtual-ref":e.virtualRef??e.triggeringElementRef,"virtual-triggering":e.virtualTriggering||e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:``,"focus-on-target":``,persistent:e.persistent,onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},ni({content:L(()=>[G(s,{ref:`scrollbar`,"wrap-style":e.wrapStyle,tag:`div`,"view-class":e.ns.e(`list`)},{default:L(()=>[G(o,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:`horizontal`,onCurrentTabIdChange:e.handleCurrentTabIdChange},{default:L(()=>[z(e.$slots,`dropdown`)]),_:3},8,[`loop`,`current-tab-id`,`onCurrentTabIdChange`])]),_:3},8,[`wrap-style`,`view-class`])]),_:2},[e.splitButton?void 0:{name:`default`,fn:L(()=>[G(c,{id:e.triggerId,ref:`triggeringElementRef`,role:`button`,tabindex:e.tabindex},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`id`,`tabindex`])])}]),1032,[`role`,`effect`,`popper-options`,`placement`,`popper-class`,`popper-style`,`trigger`,`trigger-keys`,`trigger-target-el`,`show-arrow`,`show-after`,`hide-after`,`virtual-ref`,`virtual-triggering`,`disabled`,`transition`,`teleported`,`persistent`,`onBeforeShow`,`onShow`,`onBeforeHide`]),e.splitButton?(V(),U(p,{key:0},{default:L(()=>[G(u,Ja({ref:`referenceElementRef`},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:L(()=>[z(e.$slots,`default`)]),_:3},16,[`size`,`type`,`disabled`,`tabindex`,`onClick`]),G(u,Ja({id:e.triggerId,ref:`triggeringElementRef`},e.buttonProps,{role:`button`,size:e.dropdownSize,type:e.type,class:e.ns.e(`caret-button`),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t(`el.dropdown.toggleDropdown`)}),{default:L(()=>[G(f,{class:N(e.ns.e(`icon`))},{default:L(()=>[G(d)]),_:1},8,[`class`])]),_:1},16,[`id`,`size`,`type`,`class`,`disabled`,`tabindex`,`aria-label`])]),_:3})):K(`v-if`,!0)],2)}var oP=Hb(iP,[[`render`,aP],[`__file`,`dropdown.vue`]]),sP=R({components:{ElRovingFocusCollectionItem:MN},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:[`mousedown`,`focus`,`keydown`],setup(e,{emit:t}){let{currentTabbedId:n,onItemFocus:r,onItemShiftTab:i,onKeydown:a}=Ni(FN,void 0),o=US(),s=F(),c=lw(e=>{t(`mousedown`,e)},t=>{e.focusable?r(I(o)):t.preventDefault()}),l=lw(e=>{t(`focus`,e)},()=>{r(I(o))}),u=lw(e=>{t(`keydown`,e)},e=>{let{shiftKey:t,target:n,currentTarget:r}=e;if(dw(e)===Z.tab&&t){i();return}n===r&&a(e)}),d=q(()=>n.value===I(o));return Mi(IN,{rovingFocusGroupItemRef:s,tabIndex:q(()=>I(d)?0:-1),handleMousedown:c,handleFocus:l,handleKeydown:u}),{id:o,handleKeydown:u,handleFocus:l,handleMousedown:c}}});function cP(e,t,n,r,i,a){let o=Yr(`el-roving-focus-collection-item`);return V(),U(o,{id:e.id,focusable:e.focusable,active:e.active},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`id`,`focusable`,`active`])}var lP=Hb(sP,[[`render`,cP],[`__file`,`roving-focus-item.vue`]]),uP=R({name:`DropdownItemImpl`,components:{ElIcon:hx},props:ZN,emits:[`pointermove`,`pointerleave`,`click`,`clickimpl`],setup(e,{emit:t}){let n=J(`dropdown`),{role:r}=Ni(tP,void 0),{collectionItemRef:i}=Ni(PN,void 0),{rovingFocusGroupItemRef:a,tabIndex:o,handleFocus:s,handleKeydown:c,handleMousedown:l}=Ni(IN,void 0),u=lN(i,a),d=q(()=>r.value===`menu`?`menuitem`:r.value===`navigation`?`link`:`button`),f=lw(e=>{let n=dw(e);if([Z.enter,Z.numpadEnter,Z.space].includes(n))return e.preventDefault(),e.stopImmediatePropagation(),t(`clickimpl`,e),!0},c);return{ns:n,itemRef:u,dataset:{[ON]:``},role:d,tabIndex:o,handleFocus:s,handleKeydown:f,handleMousedown:l}}});function dP(e,t,n,r,i,a){let o=Yr(`el-icon`);return V(),H(Da,null,[e.divided?(V(),H(`li`,{key:0,role:`separator`,class:N(e.ns.bem(`menu`,`item`,`divided`))},null,2)):K(`v-if`,!0),W(`li`,Ja({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be(`menu`,`item`),e.ns.is(`disabled`,e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t=>e.$emit(`clickimpl`,t),onFocus:e.handleFocus,onKeydown:Ks(e.handleKeydown,[`self`]),onMousedown:e.handleMousedown,onPointermove:t=>e.$emit(`pointermove`,t),onPointerleave:t=>e.$emit(`pointerleave`,t)}),[e.icon?(V(),U(o,{key:0},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1})):K(`v-if`,!0),z(e.$slots,`default`)],16,[`aria-disabled`,`tabindex`,`role`,`onClick`,`onFocus`,`onKeydown`,`onMousedown`,`onPointermove`,`onPointerleave`])],64)}var fP=Hb(uP,[[`render`,dP],[`__file`,`dropdown-item-impl.vue`]]),pP=()=>{let e=Ni(nP,{});return{elDropdown:e,_elDropdownSize:q(()=>e?.dropdownSize)}},mP=R({name:`ElDropdownItem`,components:{ElRovingFocusItem:lP,ElDropdownItemImpl:fP},inheritAttrs:!1,props:ZN,emits:[`pointermove`,`pointerleave`,`click`],setup(e,{emit:t,attrs:n}){let{elDropdown:r}=pP(),i=eo(),{onItemEnter:a,onItemLeave:o}=Ni(tP,void 0),s=lw(e=>(t(`pointermove`,e),e.defaultPrevented),uw(t=>{if(e.disabled){o(t);return}let n=t.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(a(t),t.defaultPrevented||n?.focus({preventScroll:!0}))})),c=lw(e=>(t(`pointerleave`,e),e.defaultPrevented),uw(o));return{handleClick:lw(n=>{if(!e.disabled)return t(`click`,n),n.type!==`keydown`&&n.defaultPrevented},t=>{var n,a;if(e.disabled){t.stopImmediatePropagation();return}r?.hideOnClick?.value&&((n=r.handleClick)==null||n.call(r)),(a=r.commandHandler)==null||a.call(r,e.command,i,t)}),handlePointerMove:s,handlePointerLeave:c,propsAndAttrs:q(()=>({...e,...n}))}}});function hP(e,t,n,r,i,a){let o=Yr(`el-dropdown-item-impl`),s=Yr(`el-roving-focus-item`);return V(),U(s,{focusable:!e.disabled},{default:L(()=>[G(o,Ja(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:L(()=>[z(e.$slots,`default`)]),_:3},16,[`onPointerleave`,`onPointermove`,`onClickimpl`])]),_:3},8,[`focusable`])}var gP=Hb(mP,[[`render`,hP],[`__file`,`dropdown-item.vue`]]),_P=R({name:`ElDropdownMenu`,props:QN,setup(e){let t=J(`dropdown`),{_elDropdownSize:n}=pP(),r=n.value,{contentRef:i,role:a,triggerId:o,isUsingKeyboard:s,handleClose:c}=Ni(tP,void 0),{rovingFocusGroupRef:l,rovingFocusGroupRootStyle:u,onBlur:d,onFocus:f,onKeydown:p,onMousedown:m}=Ni(FN,void 0),{collectionRef:h}=Ni(NN,void 0),g=q(()=>[t.b(`menu`),t.bm(`menu`,r?.value)]),_=lN(i,l,h),v=lw(t=>{var n;(n=e.onKeydown)==null||n.call(e,t)},e=>{let{currentTarget:t,target:n}=e,r=dw(e);if(t.contains(n),Z.tab===r)return c();p(e)});function y(e){s.value&&f(e)}return{size:r,rovingFocusGroupRootStyle:u,dropdownKls:g,role:a,triggerId:o,dropdownListWrapperRef:_,handleKeydown:v,onBlur:d,handleFocus:y,onMousedown:m}}});function vP(e,t,n,r,i,a){return V(),H(`ul`,{ref:e.dropdownListWrapperRef,class:N(e.dropdownKls),style:j(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onFocusin:e.handleFocus,onFocusout:e.onBlur,onKeydown:Ks(e.handleKeydown,[`self`]),onMousedown:Ks(e.onMousedown,[`self`])},[z(e.$slots,`default`)],46,[`role`,`aria-labelledby`,`onFocusin`,`onFocusout`,`onKeydown`,`onMousedown`])}var yP=Hb(_P,[[`render`,vP],[`__file`,`dropdown-menu.vue`]]),bP=lx(oP,{DropdownItem:gP,DropdownMenu:yP}),xP=fx(gP),SP=fx(yP),CP=Hb(R({...R({name:`ImgEmpty`}),setup(e){let t=J(`empty`),n=US();return(e,r)=>(V(),H(`svg`,{viewBox:`0 0 79 86`,version:`1.1`,xmlns:`http://www.w3.org/2000/svg`,"xmlns:xlink":`http://www.w3.org/1999/xlink`},[W(`defs`,null,[W(`linearGradient`,{id:`linearGradient-1-${I(n)}`,x1:`38.8503086%`,y1:`0%`,x2:`61.1496914%`,y2:`100%`},[W(`stop`,{"stop-color":`var(${I(t).cssVarBlockName(`fill-color-1`)})`,offset:`0%`},null,8,[`stop-color`]),W(`stop`,{"stop-color":`var(${I(t).cssVarBlockName(`fill-color-4`)})`,offset:`100%`},null,8,[`stop-color`])],8,[`id`]),W(`linearGradient`,{id:`linearGradient-2-${I(n)}`,x1:`0%`,y1:`9.5%`,x2:`100%`,y2:`90.5%`},[W(`stop`,{"stop-color":`var(${I(t).cssVarBlockName(`fill-color-1`)})`,offset:`0%`},null,8,[`stop-color`]),W(`stop`,{"stop-color":`var(${I(t).cssVarBlockName(`fill-color-6`)})`,offset:`100%`},null,8,[`stop-color`])],8,[`id`]),W(`rect`,{id:`path-3-${I(n)}`,x:`0`,y:`0`,width:`17`,height:`36`},null,8,[`id`])]),W(`g`,{stroke:`none`,"stroke-width":`1`,fill:`none`,"fill-rule":`evenodd`},[W(`g`,{transform:`translate(-1268.000000, -535.000000)`},[W(`g`,{transform:`translate(1268.000000, 535.000000)`},[W(`path`,{d:`M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z`,fill:`var(${I(t).cssVarBlockName(`fill-color-3`)})`},null,8,[`fill`]),W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-7`)})`,transform:`translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) `,points:`13 58 53 58 42 45 2 45`},null,8,[`fill`]),W(`g`,{transform:`translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)`},[W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-7`)})`,transform:`translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) `,points:`2.84078316e-14 3 18 3 23 7 5 7`},null,8,[`fill`]),W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-5`)})`,points:`-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43`},null,8,[`fill`]),W(`rect`,{fill:`url(#linearGradient-1-${I(n)})`,transform:`translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) `,x:`38`,y:`7`,width:`17`,height:`36`},null,8,[`fill`]),W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-2`)})`,transform:`translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) `,points:`24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12`},null,8,[`fill`])]),W(`rect`,{fill:`url(#linearGradient-2-${I(n)})`,x:`13`,y:`45`,width:`40`,height:`36`},null,8,[`fill`]),W(`g`,{transform:`translate(53.000000, 45.000000)`},[W(`use`,{fill:`var(${I(t).cssVarBlockName(`fill-color-8`)})`,transform:`translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) `,"xlink:href":`#path-3-${I(n)}`},null,8,[`fill`,`xlink:href`]),W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-9`)})`,mask:`url(#mask-4-${I(n)})`,transform:`translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) `,points:`7 0 24 0 20 18 7 16.5`},null,8,[`fill`,`mask`])]),W(`polygon`,{fill:`var(${I(t).cssVarBlockName(`fill-color-2`)})`,transform:`translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) `,points:`62 45 79 45 70 58 53 58`},null,8,[`fill`])])])])]))}}),[[`__file`,`img-empty.vue`]]),wP=X({image:{type:String,default:``},imageSize:Number,description:{type:String,default:``}}),TP=lx(Hb(R({...R({name:`ElEmpty`}),props:wP,setup(e){let t=e,{t:n}=gb(),r=J(`empty`),i=q(()=>t.description||n(`el.table.emptyText`)),a=q(()=>({width:Qb(t.imageSize)}));return(e,t)=>(V(),H(`div`,{class:N(I(r).b())},[W(`div`,{class:N(I(r).e(`image`)),style:j(I(a))},[e.image?(V(),H(`img`,{key:0,src:e.image,ondragstart:`return false`},null,8,[`src`])):z(e.$slots,`image`,{key:1},()=>[G(CP)])],6),W(`div`,{class:N(I(r).e(`description`))},[e.$slots.description?z(e.$slots,`description`,{key:0}):(V(),H(`p`,{key:1},P(I(i)),1))],2),e.$slots.default?(V(),H(`div`,{key:0,class:N(I(r).e(`bottom`))},[z(e.$slots,`default`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`empty.vue`]])),EP=X({...X({size:{type:String,values:bb},disabled:Boolean}),model:Object,rules:{type:Y(Object)},labelPosition:{type:String,values:[`left`,`right`,`top`],default:`right`},requireAsteriskPosition:{type:String,values:[`left`,`right`],default:`left`},labelWidth:{type:[String,Number],default:``},labelSuffix:{type:String,default:``},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:Y([Object,Boolean]),default:!0}}),DP={validate:(e,t,n)=>(b(e)||T(e))&&Rv(t)&&T(n)};function OP(){let e=F([]),t=q(()=>{if(!e.value.length)return`0`;let t=Math.max(...e.value);return t?`${t}px`:``});function n(n){let r=e.value.indexOf(n);return r===-1&&t.value===`0`&&`${n}`,r}function r(t,r){if(t&&r){let i=n(r);e.value.splice(i,1,t)}else t&&e.value.push(t)}function i(t){let r=n(t);r>-1&&e.value.splice(r,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:i}}var kP=(e,t)=>{let n=Lp(t).map(e=>b(e)?e.join(`.`):e);return n.length>0?e.filter(e=>e.propString&&n.includes(e.propString)):e},AP=Hb(R({...R({name:`ElForm`}),props:EP,emits:DP,setup(e,{expose:t,emit:n}){let r=e,i=F(),a=Kt([]),o=YS(),s=J(`form`),c=q(()=>{let{labelPosition:e,inline:t}=r;return[s.b(),s.m(o.value||`default`),{[s.m(`label-${e}`)]:e,[s.m(`inline`)]:t}]}),l=e=>kP(a,[e])[0],u=e=>{a.push(e)},d=e=>{e.prop&&a.splice(a.indexOf(e),1)},f=(e=[])=>{r.model&&kP(a,e).forEach(e=>e.resetField())},p=(e=[])=>{kP(a,e).forEach(e=>e.clearValidate())},m=q(()=>!!r.model),h=e=>{if(a.length===0)return[];let t=kP(a,e);return t.length?t:[]},g=async e=>v(void 0,e),_=async(e=[])=>{if(!m.value)return!1;let t=h(e);if(t.length===0)return!0;let n={};for(let e of t)try{await e.validate(``),e.validateState===`error`&&!e.error&&e.resetField()}catch(e){n={...n,...e}}return Object.keys(n).length===0?!0:Promise.reject(n)},v=async(e=[],t)=>{let n=!1,a=!w(t);try{return n=await _(e),n===!0&&await t?.(n),n}catch(e){if(e instanceof Error)throw e;let o=e;return r.scrollToError&&i.value&&i.value.querySelector(`.${s.b()}-item.is-error`)?.scrollIntoView(r.scrollIntoViewOptions),!n&&await t?.(!1,o),a&&Promise.reject(o)}},y=e=>{var t;let n=l(e);n&&((t=n.$el)==null||t.scrollIntoView(r.scrollIntoViewOptions))};return B(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(e=>void 0)},{deep:!0,flush:`post`}),Mi(WS,Kt({...mn(r),emit:n,resetFields:f,clearValidate:p,validateField:v,getField:l,addField:u,removeField:d,...OP()})),t({validate:g,validateField:v,resetFields:f,clearValidate:p,scrollToField:y,getField:l,fields:a}),(e,t)=>(V(),H(`form`,{ref_key:`formRef`,ref:i,class:N(I(c))},[z(e.$slots,`default`)],2))}}),[[`__file`,`form.vue`]]);function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jP.apply(this,arguments)}function MP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,PP(e,t)}function NP(e){return NP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NP(e)}function PP(e,t){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PP(e,t)}function FP(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function IP(e,t,n){return IP=FP()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&PP(i,n.prototype),i},IP.apply(null,arguments)}function LP(e){return Function.toString.call(e).indexOf(`[native code]`)!==-1}function RP(e){var t=typeof Map==`function`?new Map:void 0;return RP=function(e){if(e===null||!LP(e))return e;if(typeof e!=`function`)throw TypeError(`Super expression must either be null or a function`);if(t!==void 0){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return IP(e,arguments,NP(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),PP(n,e)},RP(e)}var zP=/%[sdj%]/g,BP=function(){};function VP(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function HP(e){var t=[...arguments].slice(1),n=0,r=t.length;return typeof e==`function`?e.apply(null,t):typeof e==`string`?e.replace(zP,function(e){if(e===`%%`)return`%`;if(n>=r)return e;switch(e){case`%s`:return String(t[n++]);case`%d`:return Number(t[n++]);case`%j`:try{return JSON.stringify(t[n++])}catch{return`[Circular]`}break;default:return e}}):e}function UP(e){return e===`string`||e===`url`||e===`hex`||e===`email`||e===`date`||e===`pattern`}function WP(e,t){return!!(e==null||t===`array`&&Array.isArray(e)&&!e.length||UP(t)&&typeof e==`string`&&!e)}function GP(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),i++,i===a&&n(r)}e.forEach(function(e){t(e,o)})}function KP(e,t,n){var r=0,i=e.length;function a(o){if(o&&o.length){n(o);return}var s=r;r+=1,s<i?t(e[s],a):n([])}a([])}function qP(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var JP=function(e){MP(t,e);function t(t,n){var r=e.call(this,`Async Validation Error`)||this;return r.errors=t,r.fields=n,r}return t}(RP(Error));function YP(e,t,n,r,i){if(t.first){var a=new Promise(function(t,a){KP(qP(e),n,function(e){return r(e),e.length?a(new JP(e,VP(e))):t(i)})});return a.catch(function(e){return e}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),c=s.length,l=0,u=[],d=new Promise(function(t,a){var d=function(e){if(u.push.apply(u,e),l++,l===c)return r(u),u.length?a(new JP(u,VP(u))):t(i)};s.length||(r(u),t(i)),s.forEach(function(t){var r=e[t];o.indexOf(t)===-1?GP(r,n,d):KP(r,n,d)})});return d.catch(function(e){return e}),d}function XP(e){return!!(e&&e.message!==void 0)}function ZP(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function QP(e,t){return function(n){var r=e.fullFields?ZP(t,e.fullFields):t[n.field||e.fullField];return XP(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n==`function`?n():n,fieldValue:r,field:n.field||e.fullField}}}function $P(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r==`object`&&typeof e[n]==`object`?e[n]=jP({},e[n],r):e[n]=r}}return e}var eF=function(e,t,n,r,i,a){e.required&&(!n.hasOwnProperty(e.field)||WP(t,a||e.type))&&r.push(HP(i.messages.required,e.fullField))},tF=function(e,t,n,r,i){(/^\s+$/.test(t)||t===``)&&r.push(HP(i.messages.whitespace,e.fullField))},nF,rF=(function(){if(nF)return nF;var e=`[a-fA-F\\d:]`,t=function(t){return t&&t.includeBoundaries?`(?:(?<=\\s|^)(?=`+e+`)|(?<=`+e+`)(?=\\s|$))`:``},n=`(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}`,r=`[a-fA-F\\d]{1,4}`,i=(`
(?:
(?:`+r+`:){7}(?:`+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+`:){6}(?:`+n+`|:`+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+`:){5}(?::`+n+`|(?::`+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+`:){4}(?:(?::`+r+`){0,1}:`+n+`|(?::`+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+`:){3}(?:(?::`+r+`){0,2}:`+n+`|(?::`+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+`:){2}(?:(?::`+r+`){0,3}:`+n+`|(?::`+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+`:){1}(?:(?::`+r+`){0,4}:`+n+`|(?::`+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+`){0,5}:`+n+`|(?::`+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,``).replace(/\n/g,``).trim(),a=RegExp(`(?:^`+n+`$)|(?:^`+i+`$)`),o=RegExp(`^`+n+`$`),s=RegExp(`^`+i+`$`),c=function(e){return e&&e.exact?a:RegExp(`(?:`+t(e)+n+t(e)+`)|(?:`+t(e)+i+t(e)+`)`,`g`)};c.v4=function(e){return e&&e.exact?o:RegExp(``+t(e)+n+t(e),`g`)},c.v6=function(e){return e&&e.exact?s:RegExp(``+t(e)+i+t(e),`g`)};var l=`(?:(?:[a-z]+:)?//)`,u=`(?:\\S+(?::\\S*)?@)?`,d=c.v4().source,f=c.v6().source,p=`(?:`+l+`|www\\.)`+u+`(?:localhost|`+d+`|`+f+`|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return nF=RegExp(`(?:^`+p+`$)`,`i`),nF}),iF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},aF={integer:function(e){return aF.number(e)&&parseInt(e,10)===e},float:function(e){return aF.number(e)&&!aF.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!0}catch{return!1}},date:function(e){return typeof e.getTime==`function`&&typeof e.getMonth==`function`&&typeof e.getYear==`function`&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e==`number`},object:function(e){return typeof e==`object`&&!aF.array(e)},method:function(e){return typeof e==`function`},email:function(e){return typeof e==`string`&&e.length<=320&&!!e.match(iF.email)},url:function(e){return typeof e==`string`&&e.length<=2048&&!!e.match(rF())},hex:function(e){return typeof e==`string`&&!!e.match(iF.hex)}},oF=function(e,t,n,r,i){if(e.required&&t===void 0){eF(e,t,n,r,i);return}var a=[`integer`,`float`,`array`,`regexp`,`object`,`method`,`email`,`number`,`date`,`url`,`hex`],o=e.type;a.indexOf(o)>-1?aF[o](t)||r.push(HP(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(HP(i.messages.types[o],e.fullField,e.type))},sF=function(e,t,n,r,i){var a=typeof e.len==`number`,o=typeof e.min==`number`,s=typeof e.max==`number`,c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=t,u=null,d=typeof t==`number`,f=typeof t==`string`,p=Array.isArray(t);if(d?u=`number`:f?u=`string`:p&&(u=`array`),!u)return!1;p&&(l=t.length),f&&(l=t.replace(c,`_`).length),a?l!==e.len&&r.push(HP(i.messages[u].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(HP(i.messages[u].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(HP(i.messages[u].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(HP(i.messages[u].range,e.fullField,e.min,e.max))},cF=`enum`,lF={required:eF,whitespace:tF,type:oF,range:sF,enum:function(e,t,n,r,i){e[cF]=Array.isArray(e[cF])?e[cF]:[],e[cF].indexOf(t)===-1&&r.push(HP(i.messages[cF],e.fullField,e[cF].join(`, `)))},pattern:function(e,t,n,r,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(HP(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):typeof e.pattern==`string`&&(new RegExp(e.pattern).test(t)||r.push(HP(i.messages.pattern.mismatch,e.fullField,t,e.pattern))))}},uF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t,`string`)&&!e.required)return n();lF.required(e,t,r,a,i,`string`),WP(t,`string`)||(lF.type(e,t,r,a,i),lF.range(e,t,r,a,i),lF.pattern(e,t,r,a,i),e.whitespace===!0&&lF.whitespace(e,t,r,a,i))}n(a)},dF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&lF.type(e,t,r,a,i)}n(a)},fF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(t===``&&(t=void 0),WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&(lF.type(e,t,r,a,i),lF.range(e,t,r,a,i))}n(a)},pF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&lF.type(e,t,r,a,i)}n(a)},mF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),WP(t)||lF.type(e,t,r,a,i)}n(a)},hF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&(lF.type(e,t,r,a,i),lF.range(e,t,r,a,i))}n(a)},gF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&(lF.type(e,t,r,a,i),lF.range(e,t,r,a,i))}n(a)},_F=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(t==null&&!e.required)return n();lF.required(e,t,r,a,i,`array`),t!=null&&(lF.type(e,t,r,a,i),lF.range(e,t,r,a,i))}n(a)},vF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&lF.type(e,t,r,a,i)}n(a)},yF=`enum`,bF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i),t!==void 0&&lF[yF](e,t,r,a,i)}n(a)},xF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t,`string`)&&!e.required)return n();lF.required(e,t,r,a,i),WP(t,`string`)||lF.pattern(e,t,r,a,i)}n(a)},SF=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t,`date`)&&!e.required)return n();if(lF.required(e,t,r,a,i),!WP(t,`date`)){var o=t instanceof Date?t:new Date(t);lF.type(e,o,r,a,i),o&&lF.range(e,o.getTime(),r,a,i)}}n(a)},CF=function(e,t,n,r,i){var a=[],o=Array.isArray(t)?`array`:typeof t;lF.required(e,t,r,a,i,o),n(a)},wF=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t,a)&&!e.required)return n();lF.required(e,t,r,o,i,a),WP(t,a)||lF.type(e,t,r,o,i)}n(o)},TF={string:uF,method:dF,number:fF,boolean:pF,regexp:mF,integer:hF,float:gF,array:_F,object:vF,enum:bF,pattern:xF,date:SF,url:wF,hex:wF,email:wF,required:CF,any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(WP(t)&&!e.required)return n();lF.required(e,t,r,a,i)}n(a)}};function EF(){return{default:`Validation error on field %s`,required:`%s is required`,enum:`%s must be one of %s`,whitespace:`%s cannot be empty`,date:{format:`%s date %s is invalid for format %s`,parse:`%s date could not be parsed, %s is invalid `,invalid:`%s date %s is invalid`},types:{string:`%s is not a %s`,method:`%s is not a %s (function)`,array:`%s is not an %s`,object:`%s is not an %s`,number:`%s is not a %s`,date:`%s is not a %s`,boolean:`%s is not a %s`,integer:`%s is not an %s`,float:`%s is not a %s`,regexp:`%s is not a valid %s`,email:`%s is not a valid %s`,url:`%s is not a valid %s`,hex:`%s is not a valid %s`},string:{len:`%s must be exactly %s characters`,min:`%s must be at least %s characters`,max:`%s cannot be longer than %s characters`,range:`%s must be between %s and %s characters`},number:{len:`%s must equal %s`,min:`%s cannot be less than %s`,max:`%s cannot be greater than %s`,range:`%s must be between %s and %s`},array:{len:`%s must be exactly %s in length`,min:`%s cannot be less than %s in length`,max:`%s cannot be greater than %s in length`,range:`%s must be between %s and %s in length`},pattern:{mismatch:`%s value %s does not match pattern %s`},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var DF=EF(),OF=function(){function e(e){this.rules=null,this._messages=DF,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw Error(`Cannot configure a schema with no rules`);if(typeof e!=`object`||Array.isArray(e))throw Error(`Rules must be an object`);this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=$P(EF(),e)),this._messages},t.validate=function(t,n,r){var i=this;n===void 0&&(n={}),r===void 0&&(r=function(){});var a=t,o=n,s=r;if(typeof o==`function`&&(s=o,o={}),!this.rules||Object.keys(this.rules).length===0)return s&&s(null,a),Promise.resolve(a);function c(e){var t=[],n={};function r(e){if(Array.isArray(e)){var n;t=(n=t).concat.apply(n,e)}else t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=VP(t),s(t,n)):s(null,a)}if(o.messages){var l=this.messages();l===DF&&(l=EF()),$P(l,o.messages),o.messages=l}else o.messages=this.messages();var u={};(o.keys||Object.keys(this.rules)).forEach(function(e){var n=i.rules[e],r=a[e];n.forEach(function(n){var o=n;typeof o.transform==`function`&&(a===t&&(a=jP({},a)),r=a[e]=o.transform(r)),o=typeof o==`function`?{validator:o}:jP({},o),o.validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),u[e]=u[e]||[],u[e].push({rule:o,value:r,source:a,field:e}))})});var d={};return YP(u,o,function(t,n){var r=t.rule,i=(r.type===`object`||r.type===`array`)&&(typeof r.fields==`object`||typeof r.defaultField==`object`);i&&=r.required||!r.required&&t.value,r.field=t.field;function s(e,t){return jP({},t,{fullField:r.fullField+`.`+e,fullFields:r.fullFields?[].concat(r.fullFields,[e]):[e]})}function c(c){c===void 0&&(c=[]);var l=Array.isArray(c)?c:[c];!o.suppressWarning&&l.length&&e.warning(`async-validator:`,l),l.length&&r.message!==void 0&&(l=[].concat(r.message));var u=l.map(QP(r,a));if(o.first&&u.length)return d[r.field]=1,n(u);if(!i)n(u);else{if(r.required&&!t.value)return r.message===void 0?o.error&&(u=[o.error(r,HP(o.messages.required,r.field))]):u=[].concat(r.message).map(QP(r,a)),n(u);var f={};r.defaultField&&Object.keys(t.value).map(function(e){f[e]=r.defaultField}),f=jP({},f,t.rule.fields);var p={};Object.keys(f).forEach(function(e){var t=f[e];p[e]=(Array.isArray(t)?t:[t]).map(s.bind(null,e))});var m=new e(p);m.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),m.validate(t.value,t.rule.options||o,function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}}var l;if(r.asyncValidator)l=r.asyncValidator(r,t.value,c,t.source,o);else if(r.validator){try{l=r.validator(r,t.value,c,t.source,o)}catch(e){console.error==null||console.error(e),o.suppressValidatorError||setTimeout(function(){throw e},0),c(e.message)}l===!0?c():l===!1?c(typeof r.message==`function`?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+` fails`):l instanceof Array?c(l):l instanceof Error&&c(l.message)}l&&l.then&&l.then(function(){return c()},function(e){return c(e)})},function(e){c(e)},a)},t.getType=function(e){if(e.type===void 0&&e.pattern instanceof RegExp&&(e.type=`pattern`),typeof e.validator!=`function`&&e.type&&!TF.hasOwnProperty(e.type))throw Error(HP(`Unknown rule type %s`,e.type));return e.type||`string`},t.getValidationMethod=function(e){if(typeof e.validator==`function`)return e.validator;var t=Object.keys(e),n=t.indexOf(`message`);return n!==-1&&t.splice(n,1),t.length===1&&t[0]===`required`?TF.required:TF[this.getType(e)]||void 0},e}();OF.register=function(e,t){if(typeof t!=`function`)throw Error(`Cannot register a validator by type, validator is not a function`);TF[e]=t},OF.warning=BP,OF.messages=DF,OF.validators=TF;var kF=X({label:String,labelWidth:{type:[String,Number]},labelPosition:{type:String,values:[`left`,`right`,`top`,``],default:``},prop:{type:Y([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Y([Object,Array])},error:String,validateStatus:{type:String,values:[``,`error`,`validating`,`success`]},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:bb}}),AF=`ElLabelWrap`,jF=R({name:AF,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){let n=Ni(WS,void 0),r=Ni(GS);r||ib(AF,`usage: <el-form-item><label-wrap /></el-form-item>`);let i=J(`form`),a=F(),o=F(0),s=()=>{if(a.value?.firstElementChild){let e=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}else return 0},c=(r=`update`)=>{Ln(()=>{t.default&&e.isAutoWidth&&(r===`update`?o.value=s():r===`remove`&&n?.deregisterLabelWidth(o.value))})},l=()=>c(`update`);return Rr(()=>{l()}),Vr(()=>{c(`remove`)}),Br(()=>l()),B(o,(t,r)=>{e.updateAll&&n?.registerLabelWidth(t,r)}),zy(q(()=>a.value?.firstElementChild??null),l),()=>{if(!t)return null;let{isAutoWidth:s}=e;if(s){let e=n?.autoLabelWidth,s=r?.hasLabel,c={};if(s&&e&&e!==`auto`){let t=Math.max(0,Number.parseInt(e,10)-o.value),i=(r.labelPosition||n.labelPosition)===`left`?`marginRight`:`marginLeft`;t&&(c[i]=`${t}px`)}return G(`div`,{ref:a,class:[i.be(`item`,`label-wrap`)],style:c},[t.default?.call(t)])}else return G(Da,{ref:a},[t.default?.call(t)])}}}),MF=Hb(R({...R({name:`ElFormItem`}),props:kF,setup(e,{expose:t}){let n=e,r=li(),i=Ni(WS,void 0),a=Ni(GS,void 0),o=YS(void 0,{formItem:!1}),s=J(`form-item`),c=US().value,l=F([]),u=F(``),d=vy(u,100),f=F(``),p=F(),m,h=!1,g=q(()=>n.labelPosition||i?.labelPosition),_=q(()=>g.value===`top`?{}:{width:Qb(n.labelWidth??i?.labelWidth)}),v=q(()=>{if(g.value===`top`||i?.inline||!n.label&&!n.labelWidth&&O)return{};let e=Qb(n.labelWidth??i?.labelWidth);return!n.label&&!r.label?{marginLeft:e}:{}}),y=q(()=>[s.b(),s.m(o.value),s.is(`error`,u.value===`error`),s.is(`validating`,u.value===`validating`),s.is(`success`,u.value===`success`),s.is(`required`,ne.value||n.required),s.is(`no-asterisk`,i?.hideRequiredAsterisk),i?.requireAsteriskPosition===`right`?`asterisk-right`:`asterisk-left`,{[s.m(`feedback`)]:i?.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),x=q(()=>Rv(n.inlineMessage)?n.inlineMessage:i?.inlineMessage||!1),S=q(()=>[s.e(`error`),{[s.em(`error`,`inline`)]:x.value}]),C=q(()=>n.prop?b(n.prop)?n.prop.join(`.`):n.prop:``),T=q(()=>!!(n.label||r.label)),E=q(()=>n.for??(l.value.length===1?l.value[0]:void 0)),D=q(()=>!E.value&&T.value),O=!!a,k=q(()=>{let e=i?.model;if(!(!e||!n.prop))return Ab(e,n.prop).value}),A=q(()=>{let{required:e}=n,t=[];n.rules&&t.push(...Lp(n.rules));let r=i?.rules;if(r&&n.prop){let e=Ab(r,n.prop).value;e&&t.push(...Lp(e))}if(e!==void 0){let n=t.map((e,t)=>[e,t]).filter(([e])=>`required`in e);if(n.length>0)for(let[r,i]of n)r.required!==e&&(t[i]={...r,required:e});else t.push({required:e})}return t}),ee=q(()=>A.value.length>0),te=e=>A.value.filter(t=>!t.trigger||!e?!0:b(t.trigger)?t.trigger.includes(e):t.trigger===e).map(({trigger:e,...t})=>t),ne=q(()=>A.value.some(e=>e.required)),re=q(()=>d.value===`error`&&n.showMessage&&(i?.showMessage??!0)),ie=q(()=>`${n.label||``}${i?.labelSuffix||``}`),ae=e=>{u.value=e},oe=e=>{let{errors:t,fields:r}=e;(!t||!r)&&console.error(e),ae(`error`),f.value=t?t?.[0]?.message??`${n.prop} is required`:``,i?.emit(`validate`,n.prop,!1,f.value)},se=()=>{ae(`success`),i?.emit(`validate`,n.prop,!0,``)},ce=async e=>{let t=C.value;return new OF({[t]:e}).validate({[t]:k.value},{firstFields:!0}).then(()=>(se(),!0)).catch(e=>(oe(e),Promise.reject(e)))},le=async(e,t)=>{if(h||!n.prop)return!1;let r=w(t);if(!ee.value)return t?.(!1),!1;let i=te(e);return i.length===0?(t?.(!0),!0):(ae(`validating`),ce(i).then(()=>(t?.(!0),!0)).catch(e=>{let{fields:n}=e;return t?.(!1,n),r?!1:Promise.reject(n)}))},ue=()=>{ae(``),f.value=``,h=!1},de=async()=>{let e=i?.model;if(!e||!n.prop)return;let t=Ab(e,n.prop);h=!0,t.value=cg(m),await Ln(),ue(),h=!1},fe=e=>{l.value.includes(e)||l.value.push(e)},pe=e=>{l.value=l.value.filter(t=>t!==e)};B(()=>n.error,e=>{f.value=e||``,ae(e?`error`:``)},{immediate:!0}),B(()=>n.validateStatus,e=>ae(e||``));let me=Kt({...mn(n),$el:p,size:o,validateMessage:f,validateState:u,labelId:c,inputIds:l,isGroup:D,hasLabel:T,fieldValue:k,addInputId:fe,removeInputId:pe,resetField:de,clearValidate:ue,validate:le,propString:C});return Mi(GS,me),Rr(()=>{n.prop&&(i?.addField(me),m=cg(k.value))}),Vr(()=>{i?.removeField(me)}),t({size:o,validateMessage:f,validateState:u,validate:le,clearValidate:ue,resetField:de}),(e,t)=>(V(),H(`div`,{ref_key:`formItemRef`,ref:p,class:N(I(y)),role:I(D)?`group`:void 0,"aria-labelledby":I(D)?I(c):void 0},[G(I(jF),{"is-auto-width":I(_).width===`auto`,"update-all":I(i)?.labelWidth===`auto`},{default:L(()=>[e.label||e.$slots.label?(V(),U(Zr(I(E)?`label`:`div`),{key:0,id:I(c),for:I(E),class:N(I(s).e(`label`)),style:j(I(_))},{default:L(()=>[z(e.$slots,`label`,{label:I(ie)},()=>[Wa(P(I(ie)),1)])]),_:3},8,[`id`,`for`,`class`,`style`])):K(`v-if`,!0)]),_:3},8,[`is-auto-width`,`update-all`]),W(`div`,{class:N(I(s).e(`content`)),style:j(I(v))},[z(e.$slots,`default`),G(Os,{name:`${I(s).namespace.value}-zoom-in-top`},{default:L(()=>[I(re)?z(e.$slots,`error`,{key:0,error:f.value},()=>[W(`div`,{class:N(I(S))},P(f.value),3)]):K(`v-if`,!0)]),_:3},8,[`name`])],6)],10,[`role`,`aria-labelledby`]))}}),[[`__file`,`form-item.vue`]]),NF=lx(AP,{FormItem:MF}),PF=fx(MF),FF=X({urlList:{type:Y(Array),default:()=>MS([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Y(String)}}),IF={close:()=>!0,error:e=>e instanceof Event,switch:e=>zv(e),rotate:e=>zv(e)},LF=lx(Hb(R({...R({name:`ElImageViewer`}),props:FF,emits:IF,setup(e,{expose:t,emit:n}){let r=e,i={CONTAIN:{name:`contain`,icon:tn(Bx)},ORIGINAL:{name:`original`,icon:tn(nS)}},a,{t:o}=gb(),s=J(`image-viewer`),{nextZIndex:c}=ub(),l=F(),u=F(),d=Ne(),f=q(()=>{let{scale:e,minScale:t,maxScale:n}=r;return ay(e,t,n)}),p=F(!0),m=F(!1),h=F(!1),g=F(r.initialIndex),_=on(i.CONTAIN),v=F({scale:f.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=F(r.zIndex??c());pN(h,{ns:s});let b=q(()=>{let{urlList:e}=r;return e.length<=1}),x=q(()=>g.value===0),S=q(()=>g.value===r.urlList.length-1),C=q(()=>r.urlList[g.value]),w=q(()=>[s.e(`btn`),s.e(`prev`),s.is(`disabled`,!r.infinite&&x.value)]),T=q(()=>[s.e(`btn`),s.e(`next`),s.is(`disabled`,!r.infinite&&S.value)]),E=q(()=>{let{scale:e,deg:t,offsetX:n,offsetY:r,enableTransition:a}=v.value,o=n/e,s=r/e,c=t*Math.PI/180,l=Math.cos(c),u=Math.sin(c);o=o*l+s*u,s=s*l-n/e*u;let d={transform:`scale(${e}) rotate(${t}deg) translate(${o}px, ${s}px)`,transition:a?`transform .3s`:``};return _.value.name===i.CONTAIN.name&&(d.maxWidth=d.maxHeight=`100%`),d}),D=q(()=>`${g.value+1} / ${r.urlList.length}`);function O(){A(),a?.(),h.value=!1,n(`close`)}function k(){let e=jv(e=>{switch(dw(e)){case Z.esc:r.closeOnPressEscape&&O();break;case Z.space:ae();break;case Z.left:se();break;case Z.up:le(`zoomIn`);break;case Z.right:ce();break;case Z.down:le(`zoomOut`);break}}),t=jv(e=>{le((e.deltaY||e.deltaX)<0?`zoomIn`:`zoomOut`,{zoomRate:r.zoomRate,enableTransition:!1})});d.run(()=>{Ty(document,`keydown`,e),Ty(l,`wheel`,t)})}function A(){d.stop()}function ee(){p.value=!1}function te(e){m.value=!0,p.value=!1,n(`error`,e),e.target.alt=o(`el.image.error`)}function ne(e){if(p.value||e.button!==0||!l.value)return;v.value.enableTransition=!1;let{offsetX:t,offsetY:n}=v.value,r=e.pageX,i=e.pageY,a=jv(e=>{v.value={...v.value,offsetX:t+e.pageX-r,offsetY:n+e.pageY-i}}),o=Ty(document,`mousemove`,a),s=Ty(document,`mouseup`,()=>{o(),s()});e.preventDefault()}function re(e){if(p.value||!l.value||e.touches.length!==1)return;v.value.enableTransition=!1;let{offsetX:t,offsetY:n}=v.value,{pageX:r,pageY:i}=e.touches[0],a=jv(e=>{let a=e.touches[0];v.value={...v.value,offsetX:t+a.pageX-r,offsetY:n+a.pageY-i}}),o=Ty(document,`touchmove`,a),s=Ty(document,`touchend`,()=>{o(),s()});e.preventDefault()}function ie(){v.value={scale:f.value,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ae(){if(p.value||m.value)return;let e=Ob(i),t=Object.values(i),n=_.value.name;_.value=i[e[(t.findIndex(e=>e.name===n)+1)%e.length]],ie()}function oe(e){m.value=!1;let t=r.urlList.length;g.value=(e+t)%t}function se(){x.value&&!r.infinite||oe(g.value-1)}function ce(){S.value&&!r.infinite||oe(g.value+1)}function le(e,t={}){if(p.value||m.value)return;let{minScale:i,maxScale:a}=r,{zoomRate:o,rotateDeg:s,enableTransition:c}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...t};switch(e){case`zoomOut`:v.value.scale>i&&(v.value.scale=Number.parseFloat((v.value.scale/o).toFixed(3)));break;case`zoomIn`:v.value.scale<a&&(v.value.scale=Number.parseFloat((v.value.scale*o).toFixed(3)));break;case`clockwise`:v.value.deg+=s,n(`rotate`,v.value.deg);break;case`anticlockwise`:v.value.deg-=s,n(`rotate`,v.value.deg);break}v.value.enableTransition=c}function ue(e){e.detail?.focusReason===`pointer`&&e.preventDefault()}function de(){r.closeOnPressEscape&&O()}function fe(e){if(e.ctrlKey&&(e.deltaY<0||e.deltaY>0))return e.preventDefault(),!1}return B(()=>f.value,e=>{v.value.scale=e}),B(C,()=>{Ln(()=>{u.value?.complete||(p.value=!0)})}),B(g,e=>{ie(),n(`switch`,e)}),Rr(()=>{h.value=!0,k(),a=Ty(`wheel`,fe,{passive:!1})}),t({setActiveItem:oe}),(e,t)=>(V(),U(I(WE),{to:`body`,disabled:!e.teleported},{default:L(()=>[G(No,{name:`viewer-fade`,appear:``},{default:L(()=>[W(`div`,{ref_key:`wrapper`,ref:l,tabindex:-1,class:N(I(s).e(`wrapper`)),style:j({zIndex:y.value})},[G(I(vw),{loop:``,trapped:``,"focus-trap-el":l.value,"focus-start-el":`container`,onFocusoutPrevented:ue,onReleaseRequested:de},{default:L(()=>[W(`div`,{class:N(I(s).e(`mask`)),onClick:Ks(t=>e.hideOnClickModal&&O(),[`self`])},null,10,[`onClick`]),K(` CLOSE `),W(`span`,{class:N([I(s).e(`btn`),I(s).e(`close`)]),onClick:O},[G(I(hx),null,{default:L(()=>[G(I(Mx))]),_:1})],2),K(` ARROW `),I(b)?K(`v-if`,!0):(V(),H(Da,{key:0},[W(`span`,{class:N(I(w)),onClick:se},[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1})],2),W(`span`,{class:N(I(T)),onClick:ce},[G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})],2)],64)),e.$slots.progress||e.showProgress?(V(),H(`div`,{key:1,class:N([I(s).e(`btn`),I(s).e(`progress`)])},[z(e.$slots,`progress`,{activeIndex:g.value,total:e.urlList.length},()=>[Wa(P(I(D)),1)])],2)):K(`v-if`,!0),K(` ACTIONS `),W(`div`,{class:N([I(s).e(`btn`),I(s).e(`actions`)])},[W(`div`,{class:N(I(s).e(`actions__inner`))},[z(e.$slots,`toolbar`,{actions:le,prev:se,next:ce,reset:ae,activeIndex:g.value,setActiveItem:oe},()=>[G(I(hx),{onClick:e=>le(`zoomOut`)},{default:L(()=>[G(I(hS))]),_:1},8,[`onClick`]),G(I(hx),{onClick:e=>le(`zoomIn`)},{default:L(()=>[G(I(mS))]),_:1},8,[`onClick`]),W(`i`,{class:N(I(s).e(`actions__divider`))},null,2),G(I(hx),{onClick:ae},{default:L(()=>[(V(),U(Zr(I(_).icon)))]),_:1}),W(`i`,{class:N(I(s).e(`actions__divider`))},null,2),G(I(hx),{onClick:e=>le(`anticlockwise`)},{default:L(()=>[G(I(eS))]),_:1},8,[`onClick`]),G(I(hx),{onClick:e=>le(`clockwise`)},{default:L(()=>[G(I(tS))]),_:1},8,[`onClick`])])],2)],2),K(` CANVAS `),W(`div`,{class:N(I(s).e(`canvas`))},[m.value&&e.$slots[`viewer-error`]?z(e.$slots,`viewer-error`,{key:0,activeIndex:g.value,src:I(C)}):(V(),H(`img`,{ref_key:`imgRef`,ref:u,key:I(C),src:I(C),style:j(I(E)),class:N(I(s).e(`img`)),crossorigin:e.crossorigin,onLoad:ee,onError:te,onMousedown:ne,onTouchstart:re},null,46,[`src`,`crossorigin`]))],2),z(e.$slots,`default`)]),_:3},8,[`focus-trap-el`])],6)]),_:3})]),_:3},8,[`disabled`]))}}),[[`__file`,`image-viewer.vue`]])),RF=X({hideOnClickModal:Boolean,src:{type:String,default:``},fit:{type:String,values:[``,`contain`,`cover`,`fill`,`none`,`scale-down`],default:``},loading:{type:String,values:[`eager`,`lazy`]},lazy:Boolean,scrollContainer:{type:Y([String,Object])},previewSrcList:{type:Y(Array),default:()=>MS([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},scale:{type:Number,default:1},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:Y(String)}}),zF={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>zv(e),close:()=>!0,show:()=>!0},BF=lx(Hb(R({...R({name:`ElImage`,inheritAttrs:!1}),props:RF,emits:zF,setup(e,{expose:t,emit:n}){let r=e,{t:i}=gb(),a=J(`image`),o=ui(),s=q(()=>ev(Object.entries(o).filter(([e])=>/^(data-|on[A-Z])/i.test(e)||[`id`,`style`].includes(e)))),c=zS({excludeListeners:!0,excludeKeys:q(()=>Object.keys(s.value))}),l=F(),u=F(!1),d=F(!0),f=F(!1),p=F(),m=F(),h=ty&&`loading`in HTMLImageElement.prototype,g,_=q(()=>[a.e(`inner`),y.value&&a.e(`preview`),d.value&&a.is(`loading`)]),v=q(()=>{let{fit:e}=r;return ty&&e?{objectFit:e}:{}}),y=q(()=>{let{previewSrcList:e}=r;return b(e)&&e.length>0}),x=q(()=>{let{previewSrcList:e,initialIndex:t}=r,n=t;return t>e.length-1&&(n=0),n}),S=q(()=>r.loading===`eager`?!1:!h&&r.loading===`lazy`||r.lazy),C=()=>{ty&&(d.value=!0,u.value=!1,l.value=r.src)};function w(e){d.value=!1,u.value=!1,n(`load`,e)}function E(e){d.value=!1,u.value=!0,n(`error`,e)}function D(e){e&&(C(),A())}let O=yy(D,200,!0);async function k(){if(!ty)return;await Ln();let{scrollContainer:e}=r;if(Vv(e))m.value=e;else if(T(e)&&e!==``)m.value=document.querySelector(e)??void 0;else if(p.value){let e=ex(p.value);m.value=Wv(e)?void 0:e}let{stop:t}=Hy(p,([e])=>{O(e.isIntersecting)},{root:m});g=t}function A(){!ty||!O||(g?.(),m.value=void 0,g=void 0)}function ee(){y.value&&(f.value=!0,n(`show`))}function te(){f.value=!1,n(`close`)}function ne(e){n(`switch`,e)}return B(()=>r.src,()=>{S.value?(d.value=!0,u.value=!1,A(),k()):C()}),Rr(()=>{S.value?k():C()}),t({showPreview:ee}),(e,t)=>(V(),H(`div`,Ja({ref_key:`container`,ref:p},I(s),{class:[I(a).b(),e.$attrs.class]}),[u.value?z(e.$slots,`error`,{key:0},()=>[W(`div`,{class:N(I(a).e(`error`))},P(I(i)(`el.image.error`)),3)]):(V(),H(Da,{key:1},[l.value===void 0?K(`v-if`,!0):(V(),H(`img`,Ja({key:0},I(c),{src:l.value,loading:e.loading,style:I(v),class:I(_),crossorigin:e.crossorigin,onClick:ee,onLoad:w,onError:E}),null,16,[`src`,`loading`,`crossorigin`])),d.value?(V(),H(`div`,{key:1,class:N(I(a).e(`wrapper`))},[z(e.$slots,`placeholder`,{},()=>[W(`div`,{class:N(I(a).e(`placeholder`))},null,2)])],2)):K(`v-if`,!0)],64)),I(y)?(V(),H(Da,{key:2},[f.value?(V(),U(I(LF),{key:0,"z-index":e.zIndex,"initial-index":I(x),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"show-progress":e.showProgress,"url-list":e.previewSrcList,scale:e.scale,crossorigin:e.crossorigin,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:te,onSwitch:ne},ni({toolbar:L(t=>[z(e.$slots,`toolbar`,xe(Ha(t)))]),default:L(()=>[e.$slots.viewer?(V(),H(`div`,{key:0},[z(e.$slots,`viewer`)])):K(`v-if`,!0)]),_:2},[e.$slots.progress?{name:`progress`,fn:L(t=>[z(e.$slots,`progress`,xe(Ha(t)))])}:void 0,e.$slots[`viewer-error`]?{name:`viewer-error`,fn:L(t=>[z(e.$slots,`viewer-error`,xe(Ha(t)))])}:void 0]),1032,[`z-index`,`initial-index`,`infinite`,`zoom-rate`,`min-scale`,`max-scale`,`show-progress`,`url-list`,`scale`,`crossorigin`,`hide-on-click-modal`,`teleported`,`close-on-press-escape`])):K(`v-if`,!0)],64)):K(`v-if`,!0)],16))}}),[[`__file`,`image.vue`]])),VF=X({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:2**53-1},min:{type:Number,default:-(2**53-1)},modelValue:{type:[Number,null]},readonly:Boolean,disabled:{type:Boolean,default:void 0},size:xb,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:``,values:[``,`right`]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||zv(e)||[`min`,`max`].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...PS([`ariaLabel`]),inputmode:{type:Y(String),default:void 0},align:{type:Y(String),default:`center`},disabledScientific:Boolean}),HF={[Rb]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[zb]:e=>zv(e)||ov(e),[Lb]:e=>zv(e)||ov(e)},UF=lx(Hb(R({...R({name:`ElInputNumber`}),props:VF,emits:HF,setup(e,{expose:t,emit:n}){let r=e,{t:i}=gb(),a=J(`input-number`),o=F(),s=Kt({currentValue:r.modelValue,userInput:null}),{formItem:c}=KS(),l=q(()=>zv(r.modelValue)&&r.modelValue<=r.min),u=q(()=>zv(r.modelValue)&&r.modelValue>=r.max),d=q(()=>{let e=_(r.step);return Lv(r.precision)?Math.max(_(r.modelValue),e):(r.precision,r.precision)}),f=q(()=>r.controls&&r.controlsPosition===`right`),p=YS(),m=XS(),h=q(()=>{if(s.userInput!==null)return s.userInput;let e=s.currentValue;if(ov(e))return``;if(zv(e)){if(Number.isNaN(e))return``;Lv(r.precision)||(e=e.toFixed(r.precision))}return e}),g=(e,t)=>{if(Lv(t)&&(t=d.value),t===0)return Math.round(e);let n=String(e),r=n.indexOf(`.`);if(r===-1||!n.replace(`.`,``).split(``)[r+t])return e;let i=n.length;return n.charAt(i-1)===`5`&&(n=`${n.slice(0,Math.max(0,i-1))}6`),Number.parseFloat(Number(n).toFixed(t))},_=e=>{if(ov(e))return 0;let t=e.toString(),n=t.indexOf(`.`),r=0;return n!==-1&&(r=t.length-n-1),r},v=(e,t=1)=>zv(e)?e>=2**53-1&&t===1||e<=-(2**53-1)&&t===-1?e:g(e+r.step*t):s.currentValue,y=e=>{let t=dw(e),n=fw(e);if(r.disabledScientific&&[`e`,`E`].includes(n)){e.preventDefault();return}switch(t){case Z.up:e.preventDefault(),b();break;case Z.down:e.preventDefault(),x();break}},b=()=>{r.readonly||m.value||u.value||(C(v(Number(h.value)||0)),n(zb,s.currentValue),ee())},x=()=>{r.readonly||m.value||l.value||(C(v(Number(h.value)||0,-1)),n(zb,s.currentValue),ee())},S=(e,t)=>{let{max:i,min:a,step:o,precision:s,stepStrictly:c,valueOnClear:l}=r;i<a&&ib(`InputNumber`,`min should not be greater than max.`);let u=Number(e);if(ov(e)||Number.isNaN(u))return null;if(e===``){if(l===null)return null;u=T(l)?{min:a,max:i}[l]:l}return c&&(u=g(Math.round(g(u/o))*o,s),u!==e&&t&&n(`update:modelValue`,u)),Lv(s)||(u=g(u,s)),(u>i||u<a)&&(u=u>i?i:a,t&&n(`update:modelValue`,u)),u},C=(e,t=!0)=>{var i;let a=s.currentValue,o=S(e);if(!t){n(Lb,o);return}s.userInput=null,!(a===o&&e)&&(n(Lb,o),a!==o&&n(Rb,o,a),r.validateEvent&&((i=c?.validate)==null||i.call(c,`change`).catch(e=>void 0)),s.currentValue=o)},w=e=>{s.userInput=e;let t=e===``?null:Number(e);n(zb,t),C(t,!1)},E=e=>{let t=e===``?``:Number(e);(zv(t)&&!Number.isNaN(t)||e===``)&&C(t),ee(),s.userInput=null},D=()=>{var e,t;(t=(e=o.value)?.focus)==null||t.call(e)},O=()=>{var e,t;(t=(e=o.value)?.blur)==null||t.call(e)},k=e=>{n(`focus`,e)},A=e=>{var t;s.userInput=null,s.currentValue===null&&o.value?.input&&(o.value.input.value=``),n(`blur`,e),r.validateEvent&&((t=c?.validate)==null||t.call(c,`blur`).catch(e=>void 0))},ee=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},te=e=>{document.activeElement===e.target&&e.preventDefault()};return B(()=>r.modelValue,(e,t)=>{let n=S(e,!0);s.userInput===null&&n!==t&&(s.currentValue=n)},{immediate:!0}),B(()=>r.precision,()=>{s.currentValue=S(r.modelValue)}),Rr(()=>{let{min:e,max:t,modelValue:i}=r,a=o.value?.input;if(a.setAttribute(`role`,`spinbutton`),Number.isFinite(t)?a.setAttribute(`aria-valuemax`,String(t)):a.removeAttribute(`aria-valuemax`),Number.isFinite(e)?a.setAttribute(`aria-valuemin`,String(e)):a.removeAttribute(`aria-valuemin`),a.setAttribute(`aria-valuenow`,s.currentValue||s.currentValue===0?String(s.currentValue):``),a.setAttribute(`aria-disabled`,String(m.value)),!zv(i)&&i!=null){let e=Number(i);Number.isNaN(e)&&(e=null),n(Lb,e)}a.addEventListener(`wheel`,te,{passive:!1})}),Br(()=>{(o.value?.input)?.setAttribute(`aria-valuenow`,`${s.currentValue??``}`)}),t({focus:D,blur:O}),(e,t)=>(V(),H(`div`,{class:N([I(a).b(),I(a).m(I(p)),I(a).is(`disabled`,I(m)),I(a).is(`without-controls`,!e.controls),I(a).is(`controls-right`,I(f)),I(a).is(e.align,!!e.align)]),onDragstart:Ks(()=>{},[`prevent`])},[e.controls?Yn((V(),H(`span`,{key:0,role:`button`,"aria-label":I(i)(`el.inputNumber.decrease`),class:N([I(a).e(`decrease`),I(a).is(`disabled`,I(l))]),onKeydown:Js(x,[`enter`])},[z(e.$slots,`decrease-icon`,{},()=>[G(I(hx),null,{default:L(()=>[I(f)?(V(),U(I(_x),{key:0})):(V(),U(I(Kx),{key:1}))]),_:1})])],42,[`aria-label`,`onKeydown`])),[[I(kj),x]]):K(`v-if`,!0),e.controls?Yn((V(),H(`span`,{key:1,role:`button`,"aria-label":I(i)(`el.inputNumber.increase`),class:N([I(a).e(`increase`),I(a).is(`disabled`,I(u))]),onKeydown:Js(b,[`enter`])},[z(e.$slots,`increase-icon`,{},()=>[G(I(hx),null,{default:L(()=>[I(f)?(V(),U(I(bx),{key:0})):(V(),U(I(Zx),{key:1}))]),_:1})])],42,[`aria-label`,`onKeydown`])),[[I(kj),b]]):K(`v-if`,!0),G(I(dC),{id:e.id,ref_key:`input`,ref:o,type:`number`,step:e.step,"model-value":I(h),placeholder:e.placeholder,readonly:e.readonly,disabled:I(m),size:I(p),max:e.max,min:e.min,name:e.name,"aria-label":e.ariaLabel,"validate-event":!1,inputmode:e.inputmode,onKeydown:y,onBlur:A,onFocus:k,onInput:w,onChange:E},ni({_:2},[e.$slots.prefix?{name:`prefix`,fn:L(()=>[z(e.$slots,`prefix`)])}:void 0,e.$slots.suffix?{name:`suffix`,fn:L(()=>[z(e.$slots,`suffix`)])}:void 0]),1032,[`id`,`step`,`model-value`,`placeholder`,`readonly`,`disabled`,`size`,`max`,`min`,`name`,`aria-label`,`inputmode`])],42,[`onDragstart`]))}}),[[`__file`,`input-number.vue`]])),WF=X({modelValue:{type:Y(Array)},max:Number,tagType:{...oA.type,default:`info`},tagEffect:oA.effect,trigger:{type:Y(String),default:Z.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:``},size:xb,clearable:Boolean,clearIcon:{type:gS,default:Ax},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:Y(String),default:`off`},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),GF={[Lb]:e=>b(e)||Lv(e),[Rb]:e=>b(e)||Lv(e),[zb]:e=>T(e),"add-tag":e=>T(e)||b(e),"remove-tag":(e,t)=>T(e)&&zv(t),"drag-tag":(e,t,n)=>zv(e)&&zv(t)&&T(n),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function KF({props:e,emit:t,formItem:n}){let r=XS(),i=YS(),a=on(),o=F(),s=F(),c=q(()=>[`small`].includes(i.value)?`small`:`default`),l=q(()=>e.modelValue?.length?void 0:e.placeholder),u=q(()=>!(e.readonly||r.value)),d=q(()=>Lv(e.max)?!1:(e.modelValue?.length??0)>=e.max),f=q(()=>e.collapseTags?e.modelValue?.slice(0,e.maxCollapseTags):e.modelValue),p=q(()=>e.collapseTags?e.modelValue?.slice(e.maxCollapseTags):[]),m=n=>{let r=[...e.modelValue??[],...Lp(n)];t(Lb,r),t(Rb,r),t(`add-tag`,n),o.value=void 0},h=t=>{let n=t.split(e.delimiter).filter(e=>e&&e!==t);if(e.max){let t=e.max-(e.modelValue?.length??0);n.splice(t)}return n.length===1?n[0]:n},g=n=>{if(d.value){o.value=void 0;return}if(!D.value){if(e.delimiter&&o.value){let e=h(o.value);e.length&&m(e)}t(zb,n.target.value)}},_=t=>{if(!D.value)switch(dw(t)){case e.trigger:t.preventDefault(),t.stopPropagation(),y();break;case Z.numpadEnter:e.trigger===Z.enter&&(t.preventDefault(),t.stopPropagation(),y());break;case Z.backspace:!o.value&&e.modelValue?.length&&(t.preventDefault(),t.stopPropagation(),b(e.modelValue.length-1));break}},v=t=>{if(!(D.value||!TS()))switch(dw(t)){case Z.space:e.trigger===Z.space&&(t.preventDefault(),t.stopPropagation(),y());break}},y=()=>{let e=o.value?.trim();!e||d.value||m(e)},b=n=>{let r=(e.modelValue??[]).slice(),[i]=r.splice(n,1);t(Lb,r),t(Rb,r),t(`remove-tag`,i,n)},x=()=>{o.value=void 0,t(Lb,void 0),t(Rb,void 0),t(`clear`)},S=(n,r,i)=>{let a=(e.modelValue??[]).slice(),[o]=a.splice(n,1),s=r>n&&i===`before`?-1:r<n&&i===`after`?1:0;a.splice(r+s,0,o),t(Lb,a),t(Rb,a),t(`drag-tag`,n,r+s,o)},C=()=>{var e;(e=a.value)==null||e.focus()},w=()=>{var e;(e=a.value)==null||e.blur()},{wrapperRef:T,isFocused:E}=sC(a,{disabled:r,beforeBlur(e){return s.value?.isFocusInsideContent(e)},afterBlur(){var t;e.saveOnBlur?y():o.value=void 0,e.validateEvent&&((t=n?.validate)==null||t.call(n,`blur`).catch(e=>void 0))}}),{isComposing:D,handleCompositionStart:O,handleCompositionUpdate:k,handleCompositionEnd:A}=lC({afterComposition:g});return B(()=>e.modelValue,()=>{var t;e.validateEvent&&((t=n?.validate)==null||t.call(n,`change`).catch(e=>void 0))}),{inputRef:a,wrapperRef:T,tagTooltipRef:s,isFocused:E,isComposing:D,inputValue:o,size:i,tagSize:c,placeholder:l,closable:u,disabled:r,inputLimit:d,showTagList:f,collapseTagList:p,handleDragged:S,handleInput:g,handleKeydown:_,handleKeyup:v,handleAddTag:y,handleRemoveTag:b,handleClear:x,handleCompositionStart:O,handleCompositionUpdate:k,handleCompositionEnd:A,focus:C,blur:w}}function qF(){let e=F(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function JF(){let e=on(),t=F(0),n=q(()=>({minWidth:`${Math.max(t.value,11)}px`}));return zy(e,()=>{t.value=e.value?.getBoundingClientRect().width??0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}function YF({wrapperRef:e,handleDragged:t,afterDragged:n}){let r=J(`input-tag`),i=on(),a=F(!1),o,s,c,l;function u(e){return`.${r.e(`inner`)} .${r.namespace.value}-tag:nth-child(${e+1})`}function d(t,n){o=n,s=e.value.querySelector(u(n)),s&&(s.style.opacity=`0.5`),t.dataTransfer.effectAllowed=`move`}function f(t,n){if(c=n,t.preventDefault(),t.dataTransfer.dropEffect=`move`,Lv(o)||o===n){a.value=!1;return}let s=e.value.querySelector(u(n)).getBoundingClientRect(),d=o+1!==n,f=o-1!==n,p=t.clientX-s.left,m=d?f?.5:1:-1,h=f?d?.5:0:1;l=p<=s.width*m?`before`:p>s.width*h?`after`:void 0;let g=e.value.querySelector(`.${r.e(`inner`)}`),_=g.getBoundingClientRect(),v=Number.parseFloat(Xb(g,`gap`))/2,y=s.top-_.top,b=-9999;if(l===`before`)b=Math.max(s.left-_.left-v,Math.floor(-v/2));else if(l===`after`){let e=s.right-_.left;b=e+(_.width===e?Math.floor(v/2):v)}Zb(i.value,{top:`${y}px`,left:`${b}px`}),a.value=!!l}function p(e){e.preventDefault(),s&&(s.style.opacity=``),l&&!Lv(o)&&!Lv(c)&&o!==c&&t(o,c,l),a.value=!1,o=void 0,s=null,c=void 0,l=void 0,n?.()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:d,handleDragOver:f,handleDragEnd:p}}function XF({props:e,isFocused:t,hovering:n,disabled:r,inputValue:i,size:a,validateState:o,validateIcon:s,needStatusIcon:c}){let l=ui(),u=li(),d=J(`input-tag`),f=J(`input`),p=F(),m=F(),h=q(()=>[d.b(),d.is(`focused`,t.value),d.is(`hovering`,n.value),d.is(`disabled`,r.value),d.m(a.value),d.e(`wrapper`),l.class]),g=q(()=>[l.style]),_=q(()=>[d.e(`inner`),d.is(`draggable`,e.draggable),d.is(`left-space`,!e.modelValue?.length&&!u.prefix),d.is(`right-space`,!e.modelValue?.length&&!y.value)]),v=q(()=>e.clearable&&!r.value&&!e.readonly&&(e.modelValue?.length||i.value)&&(t.value||n.value)),y=q(()=>u.suffix||v.value||o.value&&s.value&&c.value),b=Kt({innerWidth:0,collapseItemWidth:0}),x=()=>{if(!m.value)return 0;let e=window.getComputedStyle(m.value);return Number.parseFloat(e.gap||`6px`)},S=()=>{b.innerWidth=Number.parseFloat(window.getComputedStyle(m.value).width)},C=()=>{b.collapseItemWidth=p.value.getBoundingClientRect().width},w=q(()=>{if(!e.collapseTags)return{};let t=x(),n=t+11,r=p.value&&e.maxCollapseTags===1?b.innerWidth-b.collapseItemWidth-t-n:b.innerWidth-n;return{maxWidth:`${Math.max(r,0)}px`}});return zy(m,S),zy(p,C),{ns:d,nsInput:f,containerKls:h,containerStyle:g,innerKls:_,showClear:v,showSuffix:y,tagStyle:w,collapseItemRef:p,innerRef:m}}var ZF=lx(Hb(R({...R({name:`ElInputTag`,inheritAttrs:!1}),props:WF,emits:GF,setup(e,{expose:t,emit:n}){let r=e,i=zS(),a=li(),{form:o,formItem:s}=KS(),{inputId:c}=qS(r,{formItemContext:s}),l=q(()=>o?.statusIcon??!1),u=q(()=>s?.validateState||``),d=q(()=>u.value&&bS[u.value]),{inputRef:p,wrapperRef:m,tagTooltipRef:h,isFocused:g,inputValue:_,size:v,tagSize:y,placeholder:b,closable:x,disabled:S,showTagList:C,collapseTagList:w,handleDragged:T,handleInput:E,handleKeydown:D,handleKeyup:O,handleRemoveTag:k,handleClear:A,handleCompositionStart:ee,handleCompositionUpdate:te,handleCompositionEnd:ne,focus:re,blur:ie}=KF({props:r,emit:n,formItem:s}),{hovering:ae,handleMouseEnter:oe,handleMouseLeave:se}=qF(),{calculatorRef:ce,inputStyle:le}=JF(),{dropIndicatorRef:ue,showDropIndicator:de,handleDragStart:fe,handleDragOver:pe,handleDragEnd:me}=YF({wrapperRef:m,handleDragged:T,afterDragged:re}),{ns:he,nsInput:ge,containerKls:_e,containerStyle:M,innerKls:ve,showClear:ye,showSuffix:be,tagStyle:xe,collapseItemRef:Se,innerRef:Ce}=XF({props:r,hovering:ae,isFocused:g,inputValue:_,disabled:S,size:v,validateState:u,validateIcon:d,needStatusIcon:l});return t({focus:re,blur:ie}),(e,t)=>(V(),H(`div`,{ref_key:`wrapperRef`,ref:m,class:N(I(_e)),style:j(I(M)),onMouseenter:I(oe),onMouseleave:I(se)},[I(a).prefix?(V(),H(`div`,{key:0,class:N(I(he).e(`prefix`))},[z(e.$slots,`prefix`)],2)):K(`v-if`,!0),W(`div`,{ref_key:`innerRef`,ref:Ce,class:N(I(ve))},[(V(!0),H(Da,null,ti(I(C),(t,n)=>(V(),U(I(cA),{key:n,size:I(y),closable:I(x),type:e.tagType,effect:e.tagEffect,draggable:I(x)&&e.draggable,style:j(I(xe)),"disable-transitions":``,onClose:e=>I(k)(n),onDragstart:e=>I(fe)(e,n),onDragover:e=>I(pe)(e,n),onDragend:I(me),onDrop:Ks(()=>{},[`stop`])},{default:L(()=>[z(e.$slots,`tag`,{value:t,index:n},()=>[Wa(P(t),1)])]),_:2},1032,[`size`,`closable`,`type`,`effect`,`draggable`,`style`,`onClose`,`onDragstart`,`onDragover`,`onDragend`,`onDrop`]))),128)),e.collapseTags&&e.modelValue&&e.modelValue.length>e.maxCollapseTags?(V(),U(I(QE),{key:0,ref_key:`tagTooltipRef`,ref:h,disabled:!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.tagEffect,placement:`bottom`},{default:L(()=>[W(`div`,{ref_key:`collapseItemRef`,ref:Se},[G(I(cA),{closable:!1,size:I(y),type:e.tagType,effect:e.tagEffect,"disable-transitions":``},{default:L(()=>[Wa(` + `+P(e.modelValue.length-e.maxCollapseTags),1)]),_:1},8,[`size`,`type`,`effect`])],512)]),content:L(()=>[W(`div`,{class:N(I(he).e(`input-tag-list`))},[(V(!0),H(Da,null,ti(I(w),(t,n)=>(V(),U(I(cA),{key:n,size:I(y),closable:I(x),type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:t=>I(k)(n+e.maxCollapseTags)},{default:L(()=>[z(e.$slots,`tag`,{value:t,index:n+e.maxCollapseTags},()=>[Wa(P(t),1)])]),_:2},1032,[`size`,`closable`,`type`,`effect`,`onClose`]))),128))],2)]),_:3},8,[`disabled`,`effect`])):K(`v-if`,!0),W(`div`,{class:N(I(he).e(`input-wrapper`))},[Yn(W(`input`,Ja({id:I(c),ref_key:`inputRef`,ref:p,"onUpdate:modelValue":e=>an(_)?_.value=e:null},I(i),{type:`text`,minlength:e.minlength,maxlength:e.maxlength,disabled:I(S),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,placeholder:I(b),autofocus:e.autofocus,ariaLabel:e.ariaLabel,class:I(he).e(`input`),style:I(le),onCompositionstart:I(ee),onCompositionupdate:I(te),onCompositionend:I(ne),onInput:I(E),onKeydown:I(D),onKeyup:I(O)}),null,16,[`id`,`onUpdate:modelValue`,`minlength`,`maxlength`,`disabled`,`readonly`,`autocomplete`,`tabindex`,`placeholder`,`autofocus`,`ariaLabel`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`,`onInput`,`onKeydown`,`onKeyup`]),[[Rs,I(_)]]),W(`span`,{ref_key:`calculatorRef`,ref:ce,"aria-hidden":`true`,class:N(I(he).e(`input-calculator`)),textContent:P(I(_))},null,10,[`textContent`])],2),Yn(W(`div`,{ref_key:`dropIndicatorRef`,ref:ue,class:N(I(he).e(`drop-indicator`))},null,2),[[Zo,I(de)]])],2),I(be)?(V(),H(`div`,{key:1,class:N(I(he).e(`suffix`))},[z(e.$slots,`suffix`),I(ye)?(V(),U(I(hx),{key:0,class:N([I(he).e(`icon`),I(he).e(`clear`)]),onMousedown:Ks(I(f),[`prevent`]),onClick:I(A)},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onMousedown`,`onClick`])):K(`v-if`,!0),I(u)&&I(d)&&I(l)?(V(),U(I(hx),{key:1,class:N([I(ge).e(`icon`),I(ge).e(`validateIcon`),I(ge).is(`loading`,I(u)===`validating`)])},{default:L(()=>[(V(),U(Zr(I(d))))]),_:1},8,[`class`])):K(`v-if`,!0)],2)):K(`v-if`,!0)],46,[`onMouseenter`,`onMouseleave`]))}}),[[`__file`,`input-tag.vue`]])),QF=X({type:{type:String,values:[`primary`,`success`,`warning`,`info`,`danger`,`default`],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,`always`,`never`,`hover`],default:void 0},disabled:Boolean,href:{type:String,default:``},target:{type:String,default:`_self`},icon:{type:gS}}),$F={click:e=>e instanceof MouseEvent},eI=lx(Hb(R({...R({name:`ElLink`}),props:QF,emits:$F,setup(e,{emit:t}){let n=e,r=Mb(`link`);xD({scope:`el-link`,from:`The underline option (boolean)`,replacement:`'always' | 'hover' | 'never'`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/link.html#underline`},q(()=>Rv(n.underline)));let i=J(`link`),a=q(()=>[i.b(),i.m(n.type??r.value?.type??`default`),i.is(`disabled`,n.disabled),i.is(`underline`,o.value===`always`),i.is(`hover-underline`,o.value===`hover`&&!n.disabled)]),o=q(()=>Rv(n.underline)?n.underline?`hover`:`never`:n.underline??r.value?.underline??`hover`);function s(e){n.disabled||t(`click`,e)}return(e,t)=>(V(),H(`a`,{class:N(I(a)),href:e.disabled||!e.href?void 0:e.href,target:e.disabled||!e.href?void 0:e.target,onClick:s},[e.icon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1})):K(`v-if`,!0),e.$slots.default?(V(),H(`span`,{key:1,class:N(I(i).e(`inner`))},[z(e.$slots,`default`)],2)):K(`v-if`,!0),e.$slots.icon?z(e.$slots,`icon`,{key:2}):K(`v-if`,!0)],10,[`href`,`target`]))}}),[[`__file`,`link.vue`]])),tI=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll(`li`),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){let e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener(`keydown`,t=>{let n=dw(t),r=!1;switch(n){case Z.down:this.gotoSubIndex(this.subIndex+1),r=!0;break;case Z.up:this.gotoSubIndex(this.subIndex-1),r=!0;break;case Z.tab:nC(e,`mouseleave`);break;case Z.enter:case Z.numpadEnter:case Z.space:r=!0,t.currentTarget.click();break}return r&&(t.preventDefault(),t.stopPropagation()),!1})})}},nI=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute(`tabindex`,`0`);let t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new tI(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener(`keydown`,e=>{let t=dw(e),n=!1;switch(t){case Z.down:nC(e.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break;case Z.up:nC(e.currentTarget,`mouseenter`),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break;case Z.tab:nC(e.currentTarget,`mouseleave`);break;case Z.enter:case Z.numpadEnter:case Z.space:n=!0,e.currentTarget.click();break}n&&e.preventDefault()})}},rI=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){let t=this.domNode.childNodes;Array.from(t).forEach(t=>{t.nodeType===1&&new nI(t,e)})}},iI=Hb(R({...R({name:`ElMenuCollapseTransition`}),setup(e){let t=J(`menu`),n={onBeforeEnter:e=>e.style.opacity=`0.2`,onEnter(e,n){Jb(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=`1`,n()},onAfterEnter(e){Yb(e,`${t.namespace.value}-opacity-transition`),e.style.opacity=``},onBeforeLeave(e){e.dataset||={},qb(e,t.m(`collapse`))?(Yb(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Jb(e,t.m(`collapse`))):(Jb(e,t.m(`collapse`)),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Yb(e,t.m(`collapse`))),e.style.width=`${e.scrollWidth}px`,e.style.overflow=`hidden`},onLeave(e){Jb(e,`horizontal-collapse-transition`),e.style.width=`${e.dataset.scrollWidth}px`}};return(e,t)=>(V(),U(No,Ja({mode:`out-in`},I(n)),{default:L(()=>[z(e.$slots,`default`)]),_:3},16))}}),[[`__file`,`menu-collapse-transition.vue`]]);function aI(e,t){let n=q(()=>{let n=e.parent,r=[t.value];for(;n.type.name!==`ElMenu`;)n.props.index&&r.unshift(n.props.index),n=n.parent;return r});return{parentMenu:q(()=>{let t=e.parent;for(;t&&![`ElMenu`,`ElSubMenu`].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function oI(e){return q(()=>{let t=e.backgroundColor;return t?new $D(t).shade(20).toString():``})}var sI=(e,t)=>{let n=J(`menu`);return q(()=>n.cssVarBlock({"text-color":e.textColor||``,"hover-text-color":e.textColor||``,"bg-color":e.backgroundColor||``,"hover-bg-color":oI(e).value||``,"active-color":e.activeTextColor||``,level:`${t}`}))},cI=`rootMenu`,lI=`subMenu:`,uI=X({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,popperStyle:{type:Y([String,Object])},disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:gS},expandOpenIcon:{type:gS},collapseCloseIcon:{type:gS},collapseOpenIcon:{type:gS}}),dI=`ElSubMenu`,fI=R({name:dI,props:uI,setup(e,{slots:t,expose:n}){let r=eo(),{indexPath:i,parentMenu:a}=aI(r,q(()=>e.index)),o=J(`menu`),s=J(`sub-menu`),c=Ni(cI);c||ib(dI,`can not inject root menu`);let l=Ni(`${lI}${a.value.uid}`);l||ib(dI,`can not inject sub menu`);let u=F({}),d=F({}),f,p=F(!1),m=F(),h=F(),g=q(()=>l.level===0),_=q(()=>w.value===`horizontal`&&g.value?`bottom-start`:`right-start`),v=q(()=>w.value===`horizontal`&&g.value||w.value===`vertical`&&!c.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?S.value?e.expandOpenIcon:e.expandCloseIcon:_x:e.collapseCloseIcon&&e.collapseOpenIcon?S.value?e.collapseOpenIcon:e.collapseCloseIcon:yx),y=q(()=>{let t=e.teleported;return Lv(t)?g.value:t}),b=q(()=>c.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),x=q(()=>w.value===`horizontal`&&g.value?[`bottom-start`,`bottom-end`,`top-start`,`top-end`,`right-start`,`left-start`]:[`right-start`,`right`,`right-end`,`left-start`,`bottom-start`,`bottom-end`,`top-start`,`top-end`]),S=q(()=>c.openedMenus.includes(e.index)),C=q(()=>[...Object.values(u.value),...Object.values(d.value)].some(({active:e})=>e)),w=q(()=>c.props.mode),E=q(()=>c.props.persistent),D=Kt({index:e.index,indexPath:i,active:C}),O=sI(c.props,l.level+1),k=q(()=>e.popperOffset??c.props.popperOffset),A=q(()=>e.popperClass??c.props.popperClass),ee=q(()=>e.popperStyle??c.props.popperStyle),te=q(()=>e.showTimeout??c.props.showTimeout),ne=q(()=>e.hideTimeout??c.props.hideTimeout),re=()=>(h.value?.popperRef?.popperInstanceRef)?.destroy(),ie=e=>{e||re()},ae=()=>{c.props.menuTrigger===`hover`&&c.props.mode===`horizontal`||c.props.collapse&&c.props.mode===`vertical`||e.disabled||c.handleSubMenuClick({index:e.index,indexPath:i.value,active:C.value})},oe=(t,n=te.value)=>{var r;if(t.type!==`focus`){if(c.props.menuTrigger===`click`&&c.props.mode===`horizontal`||!c.props.collapse&&c.props.mode===`vertical`||e.disabled){l.mouseInChild.value=!0;return}l.mouseInChild.value=!0,f?.(),{stop:f}=xy(()=>{c.openMenu(e.index,i.value)},n),y.value&&((r=a.value.vnode.el)==null||r.dispatchEvent(new MouseEvent(`mouseenter`))),t.type===`mouseenter`&&t.target&&Ln(()=>{aC(t.target,{preventScroll:!0})})}},se=(t=!1)=>{var n;if(c.props.menuTrigger===`click`&&c.props.mode===`horizontal`||!c.props.collapse&&c.props.mode===`vertical`){l.mouseInChild.value=!1;return}f?.(),l.mouseInChild.value=!1,{stop:f}=xy(()=>!p.value&&c.closeMenu(e.index,i.value),ne.value),y.value&&t&&((n=l.handleMouseleave)==null||n.call(l,!0))};return B(()=>c.props.collapse,e=>ie(!!e)),Mi(`${lI}${r.uid}`,{addSubMenu:e=>{d.value[e.index]=e},removeSubMenu:e=>{delete d.value[e.index]},handleMouseleave:se,mouseInChild:p,level:l.level+1}),n({opened:S}),Rr(()=>{c.addSubMenu(D),l.addSubMenu(D)}),Vr(()=>{l.removeSubMenu(D),c.removeSubMenu(D)}),()=>{let n=[t.title?.call(t),_o(hx,{class:s.e(`icon-arrow`),style:{transform:S.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&c.props.collapse?`none`:`rotateZ(180deg)`:`none`}},{default:()=>T(v.value)?_o(r.appContext.components[v.value]):_o(v.value)})],i=c.isMenuPopup?_o(QE,{ref:h,visible:S.value,effect:`light`,pure:!0,offset:k.value,showArrow:!1,persistent:E.value,popperClass:A.value,popperStyle:ee.value,placement:_.value,teleported:y.value,fallbackPlacements:x.value,transition:b.value,gpuAcceleration:!1},{content:()=>_o(`div`,{class:[o.m(w.value),o.m(`popup-container`),A.value],onMouseenter:e=>oe(e,100),onMouseleave:()=>se(!0),onFocus:e=>oe(e,100)},[_o(`ul`,{class:[o.b(),o.m(`popup`),o.m(`popup-${_.value}`)],style:O.value},[t.default?.call(t)])]),default:()=>_o(`div`,{class:s.e(`title`),onClick:ae},n)}):_o(Da,{},[_o(`div`,{class:s.e(`title`),ref:m,onClick:ae},n),_o(AA,{},{default:()=>Yn(_o(`ul`,{role:`menu`,class:[o.b(),o.m(`inline`)],style:O.value},[t.default?.call(t)]),[[Zo,S.value]])})]);return _o(`li`,{class:[s.b(),s.is(`active`,C.value),s.is(`opened`,S.value),s.is(`disabled`,e.disabled)],role:`menuitem`,ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:oe,onMouseleave:()=>se(),onFocus:oe},[i])}}}),pI=X({mode:{type:String,values:[`horizontal`,`vertical`],default:`vertical`},defaultActive:{type:String,default:``},defaultOpeneds:{type:Y(Array),default:()=>MS([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:[`hover`,`click`],default:`hover`},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:gS,default:()=>Jx},popperEffect:{type:Y(String),default:`dark`},popperClass:String,popperStyle:{type:Y([String,Object])},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),mI=e=>b(e)&&e.every(e=>T(e)),hI={close:(e,t)=>T(e)&&mI(t),open:(e,t)=>T(e)&&mI(t),select:(e,t,n,r)=>T(e)&&mI(t)&&D(n)&&(Lv(r)||r instanceof Promise)},gI=64,_I=R({name:`ElMenu`,props:pI,emits:hI,setup(e,{emit:t,slots:n,expose:r}){let i=eo(),a=i.appContext.config.globalProperties.$router,o=F(),s=F(),c=J(`menu`),l=J(`sub-menu`),u=gI,d=F(-1),f=F(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),p=F(e.defaultActive),m=F({}),h=F({}),g=q(()=>e.mode===`horizontal`||e.mode===`vertical`&&e.collapse),_=()=>{let t=p.value&&m.value[p.value];!t||e.mode===`horizontal`||e.collapse||t.indexPath.forEach(e=>{let t=h.value[e];t&&v(e,t.indexPath)})},v=(n,r)=>{f.value.includes(n)||(e.uniqueOpened&&(f.value=f.value.filter(e=>r.includes(e))),f.value.push(n),t(`open`,n,r))},y=e=>{let t=f.value.indexOf(e);t!==-1&&f.value.splice(t,1)},b=(e,n)=>{y(e),t(`close`,e,n)},x=({index:e,indexPath:t})=>{f.value.includes(e)?b(e,t):v(e,t)},S=n=>{(e.mode===`horizontal`||e.collapse)&&(f.value=[]);let{index:r,indexPath:i}=n;if(!(ov(r)||ov(i)))if(e.router&&a){let e=n.route||r,o=a.push(e).then(e=>(e||(p.value=r),e));t(`select`,r,i,{index:r,indexPath:i,route:e},o)}else p.value=r,t(`select`,r,i,{index:r,indexPath:i})},C=t=>{let n=m.value;p.value=(n[t]||p.value&&n[p.value]||n[e.defaultActive])?.index??t},w=e=>{let t=getComputedStyle(e),n=Number.parseInt(t.marginLeft,10),r=Number.parseInt(t.marginRight,10);return e.offsetWidth+n+r||0},T=()=>{if(!o.value)return-1;let e=Array.from(o.value.childNodes).filter(e=>e.nodeName!==`#comment`&&(e.nodeName!==`#text`||e.nodeValue)),t=getComputedStyle(o.value),n=Number.parseInt(t.paddingLeft,10),r=Number.parseInt(t.paddingRight,10),i=o.value.clientWidth-n-r,a=0,s=0;return e.forEach((e,t)=>{a+=w(e),a<=i-u&&(s=t+1)}),s===e.length?-1:s},E=e=>h.value[e].indexPath,D=(e,t=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout(()=>{e()},t)}},O=!0,k=()=>{let e=Sy(s);if(e&&(u=w(e)||gI),d.value===T())return;let t=()=>{d.value=-1,Ln(()=>{d.value=T()})};O?t():D(t)(),O=!1};B(()=>e.defaultActive,e=>{m.value[e]||(p.value=``),C(e)}),B(()=>e.collapse,e=>{e&&(f.value=[])}),B(m.value,_);let A;Ii(()=>{e.mode===`horizontal`&&e.ellipsis?A=zy(o,k).stop:A?.()});let ee=F(!1);{let t=e=>{h.value[e.index]=e},n=e=>{delete h.value[e.index]};Mi(cI,Kt({props:e,openedMenus:f,items:m,subMenus:h,activeIndex:p,isMenuPopup:g,addMenuItem:e=>{m.value[e.index]=e},removeMenuItem:e=>{delete m.value[e.index]},addSubMenu:t,removeSubMenu:n,openMenu:v,closeMenu:b,handleMenuItemClick:S,handleSubMenuClick:x})),Mi(`${lI}${i.uid}`,{addSubMenu:t,removeSubMenu:n,mouseInChild:ee,level:0})}Rr(()=>{e.mode===`horizontal`&&new rI(i.vnode.el,c.namespace.value)}),r({open:e=>{let{indexPath:t}=h.value[e];t.forEach(e=>v(e,t))},close:y,updateActiveIndex:C,handleResize:k});let te=sI(e,0);return()=>{let r=n.default?.call(n)??[],i=[];if(e.mode===`horizontal`&&o.value){let t=XO(r).filter(e=>e?.shapeFlag!==8),n=d.value===-1?t:t.slice(0,d.value),a=d.value===-1?[]:t.slice(d.value);a?.length&&e.ellipsis&&(r=n,i.push(_o(fI,{ref:s,index:`sub-menu-more`,class:l.e(`hide-arrow`),popperOffset:e.popperOffset},{title:()=>_o(hx,{class:l.e(`icon-more`)},{default:()=>_o(e.ellipsisIcon)}),default:()=>a})))}let a=e.closeOnClickOutside?[[mA,()=>{f.value.length&&(ee.value||(f.value.forEach(e=>t(`close`,e,E(e))),f.value=[]))}]]:[],u=Yn(_o(`ul`,{key:String(e.collapse),role:`menubar`,ref:o,style:te.value,class:{[c.b()]:!0,[c.m(e.mode)]:!0,[c.m(`collapse`)]:e.collapse}},[...r,...i]),a);return e.collapseTransition&&e.mode===`vertical`?_o(iI,()=>u):u}}}),vI=X({index:{type:Y([String,null]),default:null},route:{type:Y([String,Object])},disabled:Boolean}),yI={click:e=>T(e.index)&&b(e.indexPath)},bI=`ElMenuItem`,xI=Hb(R({...R({name:bI}),props:vI,emits:yI,setup(e,{expose:t,emit:n}){let r=e;Hv(r.index);let i=eo(),a=Ni(cI),o=J(`menu`),s=J(`menu-item`);a||ib(bI,`can not inject root menu`);let{parentMenu:c,indexPath:l}=aI(i,_n(r,`index`)),u=Ni(`${lI}${c.value.uid}`);u||ib(bI,`can not inject sub menu`);let d=q(()=>r.index===a.activeIndex),f=Kt({index:r.index,indexPath:l,active:d}),p=()=>{r.disabled||(a.handleMenuItemClick({index:r.index,indexPath:l.value,route:r.route}),n(`click`,f))};return Rr(()=>{u.addSubMenu(f),a.addMenuItem(f)}),Vr(()=>{u.removeSubMenu(f),a.removeMenuItem(f)}),t({parentMenu:c,rootMenu:a,active:d,nsMenu:o,nsMenuItem:s,handleClick:p}),(e,t)=>(V(),H(`li`,{class:N([I(s).b(),I(s).is(`active`,I(d)),I(s).is(`disabled`,e.disabled)]),role:`menuitem`,tabindex:`-1`,onClick:p},[I(c).type.name===`ElMenu`&&I(a).props.collapse&&e.$slots.title?(V(),U(I(QE),{key:0,effect:I(a).props.popperEffect,placement:`right`,"fallback-placements":[`left`],"popper-class":I(a).props.popperClass,"popper-style":I(a).props.popperStyle,persistent:I(a).props.persistent,"focus-on-target":``},{content:L(()=>[z(e.$slots,`title`)]),default:L(()=>[W(`div`,{class:N(I(o).be(`tooltip`,`trigger`))},[z(e.$slots,`default`)],2)]),_:3},8,[`effect`,`popper-class`,`popper-style`,`persistent`])):(V(),H(Da,{key:1},[z(e.$slots,`default`),z(e.$slots,`title`)],64))],2))}}),[[`__file`,`menu-item.vue`]]),SI={title:String},CI=Hb(R({...R({name:`ElMenuItemGroup`}),props:SI,setup(e){let t=J(`menu-item-group`);return(e,n)=>(V(),H(`li`,{class:N(I(t).b())},[W(`div`,{class:N(I(t).e(`title`))},[e.$slots.title?z(e.$slots,`title`,{key:1}):(V(),H(Da,{key:0},[Wa(P(e.title),1)],64))],2),W(`ul`,null,[z(e.$slots,`default`)])],2))}}),[[`__file`,`menu-item-group.vue`]]),wI=lx(_I,{MenuItem:xI,MenuItemGroup:CI,SubMenu:fI}),TI=fx(xI),EI=fx(CI),DI=fx(fI),OI=X({icon:{type:gS,default:()=>xx},title:String,content:{type:String,default:``}}),kI={back:()=>!0},AI=lx(Hb(R({...R({name:`ElPageHeader`}),props:OI,emits:kI,setup(e,{emit:t}){let{t:n}=gb(),r=J(`page-header`);function i(){t(`back`)}return(e,t)=>(V(),H(`div`,{class:N([I(r).b(),I(r).is(`contentful`,!!e.$slots.default),{[I(r).m(`has-breadcrumb`)]:!!e.$slots.breadcrumb,[I(r).m(`has-extra`)]:!!e.$slots.extra}])},[e.$slots.breadcrumb?(V(),H(`div`,{key:0,class:N(I(r).e(`breadcrumb`))},[z(e.$slots,`breadcrumb`)],2)):K(`v-if`,!0),W(`div`,{class:N(I(r).e(`header`))},[W(`div`,{class:N(I(r).e(`left`))},[W(`div`,{class:N(I(r).e(`back`)),role:`button`,tabindex:`0`,onClick:i},[e.icon||e.$slots.icon?(V(),H(`div`,{key:0,"aria-label":e.title||I(n)(`el.pageHeader.title`),class:N(I(r).e(`icon`))},[z(e.$slots,`icon`,{},()=>[e.icon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1})):K(`v-if`,!0)])],10,[`aria-label`])):K(`v-if`,!0),W(`div`,{class:N(I(r).e(`title`))},[z(e.$slots,`title`,{},()=>[Wa(P(e.title||I(n)(`el.pageHeader.title`)),1)])],2)],2),G(I(_N),{direction:`vertical`}),W(`div`,{class:N(I(r).e(`content`))},[z(e.$slots,`content`,{},()=>[Wa(P(e.content),1)])],2)],2),e.$slots.extra?(V(),H(`div`,{key:0,class:N(I(r).e(`extra`))},[z(e.$slots,`extra`)],2)):K(`v-if`,!0)],2),e.$slots.default?(V(),H(`div`,{key:1,class:N(I(r).e(`main`))},[z(e.$slots,`default`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`page-header.vue`]])),jI=Symbol(`elPaginationKey`),MI=X({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:gS}}),NI={click:e=>e instanceof MouseEvent},PI=Hb(R({...R({name:`ElPaginationPrev`}),props:MI,emits:NI,setup(e){let t=e,{t:n}=gb(),r=q(()=>t.disabled||t.currentPage<=1);return(e,t)=>(V(),H(`button`,{type:`button`,class:`btn-prev`,disabled:I(r),"aria-label":e.prevText||I(n)(`el.pagination.prev`),"aria-disabled":I(r),onClick:t=>e.$emit(`click`,t)},[e.prevText?(V(),H(`span`,{key:0},P(e.prevText),1)):(V(),U(I(hx),{key:1},{default:L(()=>[(V(),U(Zr(e.prevIcon)))]),_:1}))],8,[`disabled`,`aria-label`,`aria-disabled`,`onClick`]))}}),[[`__file`,`prev.vue`]]),FI=X({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:gS}}),II=Hb(R({...R({name:`ElPaginationNext`}),props:FI,emits:[`click`],setup(e){let t=e,{t:n}=gb(),r=q(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(e,t)=>(V(),H(`button`,{type:`button`,class:`btn-next`,disabled:I(r),"aria-label":e.nextText||I(n)(`el.pagination.next`),"aria-disabled":I(r),onClick:t=>e.$emit(`click`,t)},[e.nextText?(V(),H(`span`,{key:0},P(e.nextText),1)):(V(),U(I(hx),{key:1},{default:L(()=>[(V(),U(Zr(e.nextIcon)))]),_:1}))],8,[`disabled`,`aria-label`,`aria-disabled`,`onClick`]))}}),[[`__file`,`next.vue`]]),LI={label:`label`,value:`value`,disabled:`disabled`,options:`options`};function RI(e){let t=F({...LI,...e.props}),n={...e.props};return B(()=>e.props,e=>{iv(e,n)||(t.value={...LI,...e},n={...e})},{deep:!0}),{aliasProps:t,getLabel:e=>mp(e,t.value.label),getValue:e=>mp(e,t.value.value),getDisabled:e=>mp(e,t.value.disabled),getOptions:e=>mp(e,t.value.options)}}var zI=Symbol(`ElSelectGroup`),BI=Symbol(`ElSelect`),VI=`ElOption`,HI=X({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),UI=(e=``)=>e.replace(/[|\\{}()[\]^$+*?.]/g,`\\$&`).replace(/-/g,`\\x2d`),WI=e=>le(e);function GI(e,t){let n=Ni(BI);n||ib(VI,`usage: <el-select><el-option /></el-select/>`);let r=Ni(zI,{disabled:!1}),i=q(()=>u(Lp(n.props.modelValue),e.value)),a=q(()=>{if(n.props.multiple){let e=Lp(n.props.modelValue??[]);return!i.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=q(()=>e.label??(D(e.value)?``:e.value)),s=q(()=>e.value||e.label||``),c=q(()=>e.disabled||t.groupDisabled||a.value),l=eo(),u=(t=[],r)=>{if(D(e.value)){let e=n.props.valueKey;return t&&t.some(t=>en(mp(t,e))===mp(r,e))}else return t&&t.includes(r)};return B(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),B(()=>e.value,(t,r)=>{let{remote:i,valueKey:a}=n.props;if((i?t!==r:!iv(t,r))&&(n.onOptionDestroy(r,l.proxy),n.onOptionCreate(l.proxy)),!e.created&&!i){if(a&&D(t)&&D(r)&&t[a]===r[a])return;n.setSelected()}}),B(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:s,itemSelected:i,isDisabled:c,hoverItem:()=>{c.value||(n.states.hoveringIndex=n.optionsArray.indexOf(l.proxy))},updateOption:n=>{t.visible=new RegExp(UI(n),`i`).test(String(o.value))||e.created}}}var KI=R({name:VI,componentName:VI,props:HI,setup(e){let t=J(`select`),n=US(),r=q(()=>[t.be(`dropdown`,`item`),t.is(`disabled`,I(s)),t.is(`selected`,I(o)),t.is(`hovering`,I(f))]),i=Kt({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:s,select:c,hoverItem:l,updateOption:u}=GI(e,i),{visible:d,hover:f}=mn(i),p=eo().proxy;c.onOptionCreate(p),Vr(()=>{let e=p.value;Ln(()=>{let{selected:t}=c.states,n=t.some(e=>e.value===p.value);c.states.cachedOptions.get(e)===p&&!n&&c.states.cachedOptions.delete(e)}),c.onOptionDestroy(e,p)});function m(){s.value||c.handleOptionSelect(p)}return{ns:t,id:n,containerKls:r,currentLabel:a,itemSelected:o,isDisabled:s,select:c,visible:d,hover:f,states:i,hoverItem:l,updateOption:u,selectOptionClick:m}}});function qI(e,t){return Yn((V(),H(`li`,{id:e.id,class:N(e.containerKls),role:`option`,"aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:Ks(e.selectOptionClick,[`stop`])},[z(e.$slots,`default`,{},()=>[W(`span`,null,P(e.currentLabel),1)])],42,[`id`,`aria-disabled`,`aria-selected`,`onMousemove`,`onClick`])),[[Zo,e.visible]])}var JI=Hb(KI,[[`render`,qI],[`__file`,`option.vue`]]),YI=R({name:`ElSelectDropdown`,componentName:`ElSelectDropdown`,setup(){let e=Ni(BI),t=J(`select`),n=q(()=>e.props.popperClass),r=q(()=>e.props.multiple),i=q(()=>e.props.fitInputWidth),a=F(``);function o(){let t=e.selectRef?.offsetWidth;t?a.value=`${t-2}px`:a.value=``}return Rr(()=>{o(),zy(e.selectRef,o)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function XI(e,t,n,r,i,a){return V(),H(`div`,{class:N([e.ns.b(`dropdown`),e.ns.is(`multiple`,e.isMultiple),e.popperClass]),style:j({[e.isFitInputWidth?`width`:`minWidth`]:e.minWidth})},[e.$slots.header?(V(),H(`div`,{key:0,class:N(e.ns.be(`dropdown`,`header`))},[z(e.$slots,`header`)],2)):K(`v-if`,!0),z(e.$slots,`default`),e.$slots.footer?(V(),H(`div`,{key:1,class:N(e.ns.be(`dropdown`,`footer`))},[z(e.$slots,`footer`)],2)):K(`v-if`,!0)],6)}var ZI=Hb(YI,[[`render`,XI],[`__file`,`select-dropdown.vue`]]),QI=(e,t)=>{let{t:n}=gb(),r=US(),i=J(`select`),a=J(`input`),o=Kt({inputValue:``,options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:``,hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=F(),c=F(),l=F(),u=F(),d=F(),f=F(),p=F(),m=F(),h=F(),g=F(),_=F(),v=F(!1),y=F(),x=F(!1),{form:S,formItem:C}=KS(),{inputId:T}=qS(e,{formItemContext:C}),{valueOnClear:E,isEmptyValue:O}=Db(e),{isComposing:k,handleCompositionStart:A,handleCompositionUpdate:ee,handleCompositionEnd:ne}=lC({afterComposition:e=>Pe(e)}),re=XS(),{wrapperRef:ie,isFocused:ae,handleBlur:oe}=sC(d,{disabled:re,afterFocus(){e.automaticDropdown&&!v.value&&(v.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(e){return l.value?.isFocusInsideContent(e)||u.value?.isFocusInsideContent(e)},afterBlur(){var t;v.value=!1,o.menuVisibleOnFocus=!1,e.validateEvent&&((t=C?.validate)==null||t.call(C,`blur`).catch(e=>void 0))}}),se=q(()=>b(e.modelValue)?e.modelValue.length>0:!O(e.modelValue)),ce=q(()=>S?.statusIcon??!1),le=q(()=>e.clearable&&!re.value&&se.value&&(ae.value||o.inputHovering)),ue=q(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?``:e.suffixIcon),de=q(()=>i.is(`reverse`,!!(ue.value&&v.value))),fe=q(()=>C?.validateState||``),pe=q(()=>fe.value&&bS[fe.value]),me=q(()=>e.remote?e.debounce:0),he=q(()=>e.remote&&!o.inputValue&&o.options.size===0),ge=q(()=>e.loading?e.loadingText||n(`el.select.loading`):e.filterable&&o.inputValue&&o.options.size>0&&_e.value===0?e.noMatchText||n(`el.select.noMatch`):o.options.size===0?e.noDataText||n(`el.select.noData`):null),_e=q(()=>j.value.filter(e=>e.visible).length),j=q(()=>{let e=Array.from(o.options.values()),t=[];return o.optionValues.forEach(n=>{let r=e.findIndex(e=>e.value===n);r>-1&&t.push(e[r])}),t.length>=e.length?t:e}),M=q(()=>Array.from(o.cachedOptions.values())),ve=q(()=>{let t=j.value.filter(e=>!e.created).some(e=>e.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==``&&!t}),ye=()=>{e.filterable&&w(e.filterMethod)||e.filterable&&e.remote&&w(e.remoteMethod)||j.value.forEach(e=>{var t;(t=e.updateOption)==null||t.call(e,o.inputValue)})},be=YS(),N=q(()=>[`small`].includes(be.value)?`small`:`default`),xe=q({get(){return v.value&&(e.loading||!he.value)&&(!x.value||!Bv(o.previousQuery))},set(e){v.value=e}}),Se=q(()=>{if(e.multiple&&!Lv(e.modelValue))return Lp(e.modelValue).length===0&&!o.inputValue;let t=b(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Lv(t)?!o.inputValue:!0}),Ce=q(()=>{let t=e.placeholder??n(`el.select.placeholder`);return e.multiple||!se.value?t:o.selectedLabel}),we=q(()=>sy?null:`mouseenter`);B(()=>e.modelValue,(t,n)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue=``,Te(``)),De(),!iv(t,n)&&e.validateEvent&&C?.validate(`change`).catch(e=>void 0)},{flush:`post`,deep:!0}),B(()=>v.value,e=>{e?Te(o.inputValue):(o.inputValue=``,o.previousQuery=null,o.isBeforeHide=!0)}),B(()=>o.options.entries(),()=>{ty&&(De(),e.defaultFirstOption&&(e.filterable||e.remote)&&_e.value&&Ee())},{flush:`post`}),B([()=>o.hoveringIndex,j],([e])=>{zv(e)&&e>-1?y.value=j.value[e]||{}:y.value={},j.value.forEach(e=>{e.hover=y.value===e})}),Ii(()=>{o.isBeforeHide||ye()});let Te=t=>{o.previousQuery===t||k.value||(o.previousQuery=t,e.filterable&&w(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&w(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&_e.value?Ln(Ee):Ln(P))},Ee=()=>{let e=j.value.filter(e=>e.visible&&!e.disabled&&!e.states.groupDisabled),t=e.find(e=>e.created),n=e[0];o.hoveringIndex=He(j.value.map(e=>e.value),t||n)},De=()=>{if(e.multiple)o.selectedLabel=``;else{let t=Oe(b(e.modelValue)?e.modelValue[0]:e.modelValue);o.selectedLabel=t.currentLabel,o.selected=[t];return}let t=[];Lv(e.modelValue)||Lp(e.modelValue).forEach(e=>{t.push(Oe(e))}),o.selected=t},Oe=t=>{let n,r=te(t);for(let i=o.cachedOptions.size-1;i>=0;i--){let a=M.value[i];if(r?mp(a.value,e.valueKey)===mp(t,e.valueKey):a.value===t){n={index:j.value.filter(e=>!e.created).indexOf(a),value:t,currentLabel:a.currentLabel,get isDisabled(){return a.isDisabled}};break}}return n||{index:-1,value:t,currentLabel:r?t.label:t??``}},P=()=>{let e=o.selected.length;if(e>0){let t=o.selected[e-1];o.hoveringIndex=j.value.findIndex(e=>tt(t)===tt(e))}else o.hoveringIndex=-1},ke=()=>{o.selectionWidth=Number.parseFloat(window.getComputedStyle(c.value).width)},Ae=()=>{o.collapseItemWidth=g.value.getBoundingClientRect().width},je=()=>{var e,t;(t=(e=l.value)?.updatePopper)==null||t.call(e)},Me=()=>{var e,t;(t=(e=u.value)?.updatePopper)==null||t.call(e)},Ne=()=>{o.inputValue.length>0&&!v.value&&(v.value=!0),Te(o.inputValue)},Pe=t=>{if(o.inputValue=t.target.value,e.remote)x.value=!0,Fe();else return Ne()},Fe=_y(()=>{Ne(),x.value=!1},me),Ie=n=>{iv(e.modelValue,n)||t(Rb,n)},Le=e=>U_(e,e=>{let t=o.cachedOptions.get(e);return!t?.disabled&&!t?.states.groupDisabled}),Re=n=>{let r=dw(n);if(e.multiple&&r!==Z.delete&&n.target.value.length<=0){let n=Lp(e.modelValue).slice(),r=Le(n);if(r<0)return;let i=n[r];n.splice(r,1),t(Lb,n),Ie(n),t(`remove-tag`,i)}},ze=(n,r)=>{let i=o.selected.indexOf(r);if(i>-1&&!re.value){let n=Lp(e.modelValue).slice();n.splice(i,1),t(Lb,n),Ie(n),t(`remove-tag`,r.value)}n.stopPropagation(),Je()},Be=n=>{n.stopPropagation();let r=e.multiple?[]:E.value;if(e.multiple)for(let e of o.selected)e.isDisabled&&r.push(e.value);t(Lb,r),Ie(r),o.hoveringIndex=-1,v.value=!1,t(`clear`),Je()},Ve=n=>{if(e.multiple){let r=Lp(e.modelValue??[]).slice(),i=He(r,n);i>-1?r.splice(i,1):(e.multipleLimit<=0||r.length<e.multipleLimit)&&r.push(n.value),t(Lb,r),Ie(r),n.created&&Te(``),e.filterable&&!e.reserveKeyword&&(o.inputValue=``)}else !iv(e.modelValue,n.value)&&t(`update:modelValue`,n.value),Ie(n.value),v.value=!1;Je(),!v.value&&Ln(()=>{Ue(n)})},He=(t,n)=>Lv(n)?-1:D(n.value)?t.findIndex(t=>iv(mp(t,e.valueKey),tt(n))):t.indexOf(n.value),Ue=e=>{var t,n;let r=b(e)?e[e.length-1]:e,a=null;if(!ov(r?.value)){let e=j.value.filter(e=>e.value===r.value);e.length>0&&(a=e[0].$el)}if(l.value&&a){let e=((t=l.value?.popperRef?.contentRef)?.querySelector)?.call(t,`.${i.be(`dropdown`,`wrap`)}`);e&&rx(e,a)}(n=_.value)==null||n.handleScroll()},We=e=>{o.options.set(e.value,e),o.cachedOptions.set(e.value,e)},Ge=(e,t)=>{o.options.get(e)===t&&o.options.delete(e)},Ke=q(()=>l.value?.popperRef?.contentRef),qe=()=>{o.isBeforeHide=!1,Ln(()=>{var e;(e=_.value)==null||e.update(),Ue(o.selected)})},Je=()=>{var e;(e=d.value)==null||e.focus()},Ye=()=>{var e;if(v.value){v.value=!1,Ln(()=>d.value?.blur());return}(e=d.value)==null||e.blur()},Xe=e=>{Be(e)},Ze=e=>{if(v.value=!1,ae.value){let t=new FocusEvent(`blur`,e);Ln(()=>oe(t))}},Qe=()=>{o.inputValue.length>0?o.inputValue=``:v.value=!1},$e=t=>{re.value||e.filterable&&v.value&&t&&!p.value?.contains(t.target)||(sy&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:v.value=!v.value)},et=()=>{if(!v.value)$e();else{let e=j.value[o.hoveringIndex];e&&!e.isDisabled&&Ve(e)}},tt=t=>D(t.value)?mp(t.value,e.valueKey):t.value,nt=q(()=>j.value.filter(e=>e.visible).every(e=>e.isDisabled)),rt=q(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),it=q(()=>e.multiple&&e.collapseTags?o.selected.slice(e.maxCollapseTags):[]),at=e=>{if(!v.value){v.value=!0;return}if(!(o.options.size===0||_e.value===0||k.value)&&!nt.value){e===`next`?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):e===`prev`&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));let t=j.value[o.hoveringIndex];(t.isDisabled||!t.visible)&&at(e),Ln(()=>Ue(y.value))}},ot=(e,t,n,r)=>{for(let i=t;i>=0&&i<r;i+=n){let t=e[i];if(!t?.isDisabled&&t?.visible)return i}return null},st=(e,t)=>{let n=o.options.size;if(n===0)return;let r=Vp(e,0,n-1),i=j.value,a=t===`up`?-1:1,s=ot(i,r,a,n)??ot(i,r-a,-a,n);s!=null&&(o.hoveringIndex=s,Ln(()=>Ue(y.value)))},ct=e=>{let t=dw(e),n=!0;switch(t){case Z.up:at(`prev`);break;case Z.down:at(`next`);break;case Z.enter:case Z.numpadEnter:k.value||et();break;case Z.esc:Qe();break;case Z.backspace:n=!1,Re(e);return;case Z.home:if(!v.value)return;st(0,`down`);break;case Z.end:if(!v.value)return;st(o.options.size-1,`up`);break;case Z.pageUp:if(!v.value)return;st(o.hoveringIndex-10,`up`);break;case Z.pageDown:if(!v.value)return;st(o.hoveringIndex+10,`down`);break;default:n=!1;break}n&&(e.preventDefault(),e.stopPropagation())},lt=()=>{if(!c.value)return 0;let e=window.getComputedStyle(c.value);return Number.parseFloat(e.gap||`6px`)},ut=q(()=>{let t=lt(),n=e.filterable?t+11:0;return{maxWidth:`${g.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-t-n:o.selectionWidth-n}px`}}),dt=q(()=>({maxWidth:`${o.selectionWidth}px`})),ft=e=>{t(`popup-scroll`,e)};zy(c,ke),zy(ie,je),zy(h,Me),zy(g,Ae);let pt;return B(()=>xe.value,e=>{e?pt=zy(m,je).stop:(pt?.(),pt=void 0),t(`visible-change`,e)}),Rr(()=>{De()}),{inputId:T,contentId:r,nsSelect:i,nsInput:a,states:o,isFocused:ae,expanded:v,optionsArray:j,hoverOption:y,selectSize:be,filteredOptionsCount:_e,updateTooltip:je,updateTagTooltip:Me,debouncedOnInputChange:Fe,onInput:Pe,deletePrevTag:Re,deleteTag:ze,deleteSelected:Be,handleOptionSelect:Ve,scrollToOption:Ue,hasModelValue:se,shouldShowPlaceholder:Se,currentPlaceholder:Ce,mouseEnterEventName:we,needStatusIcon:ce,showClearBtn:le,iconComponent:ue,iconReverse:de,validateState:fe,validateIcon:pe,showNewOption:ve,updateOptions:ye,collapseTagSize:N,setSelected:De,selectDisabled:re,emptyText:ge,handleCompositionStart:A,handleCompositionUpdate:ee,handleCompositionEnd:ne,handleKeydown:ct,onOptionCreate:We,onOptionDestroy:Ge,handleMenuEnter:qe,focus:Je,blur:Ye,handleClearClick:Xe,handleClickOutside:Ze,handleEsc:Qe,toggleMenu:$e,selectOption:et,getValueKey:tt,navigateOptions:at,dropdownMenuVisible:xe,showTagList:rt,collapseTagList:it,popupScroll:ft,getOption:Oe,tagStyle:ut,collapseTagStyle:dt,popperRef:Ke,inputRef:d,tooltipRef:l,tagTooltipRef:u,prefixRef:f,suffixRef:p,selectRef:s,wrapperRef:ie,selectionRef:c,scrollbarRef:_,menuRef:m,tagMenuRef:h,collapseItemRef:g}},$I=R({name:`ElOptions`,setup(e,{slots:t}){let n=Ni(BI),r=[];return()=>{let e=t.default?.call(t),i=[];function a(e){b(e)&&e.forEach(e=>{let t=(e?.type||{})?.name;t===`ElOptionGroup`?a(!T(e.children)&&!b(e.children)&&w(e.children?.default)?e.children?.default():e.children):t===`ElOption`?i.push(e.props?.value):b(e.children)&&a(e.children)})}return e.length&&a(e[0]?.children),iv(i,r)||(r=i,n&&(n.states.optionValues=i)),e}}}),eL=X({name:String,id:String,modelValue:{type:Y([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:`off`},automaticDropdown:Boolean,size:xb,effect:{type:Y(String),default:`light`},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:``},popperStyle:{type:Y([String,Object])},popperOptions:{type:Y(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:Y(Function)},filterMethod:{type:Y(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:`value`},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:jE.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:gS,default:Ax},fitInputWidth:Boolean,suffixIcon:{type:gS,default:_x},tagType:{...oA.type,default:`info`},tagEffect:{...oA.effect,default:`light`},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Y(String),values:Aw,default:`bottom-start`},fallbackPlacements:{type:Y(Array),default:[`bottom-start`,`top-start`,`right`,`left`]},tabindex:{type:[String,Number],default:0},appendTo:jE.appendTo,options:{type:Y(Array)},props:{type:Y(Object),default:()=>LI},...Eb,...PS([`ariaLabel`])});bC.scroll;var tL=R({name:`ElOptionGroup`,componentName:`ElOptionGroup`,props:{label:String,disabled:Boolean},setup(e){let t=J(`select`),n=F(),r=eo(),i=F([]);Mi(zI,Kt({...mn(e)}));let a=q(()=>i.value.some(e=>e.visible===!0)),o=e=>e.type.name===`ElOption`&&!!e.component?.proxy,s=e=>{let t=Lp(e),n=[];return t.forEach(e=>{La(e)&&(o(e)?n.push(e.component.proxy):b(e.children)&&e.children.length?n.push(...s(e.children)):e.component?.subTree&&n.push(...s(e.component.subTree)))}),n},c=()=>{i.value=s(r.subTree)};return Rr(()=>{c()}),qy(n,c,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:t}}});function nL(e,t,n,r,i,a){return Yn((V(),H(`ul`,{ref:`groupRef`,class:N(e.ns.be(`group`,`wrap`))},[W(`li`,{class:N(e.ns.be(`group`,`title`))},P(e.label),3),W(`li`,null,[W(`ul`,{class:N(e.ns.b(`group`))},[z(e.$slots,`default`)],2)])],2)),[[Zo,e.visible]])}var rL=Hb(tL,[[`render`,nL],[`__file`,`option-group.vue`]]),iL=`ElSelect`,aL=new WeakMap,oL=e=>(...t)=>{let n=t[0];if(!n||n.includes(`Slot "default" invoked outside of the render function`)&&t[2]?.includes(`ElTreeSelect`))return;let r=aL.get(e)?.originalWarnHandler;if(r){r(...t);return}console.warn(...t)},sL=e=>{let t=aL.get(e);return t||(t={originalWarnHandler:e.config.warnHandler,handler:oL(e),count:0},aL.set(e,t)),t},cL=R({name:iL,componentName:iL,components:{ElSelectMenu:ZI,ElOption:JI,ElOptions:$I,ElOptionGroup:rL,ElTag:cA,ElScrollbar:xC,ElTooltip:QE,ElIcon:hx},directives:{ClickOutside:mA},props:eL,emits:[Lb,Rb,`remove-tag`,`clear`,`visible-change`,`focus`,`blur`,`popup-scroll`],setup(e,{emit:t,slots:n}){let r=eo(),i=sL(r.appContext);i.count+=1,r.appContext.config.warnHandler=i.handler;let a=q(()=>{let{modelValue:t,multiple:n}=e,r=n?[]:void 0;return b(t)?n?t:r:n?r:t}),o=Kt({...mn(e),modelValue:a}),s=QI(o,t),{calculatorRef:c,inputStyle:l}=JF(),{getLabel:u,getValue:d,getOptions:f,getDisabled:p}=RI(e),m=e=>({label:u(e),value:d(e),disabled:p(e)}),h=e=>e.reduce((e,t)=>(e.push(t),t.children&&t.children.length>0&&e.push(...h(t.children)),e),[]),g=e=>{XO(e||[]).forEach(e=>{if(D(e)&&(e.type.name===`ElOption`||e.type.name===`ElTree`)){let t=e.type.name;if(t===`ElTree`)h(e.props?.data||[]).forEach(e=>{e.currentLabel=e.label||(D(e.value)?``:e.value),s.onOptionCreate(e)});else if(t===`ElOption`){let t={...e.props};t.currentLabel=t.label||(D(t.value)?``:t.value),s.onOptionCreate(t)}}})};B(()=>[n.default?.call(n),a.value],()=>{e.persistent||s.expanded.value||(s.states.options.clear(),g(n.default?.call(n)))},{immediate:!0}),Mi(BI,Kt({props:o,states:s.states,selectRef:s.selectRef,optionsArray:s.optionsArray,setSelected:s.setSelected,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy}));let _=q(()=>e.multiple?s.states.selected.map(e=>e.currentLabel):s.states.selectedLabel);return Vr(()=>{let e=aL.get(r.appContext);e&&(--e.count,e.count<=0&&(r.appContext.config.warnHandler=e.originalWarnHandler,aL.delete(r.appContext)))}),{...s,modelValue:a,selectedLabel:_,calculatorRef:c,inputStyle:l,getLabel:u,getValue:d,getOptions:f,getDisabled:p,getOptionProps:m}}});function lL(e,t){let n=Yr(`el-tag`),r=Yr(`el-tooltip`),i=Yr(`el-icon`),a=Yr(`el-option`),o=Yr(`el-option-group`),s=Yr(`el-options`),c=Yr(`el-scrollbar`),l=Yr(`el-select-menu`),u=Qr(`click-outside`);return Yn((V(),H(`div`,{ref:`selectRef`,class:N([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[ue(e.mouseEnterEventName)]:t=>e.states.inputHovering=!0,onMouseleave:t=>e.states.inputHovering=!1},[G(r,{ref:`tooltipRef`,visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e(`popper`),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:``,trigger:`click`,transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t=>e.states.isBeforeHide=!1},{default:L(()=>[W(`div`,{ref:`wrapperRef`,class:N([e.nsSelect.e(`wrapper`),e.nsSelect.is(`focused`,e.isFocused),e.nsSelect.is(`hovering`,e.states.inputHovering),e.nsSelect.is(`filterable`,e.filterable),e.nsSelect.is(`disabled`,e.selectDisabled)]),onClick:Ks(e.toggleMenu,[`prevent`])},[e.$slots.prefix?(V(),H(`div`,{key:0,ref:`prefixRef`,class:N(e.nsSelect.e(`prefix`))},[z(e.$slots,`prefix`)],2)):K(`v-if`,!0),W(`div`,{ref:`selectionRef`,class:N([e.nsSelect.e(`selection`),e.nsSelect.is(`near`,e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?z(e.$slots,`tag`,{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(V(!0),H(Da,null,ti(e.showTagList,t=>(V(),H(`div`,{key:e.getValueKey(t),class:N(e.nsSelect.e(`selected-item`))},[G(n,{closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:j(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},[z(e.$slots,`label`,{index:t.index,label:t.currentLabel,value:t.value},()=>[Wa(P(t.currentLabel),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`style`,`onClose`])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(V(),U(r,{key:0,ref:`tagTooltipRef`,disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.effect,placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:L(()=>[W(`div`,{ref:`collapseItemRef`,class:N(e.nsSelect.e(`selected-item`))},[G(n,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:j(e.collapseTagStyle)},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},` + `+P(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`,`style`])],2)]),content:L(()=>[W(`div`,{ref:`tagMenuRef`,class:N(e.nsSelect.e(`selection`))},[(V(!0),H(Da,null,ti(e.collapseTagList,t=>(V(),H(`div`,{key:e.getValueKey(t),class:N(e.nsSelect.e(`selected-item`))},[G(n,{class:`in-tooltip`,closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:n=>e.deleteTag(n,t)},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},[z(e.$slots,`label`,{index:t.index,label:t.currentLabel,value:t.value},()=>[Wa(P(t.currentLabel),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`onClose`])],2))),128))],2)]),_:3},8,[`disabled`,`effect`,`popper-class`,`popper-style`,`teleported`])):K(`v-if`,!0)]):K(`v-if`,!0),W(`div`,{class:N([e.nsSelect.e(`selected-item`),e.nsSelect.e(`input-wrapper`),e.nsSelect.is(`hidden`,!e.filterable||e.selectDisabled)])},[Yn(W(`input`,{id:e.inputId,ref:`inputRef`,"onUpdate:modelValue":t=>e.states.inputValue=t,type:`text`,name:e.name,class:N([e.nsSelect.e(`input`),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:j(e.inputStyle),tabindex:e.tabindex,role:`combobox`,readonly:!e.filterable,spellcheck:`false`,"aria-activedescendant":e.hoverOption?.id||``,"aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":`none`,"aria-haspopup":`listbox`,onKeydown:e.handleKeydown,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:Ks(e.toggleMenu,[`stop`])},null,46,[`id`,`onUpdate:modelValue`,`name`,`disabled`,`autocomplete`,`tabindex`,`readonly`,`aria-activedescendant`,`aria-controls`,`aria-expanded`,`aria-label`,`onKeydown`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`,`onInput`,`onClick`]),[[Rs,e.states.inputValue]]),e.filterable?(V(),H(`span`,{key:0,ref:`calculatorRef`,"aria-hidden":`true`,class:N(e.nsSelect.e(`input-calculator`)),textContent:P(e.states.inputValue)},null,10,[`textContent`])):K(`v-if`,!0)],2),e.shouldShowPlaceholder?(V(),H(`div`,{key:1,class:N([e.nsSelect.e(`selected-item`),e.nsSelect.e(`placeholder`),e.nsSelect.is(`transparent`,!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?z(e.$slots,`label`,{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[W(`span`,null,P(e.currentPlaceholder),1)]):(V(),H(`span`,{key:1},P(e.currentPlaceholder),1))],2)):K(`v-if`,!0)],2),W(`div`,{ref:`suffixRef`,class:N(e.nsSelect.e(`suffix`))},[e.iconComponent&&!e.showClearBtn?(V(),U(i,{key:0,class:N([e.nsSelect.e(`caret`),e.nsSelect.e(`icon`),e.iconReverse])},{default:L(()=>[(V(),U(Zr(e.iconComponent)))]),_:1},8,[`class`])):K(`v-if`,!0),e.showClearBtn&&e.clearIcon?(V(),U(i,{key:1,class:N([e.nsSelect.e(`caret`),e.nsSelect.e(`icon`),e.nsSelect.e(`clear`)]),onClick:e.handleClearClick},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(V(),U(i,{key:2,class:N([e.nsInput.e(`icon`),e.nsInput.e(`validateIcon`),e.nsInput.is(`loading`,e.validateState===`validating`)])},{default:L(()=>[(V(),U(Zr(e.validateIcon)))]),_:1},8,[`class`])):K(`v-if`,!0)],2)],10,[`onClick`])]),content:L(()=>[G(l,{ref:`menuRef`},{default:L(()=>[e.$slots.header?(V(),H(`div`,{key:0,class:N(e.nsSelect.be(`dropdown`,`header`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`header`)],10,[`onClick`])):K(`v-if`,!0),Yn(G(c,{id:e.contentId,ref:`scrollbarRef`,tag:`ul`,"wrap-class":e.nsSelect.be(`dropdown`,`wrap`),"view-class":e.nsSelect.be(`dropdown`,`list`),class:N([e.nsSelect.is(`empty`,e.filteredOptionsCount===0)]),role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`,onScroll:e.popupScroll},{default:L(()=>[e.showNewOption?(V(),U(a,{key:0,value:e.states.inputValue,created:!0},null,8,[`value`])):K(`v-if`,!0),G(s,null,{default:L(()=>[z(e.$slots,`default`,{},()=>[(V(!0),H(Da,null,ti(e.options,(t,n)=>(V(),H(Da,{key:n},[e.getOptions(t)?.length?(V(),U(o,{key:0,label:e.getLabel(t),disabled:e.getDisabled(t)},{default:L(()=>[(V(!0),H(Da,null,ti(e.getOptions(t),t=>(V(),U(a,Ja({key:e.getValue(t)},e.getOptionProps(t)),null,16))),128))]),_:2},1032,[`label`,`disabled`])):(V(),U(a,xe(Ja({key:1},e.getOptionProps(t))),null,16))],64))),128))])]),_:3})]),_:3},8,[`id`,`wrap-class`,`view-class`,`class`,`aria-label`,`onScroll`]),[[Zo,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(V(),H(`div`,{key:1,class:N(e.nsSelect.be(`dropdown`,`loading`))},[z(e.$slots,`loading`)],2)):e.loading||e.filteredOptionsCount===0?(V(),H(`div`,{key:2,class:N(e.nsSelect.be(`dropdown`,`empty`))},[z(e.$slots,`empty`,{},()=>[W(`span`,null,P(e.emptyText),1)])],2)):K(`v-if`,!0),e.$slots.footer?(V(),H(`div`,{key:3,class:N(e.nsSelect.be(`dropdown`,`footer`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`footer`)],10,[`onClick`])):K(`v-if`,!0)]),_:3},512)]),_:3},8,[`visible`,`placement`,`teleported`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`effect`,`transition`,`persistent`,`append-to`,`show-arrow`,`offset`,`onBeforeShow`,`onHide`])],16,[`onMouseleave`])),[[u,e.handleClickOutside,e.popperRef]])}var uL=lx(Hb(cL,[[`render`,lL],[`__file`,`select.vue`]]),{Option:JI,OptionGroup:rL}),dL=fx(JI),fL=fx(rL),pL=()=>Ni(jI,{}),mL=X({pageSize:{type:Number,required:!0},pageSizes:{type:Y(Array),default:()=>MS([10,20,30,40,50,100])},popperClass:{type:String},popperStyle:{type:Y([String,Object])},disabled:Boolean,teleported:Boolean,size:{type:String,values:bb},appendSizeTo:String}),hL=Hb(R({...R({name:`ElPaginationSizes`}),props:mL,emits:[`page-size-change`],setup(e,{emit:t}){let n=e,{t:r}=gb(),i=J(`pagination`),a=pL(),o=F(n.pageSize);B(()=>n.pageSizes,(e,r)=>{iv(e,r)||b(e)&&t(`page-size-change`,e.includes(n.pageSize)?n.pageSize:n.pageSizes[0])}),B(()=>n.pageSize,e=>{o.value=e});let s=q(()=>n.pageSizes);function c(e){var t;e!==o.value&&(o.value=e,(t=a.handleSizeChange)==null||t.call(a,Number(e)))}return(e,t)=>(V(),H(`span`,{class:N(I(i).e(`sizes`))},[G(I(uL),{"model-value":o.value,disabled:e.disabled,"popper-class":e.popperClass,"popper-style":e.popperStyle,size:e.size,teleported:e.teleported,"validate-event":!1,"append-to":e.appendSizeTo,onChange:c},{default:L(()=>[(V(!0),H(Da,null,ti(I(s),e=>(V(),U(I(dL),{key:e,value:e,label:e+I(r)(`el.pagination.pagesize`)},null,8,[`value`,`label`]))),128))]),_:1},8,[`model-value`,`disabled`,`popper-class`,`popper-style`,`size`,`teleported`,`append-to`])],2))}}),[[`__file`,`sizes.vue`]]),gL=X({size:{type:String,values:bb}}),_L=Hb(R({...R({name:`ElPaginationJumper`}),props:gL,setup(e){let{t}=gb(),n=J(`pagination`),{pageCount:r,disabled:i,currentPage:a,changeEvent:o}=pL(),s=F(),c=q(()=>s.value??a?.value);function l(e){s.value=e?+e:``}function u(e){e=Math.trunc(+e),o?.(e),s.value=void 0}return(e,a)=>(V(),H(`span`,{class:N(I(n).e(`jump`)),disabled:I(i)},[W(`span`,{class:N([I(n).e(`goto`)])},P(I(t)(`el.pagination.goto`)),3),G(I(dC),{size:e.size,class:N([I(n).e(`editor`),I(n).is(`in-pagination`)]),min:1,max:I(r),disabled:I(i),"model-value":I(c),"validate-event":!1,"aria-label":I(t)(`el.pagination.page`),type:`number`,"onUpdate:modelValue":l,onChange:u},null,8,[`size`,`class`,`max`,`disabled`,`model-value`,`aria-label`]),W(`span`,{class:N([I(n).e(`classifier`)])},P(I(t)(`el.pagination.pageClassifier`)),3)],10,[`disabled`]))}}),[[`__file`,`jumper.vue`]]),vL=X({total:{type:Number,default:1e3}}),yL=Hb(R({...R({name:`ElPaginationTotal`}),props:vL,setup(e){let{t}=gb(),n=J(`pagination`),{disabled:r}=pL();return(e,i)=>(V(),H(`span`,{class:N(I(n).e(`total`)),disabled:I(r)},P(I(t)(`el.pagination.total`,{total:e.total})),11,[`disabled`]))}}),[[`__file`,`total.vue`]]),bL=X({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),xL=Hb(R({...R({name:`ElPaginationPager`}),props:bL,emits:[Rb],setup(e,{emit:t}){let n=e,r=J(`pager`),i=J(`icon`),{t:a}=gb(),o=F(!1),s=F(!1),c=F(!1),l=F(!1),u=F(!1),d=F(!1),f=q(()=>{let e=n.pagerCount,t=(e-1)/2,r=Number(n.currentPage),i=Number(n.pageCount),a=!1,o=!1;i>e&&(r>e-t&&(a=!0),r<i-t&&(o=!0));let s=[];if(a&&!o){let t=i-(e-2);for(let e=t;e<i;e++)s.push(e)}else if(!a&&o)for(let t=2;t<e;t++)s.push(t);else if(a&&o){let t=Math.floor(e/2)-1;for(let e=r-t;e<=r+t;e++)s.push(e)}else for(let e=2;e<i;e++)s.push(e);return s}),p=q(()=>[`more`,`btn-quickprev`,i.b(),r.is(`disabled`,n.disabled)]),m=q(()=>[`more`,`btn-quicknext`,i.b(),r.is(`disabled`,n.disabled)]),h=q(()=>n.disabled?-1:0);B(()=>[n.pageCount,n.pagerCount,n.currentPage],([e,t,n])=>{let r=(t-1)/2,i=!1,a=!1;e>t&&(i=n>t-r,a=n<e-r),c.value&&=i,l.value&&=a,o.value=i,s.value=a},{immediate:!0});function g(e=!1){n.disabled||(e?c.value=!0:l.value=!0)}function _(e=!1){e?u.value=!0:d.value=!0}function v(e){let r=e.target;if(r.tagName.toLowerCase()===`li`&&Array.from(r.classList).includes(`number`)){let e=Number(r.textContent);e!==n.currentPage&&t(Rb,e)}else r.tagName.toLowerCase()===`li`&&Array.from(r.classList).includes(`more`)&&y(e)}function y(e){let r=e.target;if(r.tagName.toLowerCase()===`ul`||n.disabled)return;let i=Number(r.textContent),a=n.pageCount,o=n.currentPage,s=n.pagerCount-2;r.className.includes(`more`)&&(r.className.includes(`quickprev`)?i=o-s:r.className.includes(`quicknext`)&&(i=o+s)),Number.isNaN(+i)||(i<1&&(i=1),i>a&&(i=a)),i!==o&&t(Rb,i)}return(e,t)=>(V(),H(`ul`,{class:N(I(r).b()),onClick:y,onKeyup:Js(v,[`enter`])},[e.pageCount>0?(V(),H(`li`,{key:0,class:N([[I(r).is(`active`,e.currentPage===1),I(r).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===1,"aria-label":I(a)(`el.pagination.currentPage`,{pager:1}),tabindex:I(h)},` 1 `,10,[`aria-current`,`aria-label`,`tabindex`])):K(`v-if`,!0),o.value?(V(),H(`li`,{key:1,class:N(I(p)),tabindex:I(h),"aria-label":I(a)(`el.pagination.prevPages`,{pager:e.pagerCount-2}),onMouseenter:e=>g(!0),onMouseleave:e=>c.value=!1,onFocus:e=>_(!0),onBlur:e=>u.value=!1},[(c.value||u.value)&&!e.disabled?(V(),U(I(Px),{key:0})):(V(),U(I(qx),{key:1}))],42,[`tabindex`,`aria-label`,`onMouseenter`,`onMouseleave`,`onFocus`,`onBlur`])):K(`v-if`,!0),(V(!0),H(Da,null,ti(I(f),t=>(V(),H(`li`,{key:t,class:N([[I(r).is(`active`,e.currentPage===t),I(r).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===t,"aria-label":I(a)(`el.pagination.currentPage`,{pager:t}),tabindex:I(h)},P(t),11,[`aria-current`,`aria-label`,`tabindex`]))),128)),s.value?(V(),H(`li`,{key:2,class:N(I(m)),tabindex:I(h),"aria-label":I(a)(`el.pagination.nextPages`,{pager:e.pagerCount-2}),onMouseenter:e=>g(),onMouseleave:e=>l.value=!1,onFocus:e=>_(),onBlur:e=>d.value=!1},[(l.value||d.value)&&!e.disabled?(V(),U(I(Fx),{key:0})):(V(),U(I(qx),{key:1}))],42,[`tabindex`,`aria-label`,`onMouseenter`,`onMouseleave`,`onFocus`,`onBlur`])):K(`v-if`,!0),e.pageCount>1?(V(),H(`li`,{key:3,class:N([[I(r).is(`active`,e.currentPage===e.pageCount),I(r).is(`disabled`,e.disabled)],`number`]),"aria-current":e.currentPage===e.pageCount,"aria-label":I(a)(`el.pagination.currentPage`,{pager:e.pageCount}),tabindex:I(h)},P(e.pageCount),11,[`aria-current`,`aria-label`,`tabindex`])):K(`v-if`,!0)],42,[`onKeyup`]))}}),[[`__file`,`pager.vue`]]),SL=e=>typeof e!=`number`,CL=lx(R({name:`ElPagination`,props:X({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>zv(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:[`prev`,`pager`,`next`,`jumper`,`->`,`total`].join(`, `)},pageSizes:{type:Y(Array),default:()=>MS([10,20,30,40,50,100])},popperClass:{type:String,default:``},popperStyle:{type:Y([String,Object])},prevText:{type:String,default:``},prevIcon:{type:gS,default:()=>vx},nextText:{type:String,default:``},nextIcon:{type:gS,default:()=>yx},teleported:{type:Boolean,default:!0},small:Boolean,size:xb,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),emits:{"update:current-page":e=>zv(e),"update:page-size":e=>zv(e),"size-change":e=>zv(e),change:(e,t)=>zv(e)&&zv(t),"current-change":e=>zv(e),"prev-click":e=>zv(e),"next-click":e=>zv(e)},setup(e,{emit:t,slots:n}){let{t:r}=gb(),i=J(`pagination`),a=eo().vnode.props||{},o=Cb(),s=q(()=>e.small?`small`:e.size??o.value);xD({from:`small`,replacement:`size`,version:`3.0.0`,scope:`el-pagination`,ref:`https://element-plus.org/zh-CN/component/pagination.html`},q(()=>!!e.small));let c=`onUpdate:currentPage`in a||`onUpdate:current-page`in a||`onCurrentChange`in a,l=`onUpdate:pageSize`in a||`onUpdate:page-size`in a||`onSizeChange`in a,u=q(()=>{if(SL(e.total)&&SL(e.pageCount)||!SL(e.currentPage)&&!c)return!1;if(e.layout.includes(`sizes`)){if(SL(e.pageCount)){if(!SL(e.total)&&!SL(e.pageSize)&&!l)return!1}else if(!l)return!1}return!0}),d=F(SL(e.defaultPageSize)?10:e.defaultPageSize),f=F(SL(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=q({get(){return SL(e.pageSize)?d.value:e.pageSize},set(n){SL(e.pageSize)&&(d.value=n),l&&(t(`update:page-size`,n),t(`size-change`,n))}}),m=q(()=>{let t=0;return SL(e.pageCount)?SL(e.total)||(t=Math.max(1,Math.ceil(e.total/p.value))):t=e.pageCount,t}),h=q({get(){return SL(e.currentPage)?f.value:e.currentPage},set(n){let r=n;n<1?r=1:n>m.value&&(r=m.value),SL(e.currentPage)&&(f.value=r),c&&(t(`update:current-page`,r),t(`current-change`,r))}});B(m,e=>{h.value>e&&(h.value=e)}),B([h,p],e=>{t(Rb,...e)},{flush:`post`});function g(e){h.value=e}function _(e){p.value=e;let t=m.value;h.value>t&&(h.value=t)}function v(){e.disabled||(--h.value,t(`prev-click`,h.value))}function y(){e.disabled||(h.value+=1,t(`next-click`,h.value))}function b(e,t){e&&(e.props||={},e.props.class=[e.props.class,t].join(` `))}return Mi(jI,{pageCount:m,disabled:q(()=>e.disabled),currentPage:h,changeEvent:g,handleSizeChange:_}),()=>{if(!u.value)return r(`el.pagination.deprecationWarning`),null;if(!e.layout||e.hideOnSinglePage&&m.value<=1)return null;let t=[],a=[],o=_o(`div`,{class:i.e(`rightwrapper`)},a),c={prev:_o(PI,{disabled:e.disabled,currentPage:h.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:v}),jumper:_o(_L,{size:s.value}),pager:_o(xL,{currentPage:h.value,pageCount:m.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:_o(II,{disabled:e.disabled,currentPage:h.value,pageCount:m.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:y}),sizes:_o(hL,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,popperStyle:e.popperStyle,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:(n?.default)?.call(n)??null,total:_o(yL,{total:SL(e.total)?0:e.total})},l=e.layout.split(`,`).map(e=>e.trim()),d=!1;return l.forEach(e=>{if(e===`->`){d=!0;return}d?a.push(c[e]):t.push(c[e])}),b(t[0],i.is(`first`)),b(t[t.length-1],i.is(`last`)),d&&a.length>0&&(b(a[0],i.is(`first`)),b(a[a.length-1],i.is(`last`)),t.push(o)),_o(`div`,{class:[i.b(),i.is(`background`,e.background),i.m(s.value)]},t)}}})),wL=X({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:CD,default:`primary`},cancelButtonType:{type:String,values:CD,default:`text`},icon:{type:gS,default:()=>Qx},iconColor:{type:String,default:`#f90`},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...jE.effect,default:`light`},teleported:jE.teleported,persistent:jE.persistent,width:{type:[String,Number],default:150},virtualTriggering:ME.virtualTriggering,virtualRef:ME.virtualRef}),TL={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},EL=lx(Hb(R({...R({name:`ElPopconfirm`}),props:wL,emits:TL,setup(e,{expose:t,emit:n}){let r=e,{t:i}=gb(),a=J(`popconfirm`),o=F(),s=F(),c=q(()=>I(o)?.popperRef),l=()=>{var e,t;(t=(e=s.value)?.focus)==null||t.call(e)},u=()=>{var e,t;(t=(e=o.value)?.onClose)==null||t.call(e)},d=q(()=>({width:Qb(r.width)})),f=e=>{n(`confirm`,e),u()},p=e=>{n(`cancel`,e),u()},m=q(()=>r.confirmButtonText||i(`el.popconfirm.confirmButtonText`)),h=q(()=>r.cancelButtonText||i(`el.popconfirm.cancelButtonText`));return t({popperRef:c,hide:u}),(e,t)=>(V(),U(I(QE),Ja({ref_key:`tooltipRef`,ref:o,trigger:`click`,effect:e.effect},e.$attrs,{"virtual-triggering":e.virtualTriggering,"virtual-ref":e.virtualRef,"popper-class":`${I(a).namespace.value}-popover`,"popper-style":I(d),teleported:e.teleported,"fallback-placements":[`bottom`,`top`,`right`,`left`],"hide-after":e.hideAfter,persistent:e.persistent,loop:``,onShow:l}),{content:L(()=>[W(`div`,{ref_key:`rootRef`,ref:s,tabindex:`-1`,class:N(I(a).b())},[W(`div`,{class:N(I(a).e(`main`))},[!e.hideIcon&&e.icon?(V(),U(I(hx),{key:0,class:N(I(a).e(`icon`)),style:j({color:e.iconColor})},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1},8,[`class`,`style`])):K(`v-if`,!0),Wa(` `+P(e.title),1)],2),W(`div`,{class:N(I(a).e(`action`))},[z(e.$slots,`actions`,{confirm:f,cancel:p},()=>[G(I(aO),{size:`small`,type:e.cancelButtonType===`text`?``:e.cancelButtonType,text:e.cancelButtonType===`text`,onClick:p},{default:L(()=>[Wa(P(I(h)),1)]),_:1},8,[`type`,`text`]),G(I(aO),{size:`small`,type:e.confirmButtonType===`text`?``:e.confirmButtonType,text:e.confirmButtonType===`text`,onClick:f},{default:L(()=>[Wa(P(I(m)),1)]),_:1},8,[`type`,`text`])])],2)],2)]),default:L(()=>[e.$slots.reference?z(e.$slots,`reference`,{key:0}):K(`v-if`,!0)]),_:3},16,[`effect`,`virtual-triggering`,`virtual-ref`,`popper-class`,`popper-style`,`teleported`,`hide-after`,`persistent`]))}}),[[`__file`,`popconfirm.vue`]])),DL=X({trigger:ME.trigger,triggerKeys:ME.triggerKeys,placement:XN.placement,disabled:ME.disabled,visible:jE.visible,transition:jE.transition,popperOptions:XN.popperOptions,tabindex:XN.tabindex,content:jE.content,popperStyle:jE.popperStyle,popperClass:jE.popperClass,enterable:{...jE.enterable,default:!0},effect:{...jE.effect,default:`light`},teleported:jE.teleported,appendTo:jE.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),OL={"update:visible":e=>Rv(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},kL=`onUpdate:visible`,AL=Hb(R({...R({name:`ElPopover`}),props:DL,emits:OL,setup(e,{expose:t,emit:n}){let r=e,i=q(()=>r[kL]),a=J(`popover`),o=F(),s=q(()=>I(o)?.popperRef),c=q(()=>[{width:Qb(r.width)},r.popperStyle]),l=q(()=>[a.b(),r.popperClass,{[a.m(`plain`)]:!!r.content}]),u=q(()=>r.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var e;(e=o.value)==null||e.hide()},f=()=>{n(`before-enter`)},p=()=>{n(`before-leave`)},m=()=>{n(`after-enter`)},h=()=>{n(`update:visible`,!1),n(`after-leave`)};return t({popperRef:s,hide:d}),(e,t)=>(V(),U(I(QE),Ja({ref_key:`tooltipRef`,ref:o},e.$attrs,{trigger:e.trigger,"trigger-keys":e.triggerKeys,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":I(l),"popper-style":I(c),teleported:e.teleported,"append-to":e.appendTo,persistent:e.persistent,"gpu-acceleration":I(u),"onUpdate:visible":I(i),onBeforeShow:f,onBeforeHide:p,onShow:m,onHide:h}),{content:L(()=>[e.title?(V(),H(`div`,{key:0,class:N(I(a).e(`title`)),role:`title`},P(e.title),3)):K(`v-if`,!0),z(e.$slots,`default`,{},()=>[Wa(P(e.content),1)])]),default:L(()=>[e.$slots.reference?z(e.$slots,`reference`,{key:0}):K(`v-if`,!0)]),_:3},16,[`trigger`,`trigger-keys`,`placement`,`disabled`,`visible`,`transition`,`popper-options`,`tabindex`,`content`,`offset`,`show-after`,`hide-after`,`auto-close`,`show-arrow`,`aria-label`,`effect`,`enterable`,`popper-class`,`popper-style`,`teleported`,`append-to`,`persistent`,`gpu-acceleration`,`onUpdate:visible`]))}}),[[`__file`,`popover.vue`]]),jL=(e,t)=>{let n=(t.arg||t.value)?.popperRef;n&&(n.triggerRef=e)},ML=dx({mounted(e,t){jL(e,t)},updated(e,t){jL(e,t)}},`popover`),NL=lx(AL,{directive:ML}),PL=X({type:{type:String,default:`line`,values:[`line`,`circle`,`dashboard`]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:``,values:[``,`success`,`exception`,`warning`]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Y(String),default:`round`},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Y([String,Array,Function]),default:``},striped:Boolean,stripedFlow:Boolean,format:{type:Y(Function),default:e=>`${e}%`}}),FL=lx(Hb(R({...R({name:`ElProgress`}),props:PL,setup(e){let t=e,n={success:`#13ce66`,exception:`#ff4949`,warning:`#e6a23c`,default:`#20a0ff`},r=J(`progress`),i=q(()=>{let e={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},n=v(t.percentage);return n.includes(`gradient`)?e.background=n:e.backgroundColor=n,e}),a=q(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=q(()=>[`circle`,`dashboard`].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=q(()=>{let e=o.value,n=t.type===`dashboard`;return`
          M 50 50
          m 0 ${n?``:`-`}${e}
          a ${e} ${e} 0 1 1 0 ${n?`-`:``}${e*2}
          a ${e} ${e} 0 1 1 0 ${n?``:`-`}${e*2}
          `}),c=q(()=>2*Math.PI*o.value),l=q(()=>t.type===`dashboard`?.75:1),u=q(()=>`${-1*c.value*(1-l.value)/2}px`),d=q(()=>({strokeDasharray:`${c.value*l.value}px, ${c.value}px`,strokeDashoffset:u.value})),f=q(()=>({strokeDasharray:`${c.value*l.value*(t.percentage/100)}px, ${c.value}px`,strokeDashoffset:u.value,transition:`stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s`})),p=q(()=>{let e;return e=t.color?v(t.percentage):n[t.status]||n.default,e}),m=q(()=>t.status===`warning`?pS:t.type===`line`?t.status===`success`?Ox:Ax:t.status===`success`?Ex:Mx),h=q(()=>t.type===`line`?12+t.strokeWidth*.4:t.width*.111111+2),g=q(()=>t.format(t.percentage));function _(e){let t=100/e.length;return e.map((e,n)=>T(e)?{color:e,percentage:(n+1)*t}:e).sort((e,t)=>e.percentage-t.percentage)}let v=e=>{let{color:n}=t;if(w(n))return n(e);if(T(n))return n;{let t=_(n);for(let n of t)if(n.percentage>e)return n.color;return t[t.length-1]?.color}};return(e,t)=>(V(),H(`div`,{class:N([I(r).b(),I(r).m(e.type),I(r).is(e.status),{[I(r).m(`without-text`)]:!e.showText,[I(r).m(`text-inside`)]:e.textInside}]),role:`progressbar`,"aria-valuenow":e.percentage,"aria-valuemin":`0`,"aria-valuemax":`100`},[e.type===`line`?(V(),H(`div`,{key:0,class:N(I(r).b(`bar`))},[W(`div`,{class:N(I(r).be(`bar`,`outer`)),style:j({height:`${e.strokeWidth}px`})},[W(`div`,{class:N([I(r).be(`bar`,`inner`),{[I(r).bem(`bar`,`inner`,`indeterminate`)]:e.indeterminate},{[I(r).bem(`bar`,`inner`,`striped`)]:e.striped},{[I(r).bem(`bar`,`inner`,`striped-flow`)]:e.stripedFlow}]),style:j(I(i))},[(e.showText||e.$slots.default)&&e.textInside?(V(),H(`div`,{key:0,class:N(I(r).be(`bar`,`innerText`))},[z(e.$slots,`default`,{percentage:e.percentage},()=>[W(`span`,null,P(I(g)),1)])],2)):K(`v-if`,!0)],6)],6)],2)):(V(),H(`div`,{key:1,class:N(I(r).b(`circle`)),style:j({height:`${e.width}px`,width:`${e.width}px`})},[(V(),H(`svg`,{viewBox:`0 0 100 100`},[W(`path`,{class:N(I(r).be(`circle`,`track`)),d:I(s),stroke:`var(${I(r).cssVarName(`fill-color-light`)}, #e5e9f2)`,"stroke-linecap":e.strokeLinecap,"stroke-width":I(a),fill:`none`,style:j(I(d))},null,14,[`d`,`stroke`,`stroke-linecap`,`stroke-width`]),W(`path`,{class:N(I(r).be(`circle`,`path`)),d:I(s),stroke:I(p),fill:`none`,opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":I(a),style:j(I(f))},null,14,[`d`,`stroke`,`opacity`,`stroke-linecap`,`stroke-width`])]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(V(),H(`div`,{key:2,class:N(I(r).e(`text`)),style:j({fontSize:`${I(h)}px`})},[z(e.$slots,`default`,{percentage:e.percentage},()=>[e.status?(V(),U(I(hx),{key:1},{default:L(()=>[(V(),U(Zr(I(m))))]),_:1})):(V(),H(`span`,{key:0},P(I(g)),1))])],6)):K(`v-if`,!0)],10,[`aria-valuenow`]))}}),[[`__file`,`progress.vue`]])),IL=X({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Y([Array,Object]),default:()=>MS([``,``,``])},voidColor:{type:String,default:``},disabledVoidColor:{type:String,default:``},icons:{type:Y([Array,Object]),default:()=>[sS,sS,sS]},voidIcon:{type:gS,default:()=>cS},disabledVoidIcon:{type:gS,default:()=>sS},disabled:{type:Boolean,default:void 0},allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:``},texts:{type:Y(Array),default:()=>MS([`Extremely bad`,`Disappointed`,`Fair`,`Satisfied`,`Surprise`])},scoreTemplate:{type:String,default:`{value}`},size:xb,clearable:Boolean,...PS([`ariaLabel`])}),LL={[Rb]:e=>zv(e),[Lb]:e=>zv(e)},RL=lx(Hb(R({...R({name:`ElRate`}),props:IL,emits:LL,setup(e,{expose:t,emit:n}){let r=e;function i(e,t){let n=e=>D(e),r=t[Object.keys(t).map(e=>+e).filter(r=>{let i=t[r];return n(i)&&i.excluded?e<r:e<=r}).sort((e,t)=>e-t)[0]];return n(r)&&r.value||r}let a=Ni(GS,void 0),o=YS(),s=J(`rate`),{inputId:c,isLabeledByFormItem:l}=qS(r,{formItemContext:a}),u=F(r.modelValue),d=F(-1),f=F(!0),p=F([]),m=q(()=>p.value.map(e=>e.$el.clientWidth)),h=q(()=>[s.b(),s.m(o.value)]),g=XS(),_=q(()=>s.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":S.value})),v=q(()=>{let e=``;return r.showScore?e=r.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${r.modelValue}`:`${u.value}`):r.showText&&(e=r.texts[Math.ceil(u.value)-1]),e}),y=q(()=>r.modelValue*100-Math.floor(r.modelValue)*100),x=q(()=>b(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),S=q(()=>{let e=i(u.value,x.value);return D(e)?``:e}),C=q(()=>{let e=``;return g.value?e=`${y.value}%`:r.allowHalf&&(e=`50%`),{color:S.value,width:e}}),w=q(()=>{let e=b(r.icons)?[...r.icons]:{...r.icons};return e=tn(e),b(e)?{[r.lowThreshold]:e[0],[r.highThreshold]:{value:e[1],excluded:!0},[r.max]:e[2]}:e}),E=q(()=>i(r.modelValue,w.value)),O=q(()=>g.value?T(r.disabledVoidIcon)?r.disabledVoidIcon:tn(r.disabledVoidIcon):T(r.voidIcon)?r.voidIcon:tn(r.voidIcon)),k=q(()=>i(u.value,w.value));function A(e){let t=g.value&&y.value>0&&e-1<r.modelValue&&e>r.modelValue,n=r.allowHalf&&f.value&&e-.5<=u.value&&e>u.value;return t||n}function ee(e){r.clearable&&e===r.modelValue&&(e=0),n(Lb,e),r.modelValue!==e&&n(Rb,e)}function te(e){g.value||(r.allowHalf&&f.value?ee(u.value):ee(e))}function ne(e){if(g.value)return;let t=dw(e),i=r.allowHalf?.5:1,a=u.value;switch(t){case Z.up:case Z.right:a+=i;break;case Z.left:case Z.down:a-=i;break}if(a=Vp(a,0,r.max),a!==u.value)return e.stopPropagation(),e.preventDefault(),n(Lb,a),n(Rb,a),a}function re(e,t){g.value||(r.allowHalf&&t?(f.value=t.offsetX*2<=m.value[e-1],u.value=f.value?e-.5:e):u.value=e,d.value=e)}function ie(){g.value||(r.allowHalf&&(f.value=r.modelValue!==Math.floor(r.modelValue)),u.value=r.modelValue,d.value=-1)}return B(()=>r.modelValue,e=>{u.value=e,f.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Lb,0),t({setCurrentValue:re,resetCurrentValue:ie}),(e,t)=>(V(),H(`div`,{id:I(c),class:N([I(h),I(s).is(`disabled`,I(g))]),role:`slider`,"aria-label":I(l)?void 0:e.ariaLabel||`rating`,"aria-labelledby":I(l)?I(a)?.labelId:void 0,"aria-valuenow":u.value,"aria-valuetext":I(v)||void 0,"aria-valuemin":`0`,"aria-valuemax":e.max,tabindex:`0`,style:j(I(_)),onKeydown:ne},[(V(!0),H(Da,null,ti(e.max,(e,t)=>(V(),H(`span`,{key:t,class:N(I(s).e(`item`)),onMousemove:t=>re(e,t),onMouseleave:ie,onClick:t=>te(e)},[G(I(hx),{ref_for:!0,ref_key:`iconRefs`,ref:p,class:N([I(s).e(`icon`),{hover:d.value===e},I(s).is(`active`,e<=u.value),I(s).is(`focus-visible`,e===Math.ceil(u.value||1))])},{default:L(()=>[Yn((V(),U(Zr(I(k)),null,null,512)),[[Zo,!A(e)&&e<=u.value]]),Yn((V(),U(Zr(I(O)),null,null,512)),[[Zo,!A(e)&&e>u.value]]),Yn((V(),U(Zr(I(O)),{class:N([I(s).em(`decimal`,`box`)])},null,8,[`class`])),[[Zo,A(e)]]),Yn(G(I(hx),{style:j(I(C)),class:N([I(s).e(`icon`),I(s).e(`decimal`)])},{default:L(()=>[(V(),U(Zr(I(E))))]),_:2},1032,[`style`,`class`]),[[Zo,A(e)]])]),_:2},1032,[`class`])],42,[`onMousemove`,`onClick`]))),128)),e.showText||e.showScore?(V(),H(`span`,{key:0,class:N(I(s).e(`text`)),style:j({color:e.textColor})},P(I(v)),7)):K(`v-if`,!0)],46,[`id`,`aria-label`,`aria-labelledby`,`aria-valuenow`,`aria-valuetext`,`aria-valuemax`]))}}),[[`__file`,`rate.vue`]])),zL={primary:`icon-primary`,success:`icon-success`,warning:`icon-warning`,error:`icon-error`,info:`icon-info`},BL={[zL.primary]:Ux,[zL.success]:Dx,[zL.warning]:pS,[zL.error]:kx,[zL.info]:Ux},VL=X({title:{type:String,default:``},subTitle:{type:String,default:``},icon:{type:String,values:[`primary`,`success`,`warning`,`info`,`error`],default:`info`}}),HL=lx(Hb(R({...R({name:`ElResult`}),props:VL,setup(e){let t=e,n=J(`result`),r=q(()=>{let e=t.icon,n=e&&zL[e]?zL[e]:`icon-info`;return{class:n,component:BL[n]||BL[`icon-info`]}});return(e,t)=>(V(),H(`div`,{class:N(I(n).b())},[W(`div`,{class:N(I(n).e(`icon`))},[z(e.$slots,`icon`,{},()=>[I(r).component?(V(),U(Zr(I(r).component),{key:0,class:N(I(r).class)},null,8,[`class`])):K(`v-if`,!0)])],2),e.title||e.$slots.title?(V(),H(`div`,{key:0,class:N(I(n).e(`title`))},[z(e.$slots,`title`,{},()=>[W(`p`,null,P(e.title),1)])],2)):K(`v-if`,!0),e.subTitle||e.$slots[`sub-title`]?(V(),H(`div`,{key:1,class:N(I(n).e(`subtitle`))},[z(e.$slots,`sub-title`,{},()=>[W(`p`,null,P(e.subTitle),1)])],2)):K(`v-if`,!0),e.$slots.extra?(V(),H(`div`,{key:2,class:N(I(n).e(`extra`))},[z(e.$slots,`extra`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`result.vue`]])),UL=X({tag:{type:String,default:`div`},gutter:{type:Number,default:0},justify:{type:String,values:[`start`,`center`,`end`,`space-around`,`space-between`,`space-evenly`],default:`start`},align:{type:String,values:[`top`,`middle`,`bottom`]}}),WL=lx(Hb(R({...R({name:`ElRow`}),props:UL,setup(e){let t=e,n=J(`row`);Mi(bA,{gutter:q(()=>t.gutter)});let r=q(()=>{let e={};return t.gutter&&(e.marginRight=e.marginLeft=`-${t.gutter/2}px`),e}),i=q(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!==`start`),n.is(`align-${t.align}`,!!t.align)]);return(e,t)=>(V(),U(Zr(e.tag),{class:N(I(i)),style:j(I(r))},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`row.vue`]])),GL=R({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:J(`select`)}}});function KL(e,t,n,r,i,a){return V(),H(`div`,{class:N(e.ns.be(`group`,`title`)),style:j({...e.style,lineHeight:`${e.height}px`})},P(e.item.label),7)}var qL=Hb(GL,[[`render`,KL],[`__file`,`group-item.vue`]]);function JL(e,{emit:t}){return{hoverItem:()=>{e.disabled||t(`hover`,e.index)},selectOptionClick:()=>{e.disabled||t(`select`,e.item,e.index)}}}var YL=X({allowCreate:Boolean,autocomplete:{type:Y(String),default:`none`},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:gS,default:Ax},effect:{type:Y(String),default:`light`},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:{type:Boolean,default:void 0},estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:Y(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Y([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:Y(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:Y(Array),required:!0},placeholder:{type:String},teleported:jE.teleported,persistent:{type:Boolean,default:!0},popperClass:jE.popperClass,popperStyle:jE.popperStyle,popperOptions:{type:Y(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},size:xb,props:{type:Y(Object),default:()=>LI},valueKey:{type:String,default:`value`},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},placement:{type:Y(String),values:Aw,default:`bottom-start`},fallbackPlacements:{type:Y(Array),default:[`bottom-start`,`top-start`,`right`,`left`]},tagType:{...oA.type,default:`info`},tagEffect:{...oA.effect,default:`light`},tabindex:{type:[String,Number],default:0},appendTo:jE.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(e){return Rv(e)||zv(e)}},suffixIcon:{type:gS,default:_x},...Eb,...PS([`ariaLabel`])}),XL=X({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Y(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),ZL={[Lb]:e=>!0,[Rb]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},QL={hover:e=>zv(e),select:(e,t)=>!0},$L=Symbol(`ElSelectV2Injection`),eR=R({props:XL,emits:QL,setup(e,{emit:t}){let n=Ni($L),r=J(`select`),{hoverItem:i,selectOptionClick:a}=JL(e,{emit:t}),{getLabel:o}=RI(n.props);return{ns:r,contentId:n.contentId,hoverItem:i,selectOptionClick:a,getLabel:o}}});function tR(e,t,n,r,i,a){return V(),H(`li`,{id:`${e.contentId}-${e.index}`,role:`option`,"aria-selected":e.selected,"aria-disabled":e.disabled||void 0,style:j(e.style),class:N([e.ns.be(`dropdown`,`item`),e.ns.is(`selected`,e.selected),e.ns.is(`disabled`,e.disabled),e.ns.is(`created`,e.created),e.ns.is(`hovering`,e.hovering)]),onMousemove:e.hoverItem,onClick:Ks(e.selectOptionClick,[`stop`])},[z(e.$slots,`default`,{item:e.item,index:e.index,disabled:e.disabled},()=>[W(`span`,null,P(e.getLabel(e.item)),1)])],46,[`id`,`aria-selected`,`aria-disabled`,`onMousemove`,`onClick`])}var nR=Hb(eR,[[`render`,tR],[`__file`,`option-item.vue`]]),rR=Number.isNaN||function(e){return typeof e==`number`&&e!==e};function iR(e,t){return!!(e===t||rR(e)&&rR(t))}function aR(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!iR(e[n],t[n]))return!1;return!0}function oR(e,t){t===void 0&&(t=aR);var n=null;function r(){var r=[...arguments];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}var sR=()=>{let e=eo().proxy.$props;return q(()=>{let t=(e,t,n)=>({});return e.perfMode?Zf(t):oR(t)})},cR=`itemRendered`,lR=`scroll`,uR=`forward`,dR=`backward`,fR=`auto`,pR=`start`,mR=`center`,hR=`horizontal`,gR=`vertical`,_R=`negative`,vR=`positive-ascending`,yR=`positive-descending`,bR={[hR]:`left`,[gR]:`top`},xR={[hR]:`deltaX`,[gR]:`deltaY`},SR=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let i,a=0,o=n=>n<0&&t.value||n>0&&e.value;return{hasReachedEdge:o,onWheel:e=>{Gb(i);let t=e[xR[n.value]];o(a)&&o(a+t)||(a+=t,wS()||e.preventDefault(),i=Wb(()=>{r(a),a=0}))}}},CR=yb({type:Y([Number,Function]),required:!0}),wR=yb({type:Number}),TR=yb({type:Number,default:2}),ER=yb({type:String,values:[`ltr`,`rtl`],default:`ltr`}),DR=yb({type:Number,default:0}),OR=yb({type:Number,required:!0}),kR=yb({type:String,values:[`horizontal`,`vertical`],default:gR}),AR=X({className:{type:String,default:``},containerElement:{type:Y([String,Object]),default:`div`},data:{type:Y(Array),default:()=>MS([])},direction:ER,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:`div`},innerProps:{type:Y(Object),default:()=>({})},style:{type:Y([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),jR=X({cache:TR,estimatedItemSize:wR,layout:kR,initScrollOffset:DR,total:OR,itemSize:CR,...AR}),MR={type:Number,default:6},NR={type:Number,default:0},PR={type:Number,default:2},FR=X({columnCache:TR,columnWidth:CR,estimatedColumnWidth:wR,estimatedRowHeight:wR,initScrollLeft:DR,initScrollTop:DR,itemKey:{type:Y(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:TR,rowHeight:CR,totalColumn:OR,totalRow:OR,hScrollbarSize:MR,vScrollbarSize:MR,scrollbarStartGap:NR,scrollbarEndGap:PR,role:String,...AR}),IR=X({alwaysOn:Boolean,class:String,layout:kR,total:OR,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:MR,startGap:NR,endGap:PR,visible:Boolean}),LR=(e,t)=>e<t?uR:dR,RR=e=>e===`ltr`||e===`rtl`||e===`horizontal`,zR=e=>e===`rtl`,BR=null;function VR(e=!1){if(BR===null||e){let e=document.createElement(`div`),t=e.style;t.width=`50px`,t.height=`50px`,t.overflow=`scroll`,t.direction=`rtl`;let n=document.createElement(`div`),r=n.style;return r.width=`100px`,r.height=`100px`,e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?BR=yR:(e.scrollLeft=1,BR=e.scrollLeft===0?_R:vR),document.body.removeChild(e),BR}return BR}function HR({move:e,size:t,bar:n},r){let i={},a=`translate${n.axis}(${e}px)`;return i[n.size]=t,i.transform=a,r===`horizontal`?i.height=`100%`:i.width=`100%`,i}var UR=R({name:`ElVirtualScrollBar`,props:IR,emits:[`scroll`,`start-move`,`stop-move`],setup(e,{emit:t}){let n=q(()=>e.startGap+e.endGap),r=J(`virtual-scrollbar`),i=J(`scrollbar`),a=F(),o=F(),s=null,c=null,l=Kt({isDragging:!1,traveled:0}),u=q(()=>fC[e.layout]),d=q(()=>e.clientSize-I(n)),f=q(()=>({position:`absolute`,width:`${e.layout===`horizontal`?d.value:e.scrollbarSize}px`,height:`${e.layout===`horizontal`?e.scrollbarSize:d.value}px`,[bR[e.layout]]:`2px`,right:`2px`,bottom:`2px`,borderRadius:`4px`})),p=q(()=>{let t=e.ratio;if(t>=100)return 1/0;if(t>=50)return t*d.value/100;let n=d.value/3;return Math.floor(Math.min(Math.max(t*d.value/100,20),n))}),m=q(()=>{if(!Number.isFinite(p.value))return{display:`none`};let t=`${p.value}px`;return HR({bar:u.value,size:t,move:l.traveled},e.layout)}),h=q(()=>Math.ceil(e.clientSize-p.value-I(n))),g=()=>{window.addEventListener(`mousemove`,b),window.addEventListener(`mouseup`,y);let e=I(o);e&&(c=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener(`touchmove`,b,{passive:!0}),e.addEventListener(`touchend`,y))},_=()=>{window.removeEventListener(`mousemove`,b),window.removeEventListener(`mouseup`,y),document.onselectstart=c,c=null;let e=I(o);e&&(e.removeEventListener(`touchmove`,b),e.removeEventListener(`touchend`,y))},v=e=>{e.stopImmediatePropagation(),!(e.ctrlKey||[1,2].includes(e.button))&&(l.isDragging=!0,l[u.value.axis]=e.currentTarget[u.value.offset]-(e[u.value.client]-e.currentTarget.getBoundingClientRect()[u.value.direction]),t(`start-move`),g())},y=()=>{l.isDragging=!1,l[u.value.axis]=0,t(`stop-move`),_()},b=e=>{let{isDragging:n}=l;if(!n||!o.value||!a.value)return;let r=l[u.value.axis];if(!r)return;Gb(s);let i=(a.value.getBoundingClientRect()[u.value.direction]-e[u.value.client])*-1-(o.value[u.value.offset]-r);s=Wb(()=>{l.traveled=Math.max(0,Math.min(i,h.value)),t(`scroll`,i,h.value)})},x=e=>{let n=Math.abs(e.target.getBoundingClientRect()[u.value.direction]-e[u.value.client])-o.value[u.value.offset]/2;l.traveled=Math.max(0,Math.min(n,h.value)),t(`scroll`,n,h.value)};return B(()=>e.scrollFrom,e=>{l.isDragging||(l.traveled=Math.ceil(e*h.value))}),Vr(()=>{_()}),()=>_o(`div`,{role:`presentation`,ref:a,class:[r.b(),e.class,(e.alwaysOn||l.isDragging)&&`always-on`],style:f.value,onMousedown:Ks(x,[`stop`,`prevent`]),onTouchstartPrevent:v},_o(`div`,{ref:o,class:i.e(`thumb`),style:m.value,onMousedown:v},[]))}}),WR=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:o,initCache:s,clearCache:c,validateProps:l})=>R({name:e??`ElVirtualList`,props:jR,emits:[cR,lR],setup(e,{emit:u,expose:d}){l(e);let f=eo(),p=J(`vl`),m=F(s(e,f)),h=sR(),g=F(),_=F(),v=F(),b=F({isScrolling:!1,scrollDir:`forward`,scrollOffset:zv(e.initScrollOffset)?e.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:e.scrollbarAlwaysOn}),x=q(()=>{let{total:t,cache:n}=e,{isScrolling:r,scrollDir:i,scrollOffset:s}=I(b);if(t===0)return[0,0,0,0];let c=a(e,s,I(m)),l=o(e,c,s,I(m)),u=!r||i===`backward`?Math.max(1,n):1,d=!r||i===`forward`?Math.max(1,n):1;return[Math.max(0,c-u),Math.max(0,Math.min(t-1,l+d)),c,l]}),S=q(()=>i(e,I(m))),C=q(()=>RR(e.layout)),w=q(()=>[{position:`relative`,[`overflow-${C.value?`x`:`y`}`]:`scroll`,WebkitOverflowScrolling:`touch`,willChange:`transform`},{direction:e.direction,height:zv(e.height)?`${e.height}px`:e.height,width:zv(e.width)?`${e.width}px`:e.width},e.style]),T=q(()=>{let e=I(S),t=I(C);return{height:t?`100%`:`${e}px`,pointerEvents:I(b).isScrolling?`none`:void 0,width:t?`${e}px`:`100%`,margin:0,boxSizing:`border-box`}}),E=q(()=>C.value?e.width:e.height),{onWheel:D}=SR({atStartEdge:q(()=>b.value.scrollOffset<=0),atEndEdge:q(()=>b.value.scrollOffset>=S.value),layout:q(()=>e.layout)},e=>{var t,n;(n=(t=v.value).onMouseUp)==null||n.call(t),ne(Math.min(b.value.scrollOffset+e,S.value-E.value))});Ty(g,`wheel`,D,{passive:!1});let O=()=>{let{total:t}=e;if(t>0){let[e,t,n,r]=I(x);u(cR,e,t,n,r)}let{scrollDir:n,scrollOffset:r,updateRequested:i}=I(b);u(lR,n,r,i)},k=e=>{let{clientHeight:t,scrollHeight:n,scrollTop:r}=e.currentTarget,i=I(b);if(i.scrollOffset===r)return;let a=Math.max(0,Math.min(r,n-t));b.value={...i,isScrolling:!0,scrollDir:LR(i.scrollOffset,a),scrollOffset:a,updateRequested:!1},Ln(ae)},A=t=>{let{clientWidth:n,scrollLeft:r,scrollWidth:i}=t.currentTarget,a=I(b);if(a.scrollOffset===r)return;let{direction:o}=e,s=r;if(o===`rtl`)switch(VR()){case _R:s=-r;break;case yR:s=i-n-r;break}s=Math.max(0,Math.min(s,i-n)),b.value={...a,isScrolling:!0,scrollDir:LR(a.scrollOffset,s),scrollOffset:s,updateRequested:!1},Ln(ae)},ee=e=>{I(C)?A(e):k(e),O()},te=(e,t)=>{let n=(S.value-E.value)/t*e;ne(Math.min(S.value-E.value,n))},ne=e=>{e=Math.max(e,0),e!==I(b).scrollOffset&&(b.value={...I(b),scrollOffset:e,scrollDir:LR(I(b).scrollOffset,e),updateRequested:!0},Ln(ae))},re=(n,r=fR)=>{let{scrollOffset:i}=I(b);n=Math.max(0,Math.min(n,e.total-1)),ne(t(e,n,r,i,I(m)))},ie=t=>{let{direction:i,itemSize:a,layout:o}=e,s=h.value(c&&a,c&&o,c&&i),l;if(y(s,String(t)))l=s[t];else{let a=r(e,t,I(m)),o=n(e,t,I(m)),c=I(C),u=i===`rtl`,d=c?a:0;s[t]=l={position:`absolute`,left:u?void 0:`${d}px`,right:u?`${d}px`:void 0,top:c?0:`${a}px`,height:c?`100%`:`${o}px`,width:c?`${o}px`:`100%`}}return l},ae=()=>{b.value.isScrolling=!1,Ln(()=>{h.value(-1,null,null)})},oe=()=>{let e=g.value;e&&(e.scrollTop=0)};Rr(()=>{if(!ty)return;let{initScrollOffset:t}=e,n=I(g);zv(t)&&n&&(I(C)?n.scrollLeft=t:n.scrollTop=t),O()}),Br(()=>{let{direction:t,layout:n}=e,{scrollOffset:r,updateRequested:i}=I(b),a=I(g);if(i&&a)if(n===`horizontal`)if(t===`rtl`)switch(VR()){case _R:a.scrollLeft=-r;break;case vR:a.scrollLeft=r;break;default:{let{clientWidth:e,scrollWidth:t}=a;a.scrollLeft=t-e-r;break}}else a.scrollLeft=r;else a.scrollTop=r}),jr(()=>{I(g).scrollTop=I(b).scrollOffset});let se={ns:p,clientSize:E,estimatedTotalSize:S,windowStyle:w,windowRef:g,innerRef:_,innerStyle:T,itemsToRender:x,scrollbarRef:v,states:b,getItemStyle:ie,onScroll:ee,onScrollbarScroll:te,onWheel:D,scrollTo:ne,scrollToItem:re,resetScrollTop:oe};return d({windowRef:g,innerRef:_,getItemStyleCache:h,scrollTo:ne,scrollToItem:re,resetScrollTop:oe,states:b}),se},render(e){let{$slots:t,className:n,clientSize:r,containerElement:i,data:a,getItemStyle:o,innerElement:s,itemsToRender:c,innerStyle:l,layout:u,total:d,onScroll:f,onScrollbarScroll:p,states:m,useIsScrolling:h,windowStyle:g,ns:_}=e,[v,y]=c,b=Zr(i),x=Zr(s),S=[];if(d>0)for(let e=v;e<=y;e++)S.push(_o(Da,{key:e},t.default?.call(t,{data:a,index:e,isScrolling:h?m.isScrolling:void 0,style:o(e)})));let C=[_o(x,Ja(e.innerProps,{style:l,ref:`innerRef`}),T(x)?S:{default:()=>S})],w=_o(UR,{ref:`scrollbarRef`,clientSize:r,layout:u,onScroll:p,ratio:r*100/this.estimatedTotalSize,scrollFrom:m.scrollOffset/(this.estimatedTotalSize-r),total:d,alwaysOn:m.scrollbarAlwaysOn}),E=_o(b,{class:[_.e(`window`),n],style:g,onScroll:f,ref:`windowRef`,key:0},T(b)?[C]:{default:()=>[C]});return _o(`div`,{key:0,class:[_.e(`wrapper`),m.scrollbarAlwaysOn?`always-on`:``]},[E,w])}}),GR=WR({name:`ElFixedSizeList`,getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:i},a,o,s)=>{let c=RR(r)?i:e,l=Math.max(0,t*n-c),u=Math.min(l,a*n),d=Math.max(0,(a+1)*n-c);switch(o===`smart`&&(o=s>=d-c&&s<=u+c?fR:mR),o){case pR:return u;case`end`:return d;case mR:{let e=Math.round(d+(u-d)/2);return e<Math.ceil(c/2)?0:e>l+Math.floor(c/2)?l:e}case fR:default:return s>=d&&s<=u?s:s<d?d:u}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:i},a,o)=>{let s=a*n,c=RR(r)?i:e,l=Math.ceil((c+o-s)/n);return Math.max(0,Math.min(t-1,a+l-1))},initCache(){},clearCache:!0,validateProps(){}}),KR=(e,t,n)=>{let{itemSize:r}=e,{items:i,lastVisitedIndex:a}=n;if(t>a){let e=0;if(a>=0){let t=i[a];e=t.offset+t.size}for(let n=a+1;n<=t;n++){let t=r(n);i[n]={offset:e,size:t},e+=t}n.lastVisitedIndex=t}return i[t]},qR=(e,t,n)=>{let{items:r,lastVisitedIndex:i}=t;return(i>0?r[i].offset:0)>=n?JR(e,t,0,i,n):YR(e,t,Math.max(0,i),n)},JR=(e,t,n,r,i)=>{for(;n<=r;){let a=n+Math.floor((r-n)/2),o=KR(e,a,t).offset;if(o===i)return a;o<i?n=a+1:o>i&&(r=a-1)}return Math.max(0,n-1)},YR=(e,t,n,r)=>{let{total:i}=e,a=1;for(;n<i&&KR(e,n,t).offset<r;)n+=a,a*=2;return JR(e,t,Math.floor(n/2),Math.min(n,i-1),r)},XR=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=e&&(r=e-1),r>=0){let e=t[r];i=e.offset+e.size}let a=(e-r-1)*n;return i+a},ZR=WR({name:`ElDynamicSizeList`,getItemOffset:(e,t,n)=>KR(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:XR,getOffset:(e,t,n,r,i)=>{let{height:a,layout:o,width:s}=e,c=RR(o)?s:a,l=KR(e,t,i),u=XR(e,i),d=Math.max(0,Math.min(u-c,l.offset)),f=Math.max(0,l.offset-c+l.size);switch(n===`smart`&&(n=r>=f-c&&r<=d+c?fR:mR),n){case pR:return d;case`end`:return f;case mR:return Math.round(f+(d-f)/2);case fR:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(e,t,n)=>qR(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{let{height:i,total:a,layout:o,width:s}=e,c=RR(o)?s:i,l=KR(e,t,r),u=n+c,d=l.offset+l.size,f=t;for(;f<a-1&&d<u;)f++,d+=KR(e,f,r).size;return f},initCache({estimatedItemSize:e=50},t){let n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(e,r=!0)=>{var i,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,e-1),(i=t.exposed)==null||i.getItemStyleCache(-1),r&&((a=t.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),QR=R({name:`ElSelectDropdown`,props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number,id:String,ariaLabel:String},setup(e,{slots:t,expose:n}){let r=Ni($L),i=J(`select`),{getLabel:a,getValue:o,getDisabled:s}=RI(r.props),c=F([]),l=F(),u=q(()=>e.data.length);B(()=>u.value,()=>{var e,t;(t=(e=r.tooltipRef.value)?.updatePopper)==null||t.call(e)});let d=q(()=>Lv(r.props.estimatedOptionHeight)),f=q(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:e=>c.value[e]}),p=(e=[],t)=>{let{props:{valueKey:n}}=r;return D(t)?e&&e.some(e=>en(mp(e,n))===mp(t,n)):e.includes(t)},m=(e,t)=>{if(D(t)){let{valueKey:n}=r.props;return mp(e,n)===mp(t,n)}else return e===t},h=(e,t)=>r.props.multiple?p(e,o(t)):m(e,o(t)),g=(e,t)=>{let{disabled:n,multiple:i,multipleLimit:a}=r.props;return n||!t&&(i?a>0&&e.length>=a:!1)},_=t=>e.hoveringIndex===t;n({listRef:l,isSized:d,isItemDisabled:g,isItemHovering:_,isItemSelected:h,scrollToItem:e=>{let t=l.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{let e=l.value;e&&e.resetScrollTop()}});let v=e=>{let{index:n,data:i,style:o}=e,c=I(d),{itemSize:l,estimatedSize:u}=I(f),{modelValue:p}=r.props,{onSelect:m,onHover:v}=r,y=i[n];if(y.type===`Group`)return G(qL,{item:y,style:o,height:c?l:u},null);let b=h(p,y),x=g(p,b),S=_(n);return G(nR,Ja(e,{selected:b,disabled:s(y)||x,created:!!y.created,hovering:S,item:y,onSelect:m,onHover:v}),{default:e=>t.default?.call(t,e)||G(`span`,null,[a(y)])})},{onKeyboardNavigate:y,onKeyboardSelect:b}=r,x=()=>{y(`forward`)},S=()=>{y(`backward`)},C=e=>{let t=dw(e),{tab:n,esc:r,down:i,up:a,enter:o,numpadEnter:s}=Z;switch([r,i,a,o,s].includes(t)&&(e.preventDefault(),e.stopPropagation()),t){case n:case r:break;case i:x();break;case a:S();break;case o:case s:b();break}};return()=>{let{data:n,width:a}=e,{height:o,multiple:s,scrollbarAlwaysOn:c}=r.props,u=q(()=>sy?!0:c),p=I(d)?GR:ZR;return G(`div`,{class:[i.b(`dropdown`),i.is(`multiple`,s)],style:{width:`${a}px`}},[t.header?.call(t),t.loading?.call(t)||t.empty?.call(t)||G(p,Ja({ref:l},I(f),{className:i.be(`dropdown`,`list`),scrollbarAlwaysOn:u.value,data:n,height:o,width:a,total:n.length,innerElement:`ul`,innerProps:{id:e.id,role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`},onKeydown:C}),{default:e=>G(v,e,null)}),t.footer?.call(t)])}}});function $R(e,t){let{aliasProps:n,getLabel:r,getValue:i}=RI(e),a=F(0),o=F(),s=q(()=>e.allowCreate&&e.filterable);B(()=>e.options,e=>{let n=new Set(e.map(e=>r(e)));t.createdOptions=t.createdOptions.filter(e=>!n.has(r(e)))});function c(n){let i=e=>r(e)===n;return e.options&&e.options.some(i)||t.createdOptions.some(i)}function l(t){s.value&&(e.multiple&&t.created?a.value++:o.value=t)}function u(i){if(s.value)if(i&&i.length>0){if(c(i)){t.createdOptions=t.createdOptions.filter(e=>r(e)!==t.previousQuery);return}let e={[n.value.value]:i,[n.value.label]:i,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=a.value;else{let e=o.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}}function d(n){if(!s.value||!n||!n.created||n.created&&e.reserveKeyword&&t.inputValue===r(n))return;let o=t.createdOptions.findIndex(e=>i(e)===i(n));~o&&(t.createdOptions.splice(o,1),a.value--)}function f(){s.value&&(t.createdOptions.length=0,a.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:l,clearAllNewOption:f}}var ez=(e,t)=>{let{t:n}=gb(),r=J(`select`),i=J(`input`),{form:a,formItem:o}=KS(),{inputId:s}=qS(e,{formItemContext:o}),{aliasProps:c,getLabel:l,getValue:u,getDisabled:d,getOptions:f}=RI(e),{valueOnClear:p,isEmptyValue:m}=Db(e),h=Kt({inputValue:``,cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:``,menuVisibleOnFocus:!1,isBeforeHide:!1}),g=F(-1),_=F(!1),v=F(),y=F(),x=F(),S=F(),C=F(),T=F(),E=F(),O=F(),k=F(),A=F(),{isComposing:ee,handleCompositionStart:te,handleCompositionEnd:ne,handleCompositionUpdate:re}=lC({afterComposition:e=>gt(e)}),ie=XS(),{wrapperRef:ae,isFocused:oe,handleBlur:se}=sC(C,{disabled:ie,afterFocus(){e.automaticDropdown&&!de.value&&(de.value=!0,h.menuVisibleOnFocus=!0)},beforeBlur(e){return x.value?.isFocusInsideContent(e)||S.value?.isFocusInsideContent(e)},afterBlur(){var t;de.value=!1,h.menuVisibleOnFocus=!1,e.validateEvent&&((t=o?.validate)==null||t.call(o,`blur`).catch(e=>void 0))}}),ce=q(()=>Se(``)),le=q(()=>e.loading?!1:e.options.length>0||h.createdOptions.length>0),ue=F([]),de=F(!1),fe=q(()=>a?.statusIcon??!1),pe=q(()=>{let t=ue.value.length*e.itemHeight;return t>e.height?e.height:t}),me=q(()=>e.multiple?b(e.modelValue)&&e.modelValue.length>0:!m(e.modelValue)),he=q(()=>e.clearable&&!ie.value&&me.value&&(oe.value||h.inputHovering)),ge=q(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?``:e.suffixIcon),_e=q(()=>ge.value&&r.is(`reverse`,de.value)),j=q(()=>o?.validateState||``),M=q(()=>{if(j.value)return bS[j.value]}),ve=q(()=>e.remote?e.debounce:0),ye=q(()=>e.remote&&!h.inputValue&&!le.value),be=q(()=>e.loading?e.loadingText||n(`el.select.loading`):e.filterable&&h.inputValue&&le.value&&ue.value.length===0?e.noMatchText||n(`el.select.noMatch`):le.value?null:e.noDataText||n(`el.select.noData`)),N=q(()=>e.filterable&&w(e.filterMethod)),xe=q(()=>e.filterable&&e.remote&&w(e.remoteMethod)),Se=t=>{let n=new RegExp(UI(t),`i`),r=e=>N.value||xe.value?!0:t?n.test(l(e)||``):!0;return e.loading?[]:[...h.createdOptions,...e.options].reduce((t,n)=>{let i=f(n);if(b(i)){let e=i.filter(r);e.length>0&&t.push({label:l(n),type:`Group`},...e)}else (e.remote||r(n))&&t.push(n);return t},[])},Ce=()=>{ue.value=Se(h.inputValue)},we=q(()=>{let e=new Map;return ce.value.forEach((t,n)=>{e.set(Qe(u(t)),{option:t,index:n})}),e}),Te=q(()=>{let e=new Map;return ue.value.forEach((t,n)=>{e.set(Qe(u(t)),{option:t,index:n})}),e}),Ee=q(()=>ue.value.every(e=>d(e))),De=YS(),Oe=q(()=>De.value===`small`?`small`:`default`),P=()=>{if(zv(e.fitInputWidth)){g.value=e.fitInputWidth;return}let t=v.value?.offsetWidth||200;!e.fitInputWidth&&le.value?Ln(()=>{g.value=Math.max(t,ke())}):g.value=t},ke=()=>{let e=document.createElement(`canvas`).getContext(`2d`),t=r.be(`dropdown`,`item`),n=(O.value?.listRef?.innerRef||document).querySelector(`.${t}`);if(n===null||e===null)return 0;let i=getComputedStyle(n),a=Number.parseFloat(i.paddingLeft)+Number.parseFloat(i.paddingRight);return e.font=`bold ${i.font.replace(RegExp(`\\b${i.fontWeight}\\b`),``)}`,ue.value.reduce((t,n)=>{let r=e.measureText(l(n));return Math.max(r.width,t)},0)+a},Ae=()=>{if(!y.value)return 0;let e=window.getComputedStyle(y.value);return Number.parseFloat(e.gap||`6px`)},je=q(()=>{let t=Ae(),n=e.filterable?t+11:0;return{maxWidth:`${A.value&&e.maxCollapseTags===1?h.selectionWidth-h.collapseItemWidth-t-n:h.selectionWidth-n}px`}}),Me=q(()=>({maxWidth:`${h.selectionWidth}px`})),Ne=q(()=>b(e.modelValue)?e.modelValue.length===0&&!h.inputValue:e.filterable?!h.inputValue:!0),Pe=q(()=>{let t=e.placeholder??n(`el.select.placeholder`);return e.multiple||!me.value?t:h.selectedLabel}),Fe=q(()=>x.value?.popperRef?.contentRef),Ie=q(()=>{if(e.multiple){let t=e.modelValue.length;if(t>0&&Te.value.has(e.modelValue[t-1])){let{index:n}=Te.value.get(e.modelValue[t-1]);return n}}else if(!m(e.modelValue)&&Te.value.has(e.modelValue)){let{index:t}=Te.value.get(e.modelValue);return t}return-1}),Le=q({get(){return de.value&&(e.loading||!ye.value)&&(!_.value||!Bv(h.previousQuery))},set(e){de.value=e}}),Re=q(()=>e.multiple?e.collapseTags?h.cachedOptions.slice(0,e.maxCollapseTags):h.cachedOptions:[]),ze=q(()=>e.multiple&&e.collapseTags?h.cachedOptions.slice(e.maxCollapseTags):[]),{createNewOption:Be,removeNewOption:Ve,selectNewOption:He,clearAllNewOption:Ue}=$R(e,h),We=t=>{ie.value||e.filterable&&de.value&&t&&!E.value?.contains(t.target)||(h.menuVisibleOnFocus?h.menuVisibleOnFocus=!1:de.value=!de.value)},Ge=()=>{h.inputValue.length>0&&!de.value&&(de.value=!0),Be(h.inputValue),Ln(()=>{qe(h.inputValue)})},Ke=_y(()=>{Ge(),_.value=!1},ve),qe=t=>{h.previousQuery===t||ee.value||(h.previousQuery=t,e.filterable&&w(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&w(e.remoteMethod)&&e.remoteMethod(t),e.defaultFirstOption&&(e.filterable||e.remote)&&ue.value.length?Ln(Je):Ln(ht))},Je=()=>{let e=ue.value.filter(e=>!e.disabled&&e.type!==`Group`),t=e.find(e=>e.created),n=e[0];h.hoveringIndex=Ze(ue.value,t||n)},Ye=n=>{iv(e.modelValue,n)||t(Rb,n)},Xe=n=>{t(Lb,n),Ye(n),h.previousValue=e.multiple?String(n):n,Ln(()=>{if(e.multiple&&b(e.modelValue)){let t=h.cachedOptions.slice(),n=e.modelValue.map(e=>bt(e,t));iv(h.cachedOptions,n)||(h.cachedOptions=n)}else St(!0)})},Ze=(t=[],n)=>{if(!D(n))return t.indexOf(n);let r=e.valueKey,i=-1;return t.some((e,t)=>mp(e,r)===mp(n,r)?(i=t,!0):!1),i},Qe=t=>D(t)?mp(t,e.valueKey):t,$e=()=>{P()},et=()=>{h.selectionWidth=Number.parseFloat(window.getComputedStyle(y.value).width)},tt=()=>{h.collapseItemWidth=A.value.getBoundingClientRect().width},nt=()=>{var e,t;(t=(e=x.value)?.updatePopper)==null||t.call(e)},rt=()=>{var e,t;(t=(e=S.value)?.updatePopper)==null||t.call(e)},it=t=>{let n=u(t);if(e.multiple){let r=e.modelValue.slice(),i=Ze(r,n);i>-1?(r=[...r.slice(0,i),...r.slice(i+1)],h.cachedOptions.splice(i,1),Ve(t)):(e.multipleLimit<=0||r.length<e.multipleLimit)&&(r=[...r,n],h.cachedOptions.push(t),He(t)),Xe(r),t.created&&qe(``),e.filterable&&!e.reserveKeyword&&(h.inputValue=``)}else h.selectedLabel=l(t),!iv(e.modelValue,n)&&Xe(n),de.value=!1,He(t),t.created||Ue();ot()},at=(n,r)=>{let i=e.modelValue.slice(),a=Ze(i,u(r));a>-1&&!ie.value&&(i=[...e.modelValue.slice(0,a),...e.modelValue.slice(a+1)],h.cachedOptions.splice(a,1),Xe(i),t(`remove-tag`,u(r)),Ve(r)),n.stopPropagation(),ot()},ot=()=>{var e;(e=C.value)==null||e.focus()},st=()=>{var e;if(de.value){de.value=!1,Ln(()=>C.value?.blur());return}(e=C.value)==null||e.blur()},ct=()=>{h.inputValue.length>0?h.inputValue=``:de.value=!1},lt=e=>U_(e,e=>!h.cachedOptions.some(t=>u(t)===e&&d(t))),ut=n=>{let r=dw(n);if(e.multiple&&r!==Z.delete&&h.inputValue.length===0){n.preventDefault();let r=e.modelValue.slice(),i=lt(r);if(i<0)return;let a=r[i];r.splice(i,1);let o=h.cachedOptions[i];h.cachedOptions.splice(i,1),Ve(o),Xe(r),t(`remove-tag`,a)}},dt=()=>{let n;n=b(e.modelValue)?[]:p.value,h.selectedLabel=``,de.value=!1,Xe(n),t(`clear`),Ue(),ot()},ft=(e,t=void 0)=>{let n=ue.value;if(![`forward`,`backward`].includes(e)||ie.value||n.length<=0||Ee.value||ee.value)return;if(!de.value)return We();Lv(t)&&(t=h.hoveringIndex);let r=-1;e===`forward`?(r=t+1,r>=n.length&&(r=0)):e===`backward`&&(r=t-1,(r<0||r>=n.length)&&(r=n.length-1));let i=n[r];if(d(i)||i.type===`Group`)return ft(e,r);h.hoveringIndex=r,yt(r)},pt=()=>{if(de.value)~h.hoveringIndex&&ue.value[h.hoveringIndex]&&it(ue.value[h.hoveringIndex]);else return We()},mt=e=>{h.hoveringIndex=e??-1},ht=()=>{if(!e.multiple)h.hoveringIndex=ue.value.findIndex(t=>Qe(u(t))===Qe(e.modelValue));else{let t=e.modelValue.length;if(t>0){let n=e.modelValue[t-1];h.hoveringIndex=ue.value.findIndex(e=>Qe(n)===Qe(u(e)))}else h.hoveringIndex=-1}},gt=t=>{if(h.inputValue=t.target.value,e.remote)_.value=!0,Ke();else return Ge()},_t=e=>{de.value=!1,oe.value&&se(new FocusEvent(`blur`,e))},vt=()=>(h.isBeforeHide=!1,Ln(()=>{~Ie.value&&yt(Ie.value)})),yt=e=>{O.value.scrollToItem(e)},bt=(e,t)=>{let n=Qe(e);if(we.value.has(n)){let{option:e}=we.value.get(n);return e}if(t&&t.length){let e=t.find(e=>Qe(u(e))===n);if(e)return e}return{[c.value.value]:e,[c.value.label]:e}},xt=e=>we.value.get(u(e))?.index??-1,St=(t=!1)=>{if(e.multiple)if(e.modelValue.length>0){let t=h.cachedOptions.slice();h.cachedOptions.length=0,h.previousValue=e.modelValue.toString();for(let n of e.modelValue){let e=bt(n,t);h.cachedOptions.push(e)}}else h.cachedOptions=[],h.previousValue=void 0;else if(me.value){h.previousValue=e.modelValue;let n=ue.value,r=n.findIndex(t=>Qe(u(t))===Qe(e.modelValue));~r?h.selectedLabel=l(n[r]):(!h.selectedLabel||t)&&(h.selectedLabel=Qe(e.modelValue))}else h.selectedLabel=``,h.previousValue=void 0;Ue(),P()};B(()=>e.fitInputWidth,()=>{P()}),B(de,t=>{t?(e.persistent||P(),qe(``)):(h.inputValue=``,h.previousQuery=null,h.isBeforeHide=!0,Be(``))}),B(()=>e.modelValue,(t,n)=>{var r;(!t||b(t)&&t.length===0||e.multiple&&!iv(t.toString(),h.previousValue)||!e.multiple&&Qe(t)!==Qe(h.previousValue))&&St(!0),!iv(t,n)&&e.validateEvent&&((r=o?.validate)==null||r.call(o,`change`).catch(e=>void 0))},{deep:!0}),B(()=>e.options,()=>{let e=C.value;(!e||e&&document.activeElement!==e)&&St()},{deep:!0,flush:`post`}),B(()=>ue.value,()=>(P(),O.value&&Ln(O.value.resetScrollTop))),Ii(()=>{h.isBeforeHide||Ce()}),Ii(()=>{let{valueKey:t,options:n}=e,r=new Map;for(let e of n){let n=u(e),i=n;if(D(i)&&(i=mp(n,t)),r.get(i))break;r.set(i,!0)}}),Rr(()=>{St()}),zy(v,$e),zy(y,et),zy(ae,nt),zy(k,rt),zy(A,tt);let Ct;return B(()=>Le.value,e=>{e?Ct=zy(O,nt).stop:(Ct?.(),Ct=void 0),t(`visible-change`,e)}),{inputId:s,collapseTagSize:Oe,currentPlaceholder:Pe,expanded:de,emptyText:be,popupHeight:pe,debounce:ve,allOptions:ce,allOptionsValueMap:we,filteredOptions:ue,iconComponent:ge,iconReverse:_e,tagStyle:je,collapseTagStyle:Me,popperSize:g,dropdownMenuVisible:Le,hasModelValue:me,shouldShowPlaceholder:Ne,selectDisabled:ie,selectSize:De,needStatusIcon:fe,showClearBtn:he,states:h,isFocused:oe,nsSelect:r,nsInput:i,inputRef:C,menuRef:O,tagMenuRef:k,tooltipRef:x,tagTooltipRef:S,selectRef:v,wrapperRef:ae,selectionRef:y,prefixRef:T,suffixRef:E,collapseItemRef:A,popperRef:Fe,validateState:j,validateIcon:M,showTagList:Re,collapseTagList:ze,debouncedOnInputChange:Ke,deleteTag:at,getLabel:l,getValue:u,getDisabled:d,getValueKey:Qe,getIndex:xt,handleClear:dt,handleClickOutside:_t,handleDel:ut,handleEsc:ct,focus:ot,blur:st,handleMenuEnter:vt,handleResize:$e,resetSelectionWidth:et,updateTooltip:nt,updateTagTooltip:rt,updateOptions:Ce,toggleMenu:We,scrollTo:yt,onInput:gt,onKeyboardNavigate:ft,onKeyboardSelect:pt,onSelect:it,onHover:mt,handleCompositionStart:te,handleCompositionEnd:ne,handleCompositionUpdate:re}},tz=R({name:`ElSelectV2`,components:{ElSelectMenu:QR,ElTag:cA,ElTooltip:QE,ElIcon:hx},directives:{ClickOutside:mA},props:YL,emits:ZL,setup(e,{emit:t}){let n=q(()=>{let{modelValue:t,multiple:n}=e,r=n?[]:void 0;return b(t)?n?t:r:n?r:t}),r=ez(Kt({...mn(e),modelValue:n}),t),{calculatorRef:i,inputStyle:a}=JF(),o=US();Mi($L,{props:Kt({...mn(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,contentId:o,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});let s=q(()=>e.multiple?r.states.cachedOptions.map(e=>r.getLabel(e)):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:s,calculatorRef:i,inputStyle:a,contentId:o,BORDER_HORIZONTAL_WIDTH:2}}});function nz(e,t,n,r,i,a){let o=Yr(`el-tag`),s=Yr(`el-tooltip`),c=Yr(`el-icon`),l=Yr(`el-select-menu`),u=Qr(`click-outside`);return Yn((V(),H(`div`,{ref:`selectRef`,class:N([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:t=>e.states.inputHovering=!0,onMouseleave:t=>e.states.inputHovering=!1},[G(s,{ref:`tooltipRef`,visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e(`popper`),e.popperClass],"popper-style":e.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:``,transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:`click`,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:t=>e.states.isBeforeHide=!1},{default:L(()=>[W(`div`,{ref:`wrapperRef`,class:N([e.nsSelect.e(`wrapper`),e.nsSelect.is(`focused`,e.isFocused),e.nsSelect.is(`hovering`,e.states.inputHovering),e.nsSelect.is(`filterable`,e.filterable),e.nsSelect.is(`disabled`,e.selectDisabled)]),onClick:Ks(e.toggleMenu,[`prevent`])},[e.$slots.prefix?(V(),H(`div`,{key:0,ref:`prefixRef`,class:N(e.nsSelect.e(`prefix`))},[z(e.$slots,`prefix`)],2)):K(`v-if`,!0),W(`div`,{ref:`selectionRef`,class:N([e.nsSelect.e(`selection`),e.nsSelect.is(`near`,e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?z(e.$slots,`tag`,{key:0,data:e.states.cachedOptions,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(V(!0),H(Da,null,ti(e.showTagList,t=>(V(),H(`div`,{key:e.getValueKey(e.getValue(t)),class:N(e.nsSelect.e(`selected-item`))},[G(o,{closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,style:j(e.tagStyle),onClose:n=>e.deleteTag(n,t)},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},[z(e.$slots,`label`,{index:e.getIndex(t),label:e.getLabel(t),value:e.getValue(t)},()=>[Wa(P(e.getLabel(t)),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`style`,`onClose`])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(V(),U(s,{key:0,ref:`tagTooltipRef`,disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":[`bottom`,`top`,`right`,`left`],effect:e.effect,placement:`bottom`,"popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:L(()=>[W(`div`,{ref:`collapseItemRef`,class:N(e.nsSelect.e(`selected-item`))},[G(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:j(e.collapseTagStyle),"disable-transitions":``},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},` + `+P(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,[`size`,`type`,`effect`,`style`])],2)]),content:L(()=>[W(`div`,{ref:`tagMenuRef`,class:N(e.nsSelect.e(`selection`))},[(V(!0),H(Da,null,ti(e.collapseTagList,t=>(V(),H(`div`,{key:e.getValueKey(e.getValue(t)),class:N(e.nsSelect.e(`selected-item`))},[G(o,{class:`in-tooltip`,closable:!e.selectDisabled&&!e.getDisabled(t),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":``,onClose:n=>e.deleteTag(n,t)},{default:L(()=>[W(`span`,{class:N(e.nsSelect.e(`tags-text`))},[z(e.$slots,`label`,{index:e.getIndex(t),label:e.getLabel(t),value:e.getValue(t)},()=>[Wa(P(e.getLabel(t)),1)])],2)]),_:2},1032,[`closable`,`size`,`type`,`effect`,`onClose`])],2))),128))],2)]),_:3},8,[`disabled`,`effect`,`popper-class`,`popper-style`,`teleported`])):K(`v-if`,!0)]):K(`v-if`,!0),W(`div`,{class:N([e.nsSelect.e(`selected-item`),e.nsSelect.e(`input-wrapper`),e.nsSelect.is(`hidden`,!e.filterable||e.selectDisabled)])},[Yn(W(`input`,{id:e.inputId,ref:`inputRef`,"onUpdate:modelValue":t=>e.states.inputValue=t,style:j(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":`none`,"aria-haspopup":`listbox`,autocapitalize:`off`,"aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:N([e.nsSelect.e(`input`),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:`combobox`,"aria-controls":e.contentId,"aria-activedescendant":e.states.hoveringIndex>=0?`${e.contentId}-${e.states.hoveringIndex}`:``,readonly:!e.filterable,spellcheck:`false`,type:`text`,name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Js(Ks(t=>e.onKeyboardNavigate(`backward`),[`stop`,`prevent`]),[`up`]),Js(Ks(t=>e.onKeyboardNavigate(`forward`),[`stop`,`prevent`]),[`down`]),Js(Ks(e.onKeyboardSelect,[`stop`,`prevent`]),[`enter`]),Js(Ks(e.handleEsc,[`stop`,`prevent`]),[`esc`]),Js(Ks(e.handleDel,[`stop`]),[`delete`])],onClick:Ks(e.toggleMenu,[`stop`])},null,46,[`id`,`onUpdate:modelValue`,`autocomplete`,`tabindex`,`aria-expanded`,`aria-label`,`disabled`,`aria-controls`,`aria-activedescendant`,`readonly`,`name`,`onInput`,`onCompositionstart`,`onCompositionupdate`,`onCompositionend`,`onKeydown`,`onClick`]),[[Rs,e.states.inputValue]]),e.filterable?(V(),H(`span`,{key:0,ref:`calculatorRef`,"aria-hidden":`true`,class:N(e.nsSelect.e(`input-calculator`)),textContent:P(e.states.inputValue)},null,10,[`textContent`])):K(`v-if`,!0)],2),e.shouldShowPlaceholder?(V(),H(`div`,{key:1,class:N([e.nsSelect.e(`selected-item`),e.nsSelect.e(`placeholder`),e.nsSelect.is(`transparent`,!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?z(e.$slots,`label`,{key:0,index:e.allOptionsValueMap.get(e.modelValue)?.index??-1,label:e.currentPlaceholder,value:e.modelValue},()=>[W(`span`,null,P(e.currentPlaceholder),1)]):(V(),H(`span`,{key:1},P(e.currentPlaceholder),1))],2)):K(`v-if`,!0)],2),W(`div`,{ref:`suffixRef`,class:N(e.nsSelect.e(`suffix`))},[e.iconComponent?Yn((V(),U(c,{key:0,class:N([e.nsSelect.e(`caret`),e.nsInput.e(`icon`),e.iconReverse])},{default:L(()=>[(V(),U(Zr(e.iconComponent)))]),_:1},8,[`class`])),[[Zo,!e.showClearBtn]]):K(`v-if`,!0),e.showClearBtn&&e.clearIcon?(V(),U(c,{key:1,class:N([e.nsSelect.e(`caret`),e.nsInput.e(`icon`),e.nsSelect.e(`clear`)]),onClick:Ks(e.handleClear,[`prevent`,`stop`])},{default:L(()=>[(V(),U(Zr(e.clearIcon)))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(V(),U(c,{key:2,class:N([e.nsInput.e(`icon`),e.nsInput.e(`validateIcon`),e.nsInput.is(`loading`,e.validateState===`validating`)])},{default:L(()=>[(V(),U(Zr(e.validateIcon)))]),_:1},8,[`class`])):K(`v-if`,!0)],2)],10,[`onClick`])]),content:L(()=>[G(l,{id:e.contentId,ref:`menuRef`,data:e.filteredOptions,width:e.popperSize-e.BORDER_HORIZONTAL_WIDTH,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn,"aria-label":e.ariaLabel},ni({default:L(t=>[z(e.$slots,`default`,xe(Ha(t)))]),_:2},[e.$slots.header?{name:`header`,fn:L(()=>[W(`div`,{class:N(e.nsSelect.be(`dropdown`,`header`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`header`)],10,[`onClick`])])}:void 0,e.$slots.loading&&e.loading?{name:`loading`,fn:L(()=>[W(`div`,{class:N(e.nsSelect.be(`dropdown`,`loading`))},[z(e.$slots,`loading`)],2)])}:e.loading||e.filteredOptions.length===0?{name:`empty`,fn:L(()=>[W(`div`,{class:N(e.nsSelect.be(`dropdown`,`empty`))},[z(e.$slots,`empty`,{},()=>[W(`span`,null,P(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:`footer`,fn:L(()=>[W(`div`,{class:N(e.nsSelect.be(`dropdown`,`footer`)),onClick:Ks(()=>{},[`stop`])},[z(e.$slots,`footer`)],10,[`onClick`])])}:void 0]),1032,[`id`,`data`,`width`,`hovering-index`,`scrollbar-always-on`,`aria-label`])]),_:3},8,[`visible`,`teleported`,`popper-class`,`popper-style`,`popper-options`,`fallback-placements`,`effect`,`placement`,`transition`,`persistent`,`append-to`,`show-arrow`,`offset`,`onBeforeShow`,`onHide`])],42,[`onMouseenter`,`onMouseleave`])),[[u,e.handleClickOutside,e.popperRef]])}var rz=lx(Hb(tz,[[`render`,nz],[`__file`,`select.vue`]])),iz=X({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Y([Number,Object])}}),az=X({variant:{type:String,values:[`circle`,`rect`,`h1`,`h3`,`text`,`caption`,`p`,`image`,`button`],default:`text`}}),oz=Hb(R({...R({name:`ElSkeletonItem`}),props:az,setup(e){let t=J(`skeleton`);return(e,n)=>(V(),H(`div`,{class:N([I(t).e(`item`),I(t).e(e.variant)])},[e.variant===`image`?(V(),U(I(Yx),{key:0})):K(`v-if`,!0)],2))}}),[[`__file`,`skeleton-item.vue`]]),sz=(e,t=0)=>{if(t===0)return e;let n=F(D(t)&&!!t.initVal),r=null,i=t=>{if(Lv(t)){n.value=e.value;return}r&&clearTimeout(r),r=setTimeout(()=>{n.value=e.value},t)},a=e=>{e===`leading`?zv(t)?i(t):i(t.leading):D(t)?i(t.trailing):n.value=!1};return Rr(()=>a(`leading`)),B(()=>e.value,e=>{a(e?`leading`:`trailing`)}),n},cz=lx(Hb(R({...R({name:`ElSkeleton`}),props:iz,setup(e,{expose:t}){let n=e,r=J(`skeleton`),i=sz(_n(n,`loading`),n.throttle);return t({uiLoading:i}),(e,t)=>I(i)?(V(),H(`div`,Ja({key:0,class:[I(r).b(),I(r).is(`animated`,e.animated)]},e.$attrs),[(V(!0),H(Da,null,ti(e.count,t=>(V(),H(Da,{key:t},[I(i)?z(e.$slots,`template`,{key:t},()=>[G(oz,{class:N(I(r).is(`first`)),variant:`p`},null,8,[`class`]),(V(!0),H(Da,null,ti(e.rows,t=>(V(),U(oz,{key:t,class:N([I(r).e(`paragraph`),I(r).is(`last`,t===e.rows&&e.rows>1)]),variant:`p`},null,8,[`class`]))),128))]):K(`v-if`,!0)],64))),128))],16)):z(e.$slots,`default`,xe(Ja({key:1},e.$attrs)))}}),[[`__file`,`skeleton.vue`]]),{SkeletonItem:oz}),lz=fx(oz),uz=Symbol(`sliderContextKey`),dz=X({modelValue:{type:Y([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:xb,inputSize:xb,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Y(Function),default:void 0},disabled:{type:Boolean,default:void 0},range:Boolean,vertical:Boolean,height:String,rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Y(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Aw,default:`top`},marks:{type:Y(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...PS([`ariaLabel`])}),fz=e=>zv(e)||b(e)&&e.every(zv),pz={[Lb]:fz,[zb]:fz,[Rb]:fz},mz=X({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Aw,default:`top`}}),hz={[Lb]:e=>zv(e)},gz=(e,t,n)=>{let r=F(),i=F(!1),a=q(()=>t.value instanceof Function);return{tooltip:r,tooltipVisible:i,formatValue:q(()=>a.value&&t.value(e.modelValue)||e.modelValue),displayTooltip:C_(()=>{n.value&&(i.value=!0)},50),hideTooltip:C_(()=>{n.value&&(i.value=!1)},50)}},_z=(e,t,n)=>{let{disabled:r,min:i,max:a,step:o,showTooltip:s,persistent:c,precision:l,sliderSize:u,formatTooltip:d,emitChange:f,resetSize:p,updateDragging:m}=Ni(uz),{tooltip:h,tooltipVisible:g,formatValue:_,displayTooltip:v,hideTooltip:y}=gz(e,d,s),b=F(),x=q(()=>`${(e.modelValue-i.value)/(a.value-i.value)*100}%`),S=q(()=>e.vertical?{bottom:x.value}:{left:x.value}),C=()=>{t.hovering=!0,v()},w=()=>{t.hovering=!1,t.dragging||y()},T=e=>{r.value||(e.preventDefault(),ie(e),window.addEventListener(`mousemove`,ae),window.addEventListener(`touchmove`,ae),window.addEventListener(`mouseup`,oe),window.addEventListener(`touchend`,oe),window.addEventListener(`contextmenu`,oe),b.value.focus())},E=e=>{r.value||(t.newPosition=Number.parseFloat(x.value)+e/(a.value-i.value)*100,se(t.newPosition),f())},D=()=>{E(-o.value)},O=()=>{E(o.value)},k=()=>{E(-o.value*4)},A=()=>{E(o.value*4)},ee=()=>{r.value||(se(0),f())},te=()=>{r.value||(se(100),f())},ne=e=>{let t=dw(e),n=!0;switch(t){case Z.left:case Z.down:D();break;case Z.right:case Z.up:O();break;case Z.home:ee();break;case Z.end:te();break;case Z.pageDown:k();break;case Z.pageUp:A();break;default:n=!1;break}n&&e.preventDefault()},re=e=>{let t,n;return e.type.startsWith(`touch`)?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},ie=n=>{t.dragging=!0,t.isClick=!0;let{clientX:r,clientY:i}=re(n);e.vertical?t.startY=i:t.startX=r,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},ae=n=>{if(t.dragging){t.isClick=!1,v(),p();let r,{clientX:i,clientY:a}=re(n);e.vertical?(t.currentY=a,r=(t.startY-t.currentY)/u.value*100):(t.currentX=i,r=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+r,se(t.newPosition)}},oe=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||y(),t.isClick||se(t.newPosition),f()},0),window.removeEventListener(`mousemove`,ae),window.removeEventListener(`touchmove`,ae),window.removeEventListener(`mouseup`,oe),window.removeEventListener(`touchend`,oe),window.removeEventListener(`contextmenu`,oe))},se=async r=>{if(r===null||Number.isNaN(+r))return;r=Vp(r,0,100);let s=Math.floor((a.value-i.value)/o.value),c=s*o.value/(a.value-i.value)*100,u=c+(100-c)/2,d;if(r<c){let e=c/s,t=Math.round(r/e);d=i.value+t*o.value}else d=r<u?i.value+s*o.value:a.value;d=Number.parseFloat(d.toFixed(l.value)),d!==e.modelValue&&n(Lb,d),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Ln(),t.dragging&&v(),h.value.updatePopper()};return B(()=>t.dragging,e=>{m(e)}),Ty(b,`touchstart`,T,{passive:!1}),{disabled:r,button:b,tooltip:h,tooltipVisible:g,showTooltip:s,persistent:c,wrapperStyle:S,formatValue:_,handleMouseEnter:C,handleMouseLeave:w,onButtonDown:T,onKeyDown:ne,setPosition:se}},vz=Hb(R({...R({name:`ElSliderButton`}),props:mz,emits:hz,setup(e,{expose:t,emit:n}){let r=e,i=J(`slider`),a=Kt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),o=q(()=>u.value?d.value:!1),{disabled:s,button:c,tooltip:l,showTooltip:u,persistent:d,tooltipVisible:f,wrapperStyle:p,formatValue:m,handleMouseEnter:h,handleMouseLeave:g,onButtonDown:_,onKeyDown:v,setPosition:y}=_z(r,a,n),{hovering:b,dragging:x}=mn(a);return t({onButtonDown:_,onKeyDown:v,setPosition:y,hovering:b,dragging:x}),(e,t)=>(V(),H(`div`,{ref_key:`button`,ref:c,class:N([I(i).e(`button-wrapper`),{hover:I(b),dragging:I(x)}]),style:j(I(p)),tabindex:I(s)?void 0:0,onMouseenter:I(h),onMouseleave:I(g),onMousedown:I(_),onFocus:I(h),onBlur:I(g),onKeydown:I(v)},[G(I(QE),{ref_key:`tooltip`,ref:l,visible:I(f),placement:e.placement,"fallback-placements":[`top`,`bottom`,`right`,`left`],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!I(u),persistent:I(o)},{content:L(()=>[W(`span`,null,P(I(m)),1)]),default:L(()=>[W(`div`,{class:N([I(i).e(`button`),{hover:I(b),dragging:I(x)}])},null,2)]),_:1},8,[`visible`,`placement`,`popper-class`,`disabled`,`persistent`])],46,[`tabindex`,`onMouseenter`,`onMouseleave`,`onMousedown`,`onFocus`,`onBlur`,`onKeydown`]))}}),[[`__file`,`button.vue`]]),yz=R({name:`ElSliderMarker`,props:X({mark:{type:Y([String,Object]),default:void 0}}),setup(e){let t=J(`slider`),n=q(()=>T(e.mark)?e.mark:e.mark.label),r=q(()=>T(e.mark)?void 0:e.mark.style);return()=>_o(`div`,{class:t.e(`marks-text`),style:r.value},n.value)}}),bz=(e,t,n)=>{let{formItem:r}=KS(),i=on(),a=F(),o=F(),s={firstButton:a,secondButton:o},c=XS(),l=q(()=>Math.min(t.firstValue,t.secondValue)),u=q(()=>Math.max(t.firstValue,t.secondValue)),d=q(()=>e.range?`${100*(u.value-l.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),f=q(()=>e.range?`${100*(l.value-e.min)/(e.max-e.min)}%`:`0%`),p=q(()=>e.vertical?{height:e.height}:{}),m=q(()=>e.vertical?{height:d.value,bottom:f.value}:{width:d.value,left:f.value}),h=()=>{i.value&&(t.sliderSize=i.value.getBoundingClientRect()[e.vertical?`height`:`width`])},g=n=>{let r=e.min+n*(e.max-e.min)/100;if(!e.range)return a;let i;return i=Math.abs(l.value-r)<Math.abs(u.value-r)?t.firstValue<t.secondValue?`firstButton`:`secondButton`:t.firstValue>t.secondValue?`firstButton`:`secondButton`,s[i]},_=e=>{let t=g(e);return t.value.setPosition(e),t},v=n=>{t.firstValue=n??e.min,b(e.range?[l.value,u.value]:n??e.min)},y=n=>{t.secondValue=n,e.range&&b([l.value,u.value])},b=e=>{n(Lb,e),n(zb,e)},x=async()=>{await Ln(),n(Rb,e.range?[l.value,u.value]:e.modelValue)},S=n=>{if(c.value||t.dragging)return;h();let r=0;if(e.vertical){let e=n.touches?.item(0)?.clientY??n.clientY;r=(i.value.getBoundingClientRect().bottom-e)/t.sliderSize*100}else r=((n.touches?.item(0)?.clientX??n.clientX)-i.value.getBoundingClientRect().left)/t.sliderSize*100;if(!(r<0||r>100))return _(r)};return{elFormItem:r,slider:i,firstButton:a,secondButton:o,sliderDisabled:c,minValue:l,maxValue:u,runwayStyle:p,barStyle:m,resetSize:h,setPosition:_,emitChange:x,onSliderWrapperPrevent:e=>{(s.firstButton.value?.dragging||s.secondButton.value?.dragging)&&e.preventDefault()},onSliderClick:e=>{S(e)&&x()},onSliderDown:async e=>{let t=S(e);t&&(await Ln(),t.value.onButtonDown(e))},onSliderMarkerDown:e=>{c.value||t.dragging||_(e)&&x()},setFirstValue:v,setSecondValue:y}},xz=(e,t,n,r)=>({stops:q(()=>{if(!e.showStops||e.min>e.max||e.step===0)return[];let i=Math.ceil((e.max-e.min)/e.step),a=100*e.step/(e.max-e.min),o=Array.from({length:i-1}).map((e,t)=>(t+1)*a);return e.range?o.filter(t=>t<100*(n.value-e.min)/(e.max-e.min)||t>100*(r.value-e.min)/(e.max-e.min)):o.filter(n=>n>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}),Sz=e=>q(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((e,t)=>e-t).filter(t=>t<=e.max&&t>=e.min).map(t=>({point:t,position:(t-e.min)*100/(e.max-e.min),mark:e.marks[t]})):[]),Cz=(e,t,n,r,i,a)=>{let o=e=>{i(Lb,e),i(zb,e)},s=()=>e.range?![n.value,r.value].every((e,n)=>e===t.oldValue[n]):e.modelValue!==t.oldValue,c=()=>{var n,r;e.min>e.max&&ib(`Slider`,`min should not be greater than max.`);let i=e.modelValue;e.range&&b(i)?i[1]<e.min?o([e.min,e.min]):i[0]>e.max?o([e.max,e.max]):i[0]<e.min?o([e.min,i[1]]):i[1]>e.max?o([i[0],e.max]):(t.firstValue=i[0],t.secondValue=i[1],s()&&(e.validateEvent&&((n=a?.validate)==null||n.call(a,`change`).catch(e=>void 0)),t.oldValue=i.slice())):!e.range&&zv(i)&&!Number.isNaN(i)&&(i<e.min?o(e.min):i>e.max?o(e.max):(t.firstValue=i,s()&&(e.validateEvent&&((r=a?.validate)==null||r.call(a,`change`).catch(e=>void 0)),t.oldValue=i)))};c(),B(()=>t.dragging,e=>{e||c()}),B(()=>e.modelValue,(e,n)=>{t.dragging||b(e)&&b(n)&&e.every((e,t)=>e===n[t])&&t.firstValue===e[0]&&t.secondValue===e[1]||c()},{deep:!0}),B(()=>[e.min,e.max],()=>{c()})},wz=(e,t,n)=>{let r=F();return Rr(async()=>{e.range?(b(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!zv(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),Ty(window,`resize`,n),await Ln(),n()}),{sliderWrapper:r}},Tz=lx(Hb(R({...R({name:`ElSlider`}),props:dz,emits:pz,setup(e,{expose:t,emit:n}){let r=e,i=J(`slider`),{t:a}=gb(),o=Kt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:c,firstButton:l,secondButton:u,sliderDisabled:d,minValue:f,maxValue:p,runwayStyle:m,barStyle:h,resetSize:g,emitChange:_,onSliderWrapperPrevent:v,onSliderClick:y,onSliderDown:b,onSliderMarkerDown:x,setFirstValue:S,setSecondValue:C}=bz(r,o,n),{stops:w,getStopStyle:T}=xz(r,o,f,p),{inputId:E,isLabeledByFormItem:D}=qS(r,{formItemContext:s}),O=YS(),k=q(()=>r.inputSize||O.value),A=q(()=>r.ariaLabel||a(`el.slider.defaultLabel`,{min:r.min,max:r.max})),ee=q(()=>r.range?r.rangeStartLabel||a(`el.slider.defaultRangeStartLabel`):A.value),te=q(()=>r.formatValueText?r.formatValueText(ce.value):`${ce.value}`),ne=q(()=>r.rangeEndLabel||a(`el.slider.defaultRangeEndLabel`)),re=q(()=>r.formatValueText?r.formatValueText(le.value):`${le.value}`),ie=q(()=>[i.b(),i.m(O.value),i.is(`vertical`,r.vertical),{[i.m(`with-input`)]:r.showInput}]),ae=Sz(r);Cz(r,o,f,p,n,s);let oe=q(()=>{let e=[r.min,r.max,r.step].map(e=>{let t=`${e}`.split(`.`)[1];return t?t.length:0});return Math.max.apply(null,e)}),{sliderWrapper:se}=wz(r,o,g),{firstValue:ce,secondValue:le,sliderSize:ue}=mn(o),de=e=>{o.dragging=e};return Ty(se,`touchstart`,v,{passive:!1}),Ty(se,`touchmove`,v,{passive:!1}),Mi(uz,{...mn(r),sliderSize:ue,disabled:d,precision:oe,emitChange:_,resetSize:g,updateDragging:de}),t({onSliderClick:y}),(e,t)=>(V(),H(`div`,{id:e.range?I(E):void 0,ref_key:`sliderWrapper`,ref:se,class:N(I(ie)),role:e.range?`group`:void 0,"aria-label":e.range&&!I(D)?I(A):void 0,"aria-labelledby":e.range&&I(D)?I(s)?.labelId:void 0},[W(`div`,{ref_key:`slider`,ref:c,class:N([I(i).e(`runway`),{"show-input":e.showInput&&!e.range},I(i).is(`disabled`,I(d))]),style:j(I(m)),onMousedown:I(b),onTouchstartPassive:I(b)},[W(`div`,{class:N(I(i).e(`bar`)),style:j(I(h))},null,6),G(vz,{id:e.range?void 0:I(E),ref_key:`firstButton`,ref:l,"model-value":I(ce),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:`slider`,"aria-label":e.range||!I(D)?I(ee):void 0,"aria-labelledby":!e.range&&I(D)?I(s)?.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?I(le):e.max,"aria-valuenow":I(ce),"aria-valuetext":I(te),"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-disabled":I(d),"onUpdate:modelValue":I(S)},null,8,[`id`,`model-value`,`vertical`,`tooltip-class`,`placement`,`aria-label`,`aria-labelledby`,`aria-valuemin`,`aria-valuemax`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`aria-disabled`,`onUpdate:modelValue`]),e.range?(V(),U(vz,{key:0,ref_key:`secondButton`,ref:u,"model-value":I(le),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:`slider`,"aria-label":I(ne),"aria-valuemin":I(ce),"aria-valuemax":e.max,"aria-valuenow":I(le),"aria-valuetext":I(re),"aria-orientation":e.vertical?`vertical`:`horizontal`,"aria-disabled":I(d),"onUpdate:modelValue":I(C)},null,8,[`model-value`,`vertical`,`tooltip-class`,`placement`,`aria-label`,`aria-valuemin`,`aria-valuemax`,`aria-valuenow`,`aria-valuetext`,`aria-orientation`,`aria-disabled`,`onUpdate:modelValue`])):K(`v-if`,!0),e.showStops?(V(),H(`div`,{key:1},[(V(!0),H(Da,null,ti(I(w),(e,t)=>(V(),H(`div`,{key:t,class:N(I(i).e(`stop`)),style:j(I(T)(e))},null,6))),128))])):K(`v-if`,!0),I(ae).length>0?(V(),H(Da,{key:2},[W(`div`,null,[(V(!0),H(Da,null,ti(I(ae),(e,t)=>(V(),H(`div`,{key:t,style:j(I(T)(e.position)),class:N([I(i).e(`stop`),I(i).e(`marks-stop`)])},null,6))),128))]),W(`div`,{class:N(I(i).e(`marks`))},[(V(!0),H(Da,null,ti(I(ae),(e,t)=>(V(),U(I(yz),{key:t,mark:e.mark,style:j(I(T)(e.position)),onMousedown:Ks(t=>I(x)(e.position),[`stop`])},null,8,[`mark`,`style`,`onMousedown`]))),128))],2)],64)):K(`v-if`,!0)],46,[`onMousedown`,`onTouchstartPassive`]),e.showInput&&!e.range?(V(),U(I(UF),{key:0,ref:`input`,"model-value":I(ce),class:N(I(i).e(`input`)),step:e.step,disabled:I(d),controls:e.showInputControls,min:e.min,max:e.max,precision:I(oe),size:I(k),"onUpdate:modelValue":I(S),onChange:I(_)},null,8,[`model-value`,`class`,`step`,`disabled`,`controls`,`min`,`max`,`precision`,`size`,`onUpdate:modelValue`,`onChange`])):K(`v-if`,!0)],10,[`id`,`role`,`aria-label`,`aria-labelledby`]))}}),[[`__file`,`slider.vue`]])),Ez=R({name:`ElSpaceItem`,props:X({prefixCls:{type:String}}),setup(e,{slots:t}){let n=J(`space`),r=q(()=>`${e.prefixCls||n.b()}__item`);return()=>_o(`div`,{class:r.value},z(t,`default`))}}),Dz={small:8,default:12,large:16};function Oz(e){let t=J(`space`),n=q(()=>[t.b(),t.m(e.direction),e.class]),r=F(0),i=F(0),a=q(()=>[e.wrap||e.fill?{flexWrap:`wrap`}:{},{alignItems:e.alignment},{rowGap:`${i.value}px`,columnGap:`${r.value}px`},e.style]),o=q(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Ii(()=>{let{size:t=`small`,wrap:n,direction:a,fill:o}=e;if(b(t)){let[e=0,n=0]=t;r.value=e,i.value=n}else{let e;e=zv(t)?t:Dz[t||`small`]||Dz.small,(n||o)&&a===`horizontal`?r.value=i.value=e:a===`horizontal`?(r.value=e,i.value=0):(i.value=e,r.value=0)}}),{classes:n,containerStyle:a,itemStyle:o}}var kz=lx(R({name:`ElSpace`,props:X({direction:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},class:{type:Y([String,Object,Array]),default:``},style:{type:Y([String,Array,Object]),default:``},alignment:{type:Y(String),default:`center`},prefixCls:{type:String},spacer:{type:Y([Object,String,Number,Array]),default:null,validator:e=>La(e)||zv(e)||T(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:bb,validator:e=>zv(e)||b(e)&&e.length===2&&e.every(zv)}}),setup(e,{slots:t}){let{classes:n,containerStyle:r,itemStyle:i}=Oz(e);function a(t,n=``,r=[]){let{prefixCls:o}=e;return t.forEach((e,t)=>{KO(e)?b(e.children)&&e.children.forEach((e,t)=>{KO(e)&&b(e.children)?a(e.children,`${n+t}-`,r):La(e)&&e?.type===ka?r.push(e):r.push(G(Ez,{style:i.value,prefixCls:o,key:`nested-${n+t}`},{default:()=>[e]},GO.PROPS|GO.STYLE,[`style`,`prefixCls`]))}):JO(e)&&r.push(G(Ez,{style:i.value,prefixCls:o,key:`LoopKey${n+t}`},{default:()=>[e]},GO.PROPS|GO.STYLE,[`style`,`prefixCls`]))}),r}return()=>{let{spacer:o,direction:s}=e,c=z(t,`default`,{key:0},()=>[]);if((c.children??[]).length===0)return null;if(b(c.children)){let e=a(c.children);if(o){let t=e.length-1;e=e.reduce((e,n,r)=>{let a=[...e,n];return r!==t&&a.push(G(`span`,{style:[i.value,s===`vertical`?`width: 100%`:null],key:r},[La(o)?o:Wa(o,GO.TEXT)],GO.STYLE)),a},[])}return G(`div`,{class:n.value,style:r.value},e,GO.STYLE|GO.CLASS)}return c.children}}})),Az=X({decimalSeparator:{type:String,default:`.`},groupSeparator:{type:String,default:`,`},precision:{type:Number,default:0},formatter:Function,value:{type:Y([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Y([String,Object,Array])}}),jz=lx(Hb(R({...R({name:`ElStatistic`}),props:Az,setup(e,{expose:t}){let n=e,r=J(`statistic`),i=q(()=>{let{value:e,formatter:t,precision:r,decimalSeparator:i,groupSeparator:a}=n;if(w(t))return t(e);if(!zv(e)||Number.isNaN(e))return e;let[o,s=``]=String(e).split(`.`);return s=s.padEnd(r,`0`).slice(0,r>0?r:0),o=o.replace(/\B(?=(\d{3})+(?!\d))/g,a),[o,s].join(s?i:``)});return t({displayValue:i}),(e,t)=>(V(),H(`div`,{class:N(I(r).b())},[e.$slots.title||e.title?(V(),H(`div`,{key:0,class:N(I(r).e(`head`))},[z(e.$slots,`title`,{},()=>[Wa(P(e.title),1)])],2)):K(`v-if`,!0),W(`div`,{class:N(I(r).e(`content`))},[e.$slots.prefix||e.prefix?(V(),H(`div`,{key:0,class:N(I(r).e(`prefix`))},[z(e.$slots,`prefix`,{},()=>[W(`span`,null,P(e.prefix),1)])],2)):K(`v-if`,!0),W(`span`,{class:N(I(r).e(`number`)),style:j(e.valueStyle)},P(I(i)),7),e.$slots.suffix||e.suffix?(V(),H(`div`,{key:1,class:N(I(r).e(`suffix`))},[z(e.$slots,`suffix`,{},()=>[W(`span`,null,P(e.suffix),1)])],2)):K(`v-if`,!0)],2)],2))}}),[[`__file`,`statistic.vue`]])),Mz=X({format:{type:String,default:`HH:mm:ss`},prefix:String,suffix:String,title:String,value:{type:Y([Number,Object]),default:0},valueStyle:{type:Y([String,Object,Array])}}),Nz={finish:()=>!0,[Rb]:e=>zv(e)},Pz=[[`Y`,1e3*60*60*24*365],[`M`,1e3*60*60*24*30],[`D`,1e3*60*60*24],[`H`,1e3*60*60],[`m`,1e3*60],[`s`,1e3],[`S`,1]],Fz=e=>zv(e)?new Date(e).getTime():e.valueOf(),Iz=(e,t)=>{let n=e;return Pz.reduce((e,[t,r])=>{let i=RegExp(`${t}+(?![^\\[\\]]*\\])`,`g`);if(i.test(e)){let t=Math.floor(n/r);return n-=t*r,e.replace(i,e=>String(t).padStart(e.length,`0`))}return e},t).replace(/\[([^\]]*)]/g,`$1`)},Lz=lx(Hb(R({...R({name:`ElCountdown`}),props:Mz,emits:Nz,setup(e,{expose:t,emit:n}){let r=e,i,a=F(0),o=q(()=>Iz(a.value,r.format)),s=e=>Iz(e,r.format),c=()=>{i&&=(Gb(i),void 0)},l=()=>{let e=Fz(r.value),t=()=>{let r=e-Date.now();n(Rb,r),r<=0?(r=0,c(),n(`finish`)):i=Wb(t),a.value=r};i=Wb(t)};return Rr(()=>{a.value=Fz(r.value)-Date.now(),B(()=>[r.value,r.format],()=>{c(),l()},{immediate:!0})}),Vr(()=>{c()}),t({displayValue:o}),(e,t)=>(V(),U(I(jz),{value:a.value,title:e.title,prefix:e.prefix,suffix:e.suffix,"value-style":e.valueStyle,formatter:s},ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:L(()=>[z(e.$slots,n)])}))]),1032,[`value`,`title`,`prefix`,`suffix`,`value-style`]))}}),[[`__file`,`countdown.vue`]])),Rz=X({space:{type:[Number,String],default:``},active:{type:Number,default:0},direction:{type:String,default:`horizontal`,values:[`horizontal`,`vertical`]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:[`wait`,`process`,`finish`,`error`,`success`],default:`finish`},processStatus:{type:String,values:[`wait`,`process`,`finish`,`error`,`success`],default:`process`}}),zz={[Rb]:(e,t)=>[e,t].every(zv)},Bz=`ElSteps`,Vz=Hb(R({...R({name:`ElSteps`}),props:Rz,emits:zz,setup(e,{emit:t}){let n=e,r=J(`steps`),{children:i,addChild:a,removeChild:o,ChildrenSorter:s}=QO(eo(),`ElStep`);return B(i,()=>{i.value.forEach((e,t)=>{e.setIndex(t)})}),Mi(Bz,{props:n,steps:i,addStep:a,removeStep:o}),B(()=>n.active,(e,n)=>{t(Rb,e,n)}),(e,t)=>(V(),H(`div`,{class:N([I(r).b(),I(r).m(e.simple?`simple`:e.direction)])},[z(e.$slots,`default`),G(I(s))],2))}}),[[`__file`,`steps.vue`]]),Hz=X({title:{type:String,default:``},icon:{type:gS},description:{type:String,default:``},status:{type:String,values:[``,`wait`,`process`,`finish`,`error`,`success`],default:``}}),Uz=Hb(R({...R({name:`ElStep`}),props:Hz,setup(e){let t=e,n=J(`step`),r=F(-1),i=F({}),a=F(``),o=Ni(Bz),s=eo(),c=0,l=0;Rr(()=>{B([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([e],[t])=>{l=t||0,c=e-l,S(e)},{immediate:!0})});let u=q(()=>t.status||a.value),d=q(()=>{let e=o.steps.value[r.value-1];return e?e.internalStatus.value:`wait`}),f=q(()=>o.props.alignCenter),p=q(()=>o.props.direction===`vertical`),m=q(()=>o.props.simple),h=q(()=>o.steps.value.length),g=q(()=>o.steps.value[h.value-1]?.uid===s.uid),_=q(()=>m.value?``:o.props.space),v=q(()=>[n.b(),n.is(m.value?`simple`:o.props.direction),n.is(`flex`,g.value&&!_.value&&!f.value),n.is(`center`,f.value&&!p.value&&!m.value)]),y=q(()=>{let e={flexBasis:zv(_.value)?`${_.value}px`:_.value?_.value:`${100/(h.value-(f.value?0:1))}%`};return p.value||g.value&&(e.maxWidth=`${100/h.value}%`),e}),b=e=>{r.value=e},x=e=>{let t=e===`wait`,n={transitionDelay:`${Math.abs(c)===1?0:c>0?(r.value+1-l)*150:-(r.value+1-o.props.active)*150}ms`},a=e===o.props.processStatus||t?0:100;n.borderWidth=a&&!m.value?`1px`:0,n[o.props.direction===`vertical`?`height`:`width`]=`${a}%`,i.value=n},S=e=>{e>r.value?a.value=o.props.finishStatus:e===r.value&&d.value!==`error`?a.value=o.props.processStatus:a.value=`wait`;let t=o.steps.value[r.value-1];t&&t.calcProgress(a.value)},C={uid:s.uid,getVnode:()=>s.vnode,currentStatus:u,internalStatus:a,setIndex:b,calcProgress:x};return o.addStep(C),Vr(()=>{o.removeStep(C)}),(e,t)=>(V(),H(`div`,{style:j(I(y)),class:N(I(v))},[K(` icon & line `),W(`div`,{class:N([I(n).e(`head`),I(n).is(I(u))])},[I(m)?K(`v-if`,!0):(V(),H(`div`,{key:0,class:N(I(n).e(`line`))},[W(`i`,{class:N(I(n).e(`line-inner`)),style:j(i.value)},null,6)],2)),W(`div`,{class:N([I(n).e(`icon`),I(n).is(e.icon||e.$slots.icon?`icon`:`text`)])},[z(e.$slots,`icon`,{},()=>[e.icon?(V(),U(I(hx),{key:0,class:N(I(n).e(`icon-inner`))},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1},8,[`class`])):I(u)===`success`?(V(),U(I(hx),{key:1,class:N([I(n).e(`icon-inner`),I(n).is(`status`)])},{default:L(()=>[G(I(Ex))]),_:1},8,[`class`])):I(u)===`error`?(V(),U(I(hx),{key:2,class:N([I(n).e(`icon-inner`),I(n).is(`status`)])},{default:L(()=>[G(I(Mx))]),_:1},8,[`class`])):I(m)?K(`v-if`,!0):(V(),H(`div`,{key:3,class:N(I(n).e(`icon-inner`))},P(r.value+1),3))])],2)],2),K(` title & description `),W(`div`,{class:N(I(n).e(`main`))},[W(`div`,{class:N([I(n).e(`title`),I(n).is(I(u))])},[z(e.$slots,`title`,{},()=>[Wa(P(e.title),1)])],2),I(m)?(V(),H(`div`,{key:0,class:N(I(n).e(`arrow`))},null,2)):(V(),H(`div`,{key:1,class:N([I(n).e(`description`),I(n).is(I(u))])},[z(e.$slots,`description`,{},()=>[Wa(P(e.description),1)])],2))],2)],6))}}),[[`__file`,`item.vue`]]),Wz=lx(Vz,{Step:Uz}),Gz=fx(Uz),Kz=e=>[``,...bb].includes(e),qz=X({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:Kz},width:{type:[String,Number],default:``},inlinePrompt:Boolean,inactiveActionIcon:{type:gS},activeActionIcon:{type:gS},activeIcon:{type:gS},inactiveIcon:{type:gS},activeText:{type:String,default:``},inactiveText:{type:String,default:``},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:``},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Y(Function)},id:String,tabindex:{type:[String,Number]},...PS([`ariaLabel`])}),Jz={[Lb]:e=>Rv(e)||T(e)||zv(e),[Rb]:e=>Rv(e)||T(e)||zv(e),[zb]:e=>Rv(e)||T(e)||zv(e)},Yz=`ElSwitch`,Xz=lx(Hb(R({...R({name:Yz}),props:qz,emits:Jz,setup(e,{expose:t,emit:n}){let r=e,{formItem:i}=KS(),a=YS(),o=J(`switch`),{inputId:s}=qS(r,{formItemContext:i}),c=XS(q(()=>{if(r.loading)return!0})),l=F(r.modelValue!==!1),u=on(),d=q(()=>[o.b(),o.m(a.value),o.is(`disabled`,c.value),o.is(`checked`,g.value)]),f=q(()=>[o.e(`label`),o.em(`label`,`left`),o.is(`active`,!g.value)]),p=q(()=>[o.e(`label`),o.em(`label`,`right`),o.is(`active`,g.value)]),m=q(()=>({width:Qb(r.width)}));B(()=>r.modelValue,()=>{l.value=!0});let h=q(()=>l.value?r.modelValue:!1),g=q(()=>h.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(h.value)||(n(Lb,r.inactiveValue),n(Rb,r.inactiveValue),n(zb,r.inactiveValue)),B(g,e=>{var t;u.value.checked=e,r.validateEvent&&((t=i?.validate)==null||t.call(i,`change`).catch(e=>void 0))});let _=()=>{let e=g.value?r.inactiveValue:r.activeValue;n(Lb,e),n(Rb,e),n(zb,e),Ln(()=>{u.value.checked=g.value})},v=()=>{if(c.value)return;let{beforeChange:e}=r;if(!e){_();return}let t=e();[O(t),Rv(t)].includes(!0)||ib(Yz,"beforeChange must return type `Promise<boolean>` or `boolean`"),O(t)?t.then(e=>{e&&_()}).catch(e=>{`${e}`}):t&&_()};return Rr(()=>{u.value.checked=g.value}),t({focus:()=>{var e,t;(t=(e=u.value)?.focus)==null||t.call(e)},checked:g}),(e,t)=>(V(),H(`div`,{class:N(I(d)),onClick:Ks(v,[`prevent`])},[W(`input`,{id:I(s),ref_key:`input`,ref:u,class:N(I(o).e(`input`)),type:`checkbox`,role:`switch`,"aria-checked":I(g),"aria-disabled":I(c),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:I(c),tabindex:e.tabindex,onChange:_,onKeydown:Js(v,[`enter`])},null,42,[`id`,`aria-checked`,`aria-disabled`,`aria-label`,`name`,`true-value`,`false-value`,`disabled`,`tabindex`,`onKeydown`]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(V(),H(`span`,{key:0,class:N(I(f))},[e.inactiveIcon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.inactiveIcon)))]),_:1})):K(`v-if`,!0),!e.inactiveIcon&&e.inactiveText?(V(),H(`span`,{key:1,"aria-hidden":I(g)},P(e.inactiveText),9,[`aria-hidden`])):K(`v-if`,!0)],2)):K(`v-if`,!0),W(`span`,{class:N(I(o).e(`core`)),style:j(I(m))},[e.inlinePrompt?(V(),H(`div`,{key:0,class:N(I(o).e(`inner`))},[e.activeIcon||e.inactiveIcon?(V(),U(I(hx),{key:0,class:N(I(o).is(`icon`))},{default:L(()=>[(V(),U(Zr(I(g)?e.activeIcon:e.inactiveIcon)))]),_:1},8,[`class`])):e.activeText||e.inactiveText?(V(),H(`span`,{key:1,class:N(I(o).is(`text`)),"aria-hidden":!I(g)},P(I(g)?e.activeText:e.inactiveText),11,[`aria-hidden`])):K(`v-if`,!0)],2)):K(`v-if`,!0),W(`div`,{class:N(I(o).e(`action`))},[e.loading?(V(),U(I(hx),{key:0,class:N(I(o).is(`loading`))},{default:L(()=>[G(I(Wx))]),_:1},8,[`class`])):I(g)?z(e.$slots,`active-action`,{key:1},()=>[e.activeActionIcon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.activeActionIcon)))]),_:1})):K(`v-if`,!0)]):I(g)?K(`v-if`,!0):z(e.$slots,`inactive-action`,{key:2},()=>[e.inactiveActionIcon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.inactiveActionIcon)))]),_:1})):K(`v-if`,!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(V(),H(`span`,{key:1,class:N(I(p))},[e.activeIcon?(V(),U(I(hx),{key:0},{default:L(()=>[(V(),U(Zr(e.activeIcon)))]),_:1})):K(`v-if`,!0),!e.activeIcon&&e.activeText?(V(),H(`span`,{key:1,"aria-hidden":!I(g)},P(e.activeText),9,[`aria-hidden`])):K(`v-if`,!0)],2)):K(`v-if`,!0)],10,[`onClick`]))}}),[[`__file`,`switch.vue`]])),Zz=function(e){return e.target?.closest(`td`)},Qz=function(e,t,n,r,i){if(!t&&!r&&(!i||b(i)&&!i.length))return e;n=T(n)?n===`descending`?-1:1:n&&n<0?-1:1;let a=r?null:function(n,r){return i?Y_(Lp(i),t=>T(t)?mp(n,t):t(n,r,e)):(t!==`$key`&&D(n)&&`$value`in n&&(n=n.$value),[D(n)?t?mp(n,t):null:n])},o=function(e,t){if(r)return r(e.value,t.value);for(let n=0,r=e.key?.length??0;n<r;n++){if(e.key?.[n]<t.key?.[n])return-1;if(e.key?.[n]>t.key?.[n])return 1}return 0};return e.map((e,t)=>({value:e,index:t,key:a?a(e,t):null})).sort((e,t)=>{let r=o(e,t);return r||=e.index-t.index,r*+n}).map(e=>e.value)},$z=function(e,t){let n=null;return e.columns.forEach(e=>{e.id===t&&(n=e)}),n},eB=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){let i=e.columns[r];if(i.columnKey===t){n=i;break}}return n||ib(`ElTable`,`No column matching with column-key: ${t}`),n},tB=function(e,t,n){let r=(t.className||``).match(RegExp(`${n}-table_[^\\s]+`,`gm`));return r?$z(e,r[0]):null},nB=(e,t)=>{if(!e)throw Error(`Row is required when get row identity`);if(T(t)){if(!t.includes(`.`))return`${e[t]}`;let n=t.split(`.`),r=e;for(let e of n)r=r[e];return`${r}`}else if(w(t))return t.call(null,e);return``},rB=function(e,t,n=!1,r=`children`){let i=e||[],a={};return i.forEach((e,i)=>{if(a[nB(e,t)]={row:e,index:i},n){let n=e[r];b(n)&&Object.assign(a,rB(n,t,!0,r))}}),a};function iB(e,t){let n={},r;for(r in e)n[r]=e[r];for(r in t)if(y(t,r)){let e=t[r];Lv(e)||(n[r]=e)}return n}function aB(e){return e===``||Lv(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e=``)),e}function oB(e){return e===``||Lv(e)||(e=aB(e),Number.isNaN(e)&&(e=80)),e}function sB(e){return zv(e)?e:T(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function cB(...e){return e.length===0?e=>e:e.length===1?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function lB(e,t,n,r,i,a,o){let s=a??0,c=!1,l=(()=>{if(!o)return e.indexOf(t);let n=nB(t,o);return e.findIndex(e=>nB(e,o)===n)})(),u=l!==-1,d=i?.call(null,t,s),f=n=>{n===`add`?e.push(t):e.splice(l,1),c=!0},p=e=>{let t=0,n=r?.children&&e[r.children];return n&&b(n)&&(t+=n.length,n.forEach(e=>{t+=p(e)})),t};return(!i||d)&&(Rv(n)?n&&!u?f(`add`):!n&&u&&f(`remove`):f(u?`remove`:`add`)),!r?.checkStrictly&&r?.children&&b(t[r.children])&&t[r.children].forEach(t=>{let a=lB(e,t,n??!u,r,i,s+1,o);s+=p(t)+1,a&&(c=a)}),c}function uB(e,t,n=`children`,r=`hasChildren`,i=!1){let a=e=>!(b(e)&&e.length);function o(e,s,c){t(e,s,c),s.forEach(e=>{if(e[r]&&i){t(e,null,c+1);return}let s=e[n];a(s)||o(e,s,c+1)})}e.forEach(e=>{if(e[r]&&i){t(e,null,0);return}let s=e[n];a(s)||o(e,s,0)})}var dB=(e,t,n,r)=>{let i={strategy:`fixed`,...e.popperOptions},a=w(r?.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:Ab(n,r.property).value}):void 0;return La(a)?{slotContent:a,content:null,...e,popperOptions:i}:{slotContent:null,content:a??t,...e,popperOptions:i}},fB=null;function pB(e,t,n,r,i,a){let o=dB(e,t,n,r),s={...o,slotContent:void 0};if(fB?.trigger===i){let e=fB.vm?.component;dv(e?.props,s),e&&o.slotContent&&(e.slots.content=()=>[o.slotContent]);return}fB?.();let c=a?.refs.tableWrapper,l=c?.dataset.prefix,u=G(QE,{virtualTriggering:!0,virtualRef:i,appendTo:c,placement:`top`,transition:`none`,offset:0,hideAfter:0,...s},o.slotContent?{content:()=>o.slotContent}:void 0);u.appContext={...a.appContext,...a};let d=document.createElement(`div`);Qs(u,d),u.component.exposed.onOpen();let f=c?.querySelector(`.${l}-scrollbar__wrap`);fB=()=>{u.component?.exposed?.onClose&&u.component.exposed.onClose(),Qs(null,d);let e=fB;f?.removeEventListener(`scroll`,e),e.trigger=void 0,e.vm=void 0,fB=null},fB.trigger=i??void 0,fB.vm=u,f?.addEventListener(`scroll`,fB)}function mB(e){return e.children?Y_(e.children,mB):[e]}function hB(e,t){return e+t.colSpan}var gB=(e,t,n,r)=>{let i=0,a=e,o=n.states.columns.value;if(r){let t=mB(r[e]);i=o.slice(0,o.indexOf(t[0])).reduce(hB,0),a=i+t.reduce(hB,0)-1}else i=e;let s;switch(t){case`left`:a<n.states.fixedLeafColumnsLength.value&&(s=`left`);break;case`right`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`);break;default:a<n.states.fixedLeafColumnsLength.value?s=`left`:i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s=`right`)}return s?{direction:s,start:i,after:a}:{}},_B=(e,t,n,r,i,a=0)=>{let o=[],{direction:s,start:c,after:l}=gB(t,n,r,i);if(s){let t=s===`left`;o.push(`${e}-fixed-column--${s}`),t&&l+a===r.states.fixedLeafColumnsLength.value-1?o.push(`is-last-column`):!t&&c-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push(`is-first-column`)}return o};function vB(e,t){return e+(cv(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}var yB=(e,t,n,r)=>{let{direction:i,start:a=0,after:o=0}=gB(e,t,n,r);if(!i)return;let s={},c=i===`left`,l=n.states.columns.value;return c?s.left=l.slice(0,a).reduce(vB,0):s.right=l.slice(o+1).reverse().reduce(vB,0),s},bB=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function xB(e){return e.some(e=>La(e)?!(e.type===ka||e.type===Da&&!xB(e.children)):!0)?e:null}function SB(e){let t=eo(),n=F(!1),r=F([]);return{updateExpandRows:()=>{let t=e.data.value||[],i=e.rowKey.value;if(n.value)r.value=t.slice();else if(i){let e=rB(r.value,i);r.value=t.reduce((t,n)=>(e[nB(n,i)]&&t.push(n),t),[])}else r.value=[]},toggleRowExpansion:(n,i)=>{lB(r.value,n,i,void 0,void 0,void 0,e.rowKey.value)&&t.emit(`expand-change`,n,r.value.slice())},setExpandRowKeys:n=>{t.store.assertRowKey();let i=e.data.value||[],a=e.rowKey.value,o=rB(i,a);r.value=n.reduce((e,t)=>{let n=o[t];return n&&e.push(n.row),e},[])},isRowExpanded:t=>{let n=e.rowKey.value;return n?!!rB(r.value,n)[nB(t,n)]:r.value.includes(t)},states:{expandRows:r,defaultExpandAll:n}}}function CB(e){let t=eo(),n=F(null),r=F(null),i=e=>{t.store.assertRowKey(),n.value=e,o(e)},a=()=>{n.value=null},o=n=>{let{data:i,rowKey:a}=e,o=null;a.value&&(o=(I(i)||[]).find(e=>nB(e,a.value)===n)??null),r.value=o??null,t.emit(`current-change`,r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:e=>{let n=r.value;if(e&&e!==n){r.value=e,t.emit(`current-change`,r.value,n);return}!e&&n&&(r.value=null,t.emit(`current-change`,null,n))},updateCurrentRowData:()=>{let i=e.rowKey.value,s=e.data.value||[],c=r.value;c&&!s.includes(c)?(i?o(nB(c,i)):r.value=null,cv(r.value)&&t.emit(`current-change`,null,c)):n.value&&(o(n.value),a())},states:{_currentRowKey:n,currentRow:r}}}function wB(e){let t=F([]),n=F({}),r=F(16),i=F(!1),a=F({}),o=F(`hasChildren`),s=F(`children`),c=F(!1),l=eo(),u=q(()=>e.rowKey.value?f(e.data.value||[]):{}),d=q(()=>{let t=e.rowKey.value,n=Object.keys(a.value),r={};return n.length&&n.forEach(e=>{if(a.value[e].length){let n={children:[]};a.value[e].forEach(e=>{let i=nB(e,t);n.children.push(i),e[o.value]&&!r[i]&&(r[i]={children:[]})}),r[e]=n}}),r}),f=t=>{let n=e.rowKey.value,r={};return uB(t,(e,t,a)=>{let o=nB(e,n);b(t)?r[o]={children:t.map(e=>nB(e,n)),level:a}:i.value&&(r[o]={children:[],lazy:!0,level:a})},s.value,o.value,i.value),r},p=(e=!1,r)=>{var a;r||=l.store?.states.defaultExpandAll.value;let o=u.value,s=d.value,c=Object.keys(o),f={};if(c.length){let a=I(n),l=[],u=(n,i)=>{if(e)return t.value?r||t.value.includes(i):!!(r||n?.expanded);{let e=r||t.value&&t.value.includes(i);return!!(n?.expanded||e)}};c.forEach(e=>{let t=a[e],n={...o[e]};if(n.expanded=u(t,e),n.lazy){let{loaded:r=!1,loading:i=!1}=t||{};n.loaded=!!r,n.loading=!!i,l.push(e)}f[e]=n});let d=Object.keys(s);i.value&&d.length&&l.length&&d.forEach(e=>{let t=a[e],n=s[e].children;if(l.includes(e)){if(f[e].children?.length!==0)throw Error(`[ElTable]children must be an empty array.`);f[e].children=n}else{let{loaded:r=!1,loading:i=!1}=t||{};f[e]={lazy:!0,loaded:!!r,loading:!!i,expanded:u(t,e),children:n,level:void 0}}})}n.value=f,(a=l.store)==null||a.updateTableScrollY()};B(()=>t.value,()=>{p(!0)}),B(()=>u.value,()=>{p()}),B(()=>d.value,()=>{p()});let m=e=>{t.value=e,p()},h=e=>i.value&&e&&`loaded`in e&&!e.loaded,g=(t,r)=>{l.store.assertRowKey();let i=e.rowKey.value,a=nB(t,i),o=a&&n.value[a];if(a&&o&&`expanded`in o){let e=o.expanded;r=Lv(r)?!o.expanded:r,n.value[a].expanded=r,e!==r&&l.emit(`expand-change`,t,r),r&&h(o)&&v(t,a,o),l.store.updateTableScrollY()}},_=t=>{l.store.assertRowKey();let r=e.rowKey.value,i=nB(t,r),a=n.value[i];h(a)?v(t,i,a):g(t,void 0)},v=(e,t,r)=>{let{load:i}=l.props;i&&!n.value[t].loaded&&(n.value[t].loading=!0,i(e,r,r=>{if(!b(r))throw TypeError(`[ElTable] data must be an array`);n.value[t].loading=!1,n.value[t].loaded=!0,n.value[t].expanded=!0,r.length&&(a.value[t]=r),l.emit(`expand-change`,e,!0)}))};return{loadData:v,loadOrToggle:_,toggleTreeExpansion:g,updateTreeExpandKeys:m,updateTreeData:p,updateKeyChildren:(e,t)=>{let{lazy:n,rowKey:r}=l.props;if(n){if(!r)throw Error(`[Table] rowKey is required in updateKeyChild`);a.value[e]&&(a.value[e]=t)}},normalize:f,states:{expandRowKeys:t,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:o,childrenColumnName:s,checkStrictly:c}}}var TB=(e,t)=>{let n=t.sortingColumn;return!n||T(n.sortable)?e:Qz(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},EB=e=>{let t=[];return e.forEach(e=>{e.children&&e.children.length>0?t.push.apply(t,EB(e.children)):t.push(e)}),t};function DB(){let e=eo(),{size:t}=mn(e.proxy?.$props),n=F(null),r=F([]),i=F([]),a=F(!1),o=F([]),s=F([]),c=F([]),l=F([]),u=F([]),d=F([]),f=F([]),p=F([]),m=[],h=F(0),g=F(0),_=F(0),v=F(!1),x=F([]),S=F(!1),C=F(!1),w=F(null),E=F({}),D=F(null),O=F(null),k=F(null),A=F(null),ee=F(null),te=q(()=>n.value?rB(x.value,n.value):void 0);B(r,()=>{var t;e.state&&(ae(!1),e.props.tableLayout===`auto`&&((t=e.refs.tableHeaderRef)==null||t.updateFixedColumnStyle()))},{deep:!0});let ne=()=>{if(!n.value)throw Error(`[ElTable] prop row-key is required`)},re=e=>{var t;(t=e.children)==null||t.forEach(t=>{t.fixed=e.fixed,re(t)})},ie=()=>{o.value.forEach(e=>{re(e)}),l.value=o.value.filter(e=>[!0,`left`].includes(e.fixed));let e=o.value.find(e=>e.type===`selection`),t;e&&e.fixed!==`right`&&!l.value.includes(e)&&o.value.indexOf(e)===0&&l.value.length&&(l.value.unshift(e),t=!0),u.value=o.value.filter(e=>e.fixed===`right`);let n=o.value.filter(e=>(t?e.type!==`selection`:!0)&&!e.fixed);s.value=Array.from(l.value).concat(n).concat(u.value);let r=EB(n),i=EB(l.value),d=EB(u.value);h.value=r.length,g.value=i.length,_.value=d.length,c.value=Array.from(i).concat(r).concat(d),a.value=l.value.length>0||u.value.length>0},ae=(t,n=!1)=>{t&&ie(),n?e.state.doLayout():e.state.debouncedUpdateLayout()},oe=e=>te.value?!!te.value[nB(e,n.value)]:x.value.includes(e),se=()=>{v.value=!1;let t=x.value;x.value=[],t.length&&e.emit(`selection-change`,[])},ce=()=>{let t;if(n.value){t=[];let i=(e?.store?.states)?.childrenColumnName.value,a=rB(r.value,n.value,!0,i);for(let e in te.value)y(te.value,e)&&!a[e]&&t.push(te.value[e].row)}else t=x.value.filter(e=>!r.value.includes(e));if(t.length){let n=x.value.filter(e=>!t.includes(e));x.value=n,e.emit(`selection-change`,n.slice())}},le=()=>(x.value||[]).slice(),ue=(t,i,a=!0,o=!1)=>{let s={children:(e?.store?.states)?.childrenColumnName.value,checkStrictly:(e?.store?.states)?.checkStrictly.value};if(lB(x.value,t,i,s,o?void 0:w.value,r.value.indexOf(t),n.value)){let n=(x.value||[]).slice();a&&e.emit(`select`,n,t),e.emit(`selection-change`,n)}},de=()=>{let t=C.value?!v.value:!(v.value||x.value.length);v.value=t;let n=!1,i=0,a=(e?.store?.states)?.rowKey.value,{childrenColumnName:o}=e.store.states,s={children:o.value,checkStrictly:!1};r.value.forEach((e,r)=>{let o=r+i;lB(x.value,e,t,s,w.value,o,a)&&(n=!0),i+=pe(nB(e,a))}),n&&e.emit(`selection-change`,x.value?x.value.slice():[]),e.emit(`select-all`,(x.value||[]).slice())},fe=()=>{if(r.value?.length===0){v.value=!1;return}let{childrenColumnName:t}=e.store.states,n=0,i=0,a=e=>{for(let r of e){let e=w.value&&w.value.call(null,r,n);if(oe(r))i++;else if(!w.value||e)return!1;if(n++,r[t.value]?.length&&!a(r[t.value]))return!1}return!0},o=a(r.value||[]);v.value=i===0?!1:o},pe=t=>{if(!e||!e.store)return 0;let{treeData:n}=e.store.states,r=0,i=n.value[t]?.children;return i&&(r+=i.length,i.forEach(e=>{r+=pe(e)})),r},me=(e,t)=>{let n={};return Lp(e).forEach(e=>{E.value[e.id]=t,n[e.columnKey||e.id]=t}),n},he=(e,t,n)=>{O.value&&O.value!==e&&(O.value.order=null),O.value=e,k.value=t,A.value=n},ge=()=>{let e=I(i);Object.keys(E.value).forEach(t=>{let n=E.value[t];if(!n||n.length===0)return;let r=$z({columns:c.value},t);r&&r.filterMethod&&(e=e.filter(e=>n.some(t=>r.filterMethod.call(null,t,e,r))))}),D.value=e},_e=()=>{r.value=TB(D.value??[],{sortingColumn:O.value,sortProp:k.value,sortOrder:A.value})},j=(e=void 0)=>{e?.filter||ge(),_e()},M=t=>{let{tableHeaderRef:n}=e.refs;if(!n)return;let r=Object.assign({},n.filterPanels),i=Object.keys(r);if(i.length)if(T(t)&&(t=[t]),b(t)){let n=t.map(e=>eB({columns:c.value},e));i.forEach(e=>{let t=n.find(t=>t.id===e);t&&(t.filteredValue=[])}),e.store.commit(`filterChange`,{column:n,values:[],silent:!0,multi:!0})}else i.forEach(e=>{let t=c.value.find(t=>t.id===e);t&&(t.filteredValue=[])}),E.value={},e.store.commit(`filterChange`,{column:{},values:[],silent:!0})},ve=()=>{O.value&&(he(null,null,null),e.store.commit(`changeSortCondition`,{silent:!0}))},{setExpandRowKeys:ye,toggleRowExpansion:be,updateExpandRows:N,states:xe,isRowExpanded:Se}=SB({data:r,rowKey:n}),{updateTreeExpandKeys:Ce,toggleTreeExpansion:we,updateTreeData:Te,updateKeyChildren:Ee,loadOrToggle:De,states:Oe}=wB({data:r,rowKey:n}),{updateCurrentRowData:P,updateCurrentRow:ke,setCurrentRowKey:Ae,states:je}=CB({data:r,rowKey:n});return{assertRowKey:ne,updateColumns:ie,scheduleLayout:ae,isSelected:oe,clearSelection:se,cleanSelection:ce,getSelectionRows:le,toggleRowSelection:ue,_toggleAllSelection:de,toggleAllSelection:null,updateAllSelected:fe,updateFilters:me,updateCurrentRow:ke,updateSort:he,execFilter:ge,execSort:_e,execQuery:j,clearFilter:M,clearSort:ve,toggleRowExpansion:be,setExpandRowKeysAdapter:e=>{ye(e),Ce(e)},setCurrentRowKey:Ae,toggleRowExpansionAdapter:(e,t)=>{c.value.some(({type:e})=>e===`expand`)?be(e,t):we(e,t)},isRowExpanded:Se,updateExpandRows:N,updateCurrentRowData:P,loadOrToggle:De,updateTreeData:Te,updateKeyChildren:Ee,states:{tableSize:t,rowKey:n,data:r,_data:i,isComplex:a,_columns:o,originColumns:s,columns:c,fixedColumns:l,rightFixedColumns:u,leafColumns:d,fixedLeafColumns:f,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:h,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:_,isAllSelected:v,selection:x,reserveSelection:S,selectOnIndeterminate:C,selectable:w,filters:E,filteredData:D,sortingColumn:O,sortProp:k,sortOrder:A,hoverRow:ee,...xe,...Oe,...je}}}function OB(e,t){return e.map(e=>e.id===t.id?t:(e.children?.length&&(e.children=OB(e.children,t)),e))}function kB(e){e.forEach(e=>{e.no=e.getColumnIndex?.call(e),e.children?.length&&kB(e.children)}),e.sort((e,t)=>e.no-t.no)}function AB(){let e=eo(),t=DB(),n=J(`table`),{t:r}=gb(),i={setData(t,n){let r=I(t._data)!==n;t.data.value=n,t._data.value=n,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),I(t.reserveSelection)?e.store.assertRowKey():r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(t,n,r,i){var a;let o=I(t._columns),s=[];r?(r&&!r.children&&(r.children=[]),(a=r.children)==null||a.push(n),s=OB(o,r)):(o.push(n),s=o),kB(s),t._columns.value=s,t.updateOrderFns.push(i),n.type===`selection`&&(t.selectable.value=n.selectable,t.reserveSelection.value=n.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(t,n){n.getColumnIndex?.call(n)!==n.no&&(kB(t._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(t,n,r,i){var a;let o=I(t._columns)||[];if(r)(a=r.children)==null||a.splice(r.children.findIndex(e=>e.id===n.id),1),Ln(()=>{r.children?.length===0&&delete r.children}),t._columns.value=OB(o,r);else{let e=o.indexOf(n);e>-1&&(o.splice(e,1),t._columns.value=o)}let s=t.updateOrderFns.indexOf(i);s>-1&&t.updateOrderFns.splice(s,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(t,n){let{prop:r,order:i,init:a}=n;if(r){let n=I(t.columns).find(e=>e.property===r);n&&(n.order=i,e.store.updateSort(n,r,i),e.store.commit(`changeSortCondition`,{init:a}))}},changeSortCondition(t,n){let{sortingColumn:r,sortProp:i,sortOrder:a}=t,o=I(r),s=I(i),c=I(a);cv(c)&&(t.sortingColumn.value=null,t.sortProp.value=null),e.store.execQuery({filter:!0}),(!n||!(n.silent||n.init))&&e.emit(`sort-change`,{column:o,prop:s,order:c}),e.store.updateTableScrollY()},filterChange(t,n){let{column:r,values:i,silent:a}=n,o=e.store.updateFilters(r,i);e.store.execQuery(),a||e.emit(`filter-change`,o),e.store.updateTableScrollY()},toggleAllSelection(){var t,n;(n=(t=e.store).toggleAllSelection)==null||n.call(t)},rowSelectedChanged(t,n){e.store.toggleRowSelection(n),e.store.updateAllSelected()},setHoverRow(e,t){e.hoverRow.value=t},setCurrentRow(t,n){e.store.updateCurrentRow(n)}},a=function(t,...n){let r=e.store.mutations;if(r[t])r[t].apply(e,[e.store.states,...n]);else throw Error(`Action not found: ${t}`)},o=function(){Ln(()=>e.layout.updateScrollY.apply(e.layout))};return{ns:n,t:r,...t,mutations:i,commit:a,updateTableScrollY:o}}var jB={rowKey:`rowKey`,defaultExpandAll:`defaultExpandAll`,selectOnIndeterminate:`selectOnIndeterminate`,indent:`indent`,lazy:`lazy`,data:`data`,"treeProps.hasChildren":{key:`lazyColumnIdentifier`,default:`hasChildren`},"treeProps.children":{key:`childrenColumnName`,default:`children`},"treeProps.checkStrictly":{key:`checkStrictly`,default:!1}};function MB(e,t){if(!e)throw Error(`Table is required.`);let n=AB();return n.toggleAllSelection=C_(n._toggleAllSelection,10),Object.keys(jB).forEach(e=>{PB(FB(t,e),e,n)}),NB(n,t),n}function NB(e,t){Object.keys(jB).forEach(n=>{B(()=>FB(t,n),t=>{PB(t,n,e)})})}function PB(e,t,n){let r=e,i=jB[t];D(i)&&(r||=i.default,i=i.key),n.states[i].value=r}function FB(e,t){if(t.includes(`.`)){let n=t.split(`.`),r=e;return n.forEach(e=>{r=r[e]}),r}else return e[t]}var IB=class{constructor(e){for(let t in this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=F(null),this.scrollX=F(!1),this.scrollY=F(!1),this.bodyWidth=F(null),this.fixedWidth=F(null),this.rightFixedWidth=F(null),this.gutterWidth=0,e)y(e,t)&&(an(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw Error(`Table is required for Table Layout`);if(!this.store)throw Error(`Store is required for Table Layout`)}updateScrollY(){let e=this.height.value;if(cv(e))return!1;let t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&t?.wrapRef){let e=!0,n=this.scrollY.value;return e=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=e,n!==e}return!1}setHeight(e,t=`height`){if(!ty)return;let n=this.table.vnode.el;if(e=sB(e),this.height.value=Number(e),!n&&(e||e===0)){Ln(()=>this.setHeight(e,t));return}n&&zv(e)?(n.style[t]=`${e}px`,this.updateElsHeight()):n&&T(e)&&(n.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,`max-height`)}getFlattenColumns(){let e=[];return this.table.store.states.columns.value.forEach(t=>{t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers(`scrollable`)}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!==`DIV`;){if(getComputedStyle(t).display===`none`)return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!ty)return;let e=this.fit,t=this.table.vnode.el?.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter(e=>!zv(e.width));if(r.forEach(e=>{zv(e.width)&&e.realWidth&&(e.realWidth=null)}),i.length>0&&e){if(r.forEach(e=>{n+=Number(e.width||e.minWidth||80)}),n<=t){this.scrollX.value=!1;let e=t-n;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+e;else{let t=e/i.reduce((e,t)=>e+Number(t.minWidth||80),0),n=0;i.forEach((e,r)=>{if(r===0)return;let i=Math.floor(Number(e.minWidth||80)*t);n+=i,e.realWidth=Number(e.minWidth||80)+i}),i[0].realWidth=Number(i[0].minWidth||80)+e-n}}else this.scrollX.value=!0,i.forEach(e=>{e.realWidth=Number(e.minWidth)});this.bodyWidth.value=Math.max(n,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(e=>{!e.width&&!e.minWidth?e.realWidth=80:e.realWidth=Number(e.width||e.minWidth),n+=e.realWidth}),this.scrollX.value=n>t,this.bodyWidth.value=n;let a=this.store.states.fixedColumns.value;if(a.length>0){let e=0;a.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.fixedWidth.value=e}let o=this.store.states.rightFixedColumns.value;if(o.length>0){let e=0;o.forEach(t=>{e+=Number(t.realWidth||t.width)}),this.rightFixedWidth.value=e}this.notifyObservers(`columns`)}addObserver(e){this.observers.push(e)}removeObserver(e){let t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(t=>{var n,r;switch(e){case`columns`:(n=t.state)==null||n.onColumnsChange(this);break;case`scrollable`:(r=t.state)==null||r.onScrollableChange(this);break;default:throw Error(`Table Layout don't have event ${e}.`)}})}},LB=R({name:`ElTableFilterPanel`,components:{ElCheckbox:Sk,ElCheckboxGroup:wk,ElScrollbar:xC,ElTooltip:QE,ElIcon:hx,ArrowDown:_x,ArrowUp:bx},props:{placement:{type:String,default:`bottom-start`},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:jE.appendTo},setup(e){let t=eo(),{t:n}=gb(),r=J(`table-filter`),i=t?.parent;e.column&&!i.filterPanels.value[e.column.id]&&(i.filterPanels.value[e.column.id]=t);let a=F(null),o=F(null),s=F(0),c=q(()=>e.column&&e.column.filters),l=q(()=>e.column&&e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=q({get:()=>(e.column?.filteredValue||[])[0],set:e=>{d.value&&(Hv(e)?d.value.splice(0,1):d.value.splice(0,1,e))}}),d=q({get(){return e.column&&e.column.filteredValue||[]},set(t){var n;e.column&&((n=e.upDataColumn)==null||n.call(e,`filteredValue`,t))}}),f=q(()=>e.column?e.column.filterMultiple:!0),p=e=>e.value===u.value,m=()=>{var e;(e=a.value)==null||e.onClose()},h=()=>{v(d.value),m()},g=()=>{d.value=[],v(d.value),m()},_=(e,t)=>{u.value=e,s.value=t,Hv(e)?v([]):v(d.value),m()},v=t=>{var n,r;(n=e.store)==null||n.commit(`filterChange`,{column:e.column,values:t}),(r=e.store)==null||r.updateAllSelected()},y=()=>{var t,n;(t=o.value)==null||t.focus(),!f.value&&x(),e.column&&((n=e.upDataColumn)==null||n.call(e,`filterOpened`,!0))},b=()=>{var t;e.column&&((t=e.upDataColumn)==null||t.call(e,`filterOpened`,!1))},x=()=>{if(Hv(u)){s.value=0;return}let e=(c.value||[]).findIndex(e=>e.value===u.value);s.value=e>=0?e+1:0};return{multiple:f,filterClassName:l,filteredValue:d,filterValue:u,filters:c,handleConfirm:h,handleReset:g,handleSelect:_,isPropAbsent:Hv,isActive:p,t:n,ns:r,tooltipRef:a,rootRef:o,checkedIndex:s,handleShowTooltip:y,handleHideTooltip:b,handleKeydown:e=>{var t;let n=dw(e),i=(c.value?c.value.length:0)+1,a=s.value,l=!0;switch(n){case Z.down:case Z.right:a=(a+1)%i;break;case Z.up:case Z.left:a=(a-1+i)%i;break;case Z.tab:m(),l=!1;break;case Z.enter:case Z.space:if(a===0)_(null,0);else{let e=(c.value||[])[a-1];e.value&&_(e.value,a)}break;default:l=!1;break}l&&e.preventDefault(),s.value=a,(t=o.value?.querySelector(`.${r.e(`list-item`)}:nth-child(${a+1})`))==null||t.focus()}}}});function RB(e,t,n,r,i,a){let o=Yr(`el-checkbox`),s=Yr(`el-checkbox-group`),c=Yr(`el-scrollbar`),l=Yr(`arrow-up`),u=Yr(`arrow-down`),d=Yr(`el-icon`),f=Yr(`el-tooltip`);return V(),U(f,{ref:`tooltipRef`,offset:0,placement:e.placement,"show-arrow":!1,trigger:`click`,role:`dialog`,teleported:``,effect:`light`,pure:``,loop:``,"popper-class":e.filterClassName,persistent:``,"append-to":e.appendTo,onShow:e.handleShowTooltip,onHide:e.handleHideTooltip},{content:L(()=>[e.multiple?(V(),H(`div`,{key:0,ref:`rootRef`,tabindex:`-1`,class:N(e.ns.e(`multiple`))},[W(`div`,{class:N(e.ns.e(`content`))},[G(c,{"wrap-class":e.ns.e(`wrap`)},{default:L(()=>[G(s,{modelValue:e.filteredValue,"onUpdate:modelValue":t=>e.filteredValue=t,class:N(e.ns.e(`checkbox-group`))},{default:L(()=>[(V(!0),H(Da,null,ti(e.filters,e=>(V(),U(o,{key:e.value,value:e.value},{default:L(()=>[Wa(P(e.text),1)]),_:2},1032,[`value`]))),128))]),_:1},8,[`modelValue`,`onUpdate:modelValue`,`class`])]),_:1},8,[`wrap-class`])],2),W(`div`,{class:N(e.ns.e(`bottom`))},[W(`button`,{class:N(e.ns.is(`disabled`,e.filteredValue.length===0)),disabled:e.filteredValue.length===0,type:`button`,onClick:e.handleConfirm},P(e.t(`el.table.confirmFilter`)),11,[`disabled`,`onClick`]),W(`button`,{type:`button`,onClick:e.handleReset},P(e.t(`el.table.resetFilter`)),9,[`onClick`])],2)],2)):(V(),H(`ul`,{key:1,ref:`rootRef`,tabindex:`-1`,role:`radiogroup`,class:N(e.ns.e(`list`)),onKeydown:e.handleKeydown},[W(`li`,{role:`radio`,class:N([e.ns.e(`list-item`),e.ns.is(`active`,e.isPropAbsent(e.filterValue))]),tabindex:e.checkedIndex===0?0:-1,"aria-checked":e.isPropAbsent(e.filterValue),onClick:t=>e.handleSelect(null,0)},P(e.t(`el.table.clearFilter`)),11,[`tabindex`,`aria-checked`,`onClick`]),(V(!0),H(Da,null,ti(e.filters,(t,n)=>(V(),H(`li`,{key:t.value,role:`radio`,class:N([e.ns.e(`list-item`),e.ns.is(`active`,e.isActive(t))]),tabindex:e.checkedIndex===n+1?0:-1,"aria-checked":e.isActive(t),onClick:r=>e.handleSelect(t.value,n+1)},P(t.text),11,[`tabindex`,`aria-checked`,`onClick`]))),128))],42,[`onKeydown`]))]),default:L(()=>[W(`button`,{type:`button`,class:N(`${e.ns.namespace.value}-table__column-filter-trigger`),"aria-label":e.t(`el.table.filterLabel`,{column:e.column?.label||``})},[G(d,null,{default:L(()=>[z(e.$slots,`filter-icon`,{},()=>[e.column?.filterOpened?(V(),U(l,{key:0})):(V(),U(u,{key:1}))])]),_:3})],10,[`aria-label`])]),_:3},8,[`placement`,`popper-class`,`append-to`,`onShow`,`onHide`])}var zB=Hb(LB,[[`render`,RB],[`__file`,`filter-panel.vue`]]);function BB(e){let t=eo();Lr(()=>{n.value.addObserver(t)}),Rr(()=>{r(n.value),i(n.value)}),Br(()=>{r(n.value),i(n.value)}),Hr(()=>{n.value.removeObserver(t)});let n=q(()=>{let t=e.layout;if(!t)throw Error(`Can not find table layout.`);return t}),r=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col`)||[];if(!n.length)return;let r=t.getFlattenColumns(),i={};r.forEach(e=>{i[e.id]=e});for(let e=0,t=n.length;e<t;e++){let t=n[e],r=i[t.getAttribute(`name`)];r&&t.setAttribute(`width`,r.realWidth||r.width)}},i=t=>{let n=e.vnode.el?.querySelectorAll(`colgroup > col[name=gutter]`)||[];for(let e=0,r=n.length;e<r;e++)n[e].setAttribute(`width`,t.scrollY.value?t.gutterWidth:`0`);let r=e.vnode.el?.querySelectorAll(`th.gutter`)||[];for(let e=0,n=r.length;e<n;e++){let n=r[e];n.style.width=t.scrollY.value?`${t.gutterWidth}px`:`0`,n.style.display=t.scrollY.value?``:`none`}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}var VB=Symbol(`ElTable`);function HB(e,t){let n=eo(),r=Ni(VB),i=e=>{e.stopPropagation()},a=(e,t)=>{!t.filters&&t.sortable?m(e,t,!1):t.filterable&&!t.sortable&&i(e),r?.emit(`header-click`,t,e)},o=(e,t)=>{r?.emit(`header-contextmenu`,t,e)},s=F(null),c=F(!1),l=F(),u=(i,a)=>{if(ty&&!(a.children&&a.children.length>0)&&s.value&&e.border&&s.value.id===a.id){c.value=!0;let o=r;t(`set-drag-visible`,!0);let u=(o?.vnode.el)?.getBoundingClientRect().left,d=(n?.vnode?.el)?.querySelector(`th.${a.id}`),f=d.getBoundingClientRect(),p=f.left-u+30;Jb(d,`noclick`),l.value={startMouseLeft:i.clientX,startLeft:f.right-u,startColumnLeft:f.left-u,tableLeft:u};let m=o?.refs.resizeProxy;m.style.left=`${l.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};let h=e=>{let t=e.clientX-l.value.startMouseLeft,n=l.value.startLeft+t;m.style.left=`${Math.max(p,n)}px`},g=()=>{if(c.value){let{startColumnLeft:n,startLeft:r}=l.value;a.width=a.realWidth=Number.parseInt(m.style.left,10)-n,o?.emit(`header-dragend`,a.width,r-n,a,i),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor=``,c.value=!1,s.value=null,l.value=void 0,t(`set-drag-visible`,!1)}document.removeEventListener(`mousemove`,h),document.removeEventListener(`mouseup`,g),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Yb(d,`noclick`)},0)};document.addEventListener(`mousemove`,h),document.addEventListener(`mouseup`,g)}},d=(t,n)=>{if(!e.border||n.children&&n.children.length>0)return;let r=t.target,i=Vv(r)?r.closest(`th`):null;if(!i)return;let a=qb(i,`is-sortable`);if(a){let e=c.value?`col-resize`:``;i.style.cursor=e;let t=i.querySelector(`.caret-wrapper`);t&&(t.style.cursor=e)}if(!n.resizable||c.value){s.value=null;return}let o=i.getBoundingClientRect(),l=i.parentNode?.lastElementChild===i,u=e.allowDragLastColumn||!l,d=o.width>12&&o.right-t.clientX<8&&u,f=d?`col-resize`:``;document.body.style.cursor=f,s.value=d?n:null,a&&(i.style.cursor=f)},f=()=>{!ty||c.value||(document.body.style.cursor=``)},p=({order:e,sortOrders:t})=>{if(e===``)return t[0];let n=t.indexOf(e||null);return t[n>t.length-2?0:n+1]},m=(t,n,i)=>{t.stopPropagation();let a=n.order===i?null:i||p(n),o=t.target?.closest(`th`);if(o&&qb(o,`noclick`)){Yb(o,`noclick`);return}if(!n.sortable)return;let s=t.currentTarget;if([`ascending`,`descending`].some(e=>qb(s,e)&&!n.sortOrders.includes(e)))return;let c=e.store.states,l=c.sortProp.value,u,d=c.sortingColumn.value;(d!==n||d===n&&cv(d.order))&&(d&&(d.order=null),c.sortingColumn.value=n,l=n.property),u=a?n.order=a:n.order=null,c.sortProp.value=l,c.sortOrder.value=u,r?.store.commit(`changeSortCondition`)};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:m,handleFilterClick:i}}function UB(e){let t=Ni(VB),n=J(`table`);return{getHeaderRowStyle:e=>{let n=t?.props.headerRowStyle;return w(n)?n.call(null,{rowIndex:e}):n},getHeaderRowClass:e=>{let n=[],r=t?.props.headerRowClassName;return T(r)?n.push(r):w(r)&&n.push(r.call(null,{rowIndex:e})),n.join(` `)},getHeaderCellStyle:(n,r,i,a)=>{let o=t?.props.headerCellStyle??{};w(o)&&(o=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let s=yB(r,a.fixed,e.store,i);return bB(s,`left`),bB(s,`right`),Object.assign({},o,s)},getHeaderCellClass:(r,i,a,o)=>{let s=_B(n.b(),i,o.fixed,e.store,a),c=[o.id,o.order,o.headerAlign,o.className,o.labelClassName,...s];o.children||c.push(`is-leaf`),o.sortable&&c.push(`is-sortable`);let l=t?.props.headerCellClassName;return T(l)?c.push(l):w(l)&&c.push(l.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),c.push(n.e(`cell`)),c.filter(e=>!!e).join(` `)}}}var WB=e=>{let t=[];return e.forEach(e=>{e.children?(t.push(e),t.push.apply(t,WB(e.children))):t.push(e)}),t},GB=e=>{let t=1,n=(e,r)=>{if(r&&(e.level=r.level+1,t<e.level&&(t=e.level)),e.children){let t=0;e.children.forEach(r=>{n(r,e),t+=r.colSpan}),e.colSpan=t}else e.colSpan=1};e.forEach(e=>{e.level=1,n(e,void 0)});let r=[];for(let e=0;e<t;e++)r.push([]);return WB(e).forEach(e=>{e.children?(e.rowSpan=1,e.children.forEach(e=>e.isSubColumn=!0)):e.rowSpan=t-e.level+1,r[e.level-1].push(e)}),r};function KB(e){let t=Ni(VB),n=q(()=>GB(e.store.states.originColumns.value));return{isGroup:q(()=>{let e=n.value.length>1;return e&&t&&(t.state.isGroup.value=!0),e}),toggleAllSelection:e=>{e.stopPropagation(),t?.store.commit(`toggleAllSelection`)},columnRows:n}}var qB=R({name:`ElTableHeader`,components:{ElCheckbox:Sk},props:{fixed:{type:String,default:``},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){let n=eo(),r=Ni(VB),i=J(`table`),a=F({}),{onColumnsChange:o,onScrollableChange:s}=BB(r),c=r?.props.tableLayout===`auto`,l=Kt(new Map),u=F(),d,f=()=>{d=setTimeout(()=>{l.size>0&&(l.forEach((e,t)=>{let n=u.value.querySelector(`.${t.replace(/\s/g,`.`)}`);n&&(e.width=n.getBoundingClientRect().width||e.width)}),l.clear())})};B(l,f),Vr(()=>{d&&=(clearTimeout(d),void 0)}),Rr(async()=>{await Ln(),await Ln();let{prop:t,order:n}=e.defaultSort;r?.store.commit(`sort`,{prop:t,order:n,init:!0}),f()});let{handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:h,handleMouseMove:g,handleMouseOut:_,handleSortClick:v,handleFilterClick:y}=HB(e,t),{getHeaderRowStyle:b,getHeaderRowClass:x,getHeaderCellStyle:S,getHeaderCellClass:C}=UB(e),{isGroup:w,toggleAllSelection:T,columnRows:E}=KB(e),{t:D}=gb();return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=a,{ns:i,t:D,filterPanels:a,onColumnsChange:o,onScrollableChange:s,columnRows:E,getHeaderRowClass:x,getHeaderRowStyle:b,getHeaderCellClass:C,getHeaderCellStyle:S,handleHeaderClick:p,handleHeaderContextMenu:m,handleMouseDown:h,handleMouseMove:g,handleMouseOut:_,handleSortClick:v,handleFilterClick:y,isGroup:w,toggleAllSelection:T,saveIndexSelection:l,isTableLayoutAuto:c,theadRef:u,updateFixedColumnStyle:f}},render(){let{ns:e,t,isGroup:n,columnRows:r,getHeaderCellStyle:i,getHeaderCellClass:a,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:c,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:d,handleSortClick:f,handleMouseOut:p,store:m,$parent:h,saveIndexSelection:g,isTableLayoutAuto:_}=this,v=1;return _o(`thead`,{ref:`theadRef`,class:e.is(`group`,n)},r.map((e,n)=>_o(`tr`,{class:o(n),key:n,style:s(n)},e.map((r,o)=>{r.rowSpan>v&&(v=r.rowSpan);let s=a(n,o,e,r);return _&&r.fixed&&g.set(s,r),_o(`th`,{class:s,colspan:r.colSpan,key:`${r.id}-thead`,rowspan:r.rowSpan,scope:r.colSpan>1?`colgroup`:`col`,style:i(n,o,e,r),onClick:e=>{e.currentTarget?.classList.contains(`noclick`)||c(e,r)},onContextmenu:e=>l(e,r),onMousedown:e=>u(e,r),onMousemove:e=>d(e,r),onMouseout:p},[_o(`div`,{class:[`cell`,r.filteredValue&&r.filteredValue.length>0?`highlight`:``]},[r.renderHeader?r.renderHeader({column:r,$index:o,store:m,_self:h}):r.label,r.sortable&&_o(`button`,{type:`button`,class:`caret-wrapper`,"aria-label":t(`el.table.sortLabel`,{column:r.label||``}),onClick:e=>f(e,r)},[_o(`i`,{onClick:e=>f(e,r,`ascending`),class:`sort-caret ascending`}),_o(`i`,{onClick:e=>f(e,r,`descending`),class:`sort-caret descending`})]),r.filterable&&_o(zB,{store:m,placement:r.filterPlacement||`bottom-start`,appendTo:h?.appendFilterPanelTo,column:r,upDataColumn:(e,t)=>{r[e]=t}},{"filter-icon":()=>r.renderFilterIcon?r.renderFilterIcon({filterOpened:r.filterOpened}):null})])])}))))}});function JB(e,t,n=.03){return e-t>n}function YB(e){let t=Ni(VB),n=F(``),r=F(_o(`div`)),i=(n,r,i)=>{let a=t,o=Zz(n),s=null,c=(a?.vnode.el)?.dataset.prefix;o&&(s=tB({columns:e.store?.states.columns.value??[]},o,c),s&&a?.emit(`cell-${i}`,r,s,o,n)),a?.emit(`row-${i}`,r,s,n)},a=(e,t)=>{i(e,t,`dblclick`)},o=(t,n)=>{var r;(r=e.store)==null||r.commit(`setCurrentRow`,n),i(t,n,`click`)},s=(e,t)=>{i(e,t,`contextmenu`)},c=C_(t=>{var n;(n=e.store)==null||n.commit(`setHoverRow`,t)},30),l=C_(()=>{var t;(t=e.store)==null||t.commit(`setHoverRow`,null)},30),u=e=>{let t=window.getComputedStyle(e,null);return{left:Number.parseInt(t.paddingLeft,10)||0,right:Number.parseInt(t.paddingRight,10)||0,top:Number.parseInt(t.paddingTop,10)||0,bottom:Number.parseInt(t.paddingBottom,10)||0}},d=(e,t,n)=>{let r=t?.target?.parentNode;for(;e>1&&(r=r?.nextSibling,!(!r||r.nodeName!==`TR`));)n(r,`hover-row hover-fixed-row`),e--};return{handleDoubleClick:a,handleClick:o,handleContextMenu:s,handleMouseEnter:c,handleMouseLeave:l,handleCellMouseEnter:(n,r,i)=>{var a,o;if(!t)return;let s=t,c=Zz(n),l=(s?.vnode.el)?.dataset.prefix,f=null;if(c){if(f=tB({columns:e.store?.states.columns.value??[]},c,l),!f)return;c.rowSpan>1&&d(c.rowSpan,n,Jb);let t=s.hoverState={cell:c,column:f,row:r};s?.emit(`cell-mouse-enter`,t.row,t.column,t.cell,n)}if(!i){fB?.trigger===c&&((a=fB)==null||a());return}let p=n.target.querySelector(`.cell`);if(!(qb(p,`${l}-tooltip`)&&p.childNodes.length&&p.textContent?.trim()))return;let m=document.createRange();m.setStart(p,0),m.setEnd(p,p.childNodes.length);let{width:h,height:g}=m.getBoundingClientRect(),{width:_,height:v}=p.getBoundingClientRect(),{top:y,left:b,right:x,bottom:S}=u(p),C=b+x,w=y+S;JB(h+C,_)||JB(g+w,v)||JB(p.scrollWidth,_)?pB(i,(c?.innerText||c?.textContent)??``,r,f,c,s):fB?.trigger===c&&((o=fB)==null||o())},handleCellMouseLeave:e=>{let n=Zz(e);if(!n)return;n.rowSpan>1&&d(n.rowSpan,e,Yb);let r=t?.hoverState;t?.emit(`cell-mouse-leave`,r?.row,r?.column,r?.cell,e)},tooltipContent:n,tooltipTrigger:r}}function XB(e){let t=Ni(VB),n=J(`table`);return{getRowStyle:(e,n)=>{let r=t?.props.rowStyle;return w(r)?r.call(null,{row:e,rowIndex:n}):r||null},getRowClass:(r,i,a)=>{let o=[n.e(`row`)];t?.props.highlightCurrentRow&&r===e.store?.states.currentRow.value&&o.push(`current-row`),e.stripe&&a%2==1&&o.push(n.em(`row`,`striped`));let s=t?.props.rowClassName;return T(s)?o.push(s):w(s)&&o.push(s.call(null,{row:r,rowIndex:i})),o},getCellStyle:(n,r,i,a)=>{let o=t?.props.cellStyle,s=o??{};w(o)&&(s=o.call(null,{rowIndex:n,columnIndex:r,row:i,column:a}));let c=yB(r,e?.fixed,e.store);return bB(c,`left`),bB(c,`right`),Object.assign({},s,c)},getCellClass:(r,i,a,o,s)=>{let c=_B(n.b(),i,e?.fixed,e.store,void 0,s),l=[o.id,o.align,o.className,...c],u=t?.props.cellClassName;return T(u)?l.push(u):w(u)&&l.push(u.call(null,{rowIndex:r,columnIndex:i,row:a,column:o})),l.push(n.e(`cell`)),l.filter(e=>!!e).join(` `)},getSpan:(e,n,r,i)=>{let a=1,o=1,s=t?.props.spanMethod;if(w(s)){let t=s({row:e,column:n,rowIndex:r,columnIndex:i});b(t)?(a=t[0],o=t[1]):D(t)&&(a=t.rowspan,o=t.colspan)}return{rowspan:a,colspan:o}},getColspanRealWidth:(e,t,n)=>{if(t<1)return e[n].realWidth;let r=e.map(({realWidth:e,width:t})=>e||t).slice(n,n+t);return Number(r.reduce((e,t)=>Number(e)+Number(t),-1))}}}var ZB=Hb(R({...R({name:`TableTdWrapper`}),props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(V(),H(`td`,{colspan:e.colspan,rowspan:e.rowspan},[z(t.$slots,`default`)],8,[`colspan`,`rowspan`]))}}),[[`__file`,`td-wrapper.vue`]]);function QB(e){let t=Ni(VB),n=J(`table`),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:c,handleCellMouseLeave:l,tooltipContent:u,tooltipTrigger:d}=YB(e),{getRowStyle:f,getRowClass:p,getCellStyle:m,getCellClass:h,getSpan:g,getColspanRealWidth:_}=XB(e),v=-1,y=q(()=>e.store?.states.columns.value.findIndex(({type:e})=>e===`default`)),b=(e,n)=>{let r=t?.props?.rowKey;return r?nB(e,r):n},x=(u,d,x,C=!1)=>{let{tooltipEffect:w,tooltipOptions:T,store:E}=e,{indent:D,columns:O}=E.states,k=[],A=!0;return x&&(k.push(n.em(`row`,`level-${x.level}`)),A=!!x.display),d===0&&(v=-1),e.stripe&&A&&v++,k.push(...p(u,d,v)),_o(`tr`,{style:[A?null:{display:`none`},f(u,d)],class:k,key:b(u,d),onDblclick:e=>r(e,u),onClick:e=>i(e,u),onContextmenu:e=>a(e,u),onMouseenter:()=>o(d),onMouseleave:s},O.value.map((n,r)=>{let{rowspan:i,colspan:a}=g(u,n,d,r);if(!i||!a)return null;let o=Object.assign({},n);o.realWidth=_(O.value,a,r);let s={store:E,_self:e.context||t,column:o,row:u,$index:d,cellIndex:r,expanded:C};r===y.value&&x&&(s.treeNode={indent:x.level&&x.level*D.value,level:x.level},Rv(x.expanded)&&(s.treeNode.expanded=x.expanded,`loading`in x&&(s.treeNode.loading=x.loading),`noLazyChildren`in x&&(s.treeNode.noLazyChildren=x.noLazyChildren)));let f=`${b(u,d)},${r}`,p=o.columnKey||o.rawColumnKey||``,v=n.showOverflowTooltip&&dv({effect:w},T,n.showOverflowTooltip);return _o(ZB,{style:m(d,r,u,n),class:h(d,r,u,n,a-1),key:`${p}${f}`,rowspan:i,colspan:a,onMouseenter:e=>c(e,u,v),onMouseleave:l},{default:()=>S(r,n,s)})}))},S=(e,t,n)=>t.renderCell(n);return{wrappedRowRender:(r,i)=>{let a=e.store,{isRowExpanded:o,assertRowKey:s}=a,{treeData:c,lazyTreeNodeMap:l,childrenColumnName:u,rowKey:d}=a.states,f=a.states.columns.value;if(f.some(({type:e})=>e===`expand`)){let e=o(r),s=x(r,i,void 0,e),c=t?.renderExpanded;if(!c)return console.error(`[Element Error]renderExpanded is required.`),s;let l=[[s]];return(t.props.preserveExpandedContent||e)&&l[0].push(_o(`tr`,{key:`expanded-row__${s.key}`,style:{display:e?``:`none`}},[_o(`td`,{colspan:f.length,class:`${n.e(`cell`)} ${n.e(`expanded-cell`)}`},[c({row:r,$index:i,store:a,expanded:e})])])),l}else if(Object.keys(c.value).length){s();let e=nB(r,d.value),t=c.value[e],n=null;t&&(n={expanded:t.expanded,level:t.level,display:!0,noLazyChildren:void 0,loading:void 0},Rv(t.lazy)&&(n&&Rv(t.loaded)&&t.loaded&&(n.noLazyChildren=!(t.children&&t.children.length)),n.loading=t.loading));let a=[x(r,i,n??void 0)];if(t){let n=0,o=(e,r)=>{e&&e.length&&r&&e.forEach(e=>{let s={display:r.display&&r.expanded,level:r.level+1,expanded:!1,noLazyChildren:!1,loading:!1},f=nB(e,d.value);if(Hv(f))throw Error(`For nested data item, row-key is required.`);t={...c.value[f]},t&&(s.expanded=t.expanded,t.level=t.level||s.level,t.display=!!(t.expanded&&s.display),Rv(t.lazy)&&(Rv(t.loaded)&&t.loaded&&(s.noLazyChildren=!(t.children&&t.children.length)),s.loading=t.loading)),n++,a.push(x(e,i+n,s)),t&&o(l.value[f]||e[u.value],t)})};t.display=!0,o(l.value[e]||r[u.value],t)}return a}else return x(r,i,void 0)},tooltipContent:u,tooltipTrigger:d}}var $B=R({name:`ElTableBody`,props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:``},highlight:Boolean},setup(e){let t=eo(),n=Ni(VB),r=J(`table`),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}=QB(e),{onColumnsChange:s,onScrollableChange:c}=BB(n),l=[];return B(e.store?.states.hoverRow,(n,i)=>{let a=t?.vnode.el,o=Array.from(a?.children||[]).filter(e=>e?.classList.contains(`${r.e(`row`)}`)),s=n,c=o[s]?.childNodes;if(c?.length){let e=0;Array.from(c).reduce((t,n,r)=>(c[r]?.colSpan>1&&(e=c[r]?.colSpan),n.nodeName!==`TD`&&e===0&&t.push(r),e>0&&e--,t),[]).forEach(e=>{for(s=n;s>0;){let t=o[s-1]?.childNodes;if(t[e]&&t[e].nodeName===`TD`&&t[e].rowSpan>1){Jb(t[e],`hover-cell`),l.push(t[e]);break}s--}})}else l.forEach(e=>Yb(e,`hover-cell`)),l.length=0;!e.store?.states.isComplex.value||!ty||Wb(()=>{let e=o[i],t=o[n];e&&!e.classList.contains(`hover-fixed-row`)&&Yb(e,`hover-row`),t&&Jb(t,`hover-row`)})}),Hr(()=>{var e;(e=fB)==null||e()}),{ns:r,onColumnsChange:s,onScrollableChange:c,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}},render(){let{wrappedRowRender:e,store:t}=this;return _o(`tbody`,{tabIndex:-1},[(t?.states.data.value||[]).reduce((t,n)=>t.concat(e(n,t.length)),[])])}});function eV(){let e=Ni(VB)?.store;return{leftFixedLeafCount:q(()=>e?.states.fixedLeafColumnsLength.value??0),rightFixedLeafCount:q(()=>e?.states.rightFixedColumns.value.length??0),columnsCount:q(()=>e?.states.columns.value.length??0),leftFixedCount:q(()=>e?.states.fixedColumns.value.length??0),rightFixedCount:q(()=>e?.states.rightFixedColumns.value.length??0),columns:q(()=>e?.states.columns.value??[])}}function tV(e){let{columns:t}=eV(),n=J(`table`);return{getCellClasses:(t,r)=>{let i=t[r],a=[n.e(`cell`),i.id,i.align,i.labelClassName,..._B(n.b(),r,i.fixed,e.store)];return i.className&&a.push(i.className),i.children||a.push(n.is(`leaf`)),a},getCellStyles:(t,n)=>{let r=yB(n,t.fixed,e.store);return bB(r,`left`),bB(r,`right`),r},columns:t}}var nV=R({name:`ElTableFooter`,props:{fixed:{type:String,default:``},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:``,order:``})}},setup(e){let t=Ni(VB),n=J(`table`),{getCellClasses:r,getCellStyles:i,columns:a}=tV(e),{onScrollableChange:o,onColumnsChange:s}=BB(t);return{ns:n,onScrollableChange:o,onColumnsChange:s,getCellClasses:r,getCellStyles:i,columns:a}},render(){let{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value,o=[];return r?o=r({columns:e,data:a}):e.forEach((e,t)=>{if(t===0){o[t]=i;return}let n=a.map(t=>Number(t[e.property])),r=[],s=!0;n.forEach(e=>{if(!Number.isNaN(+e)){s=!1;let t=`${e}`.split(`.`)[1];r.push(t?t.length:0)}});let c=Math.max.apply(null,r);s?o[t]=``:o[t]=n.reduce((e,t)=>{let n=Number(t);return Number.isNaN(+n)?e:Number.parseFloat((e+t).toFixed(Math.min(c,20)))},0)}),_o(_o(`tfoot`,[_o(`tr`,{},[...e.map((r,i)=>_o(`td`,{key:i,colspan:r.colSpan,rowspan:r.rowSpan,class:n(e,i),style:t(r,i)},[_o(`div`,{class:[`cell`,r.labelClassName]},[o[i]])]))])]))}});function rV(e){return{setCurrentRow:t=>{e.commit(`setCurrentRow`,t)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(t,n,r=!0)=>{e.toggleRowSelection(t,n,!1,r),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:t=>{e.clearFilter(t)},toggleAllSelection:()=>{e.commit(`toggleAllSelection`)},toggleRowExpansion:(t,n)=>{e.toggleRowExpansionAdapter(t,n)},clearSort:()=>{e.clearSort()},sort:(t,n)=>{e.commit(`sort`,{prop:t,order:n})},updateKeyChildren:(t,n)=>{e.updateKeyChildren(t,n)}}}function iV(e,t,n,r){let i=F(!1),a=F(null),o=F(!1),s=e=>{o.value=e},c=F({width:null,height:null,headerHeight:null}),l=F(!1),u={display:`inline-block`,verticalAlign:`middle`},d=F(),f=F(0),p=F(0),m=F(0),h=F(0),g=F(0);B(()=>e.height,e=>{t.setHeight(e??null)},{immediate:!0}),B(()=>e.maxHeight,e=>{t.setMaxHeight(e??null)},{immediate:!0}),B(()=>[e.currentRowKey,n.states.rowKey],([e,t])=>{!I(t)||!I(e)||n.setCurrentRowKey(`${e}`)},{immediate:!0}),B(()=>e.data,e=>{r.store.commit(`setData`,e)},{immediate:!0,deep:!0}),Ii(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});let _=()=>{r.store.commit(`setHoverRow`,null),r.hoverState&&=null},v=(e,t)=>{let{pixelX:n,pixelY:i}=t;Math.abs(n)>=Math.abs(i)&&(r.refs.bodyWrapper.scrollLeft+=t.pixelX/5)},y=q(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),b=q(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:``})),x=()=>{y.value&&t.updateElsHeight(),t.updateColumnsWidth(),!(typeof window>`u`)&&requestAnimationFrame(T)};Rr(async()=>{await Ln(),n.updateColumns(),E(),requestAnimationFrame(x);let t=r.vnode.el,i=r.refs.headerWrapper;e.flexible&&t&&t.parentElement&&(t.parentElement.style.minWidth=`0`),c.value={width:d.value=t.offsetWidth,height:t.offsetHeight,headerHeight:e.showHeader&&i?i.offsetHeight:null},n.states.columns.value.forEach(e=>{e.filteredValue&&e.filteredValue.length&&r.store.commit(`filterChange`,{column:e,values:e.filteredValue,silent:!0})}),r.$ready=!0});let S=(e,n)=>{if(!e)return;let r=Array.from(e.classList).filter(e=>!e.startsWith(`is-scrolling-`));r.push(t.scrollX.value?n:`is-scrolling-none`),e.className=r.join(` `)},C=e=>{let{tableWrapper:t}=r.refs;S(t,e)},w=e=>{let{tableWrapper:t}=r.refs;return!!(t&&t.classList.contains(e))},T=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){let e=`is-scrolling-none`;w(e)||C(e);return}let e=r.refs.scrollBarRef.wrapRef;if(!e)return;let{scrollLeft:n,offsetWidth:i,scrollWidth:a}=e,{headerWrapper:o,footerWrapper:s}=r.refs;o&&(o.scrollLeft=n),s&&(s.scrollLeft=n),n>=a-i-1?C(`is-scrolling-right`):C(n===0?`is-scrolling-left`:`is-scrolling-middle`)},E=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Ty(r.refs.scrollBarRef.wrapRef,`scroll`,T,{passive:!0}),e.fit?zy(r.vnode.el,D):Ty(window,`resize`,D),zy(r.refs.tableInnerWrapper,()=>{var e;D(),(e=r.refs?.scrollBarRef)==null||e.update()}))},D=()=>{let t=r.vnode.el;if(!r.$ready||!t)return;let n=!1,{width:i,height:a,headerHeight:o}=c.value,s=d.value=t.offsetWidth;i!==s&&(n=!0);let l=t.offsetHeight;(e.height||y.value)&&a!==l&&(n=!0);let u=e.tableLayout===`fixed`?r.refs.headerWrapper:r.refs.tableHeaderRef?.$el;e.showHeader&&u?.offsetHeight!==o&&(n=!0),f.value=r.refs.tableWrapper?.scrollHeight||0,m.value=u?.scrollHeight||0,h.value=r.refs.footerWrapper?.offsetHeight||0,g.value=r.refs.appendWrapper?.offsetHeight||0,p.value=f.value-m.value-h.value-g.value,n&&(c.value={width:s,height:l,headerHeight:e.showHeader&&u?.offsetHeight||0},x())},O=YS(),k=q(()=>{let{bodyWidth:e,scrollY:n,gutterWidth:r}=t;return e.value?`${e.value-(n.value?r:0)}px`:``}),A=q(()=>e.maxHeight?`fixed`:e.tableLayout);return{isHidden:i,renderExpanded:a,setDragVisible:s,isGroup:l,handleMouseLeave:_,handleHeaderFooterMousewheel:v,tableSize:O,emptyBlockStyle:q(()=>{if(e.data&&e.data.length)return;let t=`100%`;e.height&&p.value&&(t=`${p.value}px`);let n=d.value;return{width:n?`${n}px`:``,height:t}}),resizeProxyVisible:o,bodyWidth:k,resizeState:c,doLayout:x,tableBodyStyles:b,tableLayout:A,scrollbarViewStyle:u,scrollbarStyle:q(()=>e.height?{height:`100%`}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${m.value+h.value}px)`}:{maxHeight:`${+e.maxHeight-m.value-h.value}px`}:{})}}function aV(e){let t=F(),n=()=>{let n=e.vnode.el.querySelector(`.hidden-columns`),r={childList:!0,subtree:!0},i=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{i.forEach(e=>e())}),t.value.observe(n,r)};Rr(()=>{n()}),Hr(()=>{var e;(e=t.value)==null||e.disconnect()})}var oV={data:{type:Array,default:()=>[]},size:xb,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:`hasChildren`,children:`children`,checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:[String,Object,Array],default:()=>({})},className:{type:String,default:``},tableLayout:{type:String,default:`fixed`},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function sV(e){let t=e.tableLayout===`auto`,n=e.columns||[];t&&n.every(({width:e})=>Lv(e))&&(n=[]);let r=n=>{let r={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?r.style={width:`${n.width}px`}:r.name=n.id,r};return _o(`colgroup`,{},n.map(e=>_o(`col`,r(e))))}sV.props=[`columns`,`tableLayout`];var cV=()=>{let e=F(),t=(t,n)=>{let r=e.value;r&&r.scrollTo(t,n)},n=(t,n)=>{let r=e.value;r&&zv(n)&&[`Top`,`Left`].includes(t)&&r[`setScroll${t}`](n)};return{scrollBarRef:e,scrollTo:t,setScrollTop:e=>n(`Top`,e),setScrollLeft:e=>n(`Left`,e)}},lV=!1,uV,dV,fV,pV,mV,hV,gV,_V,vV,yV,bV,xV,SV,CV,wV;function TV(){if(!lV){lV=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(xV=/\b(iPhone|iP[ao]d)/.exec(e),SV=/\b(iP[ao]d)/.exec(e),yV=/Android/i.exec(e),CV=/FBAN\/\w+;/i.exec(e),wV=/Mobile/i.exec(e),bV=!!/Win64/.exec(e),t){uV=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,uV&&document&&document.documentMode&&(uV=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);hV=r?parseFloat(r[1])+4:uV,dV=t[2]?parseFloat(t[2]):NaN,fV=t[3]?parseFloat(t[3]):NaN,pV=t[4]?parseFloat(t[4]):NaN,pV?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),mV=t&&t[1]?parseFloat(t[1]):NaN):mV=NaN}else uV=dV=fV=mV=pV=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);gV=i?parseFloat(i[1].replace(`_`,`.`)):!0}else gV=!1;_V=!!n[2],vV=!!n[3]}else gV=_V=vV=!1}}var EV={ie:function(){return TV()||uV},ieCompatibilityMode:function(){return TV()||hV>uV},ie64:function(){return EV.ie()&&bV},firefox:function(){return TV()||dV},opera:function(){return TV()||fV},webkit:function(){return TV()||pV},safari:function(){return EV.webkit()},chrome:function(){return TV()||mV},windows:function(){return TV()||_V},osx:function(){return TV()||gV},linux:function(){return TV()||vV},iphone:function(){return TV()||xV},mobile:function(){return TV()||xV||SV||yV||wV},nativeApp:function(){return TV()||CV},android:function(){return TV()||yV},ipad:function(){return TV()||SV}},DV=EV,OV=!!(typeof window<`u`&&window.document&&window.document.createElement),kV={canUseDOM:OV,canUseWorkers:typeof Worker<`u`,canUseEventListeners:OV&&!!(window.addEventListener||window.attachEvent),canUseViewport:OV&&!!window.screen,isInWorker:!OV},AV;kV.canUseDOM&&(AV=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature(``,``)!==!0);function jV(e,t){if(!kV.canUseDOM||t&&!(`addEventListener`in document))return!1;var n=`on`+e,r=n in document;if(!r){var i=document.createElement(`div`);i.setAttribute(n,`return;`),r=typeof i[n]==`function`}return!r&&AV&&e===`wheel`&&(r=document.implementation.hasFeature(`Events.wheel`,`3.0`)),r}var MV=jV,NV=10,PV=40,FV=800;function IV(e){var t=0,n=0,r=0,i=0;return`detail`in e&&(n=e.detail),`wheelDelta`in e&&(n=-e.wheelDelta/120),`wheelDeltaY`in e&&(n=-e.wheelDeltaY/120),`wheelDeltaX`in e&&(t=-e.wheelDeltaX/120),`axis`in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*NV,i=n*NV,`deltaY`in e&&(i=e.deltaY),`deltaX`in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=PV,i*=PV):(r*=FV,i*=FV)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}IV.getEventType=function(){return DV.firefox()?`DOMMouseScroll`:MV(`wheel`)?`wheel`:`mousewheel`};var LV=IV,RV=`_Mousewheel`,zV=function(e,t){if(e&&e.addEventListener){BV(e);let n=function(e){let n=LV(e);t&&Reflect.apply(t,this,[e,n])};e[RV]={wheelHandler:n},e.addEventListener(`wheel`,n,{passive:!0})}},BV=e=>{e._Mousewheel?.wheelHandler&&(e.removeEventListener(`wheel`,e[RV].wheelHandler),e[RV]=null)},VV={beforeMount(e,t){zV(e,t.value)},unmounted(e){BV(e)},updated(e,t){t.value!==t.oldValue&&zV(e,t.value)}},HV=1,UV=R({name:`ElTable`,directives:{Mousewheel:VV},components:{TableHeader:qB,TableBody:$B,TableFooter:nV,ElScrollbar:xC,hColgroup:sV},props:oV,emits:[`select`,`select-all`,`selection-change`,`cell-mouse-enter`,`cell-mouse-leave`,`cell-contextmenu`,`cell-click`,`cell-dblclick`,`row-click`,`row-contextmenu`,`row-dblclick`,`header-click`,`header-contextmenu`,`sort-change`,`filter-change`,`current-change`,`header-dragend`,`expand-change`,`scroll`],setup(e){let{t}=gb(),n=J(`table`),r=eo();Mi(VB,r);let i=MB(r,e);r.store=i;let a=new IB({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=a;let o=q(()=>(i.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,sort:h,updateKeyChildren:g}=rV(i),{isHidden:_,renderExpanded:v,setDragVisible:y,isGroup:b,handleMouseLeave:x,handleHeaderFooterMousewheel:S,tableSize:C,emptyBlockStyle:w,resizeProxyVisible:T,bodyWidth:E,resizeState:D,doLayout:O,tableBodyStyles:k,tableLayout:A,scrollbarViewStyle:ee,scrollbarStyle:te}=iV(e,a,i,r),{scrollBarRef:ne,scrollTo:re,setScrollLeft:ie,setScrollTop:ae}=cV(),oe=C_(O,50),se=`${n.namespace.value}-table_${HV++}`;r.tableId=se,r.state={isGroup:b,resizeState:D,doLayout:O,debouncedUpdateLayout:oe};let ce=q(()=>e.sumText??t(`el.table.sumText`)),le=q(()=>e.emptyText??t(`el.table.emptyText`)),ue=q(()=>GB(i.states.originColumns.value)[0]);return aV(r),Vr(()=>{oe.cancel()}),{ns:n,layout:a,store:i,columns:ue,handleHeaderFooterMousewheel:S,handleMouseLeave:x,tableId:se,tableSize:C,isHidden:_,isEmpty:o,renderExpanded:v,resizeProxyVisible:T,resizeState:D,isGroup:b,bodyWidth:E,tableBodyStyles:k,emptyBlockStyle:w,debouncedUpdateLayout:oe,setCurrentRow:s,getSelectionRows:c,toggleRowSelection:l,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:p,clearSort:m,doLayout:O,sort:h,updateKeyChildren:g,t,setDragVisible:y,context:r,computedSumText:ce,computedEmptyText:le,tableLayout:A,scrollbarViewStyle:ee,scrollbarStyle:te,scrollBarRef:ne,scrollTo:re,setScrollLeft:ie,setScrollTop:ae,allowDragLastColumn:e.allowDragLastColumn}}});function WV(e,t,n,r,i,a){let o=Yr(`hColgroup`),s=Yr(`table-header`),c=Yr(`table-body`),l=Yr(`table-footer`),u=Yr(`el-scrollbar`),d=Qr(`mousewheel`);return V(),H(`div`,{ref:`tableWrapper`,class:N([{[e.ns.m(`fit`)]:e.fit,[e.ns.m(`striped`)]:e.stripe,[e.ns.m(`border`)]:e.border||e.isGroup,[e.ns.m(`hidden`)]:e.isHidden,[e.ns.m(`group`)]:e.isGroup,[e.ns.m(`fluid-height`)]:e.maxHeight,[e.ns.m(`scrollable-x`)]:e.layout.scrollX.value,[e.ns.m(`scrollable-y`)]:e.layout.scrollY.value,[e.ns.m(`enable-row-hover`)]:!e.store.states.isComplex.value,[e.ns.m(`enable-row-transition`)]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:j(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[W(`div`,{ref:`tableInnerWrapper`,class:N(e.ns.e(`inner-wrapper`))},[W(`div`,{ref:`hiddenColumns`,class:`hidden-columns`},[z(e.$slots,`default`)],512),e.showHeader&&e.tableLayout===`fixed`?Yn((V(),H(`div`,{key:0,ref:`headerWrapper`,class:N(e.ns.e(`header-wrapper`))},[W(`table`,{ref:`tableHeader`,class:N(e.ns.e(`header`)),style:j(e.tableBodyStyles),border:`0`,cellpadding:`0`,cellspacing:`0`},[G(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),G(s,{ref:`tableHeaderRef`,border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,[`border`,`default-sort`,`store`,`append-filter-panel-to`,`allow-drag-last-column`,`onSetDragVisible`])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):K(`v-if`,!0),W(`div`,{ref:`bodyWrapper`,class:N(e.ns.e(`body-wrapper`))},[G(u,{ref:`scrollBarRef`,"view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,native:e.nativeScrollbar,onScroll:t=>e.$emit(`scroll`,t)},{default:L(()=>[W(`table`,{ref:`tableBody`,class:N(e.ns.e(`body`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:j({width:e.bodyWidth,tableLayout:e.tableLayout})},[G(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),e.showHeader&&e.tableLayout===`auto`?(V(),U(s,{key:0,ref:`tableHeaderRef`,class:N(e.ns.e(`body-header`)),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,[`class`,`border`,`default-sort`,`store`,`append-filter-panel-to`,`onSetDragVisible`])):K(`v-if`,!0),G(c,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,[`context`,`highlight`,`row-class-name`,`tooltip-effect`,`tooltip-options`,`row-style`,`store`,`stripe`]),e.showSummary&&e.tableLayout===`auto`?(V(),U(l,{key:1,class:N(e.ns.e(`body-footer`)),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`class`,`border`,`default-sort`,`store`,`sum-text`,`summary-method`])):K(`v-if`,!0)],6),e.isEmpty?(V(),H(`div`,{key:0,ref:`emptyBlock`,style:j(e.emptyBlockStyle),class:N(e.ns.e(`empty-block`))},[W(`span`,{class:N(e.ns.e(`empty-text`))},[z(e.$slots,`empty`,{},()=>[Wa(P(e.computedEmptyText),1)])],2)],6)):K(`v-if`,!0),e.$slots.append?(V(),H(`div`,{key:1,ref:`appendWrapper`,class:N(e.ns.e(`append-wrapper`))},[z(e.$slots,`append`)],2)):K(`v-if`,!0)]),_:3},8,[`view-style`,`wrap-style`,`always`,`tabindex`,`native`,`onScroll`])],2),e.showSummary&&e.tableLayout===`fixed`?Yn((V(),H(`div`,{key:1,ref:`footerWrapper`,class:N(e.ns.e(`footer-wrapper`))},[W(`table`,{class:N(e.ns.e(`footer`)),cellspacing:`0`,cellpadding:`0`,border:`0`,style:j(e.tableBodyStyles)},[G(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,[`columns`,`table-layout`]),G(l,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,[`border`,`default-sort`,`store`,`sum-text`,`summary-method`])],6)],2)),[[Zo,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):K(`v-if`,!0),e.border||e.isGroup?(V(),H(`div`,{key:2,class:N(e.ns.e(`border-left-patch`))},null,2)):K(`v-if`,!0)],2),Yn(W(`div`,{ref:`resizeProxy`,class:N(e.ns.e(`column-resize-proxy`))},null,2),[[Zo,e.resizeProxyVisible]])],46,[`data-prefix`,`onMouseleave`])}var GV=Hb(UV,[[`render`,WV],[`__file`,`table.vue`]]),KV={selection:`table-column--selection`,expand:`table__expand-column`},qV={default:{order:``},selection:{width:48,minWidth:48,realWidth:48,order:``},expand:{width:48,minWidth:48,realWidth:48,order:``},index:{width:48,minWidth:48,realWidth:48,order:``}},JV=e=>KV[e]||``,YV={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&e.states.data.value.length===0}return _o(Sk,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection??void 0,modelValue:e.states.isAllSelected.value,ariaLabel:e.t(`el.table.selectAllLabel`)})},renderCell({row:e,column:t,store:n,$index:r}){return _o(Sk,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit(`rowSelectedChanged`,e)},onClick:e=>e.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:n.t(`el.table.selectRowLabel`)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||`#`},renderCell({column:e,$index:t}){let n=t+1,r=e.index;return zv(r)?n=t+r:w(r)&&(n=r(t)),_o(`div`,{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||``},renderCell({column:e,row:t,store:n,expanded:r}){let{ns:i}=n,a=[i.e(`expand-icon`)];!e.renderExpand&&r&&a.push(i.em(`expand-icon`,`expanded`));let o=function(e){e.stopPropagation(),n.toggleRowExpansion(t)};return _o(`button`,{type:`button`,"aria-label":n.t(r?`el.table.collapseRowLabel`:`el.table.expandRowLabel`),"aria-expanded":r,class:a,onClick:o},{default:()=>e.renderExpand?[e.renderExpand({expanded:r})]:[_o(hx,null,{default:()=>[_o(yx)]})]})},sortable:!1,resizable:!1}};function XV({row:e,column:t,$index:n}){let r=t.property,i=r&&Ab(e,r).value;return t&&t.formatter?t.formatter(e,t,i,n):(i?.toString)?.call(i)||``}function ZV({row:e,treeNode:t,store:n},r=!1){let{ns:i}=n;if(!t)return r?[_o(`span`,{class:i.e(`placeholder`)})]:null;let a=[],o=function(r){r.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&a.push(_o(`span`,{class:i.e(`indent`),style:{"padding-left":`${t.indent}px`}})),Rv(t.expanded)&&!t.noLazyChildren){let e=[i.e(`expand-icon`),t.expanded?i.em(`expand-icon`,`expanded`):``],r=yx;t.loading&&(r=Wx),a.push(_o(`button`,{type:`button`,"aria-label":n.t(t.expanded?`el.table.collapseRowLabel`:`el.table.expandRowLabel`),"aria-expanded":t.expanded,class:e,onClick:o},{default:()=>[_o(hx,{class:i.is(`loading`,t.loading)},{default:()=>[_o(r)]})]}))}else a.push(_o(`span`,{class:i.e(`placeholder`)}));return a}function QV(e,t){return e.reduce((e,t)=>(e[t]=t,e),t)}function $V(e,t){let n=eo();return{registerComplexWatchers:()=>{let r=[`fixed`],i={realWidth:`width`,realMinWidth:`minWidth`},a=QV(r,i);Object.keys(a).forEach(r=>{let a=i[r];y(t,a)&&B(()=>t[a],t=>{let i=t;a===`width`&&r===`realWidth`&&(i=aB(t)),a===`minWidth`&&r===`realMinWidth`&&(i=oB(t)),n.columnConfig.value[a]=i,n.columnConfig.value[r]=i;let o=a===`fixed`;e.value.store.scheduleLayout(o)})})},registerNormalWatchers:()=>{let r=[`label`,`filters`,`filterMultiple`,`filteredValue`,`sortable`,`index`,`formatter`,`className`,`labelClassName`,`filterClassName`,`showOverflowTooltip`,`tooltipFormatter`,`resizable`],i=[`showOverflowTooltip`],a={property:`prop`,align:`realAlign`,headerAlign:`realHeaderAlign`},o=QV(r,a);Object.keys(o).forEach(e=>{let r=a[e];y(t,r)&&B(()=>t[r],t=>{n.columnConfig.value[e]=t,(e===`filters`||e===`filterMethod`)&&(n.columnConfig.value.filterable=!!(n.columnConfig.value.filters||n.columnConfig.value.filterMethod))})}),i.forEach(t=>{y(e.value.props,t)&&B(()=>e.value.props[t],e=>{n.columnConfig.value[t]=e})})}}}function eH(e,t,n){let r=eo(),i=F(``),a=F(!1),o=F(),s=F(),c=J(`table`);Ii(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),Ii(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});let l=q(()=>{let e=r.vnode.vParent||r.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e}),u=q(()=>{let{store:e}=r.parent;if(!e)return!1;let{treeData:t}=e.states,n=t.value;return n&&Object.keys(n).length>0}),d=F(aB(e.width)),f=F(oB(e.minWidth)),p=e=>(d.value&&(e.width=d.value),f.value&&(e.minWidth=f.value),!d.value&&f.value&&(e.width=void 0),e.minWidth||=80,e.realWidth=Number(Lv(e.width)?e.minWidth:e.width),e),m=e=>{let t=e.type,n=YV[t]||{};Object.keys(n).forEach(t=>{let r=n[t];t!==`className`&&!Lv(r)&&(e[t]=r)});let r=JV(t);if(r){let t=`${I(c.namespace)}-${r}`;e.className=e.className?`${e.className} ${t}`:t}return e},h=e=>{b(e)?e.forEach(e=>t(e)):t(e);function t(e){e?.type?.name===`ElTableColumn`&&(e.vParent=r)}};return{columnId:i,realAlign:o,isSubColumn:a,realHeaderAlign:s,columnOrTableParent:l,setColumnWidth:p,setColumnForcedProps:m,setColumnRenders:i=>{e.renderHeader||i.type!==`selection`&&(i.renderHeader=e=>{if(r.columnConfig.value.label,t.header){let n=t.header(e);if(xB(n))return _o(Da,n)}return Wa(i.label)}),t[`filter-icon`]&&(i.renderFilterIcon=e=>z(t,`filter-icon`,e)),t.expand&&(i.renderExpand=e=>z(t,`expand`,e));let a=i.renderCell;return i.type===`expand`?(i.renderCell=e=>_o(`div`,{class:`cell`},[a(e)]),n.value.renderExpanded=e=>t.default?t.default(e):t.default):(a||=XV,i.renderCell=e=>{let r=null;if(t.default){let n=t.default(e);r=n.some(e=>e.type!==ka)?n:a(e)}else r=a(e);let{columns:o}=n.value.store.states,s=o.value.findIndex(e=>e.type===`default`),l=ZV(e,u.value&&e.cellIndex===s),d={class:`cell`,style:{}};return i.showOverflowTooltip&&(d.class=`${d.class} ${I(c.namespace)}-tooltip`,d.style={width:`${(e.column.realWidth||Number(e.column.width))-1}px`}),h(r),_o(`div`,d,[l,r])}),i},getPropsData:(...t)=>t.reduce((t,n)=>(b(n)&&n.forEach(n=>{t[n]=e[n]}),t),{}),getColumnElIndex:(e,t)=>Array.prototype.indexOf.call(e,t),updateColumnOrder:()=>{n.value.store.commit(`updateColumnOrder`,r.columnConfig.value)}}}var tH={type:{type:String,default:`default`},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:``},minWidth:{type:[String,Number],default:``},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>[`ascending`,`descending`,null],validator:e=>e.every(e=>[`ascending`,`descending`,null].includes(e))}},nH=1,rH=R({name:`ElTableColumn`,components:{ElCheckbox:Sk},props:tH,setup(e,{slots:t}){let n=eo(),r=F({}),i=q(()=>{let e=n.parent;for(;e&&!e.tableId;)e=e.parent;return e}),{registerNormalWatchers:a,registerComplexWatchers:o}=$V(i,e),{columnId:s,isSubColumn:c,realHeaderAlign:l,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:p,getPropsData:m,getColumnElIndex:h,realAlign:g,updateColumnOrder:_}=eH(e,t,i),v=u.value;s.value=`${`tableId`in v&&v.tableId||`columnId`in v&&v.columnId}_column_${nH++}`,Lr(()=>{c.value=i.value!==v;let t=e.type||`default`,u=e.sortable===``?!0:e.sortable,h=t===`selection`?!1:Lv(e.showOverflowTooltip)?v.props.showOverflowTooltip:e.showOverflowTooltip,_=Lv(e.tooltipFormatter)?v.props.tooltipFormatter:e.tooltipFormatter,y={...qV[t],id:s.value,type:t,property:e.prop||e.property,align:g,headerAlign:l,showOverflowTooltip:h,tooltipFormatter:_,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:``,filterClassName:``,isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:u,index:e.index,rawColumnKey:n.vnode.key},b=m([`columnKey`,`label`,`className`,`labelClassName`,`type`,`renderHeader`,`formatter`,`fixed`,`resizable`],[`sortMethod`,`sortBy`,`sortOrders`],[`selectable`,`reserveSelection`],[`filterMethod`,`filters`,`filterMultiple`,`filterOpened`,`filteredValue`,`filterPlacement`,`filterClassName`]);b=iB(y,b),b=cB(p,d,f)(b),r.value=b,a(),o()}),Rr(()=>{let e=u.value,t=c.value?e.vnode.el?.children:e.refs.hiddenColumns?.children,a=()=>h(t||[],n.vnode.el);r.value.getColumnIndex=a,a()>-1&&i.value.store.commit(`insertColumn`,r.value,c.value?`columnConfig`in e&&e.columnConfig.value:null,_)}),Vr(()=>{let e=r.value.getColumnIndex;(e?e():-1)>-1&&i.value.store.commit(`removeColumn`,r.value,c.value?`columnConfig`in v&&v.columnConfig.value:null,_)}),n.columnId=s.value,n.columnConfig=r},render(){var e;try{let t=(e=this.$slots).default?.call(e,{row:{},column:{},$index:-1}),n=[];if(b(t))for(let e of t)e.type?.name===`ElTableColumn`||e.shapeFlag&2?n.push(e):e.type===Da&&b(e.children)&&e.children.forEach(e=>{e?.patchFlag!==1024&&!T(e?.children)&&n.push(e)});return _o(`div`,n)}catch{return _o(`div`,[])}}}),iH=lx(GV,{TableColumn:rH}),aH=fx(rH),oH=(e=>(e.ASC=`asc`,e.DESC=`desc`,e))(oH||{}),sH=(e=>(e.LEFT=`left`,e.CENTER=`center`,e.RIGHT=`right`,e))(sH||{}),cH=(e=>(e.LEFT=`left`,e.RIGHT=`right`,e))(cH||{}),lH={asc:`desc`,desc:`asc`},uH=Symbol(`placeholder`),dH=(e,t,n)=>{let r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(r.flexShrink=1);let i={...e.style??{},...r,flexBasis:`auto`,width:e.width};return t||(e.maxWidth&&(i.maxWidth=e.maxWidth),e.minWidth&&(i.minWidth=e.minWidth)),i};function fH(e,t,n){let r=q(()=>I(t).map((e,t)=>({...e,key:e.key??e.dataKey??t}))),i=q(()=>I(r).filter(e=>!e.hidden)),a=q(()=>I(i).filter(e=>e.fixed===`left`||e.fixed===!0)),o=q(()=>I(i).filter(e=>e.fixed===`right`)),s=q(()=>I(i).filter(e=>!e.fixed)),c=q(()=>{let e=[];return I(a).forEach(t=>{e.push({...t,placeholderSign:uH})}),I(s).forEach(t=>{e.push(t)}),I(o).forEach(t=>{e.push({...t,placeholderSign:uH})}),e}),l=q(()=>I(a).length||I(o).length),u=q(()=>I(r).reduce((t,r)=>(t[r.key]=dH(r,I(n),e.fixed),t),{})),d=q(()=>I(i).reduce((e,t)=>e+t.width,0)),f=e=>I(r).find(t=>t.key===e),p=e=>I(u)[e],m=(e,t)=>{e.width=t};function h(t){var n;let{key:r}=t.currentTarget.dataset;if(!r)return;let{sortState:i,sortBy:a}=e,o=oH.ASC;o=D(i)?lH[i[r]]:lH[a.order],(n=e.onColumnSort)==null||n.call(e,{column:f(r),key:r,order:o})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,hasFixedColumns:l,mainColumns:c,normalColumns:s,visibleColumns:i,getColumn:f,getColumnStyle:p,updateColumnWidth:m,onColumnSorted:h}}var pH=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{let a=F({scrollLeft:0,scrollTop:0});function o(e){var i,a,o;let{scrollTop:s}=e;(i=t.value)==null||i.scrollTo(e),(a=n.value)==null||a.scrollToTop(s),(o=r.value)==null||o.scrollToTop(s)}function s(e){a.value=e,o(e)}function c(e){a.value.scrollTop=e,o(I(a))}function l(e){var n,r;a.value.scrollLeft=e,(r=(n=t.value)?.scrollTo)==null||r.call(n,I(a))}function u(t){var n;s(t),(n=e.onScroll)==null||n.call(e,t)}function d({scrollTop:e}){let{scrollTop:t}=I(a);e!==t&&c(e)}function f(e,n=`auto`){var r;(r=t.value)==null||r.scrollToRow(e,n)}return B(()=>I(a).scrollTop,(e,t)=>{e>t&&i()}),{scrollPos:a,scrollTo:s,scrollToLeft:l,scrollToTop:c,scrollToRow:f,onScroll:u,onVerticalScroll:d}},mH=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:a,isScrolling:o})=>{let s=eo(),{emit:c}=s,l=on(!1),u=F(e.defaultExpandedRowKeys||[]),d=F(-1),f=on(null),p=F({}),m=F({}),h=on({}),g=on({}),_=on({}),v=q(()=>zv(e.estimatedRowHeight));function y(t){var n;(n=e.onRowsRendered)==null||n.call(e,t),t.rowCacheEnd>I(d)&&(d.value=t.rowCacheEnd)}function b({hovered:e,rowKey:t}){o.value||i.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(a.is(`hovered`)):t.classList.remove(a.is(`hovered`))})}function x({expanded:t,rowData:n,rowIndex:r,rowKey:o}){var s,l;let d=[...I(u)],f=d.indexOf(o);t?f===-1&&d.push(o):f>-1&&d.splice(f,1),u.value=d,c(`update:expandedRowKeys`,d),(s=e.onRowExpand)==null||s.call(e,{expanded:t,rowData:n,rowIndex:r,rowKey:o}),(l=e.onExpandedRowsChange)==null||l.call(e,d),i.vnode.el.querySelector(`.${a.is(`hovered`)}[rowkey="${String(o)}"]`)&&Ln(()=>b({hovered:!0,rowKey:o}))}let S=C_(()=>{var e,i,a,o;l.value=!0,p.value={...I(p),...I(m)},C(I(f),!1),m.value={},f.value=null,(e=t.value)==null||e.forceUpdate(),(i=n.value)==null||i.forceUpdate(),(a=r.value)==null||a.forceUpdate(),(o=s.proxy)==null||o.$forceUpdate(),l.value=!1},0);function C(e,i=!1){I(v)&&[t,n,r].forEach(t=>{let n=I(t);n&&n.resetAfterRowIndex(e,i)})}function w(e,t,n){let r=I(f);(r===null||r>n)&&(f.value=n),m.value[e]=t}function T({rowKey:e,height:t,rowIndex:n},r){r?r===cH.RIGHT?_.value[e]=t:h.value[e]=t:g.value[e]=t;let i=Math.max(...[h,_,g].map(t=>t.value[e]||0));I(p)[e]!==i&&(w(e,i,n),S())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:v,isResetting:l,rowHeights:p,resetAfterIndex:C,onRowExpanded:x,onRowHovered:b,onRowsRendered:y,onRowHeightChange:T}},hH=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{let i=F({}),a=q(()=>{let n={},{data:r,rowKey:a}=e,o=I(t);if(!o||!o.length)return r;let s=[],c=new Set;o.forEach(e=>c.add(e));let l=r.slice();for(l.forEach(e=>n[e[a]]=0);l.length>0;){let e=l.shift();s.push(e),c.has(e[a])&&b(e.children)&&e.children.length>0&&(l=[...e.children,...l],e.children.forEach(t=>n[t[a]]=n[e[a]]+1))}return i.value=n,s}),o=q(()=>{let{data:t,expandColumnKey:n}=e;return n?I(a):t});return B(o,(e,t)=>{e!==t&&(n.value=-1,r(0,!0))}),{data:o,depthMap:i}},gH=(e,t)=>e+t,_H=e=>b(e)?e.reduce(gH,0):e,vH=(e,t,n={})=>w(e)?e(t):e??n,yH=e=>([`width`,`maxWidth`,`minWidth`,`height`].forEach(t=>{e[t]=Qb(e[t])}),e),bH=e=>La(e)?t=>_o(e,t):e,xH=(e,{columnsTotalWidth:t,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{let a=q(()=>{let{fixed:n,width:r,vScrollbarSize:i}=e,a=r-i;return n?Math.max(Math.round(I(t)),a):a}),o=q(()=>{let{height:t=0,maxHeight:r=0,footerHeight:i,hScrollbarSize:a}=e;if(r>0){let e=I(f),t=I(n),o=I(d)+e+t+a;return Math.min(o,r-i)}return t-i}),s=q(()=>{let{maxHeight:t}=e,r=I(o);if(zv(t)&&t>0)return r;let i=I(n)+I(d)+I(f);return Math.min(r,i)}),c=e=>e.width,l=q(()=>_H(I(r).map(c))),u=q(()=>_H(I(i).map(c))),d=q(()=>_H(e.headerHeight)),f=q(()=>(e.fixedData?.length||0)*e.rowHeight),p=q(()=>I(o)-I(d)-I(f)),m=q(()=>{let{style:t={},height:n,width:r}=e;return yH({...t,height:n,width:r})});return{bodyWidth:a,fixedTableHeight:s,mainTableHeight:o,leftTableWidth:l,rightTableWidth:u,windowHeight:p,footerHeight:q(()=>yH({height:e.footerHeight})),emptyStyle:q(()=>({top:Qb(I(d)),bottom:Qb(e.footerHeight),width:Qb(e.width)})),rootStyle:m,headerHeight:d}};function SH(e){let t=F(),n=F(),r=F(),{columns:i,columnsStyles:a,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,hasFixedColumns:l,mainColumns:u,onColumnSorted:d}=fH(e,_n(e,`columns`),_n(e,`fixed`)),{scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_,scrollPos:v}=pH(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:M}),y=J(`table-v2`),x=eo(),S=on(!1),{expandedRowKeys:C,lastRenderedRowIndex:w,isDynamic:T,isResetting:E,rowHeights:D,resetAfterIndex:O,onRowExpanded:k,onRowHeightChange:A,onRowHovered:ee,onRowsRendered:te}=mH(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:x,ns:y,isScrolling:S}),{data:ne,depthMap:re}=hH(e,{expandedRowKeys:C,lastRenderedRowIndex:w,resetAfterIndex:O}),ie=q(()=>{let{estimatedRowHeight:t,rowHeight:n}=e,r=I(ne);return zv(t)?Object.values(I(D)).reduce((e,t)=>e+t,0):r.length*n}),{bodyWidth:ae,fixedTableHeight:oe,mainTableHeight:se,leftTableWidth:ce,rightTableWidth:le,windowHeight:ue,footerHeight:de,emptyStyle:fe,rootStyle:pe,headerHeight:me}=xH(e,{columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,rowsHeight:ie}),he=F(),ge=q(()=>{let t=I(ne).length===0;return b(e.fixedData)?e.fixedData.length===0&&t:t});function _e(t){let{estimatedRowHeight:n,rowHeight:r,rowKey:i}=e;return n?I(D)[I(ne)[t][i]]||n:r}let j=F(!1);function M(){let{onEndReached:t}=e;if(!t)return;let{scrollTop:n}=I(v),r=I(ie),i=r-(n+I(ue))+e.hScrollbarSize;!j.value&&I(w)>=0&&r<=n+I(se)-I(me)?(j.value=!0,t(i)):j.value=!1}return B(()=>I(ie),()=>j.value=!1),B(()=>e.expandedRowKeys,e=>C.value=e,{deep:!0}),{columns:i,containerRef:he,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:T,isResetting:E,isScrolling:S,hasFixedColumns:l,columnsStyles:a,columnsTotalWidth:o,data:ne,expandedRowKeys:C,depthMap:re,fixedColumnsOnLeft:s,fixedColumnsOnRight:c,mainColumns:u,bodyWidth:ae,emptyStyle:fe,rootStyle:pe,footerHeight:de,mainTableHeight:se,fixedTableHeight:oe,leftTableWidth:ce,rightTableWidth:le,showEmpty:ge,getRowHeight:_e,onColumnSorted:d,onRowHovered:ee,onRowExpanded:k,onRowsRendered:te,onRowHeightChange:A,scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:h,onScroll:g,onVerticalScroll:_}}var CH=Symbol(`tableV2`),wH=`tableV2GridScrollLeft`,TH=String,EH={type:Y(Array),required:!0};Object;var DH={type:Y(Array)},OH={...DH,required:!0},kH=String,AH={type:Y(Array),default:()=>MS([])},jH={type:Number,required:!0},MH={type:Y([String,Number,Symbol]),default:`id`},NH={type:Y(Object)},PH=X({class:String,columns:EH,columnsStyles:{type:Y(Object),required:!0},depth:Number,expandColumnKey:kH,estimatedRowHeight:{...FR.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Y(Function)},onRowHover:{type:Y(Function)},onRowHeightChange:{type:Y(Function)},rowData:{type:Y(Object),required:!0},rowEventHandlers:{type:Y(Object)},rowIndex:{type:Number,required:!0},rowKey:MH,style:{type:Y(Object)}}),FH={type:Number,required:!0},IH=X({class:String,columns:EH,fixedHeaderData:{type:Y(Array)},headerData:{type:Y(Array),required:!0},headerHeight:{type:Y([Number,Array]),default:50},rowWidth:FH,rowHeight:{type:Number,default:50},height:FH,width:FH}),LH=X({columns:EH,data:OH,fixedData:DH,estimatedRowHeight:PH.estimatedRowHeight,width:jH,height:jH,headerWidth:jH,headerHeight:IH.headerHeight,bodyWidth:jH,rowHeight:jH,cache:jR.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:FR.scrollbarAlwaysOn,scrollbarStartGap:FR.scrollbarStartGap,scrollbarEndGap:FR.scrollbarEndGap,class:TH,style:NH,containerStyle:NH,getRowHeight:{type:Y(Function),required:!0},rowKey:PH.rowKey,onRowsRendered:{type:Y(Function)},onScroll:{type:Y(Function)}}),RH=X({cache:LH.cache,estimatedRowHeight:PH.estimatedRowHeight,rowKey:MH,headerClass:{type:Y([String,Function])},headerProps:{type:Y([Object,Function])},headerCellProps:{type:Y([Object,Function])},headerHeight:IH.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Y([String,Function])},rowProps:{type:Y([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Y([Object,Function])},columns:EH,data:OH,dataGetter:{type:Y(Function)},fixedData:DH,expandColumnKey:PH.expandColumnKey,expandedRowKeys:AH,defaultExpandedRowKeys:AH,class:TH,fixed:Boolean,style:{type:Y(Object)},width:jH,height:jH,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:FR.hScrollbarSize,vScrollbarSize:FR.vScrollbarSize,scrollbarAlwaysOn:IR.alwaysOn,sortBy:{type:Y(Object),default:()=>({})},sortState:{type:Y(Object),default:void 0},onColumnSort:{type:Y(Function)},onExpandedRowsChange:{type:Y(Function)},onEndReached:{type:Y(Function)},onRowExpand:PH.onRowExpand,onScroll:LH.onScroll,onRowsRendered:LH.onRowsRendered,rowEventHandlers:PH.rowEventHandlers}),zH=R({name:`ElTableV2Header`,props:IH,setup(e,{slots:t,expose:n}){let r=J(`table-v2`),i=Ni(wH),a=F(),o=q(()=>yH({width:e.width,height:e.height})),s=q(()=>yH({width:e.rowWidth,height:e.height})),c=q(()=>Lp(I(e.headerHeight))),l=e=>{let t=I(a);Ln(()=>{t!=null&&t.scroll&&t.scroll({left:e})})},u=()=>{let n=r.e(`fixed-header-row`),{columns:i,fixedHeaderData:a,rowHeight:o}=e;return a?.map((e,r)=>{let a=yH({height:o,width:`100%`});return t.fixed?.call(t,{class:n,columns:i,rowData:e,rowIndex:-(r+1),style:a})})},d=()=>{let n=r.e(`dynamic-header-row`),{columns:i}=e;return I(c).map((e,r)=>{let a=yH({width:`100%`,height:e});return t.dynamic?.call(t,{class:n,columns:i,headerIndex:r,style:a})})};return Br(()=>{i?.value&&l(i.value)}),n({scrollToLeft:l}),()=>{if(!(e.height<=0))return G(`div`,{ref:a,class:e.class,style:I(o),role:`rowgroup`},[G(`div`,{style:I(s),class:r.e(`header`)},[d(),u()])])}}}),BH=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},i)=>{let a=null,o=0,s=0,c=(i,a)=>{let o=i<=0&&t.value||i>=0&&e.value,s=a<=0&&r.value||a>=0&&n.value;return o&&s};return{hasReachedEdge:c,onWheel:e=>{Gb(a);let t=e.deltaX,n=e.deltaY;Math.abs(t)>Math.abs(n)?n=0:t=0,e.shiftKey&&n!==0&&(t=n,n=0),!(c(o,s)&&c(o+t,s+n))&&(o+=t,s+=n,e.preventDefault(),a=Wb(()=>{i(o,s),o=0,s=0}))}}},VH=(e,t,n,r,i,a,o)=>{let s=F(0),c=F(0),l,u=0,d=0,f=e=>{Gb(l),s.value=e.touches[0].clientX,c.value=e.touches[0].clientY,u=0,d=0},p=e=>{e.preventDefault(),Gb(l),u+=s.value-e.touches[0].clientX,d+=c.value-e.touches[0].clientY,s.value=e.touches[0].clientX,c.value=e.touches[0].clientY,l=Wb(()=>{let e=r.value-I(a),s=i.value-I(o);n({scrollLeft:Math.min(t.value.scrollLeft+u,e),scrollTop:Math.min(t.value.scrollTop+d,s)}),u=0,d=0})};return Ty(e,`touchstart`,f,{passive:!0}),Ty(e,`touchmove`,p,{passive:!1}),{touchStartX:s,touchStartY:c,handleTouchStart:f,handleTouchMove:p}},HH=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:c,getRowPosition:l,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:p,validateProps:m})=>R({name:e??`ElVirtualList`,props:FR,emits:[cR,lR],setup(e,{emit:h,expose:g,slots:_}){let v=J(`vl`);m(e);let b=eo(),x=F(f(e,b));p?.(b,x);let S=F(),C=F(),w=F(),E=F(),D=F({isScrolling:!1,scrollLeft:zv(e.initScrollLeft)?e.initScrollLeft:0,scrollTop:zv(e.initScrollTop)?e.initScrollTop:0,updateRequested:!1,xAxisScrollDir:uR,yAxisScrollDir:uR}),O=sR(),k=q(()=>Number.parseInt(`${e.height}`,10)),A=q(()=>Number.parseInt(`${e.width}`,10)),ee=q(()=>{let{totalColumn:t,totalRow:n,columnCache:a}=e,{isScrolling:o,xAxisScrollDir:s,scrollLeft:c}=I(D);if(t===0||n===0)return[0,0,0,0];let l=r(e,c,I(x)),u=i(e,l,c,I(x)),d=!o||s===`backward`?Math.max(1,a):1,f=!o||s===`forward`?Math.max(1,a):1;return[Math.max(0,l-d),Math.max(0,Math.min(t-1,u+f)),l,u]}),te=q(()=>{let{totalColumn:t,totalRow:n,rowCache:r}=e,{isScrolling:i,yAxisScrollDir:a,scrollTop:o}=I(D);if(t===0||n===0)return[0,0,0,0];let s=u(e,o,I(x)),c=d(e,s,o,I(x)),l=!i||a===`backward`?Math.max(1,r):1,f=!i||a===`forward`?Math.max(1,r):1;return[Math.max(0,s-l),Math.max(0,Math.min(n-1,c+f)),s,c]}),ne=q(()=>a(e,I(x))),re=q(()=>o(e,I(x))),ie=q(()=>[{position:`relative`,overflow:`hidden`,WebkitOverflowScrolling:`touch`,willChange:`transform`},{direction:e.direction,height:zv(e.height)?`${e.height}px`:e.height,width:zv(e.width)?`${e.width}px`:e.width},e.style??{}]),ae=q(()=>{let e=`${I(re)}px`;return{height:`${I(ne)}px`,pointerEvents:I(D).isScrolling?`none`:void 0,width:e,margin:0,boxSizing:`border-box`}}),oe=()=>{let{totalColumn:t,totalRow:n}=e;if(t>0&&n>0){let[e,t,n,r]=I(ee),[i,a,o,s]=I(te);h(cR,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:i,rowCacheEnd:a,columnVisibleStart:n,columnVisibleEnd:r,rowVisibleStart:o,rowVisibleEnd:s})}let{scrollLeft:r,scrollTop:i,updateRequested:a,xAxisScrollDir:o,yAxisScrollDir:s}=I(D);h(lR,{xAxisScrollDir:o,scrollLeft:r,yAxisScrollDir:s,scrollTop:i,updateRequested:a})},se=t=>{let{clientHeight:n,clientWidth:r,scrollHeight:i,scrollLeft:a,scrollTop:o,scrollWidth:s}=t.currentTarget,c=I(D);if(c.scrollTop===o&&c.scrollLeft===a)return;let l=a;if(zR(e.direction))switch(VR()){case _R:l=-a;break;case yR:l=s-r-a;break}D.value={...c,isScrolling:!0,scrollLeft:l,scrollTop:Math.max(0,Math.min(o,i-n)),updateRequested:!0,xAxisScrollDir:LR(c.scrollLeft,l),yAxisScrollDir:LR(c.scrollTop,o)},Ln(()=>j()),M(),oe()},ce=(e,t)=>{let n=I(k),r=(ne.value-n)/t*e;de({scrollTop:Math.min(ne.value-n,r)})},le=(e,t)=>{let n=I(A),r=(re.value-n)/t*e;de({scrollLeft:Math.min(re.value-n,r)})},{onWheel:ue}=BH({atXStartEdge:q(()=>D.value.scrollLeft<=0),atXEndEdge:q(()=>D.value.scrollLeft>=re.value-I(A)),atYStartEdge:q(()=>D.value.scrollTop<=0),atYEndEdge:q(()=>D.value.scrollTop>=ne.value-I(k))},(e,t)=>{var n,r,i,a;(r=(n=C.value)?.onMouseUp)==null||r.call(n),(a=(i=w.value)?.onMouseUp)==null||a.call(i);let o=I(A),s=I(k);de({scrollLeft:Math.min(D.value.scrollLeft+e,re.value-o),scrollTop:Math.min(D.value.scrollTop+t,ne.value-s)})});Ty(S,`wheel`,ue,{passive:!1});let de=({scrollLeft:e=D.value.scrollLeft,scrollTop:t=D.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);let n=I(D);t===n.scrollTop&&e===n.scrollLeft||(D.value={...n,xAxisScrollDir:LR(n.scrollLeft,e),yAxisScrollDir:LR(n.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},Ln(()=>j()),M(),oe())},{touchStartX:fe,touchStartY:pe,handleTouchStart:me,handleTouchMove:he}=VH(S,D,de,re,ne,A,k),ge=(t=0,n=0,r=fR)=>{let i=I(D);n=Math.max(0,Math.min(n,e.totalColumn-1)),t=Math.max(0,Math.min(t,e.totalRow-1));let l=nx(v.namespace.value),u=I(x),d=a(e,u),f=o(e,u);de({scrollLeft:s(e,n,r,i.scrollLeft,u,f>e.width?l:0),scrollTop:c(e,t,r,i.scrollTop,u,d>e.height?l:0)})},_e=(r,i)=>{let{columnWidth:a,direction:o,rowHeight:s}=e,c=O.value(t&&a,t&&s,t&&o),u=`${r},${i}`;if(y(c,u))return c[u];{let[,t]=n(e,i,I(x)),a=I(x),s=zR(o),[d,f]=l(e,r,a),[p]=n(e,i,a);return c[u]={position:`absolute`,left:s?void 0:`${t}px`,right:s?`${t}px`:void 0,top:`${f}px`,height:`${d}px`,width:`${p}px`},c[u]}},j=()=>{D.value.isScrolling=!1,Ln(()=>{O.value(-1,null,null)})};Rr(()=>{if(!ty)return;let{initScrollLeft:t,initScrollTop:n}=e,r=I(S);r&&(zv(t)&&(r.scrollLeft=t),zv(n)&&(r.scrollTop=n)),oe()});let M=()=>{let{direction:t}=e,{scrollLeft:n,scrollTop:r,updateRequested:i}=I(D),a=I(S);if(i&&a){if(t===`rtl`)switch(VR()){case _R:a.scrollLeft=-n;break;case vR:a.scrollLeft=n;break;default:{let{clientWidth:e,scrollWidth:t}=a;a.scrollLeft=t-e-n;break}}else a.scrollLeft=Math.max(0,n);a.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:ve,resetAfterRowIndex:ye,resetAfter:be}=b.proxy;g({windowRef:S,innerRef:E,getItemStyleCache:O,touchStartX:fe,touchStartY:pe,handleTouchStart:me,handleTouchMove:he,scrollTo:de,scrollToItem:ge,states:D,resetAfterColumnIndex:ve,resetAfterRowIndex:ye,resetAfter:be});let N=()=>{let{scrollbarAlwaysOn:t,scrollbarStartGap:n,scrollbarEndGap:r,totalColumn:i,totalRow:a}=e,o=I(A),s=I(k),c=I(re),l=I(ne),{scrollLeft:u,scrollTop:d}=I(D);return{horizontalScrollbar:_o(UR,{ref:C,alwaysOn:t,startGap:n,endGap:r,class:v.e(`horizontal`),clientSize:o,layout:`horizontal`,onScroll:le,ratio:o*100/c,scrollFrom:u/(c-o),total:a,visible:!0}),verticalScrollbar:_o(UR,{ref:w,alwaysOn:t,startGap:n,endGap:r,class:v.e(`vertical`),clientSize:s,layout:`vertical`,onScroll:ce,ratio:s*100/l,scrollFrom:d/(l-s),total:i,visible:!0})}},xe=()=>{let[t,n]=I(ee),[r,i]=I(te),{data:a,totalColumn:o,totalRow:s,useIsScrolling:c,itemKey:l}=e,u=[];if(s>0&&o>0)for(let e=r;e<=i;e++)for(let r=t;r<=n;r++){let t=l({columnIndex:r,data:a,rowIndex:e});u.push(_o(Da,{key:t},_.default?.call(_,{columnIndex:r,data:a,isScrolling:c?I(D).isScrolling:void 0,style:_e(e,r),rowIndex:e})))}return u},Se=()=>{let t=Zr(e.innerElement),n=xe();return[_o(t,Ja(e.innerProps,{style:I(ae),ref:E}),T(t)?n:{default:()=>n})]};return()=>{let t=Zr(e.containerElement),{horizontalScrollbar:n,verticalScrollbar:r}=N(),i=Se();return _o(`div`,{key:0,class:v.e(`wrapper`),role:e.role},[_o(t,{class:e.className,style:I(ie),onScroll:se,ref:S},T(t)?i:{default:()=>i}),n,r])}}}),{max:UH,min:WH,floor:GH}=Math,KH={column:`columnWidth`,row:`rowHeight`},qH={column:`lastVisitedColumnIndex`,row:`lastVisitedRowIndex`},JH=(e,t,n,r)=>{let[i,a,o]=[n[r],e[KH[r]],n[qH[r]]];if(t>o){let e=0;if(o>=0){let t=i[o];e=t.offset+t.size}for(let n=o+1;n<=t;n++){let t=a(n);i[n]={offset:e,size:t},e+=t}n[qH[r]]=t}return i[t]},YH=(e,t,n,r,i,a)=>{for(;n<=r;){let o=n+GH((r-n)/2),s=JH(e,o,t,a).offset;if(s===i)return o;s<i?n=o+1:r=o-1}return UH(0,n-1)},XH=(e,t,n,r,i)=>{let a=i===`column`?e.totalColumn:e.totalRow,o=1;for(;n<a&&JH(e,n,t,i).offset<r;)n+=o,o*=2;return YH(e,t,GH(n/2),WH(n,a-1),r,i)},ZH=(e,t,n,r)=>{let[i,a]=[t[r],t[qH[r]]];return(a>0?i[a].offset:0)>=n?YH(e,t,0,a,n,r):XH(e,t,UH(0,a),n,r)},QH=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=e&&(n=e-1),n>=0){let e=r[n];i=e.offset+e.size}let a=(e-n-1)*t;return i+a},$H=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>e&&(r=e-1),r>=0){let e=t[r];i=e.offset+e.size}let a=(e-r-1)*n;return i+a},eU={column:$H,row:QH},tU=(e,t,n,r,i,a,o)=>{let[s,c]=[a===`row`?e.height:e.width,eU[a]],l=JH(e,t,i,a),u=UH(0,WH(c(e,i)-s,l.offset)),d=UH(0,l.offset-s+o+l.size);switch(n===`smart`&&(n=r>=d-s&&r<=u+s?fR:mR),n){case pR:return u;case`end`:return d;case mR:return Math.round(d+(u-d)/2);case fR:default:return r>=d&&r<=u?r:d>u||r<d?d:u}},nU=HH({name:`ElDynamicSizeGrid`,getColumnPosition:(e,t,n)=>{let r=JH(e,t,n,`column`);return[r.size,r.offset]},getRowPosition:(e,t,n)=>{let r=JH(e,t,n,`row`);return[r.size,r.offset]},getColumnOffset:(e,t,n,r,i,a)=>tU(e,t,n,r,i,`column`,a),getRowOffset:(e,t,n,r,i,a)=>tU(e,t,n,r,i,`row`,a),getColumnStartIndexForOffset:(e,t,n)=>ZH(e,n,t,`column`),getColumnStopIndexForStartIndex:(e,t,n,r)=>{let i=JH(e,t,r,`column`),a=n+e.width,o=i.offset+i.size,s=t;for(;s<e.totalColumn-1&&o<a;)s++,o+=JH(e,t,r,`column`).size;return s},getEstimatedTotalHeight:QH,getEstimatedTotalWidth:$H,getRowStartIndexForOffset:(e,t,n)=>ZH(e,n,t,`row`),getRowStopIndexForStartIndex:(e,t,n,r)=>{let{totalRow:i,height:a}=e,o=JH(e,t,r,`row`),s=n+a,c=o.size+o.offset,l=t;for(;l<i-1&&c<s;)l++,c+=JH(e,l,r,`row`).size;return l},injectToInstance:(e,t)=>{let n=({columnIndex:n,rowIndex:r},i)=>{var a,o;i=Lv(i)?!0:i,zv(n)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,n-1)),zv(r)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,r-1)),(a=e.exposed)==null||a.getItemStyleCache.value(-1,null,null),i&&((o=e.proxy)==null||o.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{n({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{n({rowIndex:e},t)},resetAfter:n})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),rU=HH({name:`ElFixedSizeGrid`,getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,i,a,o,s)=>{n=Number(n);let c=Math.max(0,e*t-n),l=Math.min(c,r*t),u=Math.max(0,r*t-n+s+t);switch(i===`smart`&&(i=a>=u-n&&a<=l+n?fR:mR),i){case pR:return l;case`end`:return u;case mR:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(n/2)?0:e>c+Math.floor(n/2)?c:e}case fR:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,i,a,o,s)=>{t=Number(t);let c=Math.max(0,n*e-t),l=Math.min(c,r*e),u=Math.max(0,r*e-t+s+e);switch(i===`smart`&&(i=a>=u-t&&a<=l+t?fR:mR),i){case pR:return l;case`end`:return u;case mR:{let e=Math.round(u+(l-u)/2);return e<Math.ceil(t/2)?0:e>c+Math.floor(t/2)?c:e}case fR:default:return a>=u&&a<=l?a:u>l||a<u?u:l}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,i)=>{let a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>void 0,clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),iU=`ElTableV2Grid`,aU=e=>{let t=F(),n=F(),r=F(0),i=q(()=>{let{data:t,rowHeight:n,estimatedRowHeight:r}=e;if(!r)return t.length*n}),a=q(()=>{let{fixedData:t,rowHeight:n}=e;return(t?.length||0)*n}),o=q(()=>_H(e.headerHeight)),s=q(()=>{let{height:t}=e;return Math.max(0,t-I(o)-I(a))}),c=q(()=>I(o)+I(a)>0),l=({data:t,rowIndex:n})=>t[n][e.rowKey];function u({rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i}){var a;(a=e.onRowsRendered)==null||a.call(e,{rowCacheStart:t,rowCacheEnd:n,rowVisibleStart:r,rowVisibleEnd:i})}function d(e,t){var r;(r=n.value)==null||r.resetAfterRowIndex(e,t)}function f(e,i){let a=I(t),o=I(n);D(e)?(a?.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,o?.scrollTo(e)):(a?.scrollToLeft(e),r.value=e,o?.scrollTo({scrollLeft:e,scrollTop:i}))}function p(e){var t;(t=I(n))==null||t.scrollTo({scrollTop:e})}function m(e,t){var r;(r=I(n))==null||r.scrollToItem(e,1,t)}function h(){var e,r;(e=I(n))==null||e.$forceUpdate(),(r=I(t))==null||r.$forceUpdate()}return B(()=>e.bodyWidth,()=>{var t;zv(e.estimatedRowHeight)&&((t=n.value)==null||t.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:h,fixedRowHeight:a,gridHeight:s,hasHeader:c,headerHeight:o,headerRef:t,totalHeight:i,itemKey:l,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:p,scrollToRow:m,scrollLeft:r}},oU=R({name:iU,props:LH,setup(e,{slots:t,expose:n}){let{ns:r}=Ni(CH),{bodyRef:i,fixedRowHeight:a,gridHeight:o,hasHeader:s,headerRef:c,headerHeight:l,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:p,resetAfterRowIndex:m,scrollTo:h,scrollToTop:g,scrollToRow:_,scrollLeft:v}=aU(e);Mi(wH,v),jr(async()=>{await Ln();let e=i.value?.states.scrollTop;e&&g(Math.round(e)+1)}),n({forceUpdate:d,totalHeight:u,scrollTo:h,scrollToTop:g,scrollToRow:_,resetAfterRowIndex:m});let y=()=>e.bodyWidth;return()=>{let{cache:n,columns:u,data:d,fixedData:m,useIsScrolling:h,scrollbarAlwaysOn:g,scrollbarEndGap:_,scrollbarStartGap:v,style:b,rowHeight:x,bodyWidth:S,estimatedRowHeight:C,headerWidth:w,height:T,width:E,getRowHeight:D,onScroll:O}=e,k=zv(C),A=k?nU:rU,ee=I(l);return G(`div`,{role:`table`,class:[r.e(`table`),e.class],style:b},[G(A,{ref:i,data:d,useIsScrolling:h,itemKey:f,columnCache:0,columnWidth:k?y:S,totalColumn:1,totalRow:d.length,rowCache:n,rowHeight:k?D:x,width:E,height:I(o),class:r.e(`body`),role:`rowgroup`,scrollbarStartGap:v,scrollbarEndGap:_,scrollbarAlwaysOn:g,onScroll:O,onItemRendered:p,perfMode:!1},{default:e=>{let n=d[e.rowIndex];return t.row?.call(t,{...e,columns:u,rowData:n})}}),I(s)&&G(zH,{ref:c,class:r.e(`header-wrapper`),columns:u,headerData:d,headerHeight:e.headerHeight,fixedHeaderData:m,rowWidth:w,rowHeight:x,width:E,height:Math.min(ee+I(a),T)},{dynamic:t.header,fixed:t.row})])}}});function sU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var cU=(e,{slots:t})=>{let{mainTableRef:n,...r}=e;return G(oU,Ja({ref:n},r),sU(t)?t:{default:()=>[t]})};function lU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var uU=(e,{slots:t})=>{if(!e.columns.length)return;let{leftTableRef:n,...r}=e;return G(oU,Ja({ref:n},r),lU(t)?t:{default:()=>[t]})};function dU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var fU=(e,{slots:t})=>{if(!e.columns.length)return;let{rightTableRef:n,...r}=e;return G(oU,Ja({ref:n},r),dU(t)?t:{default:()=>[t]})},pU=e=>{let{isScrolling:t}=Ni(CH),n=F(!1),r=F(),i=q(()=>zv(e.estimatedRowHeight)&&e.rowIndex>=0),a=(t=!1)=>{let i=I(r);if(!i)return;let{columns:a,onRowHeightChange:o,rowKey:s,rowIndex:c,style:l}=e,{height:u}=i.getBoundingClientRect();n.value=!0,Ln(()=>{if(t||u!==Number.parseInt(l.height)){let e=a[0],t=e?.placeholderSign===uH;o?.({rowKey:s,height:u,rowIndex:c},e&&!t&&e.fixed)}})},o=q(()=>{let{rowData:t,rowIndex:n,rowKey:r,onRowHover:i}=e,a=e.rowEventHandlers||{},o={};return Object.entries(a).forEach(([e,i])=>{w(i)&&(o[e]=e=>{i({event:e,rowData:t,rowIndex:n,rowKey:r})})}),i&&[{name:`onMouseleave`,hovered:!1},{name:`onMouseenter`,hovered:!0}].forEach(({name:e,hovered:a})=>{let s=o[e];o[e]=e=>{i({event:e,hovered:a,rowData:t,rowIndex:n,rowKey:r}),s?.(e)}}),o});return Rr(()=>{I(i)&&a(!0)}),{isScrolling:t,measurable:i,measured:n,rowRef:r,eventHandlers:o,onExpand:t=>{let{onRowExpand:n,rowData:r,rowIndex:i,rowKey:a}=e;n?.({expanded:t,rowData:r,rowIndex:i,rowKey:a})}}},mU=R({name:`ElTableV2TableRow`,props:PH,setup(e,{expose:t,slots:n,attrs:r}){let{eventHandlers:i,isScrolling:a,measurable:o,measured:s,rowRef:c,onExpand:l}=pU(e);return t({onExpand:l}),()=>{let{columns:t,columnsStyles:u,expandColumnKey:d,depth:f,rowData:p,rowIndex:m,style:h}=e,g=t.map((e,r)=>{let i=b(p.children)&&p.children.length>0&&e.key===d;return n.cell({column:e,columns:t,columnIndex:r,depth:f,style:u[e.key],rowData:p,rowIndex:m,isScrolling:I(a),expandIconProps:i?{rowData:p,rowIndex:m,onExpand:l}:void 0})});if(n.row&&(g=n.row({cells:g.map(e=>b(e)&&e.length===1?e[0]:e),style:h,columns:t,depth:f,rowData:p,rowIndex:m,isScrolling:I(a)})),I(o)){let{height:t,...n}=h||{},a=I(s);return G(`div`,Ja({ref:c,class:e.class,style:a?h:n,role:`row`},r,I(i)),[g])}return G(`div`,Ja(r,{ref:c,class:e.class,style:h,role:`row`},I(i)),[g])}}});function hU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var gU=(e,{slots:t})=>{let{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:c,rowData:l,rowIndex:u,style:d,isScrolling:f,rowProps:p,rowClass:m,rowKey:h,rowEventHandlers:g,ns:_,onRowHovered:v,onRowExpanded:y}=e,b=vH(m,{columns:n,rowData:l,rowIndex:u},``),x=vH(p,{columns:n,rowData:l,rowIndex:u}),S=l[h],C=i[S]||0,w=!!a,T=u<0,E=[_.e(`row`),b,_.is(`expanded`,w&&o.includes(S)),_.is(`fixed`,!C&&T),_.is(`customized`,!!t.row),{[_.e(`row-depth-${C}`)]:w&&u>=0}],D=c?v:void 0;return G(mU,Ja({...x,columns:n,columnsStyles:r,class:E,depth:C,expandColumnKey:a,estimatedRowHeight:T?void 0:s,isScrolling:f,rowIndex:u,rowData:l,rowKey:S,rowEventHandlers:g,style:d},{onRowExpand:y,onMouseenter:e=>{D?.({hovered:!0,rowKey:S,event:e,rowData:l,rowIndex:u})},onMouseleave:e=>{D?.({hovered:!1,rowKey:S,event:e,rowData:l,rowIndex:u})},rowkey:S}),hU(t)?t:{default:()=>[t]})},_U=(e,{slots:t})=>{let{cellData:n,style:r}=e,i=(n?.toString)?.call(n)||``,a=z(t,`default`,e,()=>[i]);return G(`div`,{class:e.class,title:i,style:r},[a])};_U.displayName=`ElTableV2Cell`,_U.inheritAttrs=!1;var vU=_U,yU=e=>{let{expanded:t,expandable:n,onExpand:r,style:i,size:a}=e;return G(hx,Ja({onClick:n?()=>r(!t):void 0,class:e.class},{size:a,style:i}),{default:()=>[G(yx,null,null)]})},bU=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:i,isScrolling:a,rowData:o,rowIndex:s,style:c,expandedRowKeys:l,ns:u,cellProps:d,expandColumnKey:f,indentSize:p,iconSize:m,rowKey:h},{slots:g})=>{let _=yH(c);if(t.placeholderSign===uH)return G(`div`,{class:u.em(`row-cell`,`placeholder`),style:_},null);let{cellRenderer:v,dataKey:y,dataGetter:b}=t,x=w(b)?b({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):mp(o,y??``),S=vH(d,{cellData:x,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),C={class:u.e(`cell-text`),columns:e,column:t,columnIndex:n,cellData:x,isScrolling:a,rowData:o,rowIndex:s},T=bH(v),E=T?T(C):z(g,`default`,C,()=>[G(vU,C,null)]),O=[u.e(`row-cell`),t.class,t.align===sH.CENTER&&u.is(`align-center`),t.align===sH.RIGHT&&u.is(`align-right`)],k=s>=0&&f&&t.key===f,A=s>=0&&l.includes(o[h]),ee,te=`margin-inline-start: ${r*p}px;`;return k&&(ee=D(i)?G(yU,Ja(i,{class:[u.e(`expand-icon`),u.is(`expanded`,A)],size:m,expanded:A,style:te,expandable:!0}),null):G(`div`,{style:[te,`width: ${m}px; height: ${m}px;`].join(` `)},null)),G(`div`,Ja({class:O,style:_},S,{role:`cell`}),[ee,E])};bU.inheritAttrs=!1;var xU=bU,SU=R({name:`ElTableV2HeaderRow`,props:X({class:String,columns:EH,columnsStyles:{type:Y(Object),required:!0},headerIndex:Number,style:{type:Y(Object)}}),setup(e,{slots:t}){return()=>{let{columns:n,columnsStyles:r,headerIndex:i,style:a}=e,o=n.map((e,a)=>t.cell({columns:n,column:e,columnIndex:a,headerIndex:i,style:r[e.key]}));return t.header&&(o=t.header({cells:o.map(e=>b(e)&&e.length===1?e[0]:e),columns:n,headerIndex:i})),G(`div`,{class:e.class,style:a,role:`row`},[o])}}});function CU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var wU=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:i,headerProps:a,ns:o},{slots:s})=>{let c={columns:e,headerIndex:n},l=[o.e(`header-row`),vH(i,c,``),o.is(`customized`,!!s.header)];return G(SU,{...vH(a,c),columnsStyles:t,class:l,columns:e,headerIndex:n,style:r},CU(s)?s:{default:()=>[s]})},TU=(e,{slots:t})=>z(t,`default`,e,()=>[G(`div`,{class:e.class,title:e.column?.title},[e.column?.title])]);TU.displayName=`ElTableV2HeaderCell`,TU.inheritAttrs=!1;var EU=TU,DU=e=>{let{sortOrder:t}=e;return G(hx,{size:14,class:e.class},{default:()=>[t===oH.ASC?G(oS,null,null):G(aS,null,null)]})},OU=(e,{slots:t})=>{let{column:n,ns:r,style:i,onColumnSorted:a}=e,o=yH(i);if(n.placeholderSign===uH)return G(`div`,{class:r.em(`header-row-cell`,`placeholder`),style:o},null);let{headerCellRenderer:s,headerClass:c,sortable:l}=n,u={...e,class:r.e(`header-cell-text`)},d=bH(s),f=d?d(u):z(t,`default`,u,()=>[G(EU,u,null)]),{sortBy:p,sortState:m,headerCellProps:h}=e,g,_;if(m){let e=m[n.key];g=!!lH[e],_=g?e:oH.ASC}else g=n.key===p.key,_=g?p.order:oH.ASC;let v=[r.e(`header-cell`),vH(c,e,``),n.align===sH.CENTER&&r.is(`align-center`),n.align===sH.RIGHT&&r.is(`align-right`),l&&r.is(`sortable`)];return G(`div`,Ja({...vH(h,e),onClick:n.sortable?a:void 0,class:v,style:o,"data-key":n.key},{role:`columnheader`}),[f,l&&G(DU,{class:[r.e(`sort-icon`),g&&r.is(`sorting`)],sortOrder:_},null)])},kU=(e,{slots:t})=>G(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);kU.displayName=`ElTableV2Footer`;var AU=kU,jU=(e,{slots:t})=>{let n=z(t,`default`,{},()=>[G(TP,null,null)]);return G(`div`,{class:e.class,style:e.style},[n])};jU.displayName=`ElTableV2Empty`;var MU=jU,NU=(e,{slots:t})=>G(`div`,{class:e.class,style:e.style},[t.default?.call(t)]);NU.displayName=`ElTableV2Overlay`;var PU=NU;function FU(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Object]`&&!La(e)}var IU=R({name:`ElTableV2`,props:RH,setup(e,{slots:t,expose:n}){let r=J(`table-v2`),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:c,fixedTableHeight:l,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:p,expandedRowKeys:m,hasFixedColumns:h,mainTableRef:g,leftTableRef:_,rightTableRef:v,isDynamic:y,isResetting:b,isScrolling:x,bodyWidth:S,emptyStyle:C,rootStyle:w,footerHeight:T,showEmpty:E,scrollTo:D,scrollToLeft:O,scrollToTop:k,scrollToRow:A,getRowHeight:ee,onColumnSorted:te,onRowHeightChange:ne,onRowHovered:re,onRowExpanded:ie,onRowsRendered:ae,onScroll:oe,onVerticalScroll:se}=SH(e);return n({scrollTo:D,scrollToLeft:O,scrollToTop:k,scrollToRow:A}),Mi(CH,{ns:r,isResetting:b,isScrolling:x}),()=>{let{cache:n,cellProps:b,estimatedRowHeight:x,expandColumnKey:D,fixedData:O,headerHeight:k,headerClass:A,headerProps:ce,headerCellProps:le,sortBy:ue,sortState:de,rowHeight:fe,rowClass:pe,rowEventHandlers:me,rowKey:he,rowProps:ge,scrollbarAlwaysOn:_e,indentSize:j,iconSize:M,useIsScrolling:ve,vScrollbarSize:ye,width:be}=e,N=I(f),xe={cache:n,class:r.e(`main`),columns:I(s),data:N,fixedData:O,estimatedRowHeight:x,bodyWidth:I(S),headerHeight:k,headerWidth:I(S),height:I(c),mainTableRef:g,rowKey:he,rowHeight:fe,scrollbarAlwaysOn:_e,scrollbarStartGap:2,scrollbarEndGap:ye,useIsScrolling:ve,width:be,getRowHeight:ee,onRowsRendered:ae,onScroll:oe},Se=I(u),Ce=I(l),we={cache:n,class:r.e(`left`),columns:I(a),data:N,fixedData:O,estimatedRowHeight:x,leftTableRef:_,rowHeight:fe,bodyWidth:Se,headerWidth:Se,headerHeight:k,height:Ce,rowKey:he,scrollbarAlwaysOn:_e,scrollbarStartGap:2,scrollbarEndGap:ye,useIsScrolling:ve,width:Se,getRowHeight:ee,onScroll:se},Te=I(d),Ee={cache:n,class:r.e(`right`),columns:I(o),data:N,fixedData:O,estimatedRowHeight:x,rightTableRef:v,rowHeight:fe,bodyWidth:Te,headerWidth:Te,headerHeight:k,height:Ce,rowKey:he,scrollbarAlwaysOn:_e,scrollbarStartGap:2,scrollbarEndGap:ye,width:Te,style:`${r.cssVarName(`table-scrollbar-size`)}: ${ye}px`,useIsScrolling:ve,getRowHeight:ee,onScroll:se},De=I(i),Oe={ns:r,depthMap:I(p),columnsStyles:De,expandColumnKey:D,expandedRowKeys:I(m),estimatedRowHeight:x,hasFixedColumns:I(h),rowProps:ge,rowClass:pe,rowKey:he,rowEventHandlers:me,onRowHovered:re,onRowExpanded:ie,onRowHeightChange:ne},P={cellProps:b,expandColumnKey:D,indentSize:j,iconSize:M,rowKey:he,expandedRowKeys:I(m),ns:r},ke={ns:r,headerClass:A,headerProps:ce,columnsStyles:De},Ae={ns:r,sortBy:ue,sortState:de,headerCellProps:le,onColumnSorted:te},je={row:e=>G(gU,Ja(e,Oe),{row:t.row,cell:e=>{let n;return t.cell?G(xU,Ja(e,P,{style:De[e.column.key]}),FU(n=t.cell(e))?n:{default:()=>[n]}):G(xU,Ja(e,P,{style:De[e.column.key]}),null)}}),header:e=>G(wU,Ja(e,ke),{header:t.header,cell:e=>{let n;return t[`header-cell`]?G(OU,Ja(e,Ae,{style:De[e.column.key]}),FU(n=t[`header-cell`](e))?n:{default:()=>[n]}):G(OU,Ja(e,Ae,{style:De[e.column.key]}),null)}})},Me=[e.class,r.b(),r.e(`root`),r.is(`dynamic`,I(y))],Ne={class:r.e(`footer`),style:I(T)};return G(`div`,{class:Me,style:I(w)},[G(cU,xe,FU(je)?je:{default:()=>[je]}),G(uU,we,FU(je)?je:{default:()=>[je]}),G(fU,Ee,FU(je)?je:{default:()=>[je]}),t.footer&&G(AU,Ne,{default:t.footer}),I(E)&&G(MU,{class:r.e(`empty`),style:I(C)},{default:t.empty}),t.overlay&&G(PU,{class:r.e(`overlay`)},{default:t.overlay})])}}}),LU=X({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Y(Function)}}),RU=e=>{let t=F(),n=F(0),r=F(0),i;return Rr(()=>{i=zy(t,([e])=>{let{width:t,height:i}=e.contentRect,{paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:c}=getComputedStyle(e.target),l=Number.parseInt(a)||0,u=Number.parseInt(o)||0,d=Number.parseInt(s)||0,f=Number.parseInt(c)||0;n.value=t-l-u,r.value=i-d-f}).stop}),Vr(()=>{i?.()}),B([n,r],([t,n])=>{var r;(r=e.onResize)==null||r.call(e,{width:t,height:n})}),{sizer:t,width:n,height:r}},zU=R({name:`ElAutoResizer`,props:LU,setup(e,{slots:t}){let n=J(`auto-resizer`),{height:r,width:i,sizer:a}=RU(e),o={width:`100%`,height:`100%`};return()=>G(`div`,{ref:a,class:n.b(),style:o},[t.default?.call(t,{height:r.value,width:i.value})])}}),BU=lx(IU),VU=lx(zU),HU=Symbol(`tabsRootContextKey`),UU=X({tabs:{type:Y(Array),default:()=>MS([])},tabRefs:{type:Y(Object),default:()=>MS({})}}),WU=`ElTabBar`,GU=Hb(R({...R({name:WU}),props:UU,setup(e,{expose:t}){let n=e,r=Ni(HU);r||ib(WU,`<el-tabs><el-tab-bar /></el-tabs>`);let i=J(`tabs`),a=F(),o=F(),s=q(()=>Lv(r.props.defaultValue)||!!o.value?.transform),c=()=>{let e=0,t=0,i=[`top`,`bottom`].includes(r.props.tabPosition)?`width`:`height`,a=i===`width`?`x`:`y`,o=a===`x`?`left`:`top`;return n.tabs.every(r=>{if(Lv(r.paneName))return!1;let a=n.tabRefs[r.paneName];if(!a)return!1;if(!r.active)return!0;e=a[`offset${WI(o)}`],t=a[`client${WI(i)}`];let s=window.getComputedStyle(a);return i===`width`&&(t-=Number.parseFloat(s.paddingLeft)+Number.parseFloat(s.paddingRight),e+=Number.parseFloat(s.paddingLeft)),!1}),{[i]:`${t}px`,transform:`translate${WI(a)}(${e}px)`}},l=()=>o.value=c(),u=[],d=()=>{u.forEach(e=>e.stop()),u.length=0,Object.values(n.tabRefs).forEach(e=>{u.push(zy(e,l))})};B(()=>n.tabs,async()=>{await Ln(),l(),d()},{immediate:!0});let f=zy(a,()=>l());return Vr(()=>{u.forEach(e=>e.stop()),u.length=0,f.stop()}),t({ref:a,update:l}),(e,t)=>I(s)?(V(),H(`div`,{key:0,ref_key:`barRef`,ref:a,class:N([I(i).e(`active-bar`),I(i).is(I(r).props.tabPosition)]),style:j(o.value)},null,6)):K(`v-if`,!0)}}),[[`__file`,`tab-bar.vue`]]),KU=X({panes:{type:Y(Array),default:()=>MS([])},currentName:{type:[String,Number],default:``},editable:Boolean,type:{type:String,values:[`card`,`border-card`,``],default:``},stretch:Boolean,tabindex:{type:[String,Number],default:void 0}}),qU={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},JU=`ElTabNav`,YU=R({name:JU,props:KU,emits:qU,setup(e,{expose:t,emit:n}){let r=Ni(HU);r||ib(JU,`<el-tabs><tab-nav /></el-tabs>`);let i=J(`tabs`),a=Py(),o=tb(),s=F(),c=F(),l=F(),u=F({}),d=F(),f=F(!1),p=F(0),m=F(!1),h=F(!0),g=on(),_=q(()=>[`top`,`bottom`].includes(r.props.tabPosition)),v=q(()=>_.value?`width`:`height`),y=q(()=>({transform:`translate${v.value===`width`?`X`:`Y`}(-${p.value}px)`})),{width:b,height:x}=Vy(s),{width:S,height:C}=Vy(c,{width:0,height:0},{box:`border-box`}),w=q(()=>_.value?b.value:x.value),T=q(()=>_.value?S.value:C.value),{onWheel:E}=SR({atStartEdge:q(()=>p.value<=0),atEndEdge:q(()=>T.value-p.value<=w.value),layout:q(()=>_.value?`horizontal`:`vertical`)},e=>{p.value=Vp(p.value+e,0,T.value-w.value)}),D=()=>{if(!s.value)return;let e=s.value[`offset${WI(v.value)}`],t=p.value;t&&(p.value=t>e?t-e:0)},O=()=>{if(!s.value||!c.value)return;let e=c.value[`offset${WI(v.value)}`],t=s.value[`offset${WI(v.value)}`],n=p.value;e-n<=t||(p.value=e-n>t*2?n+t:e-t)},k=async()=>{let t=c.value;if(!f.value||!l.value||!s.value||!t)return;await Ln();let n=u.value[e.currentName];if(!n)return;let r=s.value,i=n.getBoundingClientRect(),a=r.getBoundingClientRect(),o=_.value?t.offsetWidth-a.width:t.offsetHeight-a.height,d=p.value,m=d;_.value?(i.left<a.left&&(m=d-(a.left-i.left)),i.right>a.right&&(m=d+i.right-a.right)):(i.top<a.top&&(m=d-(a.top-i.top)),i.bottom>a.bottom&&(m=d+(i.bottom-a.bottom))),m=Math.max(m,0),p.value=Math.min(m,o)},A=()=>{var t;if(!c.value||!s.value)return;e.stretch&&((t=d.value)==null||t.update());let n=c.value[`offset${WI(v.value)}`],r=s.value[`offset${WI(v.value)}`],i=p.value;r<n?(f.value=f.value||{},f.value.prev=i,f.value.next=i+r<n,n-i<r&&(p.value=n-r)):(f.value=!1,i>0&&(p.value=0))},ee=e=>{let t=dw(e),n=0;switch(t){case Z.left:case Z.up:n=-1;break;case Z.right:case Z.down:n=1;break;default:return}let r=Array.from(e.currentTarget.querySelectorAll(`[role=tab]:not(.is-disabled)`)),i=r.indexOf(e.target)+n;i<0?i=r.length-1:i>=r.length&&(i=0),r[i].focus({preventScroll:!0}),r[i].click(),te()},te=()=>{h.value&&(m.value=!0)},ne=()=>m.value=!1,re=(e,t)=>{u.value[t]=e};return B(a,e=>{e===`hidden`?h.value=!1:e===`visible`&&setTimeout(()=>h.value=!0,50)}),B(o,e=>{e?setTimeout(()=>h.value=!0,50):h.value=!1}),zy(l,A),Rr(()=>setTimeout(()=>k(),0)),Br(()=>A()),t({scrollToActiveTab:k,removeFocus:ne,focusActiveTab:async()=>{await Ln(),u.value[e.currentName]?.focus({preventScroll:!0})},tabListRef:c,tabBarRef:d,scheduleRender:()=>ln(g)}),()=>{let t=f.value?[G(`span`,{class:[i.e(`nav-prev`),i.is(`disabled`,!f.value.prev)],onClick:D},[G(hx,null,{default:()=>[G(vx,null,null)]})]),G(`span`,{class:[i.e(`nav-next`),i.is(`disabled`,!f.value.next)],onClick:O},[G(hx,null,{default:()=>[G(yx,null,null)]})])]:null,a=e.panes.map((t,a)=>{var o;let s=t.uid,c=t.props.disabled,l=t.props.name??t.index??`${a}`,u=!c&&(t.isClosable||t.props.closable!==!1&&e.editable);t.index=`${a}`;let d=u?G(hx,{class:`is-icon-close`,onClick:e=>n(`tabRemove`,t,e)},{default:()=>[G(Mx,null,null)]}):null,f=(o=t.slots).label?.call(o)||t.props.label,p=!c&&t.active?e.tabindex??r.props.tabindex:-1;return G(`div`,{ref:e=>re(e,l),class:[i.e(`item`),i.is(r.props.tabPosition),i.is(`active`,t.active),i.is(`disabled`,c),i.is(`closable`,u),i.is(`focus`,m.value)],id:`tab-${l}`,key:`tab-${s}`,"aria-controls":`pane-${l}`,role:`tab`,"aria-selected":t.active,tabindex:p,onFocus:()=>te(),onBlur:()=>ne(),onClick:e=>{ne(),n(`tabClick`,t,l,e)},onKeydown:e=>{let r=dw(e);u&&(r===Z.delete||r===Z.backspace)&&n(`tabRemove`,t,e)}},[...[f,d]])});return g.value,G(`div`,{ref:l,class:[i.e(`nav-wrap`),i.is(`scrollable`,!!f.value),i.is(r.props.tabPosition)]},[t,G(`div`,{class:i.e(`nav-scroll`),ref:s},[e.panes.length>0?G(`div`,{class:[i.e(`nav`),i.is(r.props.tabPosition),i.is(`stretch`,e.stretch&&[`top`,`bottom`].includes(r.props.tabPosition))],ref:c,style:y.value,role:`tablist`,onKeydown:ee,onWheel:E},[...[e.type?null:G(GU,{ref:d,tabs:[...e.panes],tabRefs:u.value},null),a]]):null])])}}}),XU=X({type:{type:String,values:[`card`,`border-card`,``],default:``},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},defaultValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:[`top`,`right`,`bottom`,`left`],default:`top`},beforeLeave:{type:Y(Function),default:()=>!0},stretch:Boolean,tabindex:{type:[String,Number],default:0}}),ZU=e=>T(e)||zv(e),QU=R({name:`ElTabs`,props:XU,emits:{[Lb]:e=>ZU(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ZU(e),edit:(e,t)=>[`remove`,`add`].includes(t),tabRemove:e=>ZU(e),tabAdd:()=>!0},setup(e,{emit:t,slots:n,expose:r}){let i=J(`tabs`),a=q(()=>[`left`,`right`].includes(e.tabPosition)),{children:o,addChild:s,removeChild:c,ChildrenSorter:l}=QO(eo(),`ElTabPane`),u=F(),d=F((Lv(e.modelValue)?e.defaultValue:e.modelValue)??`0`),f=async(n,r=!1)=>{var i,a,s;if(!(d.value===n||Lv(n)))try{let c;if(e.beforeLeave){let t=e.beforeLeave(n,d.value);c=t instanceof Promise?await t:t}else c=!0;if(c!==!1){let e=o.value.find(e=>e.paneName===d.value)?.isFocusInsidePane();d.value=n,r&&(t(Lb,n),t(`tabChange`,n)),(a=(i=u.value)?.removeFocus)==null||a.call(i),e&&((s=u.value)==null||s.focusActiveTab())}}catch{}},p=(e,n,r)=>{e.props.disabled||(t(`tabClick`,e,r),f(n,!0))},m=(e,n)=>{e.props.disabled||Lv(e.props.name)||(n.stopPropagation(),t(`edit`,e.props.name,`remove`),t(`tabRemove`,e.props.name))},h=()=>{t(`edit`,void 0,`add`),t(`tabAdd`)},g=e=>{let t=dw(e);[Z.enter,Z.numpadEnter].includes(t)&&h()},_=t=>{let n=t.el.firstChild,r=[`bottom`,`right`].includes(e.tabPosition)?t.children[0].el:t.children[1].el;n!==r&&n.before(r)};return B(()=>e.modelValue,e=>f(e)),B(d,async()=>{var e;await Ln(),(e=u.value)==null||e.scrollToActiveTab()}),Mi(HU,{props:e,currentName:d,registerPane:s,unregisterPane:c,nav$:u}),r({currentName:d,get tabNavRef(){return yv(u.value,[`scheduleRender`])}}),()=>{let t=n[`add-icon`],r=e.editable||e.addable?G(`div`,{class:[i.e(`new-tab`),a.value&&i.e(`new-tab-vertical`)],tabindex:e.tabindex,onClick:h,onKeydown:g},[t?z(n,`add-icon`):G(hx,{class:i.is(`icon-plus`)},{default:()=>[G(Zx,null,null)]})]):null,s=G(`div`,{class:[i.e(`header`),a.value&&i.e(`header-vertical`),i.is(e.tabPosition)]},[G(l,null,{default:()=>G(YU,{ref:u,currentName:d.value,editable:e.editable,type:e.type,panes:o.value,stretch:e.stretch,onTabClick:p,onTabRemove:m},null),$stable:!0}),r]),c=G(`div`,{class:i.e(`content`)},[z(n,`default`)]);return G(`div`,{class:[i.b(),i.m(e.tabPosition),{[i.m(`card`)]:e.type===`card`,[i.m(`border-card`)]:e.type===`border-card`}],onVnodeMounted:_,onVnodeUpdated:_},[c,s])}}}),$U=X({label:{type:String,default:``},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),eW=`ElTabPane`,tW=Hb(R({...R({name:eW}),props:$U,setup(e){let t=e,n=eo(),r=li(),i=Ni(HU);i||ib(eW,`usage: <el-tabs><el-tab-pane /></el-tabs/>`);let a=J(`tab-pane`),o=F(),s=F(),c=q(()=>t.closable??i.props.closable),l=ey(()=>i.currentName.value===(t.name??s.value)),u=F(l.value),d=q(()=>t.name??s.value),f=ey(()=>!t.lazy||u.value||l.value),p=()=>o.value?.contains(document.activeElement);B(l,e=>{e&&(u.value=!0)});let m=Kt({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:t,paneName:d,active:l,index:s,isClosable:c,isFocusInsidePane:p});return i.registerPane(m),Vr(()=>{i.unregisterPane(m)}),zr(()=>{var e;r.label&&((e=i.nav$.value)==null||e.scheduleRender())}),(e,t)=>I(f)?Yn((V(),H(`div`,{key:0,id:`pane-${I(d)}`,ref_key:`paneRef`,ref:o,class:N(I(a).b()),role:`tabpanel`,"aria-hidden":!I(l),"aria-labelledby":`tab-${I(d)}`},[z(e.$slots,`default`)],10,[`id`,`aria-hidden`,`aria-labelledby`])),[[Zo,I(l)]]):K(`v-if`,!0)}}),[[`__file`,`tab-pane.vue`]]),nW=lx(QU,{TabPane:tW}),rW=fx(tW),iW=X({type:{type:String,values:[`primary`,`success`,`info`,`warning`,`danger`,``],default:``},size:{type:String,values:bb,default:``},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:`span`}}),aW=lx(Hb(R({...R({name:`ElText`}),props:iW,setup(e){let t=e,n=F(),r=YS(),i=J(`text`),a=q(()=>[i.b(),i.m(t.type),i.m(r.value),i.is(`truncated`,t.truncated),i.is(`line-clamp`,!Lv(t.lineClamp))]),o=()=>{var e,r;if(ui().title)return;let i=!1,a=n.value?.textContent||``;if(t.truncated){let e=n.value?.offsetWidth,t=n.value?.scrollWidth;e&&t&&t>e&&(i=!0)}else if(!Lv(t.lineClamp)){let e=n.value?.offsetHeight,t=n.value?.scrollHeight;e&&t&&t>e&&(i=!0)}i?(e=n.value)==null||e.setAttribute(`title`,a):(r=n.value)==null||r.removeAttribute(`title`)};return Rr(o),Br(o),(e,t)=>(V(),U(Zr(e.tag),{ref_key:`textRef`,ref:n,class:N(I(a)),style:j({"-webkit-line-clamp":e.lineClamp})},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`class`,`style`]))}}),[[`__file`,`text.vue`]])),oW=X({format:{type:String,default:`HH:mm`},modelValue:{type:Y(String)},disabled:{type:Boolean,default:void 0},editable:{type:Boolean,default:!0},effect:{type:Y(String),default:`light`},clearable:{type:Boolean,default:!0},size:xb,placeholder:String,start:{type:String,default:`09:00`},end:{type:String,default:`18:00`},step:{type:String,default:`00:30`},minTime:{type:Y(String)},maxTime:{type:Y(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:Y([String,Object]),default:()=>jx},clearIcon:{type:Y([String,Object]),default:()=>Ax},popperClass:{type:String,default:``},popperStyle:{type:Y([String,Object])},...Eb}),sW=e=>{let t=(e||``).split(`:`);if(t.length>=2){let n=Number.parseInt(t[0],10),r=Number.parseInt(t[1],10),i=e.toUpperCase();return i.includes(`AM`)&&n===12?n=0:i.includes(`PM`)&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},cW=(e,t)=>{let n=sW(e);if(!n)return-1;let r=sW(t);if(!r)return-1;let i=n.minutes+n.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},lW=e=>`${e}`.padStart(2,`0`),uW=e=>`${lW(e.hours)}:${lW(e.minutes)}`,dW=(e,t)=>{let n=sW(e);if(!n)return``;let r=sW(t);if(!r)return``;let i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes%=60,uW(i)},fW=c(sO(),1),pW=c(dj(),1),mW=lx(Hb(R({...R({name:`ElTimeSelect`}),props:oW,emits:[Rb,`blur`,`focus`,`clear`,Lb],setup(e,{expose:t}){let n=e;fW.default.extend(pW.default);let{Option:r}=uL,i=J(`input`),a=F(),o=XS(),{lang:s}=gb(),c=q(()=>n.modelValue),l=q(()=>{let e=sW(n.start);return e?uW(e):null}),u=q(()=>{let e=sW(n.end);return e?uW(e):null}),d=q(()=>{let e=sW(n.step);return e?uW(e):null}),f=q(()=>{let e=sW(n.minTime||``);return e?uW(e):null}),p=q(()=>{let e=sW(n.maxTime||``);return e?uW(e):null}),m=q(()=>{let e=[],t=(t,n)=>{e.push({value:t,disabled:cW(n,f.value||`-1:-1`)<=0||cW(n,p.value||`100:100`)>=0})};if(n.start&&n.end&&n.step){let r=l.value,i;for(;r&&u.value&&cW(r,u.value)<=0;)i=(0,fW.default)(r,`HH:mm`).locale(s.value).format(n.format),t(i,r),r=dW(r,d.value);n.includeEndTime&&u.value&&e[e.length-1]?.value!==u.value&&t((0,fW.default)(u.value,`HH:mm`).locale(s.value).format(n.format),u.value)}return e});return t({blur:()=>{var e,t;(t=(e=a.value)?.blur)==null||t.call(e)},focus:()=>{var e,t;(t=(e=a.value)?.focus)==null||t.call(e)}}),(e,t)=>(V(),U(I(uL),{ref_key:`select`,ref:a,"model-value":I(c),disabled:I(o),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":``,filterable:e.editable,"empty-values":e.emptyValues,"value-on-clear":e.valueOnClear,"popper-class":e.popperClass,"popper-style":e.popperStyle,"onUpdate:modelValue":t=>e.$emit(I(Lb),t),onChange:t=>e.$emit(I(Rb),t),onBlur:t=>e.$emit(`blur`,t),onFocus:t=>e.$emit(`focus`,t),onClear:()=>e.$emit(`clear`)},{prefix:L(()=>[e.prefixIcon?(V(),U(I(hx),{key:0,class:N(I(i).e(`prefix-icon`))},{default:L(()=>[(V(),U(Zr(e.prefixIcon)))]),_:1},8,[`class`])):K(`v-if`,!0)]),default:L(()=>[(V(!0),H(Da,null,ti(I(m),e=>(V(),U(I(r),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,[`label`,`value`,`disabled`]))),128))]),_:1},8,[`model-value`,`disabled`,`clearable`,`clear-icon`,`size`,`effect`,`placeholder`,`filterable`,`empty-values`,`value-on-clear`,`popper-class`,`popper-style`,`onUpdate:modelValue`,`onChange`,`onBlur`,`onFocus`,`onClear`]))}}),[[`__file`,`time-select.vue`]])),hW=`timeline`,gW=R({name:`ElTimeline`,props:{reverse:Boolean},setup(e,{slots:t}){let n=J(`timeline`);return Mi(hW,t),()=>{let r=XO(t.default?.call(t)??[]).filter(e=>e?.type?.name===`ElTimelineItem`);return _o(`ul`,{class:[n.b()]},e.reverse?r.reverse():r)}}}),_W=X({timestamp:{type:String,default:``},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:[`top`,`bottom`],default:`bottom`},type:{type:String,values:[`primary`,`success`,`warning`,`danger`,`info`],default:``},color:{type:String,default:``},size:{type:String,values:[`normal`,`large`],default:`normal`},icon:{type:gS},hollow:Boolean}),vW=Hb(R({...R({name:`ElTimelineItem`}),props:_W,setup(e){let t=e,n=J(`timeline-item`),r=q(()=>[n.e(`node`),n.em(`node`,t.size||``),n.em(`node`,t.type||``),n.is(`hollow`,t.hollow)]);return(e,t)=>(V(),H(`li`,{class:N([I(n).b(),{[I(n).e(`center`)]:e.center}])},[W(`div`,{class:N(I(n).e(`tail`))},null,2),e.$slots.dot?K(`v-if`,!0):(V(),H(`div`,{key:0,class:N(I(r)),style:j({backgroundColor:e.color})},[e.icon?(V(),U(I(hx),{key:0,class:N(I(n).e(`icon`))},{default:L(()=>[(V(),U(Zr(e.icon)))]),_:1},8,[`class`])):K(`v-if`,!0)],6)),e.$slots.dot?(V(),H(`div`,{key:1,class:N(I(n).e(`dot`))},[z(e.$slots,`dot`)],2)):K(`v-if`,!0),W(`div`,{class:N(I(n).e(`wrapper`))},[!e.hideTimestamp&&e.placement===`top`?(V(),H(`div`,{key:0,class:N([I(n).e(`timestamp`),I(n).is(`top`)])},P(e.timestamp),3)):K(`v-if`,!0),W(`div`,{class:N(I(n).e(`content`))},[z(e.$slots,`default`)],2),!e.hideTimestamp&&e.placement===`bottom`?(V(),H(`div`,{key:1,class:N([I(n).e(`timestamp`),I(n).is(`bottom`)])},P(e.timestamp),3)):K(`v-if`,!0)],2)],2))}}),[[`__file`,`timeline-item.vue`]]),yW=lx(gW,{TimelineItem:vW}),bW=fx(vW),xW=`left-check-change`,SW=`right-check-change`,CW=X({data:{type:Y(Array),default:()=>[]},titles:{type:Y(Array),default:()=>[]},buttonTexts:{type:Y(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Y(Function)},leftDefaultChecked:{type:Y(Array),default:()=>[]},rightDefaultChecked:{type:Y(Array),default:()=>[]},renderContent:{type:Y(Function)},modelValue:{type:Y(Array),default:()=>[]},format:{type:Y(Object),default:()=>({})},filterable:Boolean,props:{type:Y(Object),default:()=>MS({label:`label`,key:`key`,disabled:`disabled`})},targetOrder:{type:String,values:[`original`,`push`,`unshift`],default:`original`},validateEvent:{type:Boolean,default:!0}}),wW=(e,t)=>[e,t].every(b)||b(e)&&ov(t),TW={[Rb]:(e,t,n)=>[e,n].every(b)&&[`left`,`right`].includes(t),[Lb]:e=>b(e),[xW]:wW,[SW]:wW},EW=`checked-change`,DW=X({data:CW.data,optionRender:{type:Y(Function)},placeholder:String,title:String,filterable:Boolean,format:CW.format,filterMethod:CW.filterMethod,defaultChecked:CW.leftDefaultChecked,props:CW.props}),OW={[EW]:wW},kW=e=>{let t={label:`label`,key:`key`,disabled:`disabled`};return q(()=>({...t,...e.props}))},AW=(e,t,n)=>{let r=kW(e),i=q(()=>e.data.filter(n=>w(e.filterMethod)?e.filterMethod(t.query,n):String(n[r.value.label]||n[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),a=q(()=>i.value.filter(e=>!e[r.value.disabled])),o=q(()=>{let n=t.checked.length,r=e.data.length,{noChecked:i,hasChecked:a}=e.format;return i&&a?n>0?a.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,r.toString()):i.replace(/\${total}/g,r.toString()):`${n}/${r}`}),s=q(()=>{let e=t.checked.length;return e>0&&e<a.value.length}),c=()=>{let e=a.value.map(e=>e[r.value.key]);t.allChecked=e.length>0&&e.every(e=>t.checked.includes(e))};return B(()=>t.checked,(e,r)=>{c(),t.checkChangeByUser?n(EW,e,e.concat(r).filter(t=>!e.includes(t)||!r.includes(t))):(n(EW,e),t.checkChangeByUser=!0)}),B(a,()=>{c()}),B(()=>e.data,()=>{let e=[],n=i.value.map(e=>e[r.value.key]);t.checked.forEach(t=>{n.includes(t)&&e.push(t)}),t.checkChangeByUser=!1,t.checked=e}),B(()=>e.defaultChecked,(e,n)=>{if(n&&e.length===n.length&&e.every(e=>n.includes(e)))return;let i=[],o=a.value.map(e=>e[r.value.key]);e.forEach(e=>{o.includes(e)&&i.push(e)}),t.checkChangeByUser=!1,t.checked=i},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:o,isIndeterminate:s,updateAllChecked:c,handleAllCheckedChange:e=>{t.checked=e?a.value.map(e=>e[r.value.key]):[]}}},jW=Hb(R({...R({name:`ElTransferPanel`}),props:DW,emits:OW,setup(e,{expose:t,emit:n}){let r=e,i=li(),a=({option:e})=>e,{t:o}=gb(),s=J(`transfer`),c=Kt({checked:[],allChecked:!1,query:``,checkChangeByUser:!0}),l=kW(r),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:p}=AW(r,c,n),m=q(()=>!Bv(c.query)&&Bv(u.value)),h=q(()=>!Bv(i.default()[0].children)),{checked:g,allChecked:_,query:v}=mn(c);return t({query:v}),(e,t)=>(V(),H(`div`,{class:N(I(s).b(`panel`))},[W(`p`,{class:N(I(s).be(`panel`,`header`))},[G(I(Sk),{modelValue:I(_),"onUpdate:modelValue":e=>an(_)?_.value=e:null,indeterminate:I(f),"validate-event":!1,onChange:I(p)},{default:L(()=>[Wa(P(e.title)+` `,1),W(`span`,null,P(I(d)),1)]),_:1},8,[`modelValue`,`onUpdate:modelValue`,`indeterminate`,`onChange`])],2),W(`div`,{class:N([I(s).be(`panel`,`body`),I(s).is(`with-footer`,I(h))])},[e.filterable?(V(),U(I(dC),{key:0,modelValue:I(v),"onUpdate:modelValue":e=>an(v)?v.value=e:null,class:N(I(s).be(`panel`,`filter`)),size:`default`,placeholder:e.placeholder,"prefix-icon":I(rS),clearable:``,"validate-event":!1},null,8,[`modelValue`,`onUpdate:modelValue`,`class`,`placeholder`,`prefix-icon`])):K(`v-if`,!0),Yn(G(I(wk),{modelValue:I(g),"onUpdate:modelValue":e=>an(g)?g.value=e:null,"validate-event":!1,class:N([I(s).is(`filterable`,e.filterable),I(s).be(`panel`,`list`)])},{default:L(()=>[(V(!0),H(Da,null,ti(I(u),t=>(V(),U(I(Sk),{key:t[I(l).key],class:N(I(s).be(`panel`,`item`)),value:t[I(l).key],disabled:t[I(l).disabled],"validate-event":!1},{default:L(()=>[G(a,{option:e.optionRender?.call(e,t)},null,8,[`option`])]),_:2},1032,[`class`,`value`,`disabled`]))),128))]),_:1},8,[`modelValue`,`onUpdate:modelValue`,`class`]),[[Zo,!I(m)&&!I(Bv)(e.data)]]),Yn(W(`div`,{class:N(I(s).be(`panel`,`empty`))},[z(e.$slots,`empty`,{},()=>[Wa(P(I(m)?I(o)(`el.transfer.noMatch`):I(o)(`el.transfer.noData`)),1)])],2),[[Zo,I(m)||I(Bv)(e.data)]])],2),I(h)?(V(),H(`p`,{key:0,class:N(I(s).be(`panel`,`footer`))},[z(e.$slots,`default`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`transfer-panel.vue`]]),MW=e=>{let t=kW(e),n=q(()=>e.data.reduce((e,n)=>(e[n[t.value.key]]=n)&&e,{}));return{sourceData:q(()=>e.data.filter(n=>!e.modelValue.includes(n[t.value.key]))),targetData:q(()=>e.targetOrder===`original`?e.data.filter(n=>e.modelValue.includes(n[t.value.key])):e.modelValue.reduce((e,t)=>{let r=n.value[t];return r&&e.push(r),e},[]))}},NW=(e,t,n)=>{let r=kW(e),i=(e,t,r)=>{n(Lb,e),n(Rb,e,t,r)};return{addToLeft:()=>{let n=e.modelValue.slice();t.rightChecked.forEach(e=>{let t=n.indexOf(e);t>-1&&n.splice(t,1)}),i(n,`left`,t.rightChecked)},addToRight:()=>{let n=e.modelValue.slice(),a=e.data.filter(n=>{let i=n[r.value.key];return t.leftChecked.includes(i)&&!e.modelValue.includes(i)}).map(e=>e[r.value.key]);n=e.targetOrder===`unshift`?a.concat(n):n.concat(a),e.targetOrder===`original`&&(n=e.data.filter(e=>n.includes(e[r.value.key])).map(e=>e[r.value.key])),i(n,`right`,t.leftChecked)}}},PW=(e,t)=>({onSourceCheckedChange:(n,r)=>{e.leftChecked=n,r&&t(xW,n,r)},onTargetCheckedChange:(n,r)=>{e.rightChecked=n,r&&t(SW,n,r)}}),FW=lx(Hb(R({...R({name:`ElTransfer`}),props:CW,emits:TW,setup(e,{expose:t,emit:n}){let r=e,i=li(),{t:a}=gb(),o=J(`transfer`),{formItem:s}=KS(),c=Kt({leftChecked:[],rightChecked:[]}),l=kW(r),{sourceData:u,targetData:d}=MW(r),{onSourceCheckedChange:f,onTargetCheckedChange:p}=PW(c,n),{addToLeft:m,addToRight:h}=NW(r,c,n),g=F(),_=F(),v=e=>{switch(e){case`left`:g.value.query=``;break;case`right`:_.value.query=``;break}},y=q(()=>r.buttonTexts.length===2),b=q(()=>r.titles[0]||a(`el.transfer.titles.0`)),x=q(()=>r.titles[1]||a(`el.transfer.titles.1`)),S=q(()=>r.filterPlaceholder||a(`el.transfer.filterPlaceholder`));B(()=>r.modelValue,()=>{var e;r.validateEvent&&((e=s?.validate)==null||e.call(s,`change`).catch(e=>void 0))});let C=q(()=>e=>{if(r.renderContent)return r.renderContent(_o,e);let t=(i.default?.call(i,{option:e})||[]).filter(e=>e.type!==ka);return t.length?t:_o(`span`,e[l.value.label]||e[l.value.key])});return t({clearQuery:v,leftPanel:g,rightPanel:_}),(e,t)=>(V(),H(`div`,{class:N(I(o).b())},[G(jW,{ref_key:`leftPanel`,ref:g,data:I(u),"option-render":I(C),placeholder:I(S),title:I(b),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:r.props,onCheckedChange:I(f)},{empty:L(()=>[z(e.$slots,`left-empty`)]),default:L(()=>[z(e.$slots,`left-footer`)]),_:3},8,[`data`,`option-render`,`placeholder`,`title`,`filterable`,`format`,`filter-method`,`default-checked`,`props`,`onCheckedChange`]),W(`div`,{class:N(I(o).e(`buttons`))},[G(I(aO),{type:`primary`,class:N([I(o).e(`button`),I(o).is(`with-texts`,I(y))]),disabled:I(Bv)(c.rightChecked),onClick:I(m)},{default:L(()=>[G(I(hx),null,{default:L(()=>[G(I(vx))]),_:1}),I(Lv)(e.buttonTexts[0])?K(`v-if`,!0):(V(),H(`span`,{key:0},P(e.buttonTexts[0]),1))]),_:1},8,[`class`,`disabled`,`onClick`]),G(I(aO),{type:`primary`,class:N([I(o).e(`button`),I(o).is(`with-texts`,I(y))]),disabled:I(Bv)(c.leftChecked),onClick:I(h)},{default:L(()=>[I(Lv)(e.buttonTexts[1])?K(`v-if`,!0):(V(),H(`span`,{key:0},P(e.buttonTexts[1]),1)),G(I(hx),null,{default:L(()=>[G(I(yx))]),_:1})]),_:1},8,[`class`,`disabled`,`onClick`])],2),G(jW,{ref_key:`rightPanel`,ref:_,data:I(d),"option-render":I(C),placeholder:I(S),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:I(x),"default-checked":e.rightDefaultChecked,props:r.props,onCheckedChange:I(p)},{empty:L(()=>[z(e.$slots,`right-empty`)]),default:L(()=>[z(e.$slots,`right-footer`)]),_:3},8,[`data`,`option-render`,`placeholder`,`filterable`,`format`,`filter-method`,`title`,`default-checked`,`props`,`onCheckedChange`])],2))}}),[[`__file`,`transfer.vue`]])),IW=`$treeNodeId`,LW=function(e,t){!t||t.$treeNodeId||Object.defineProperty(t,IW,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},RW=(e,t)=>t?.[e||`$treeNodeId`],zW=(e,t,n)=>{let r=e.value.currentNode;n();let i=e.value.currentNode;r!==i&&t(`current-change`,i?i.data:null,i)},BW=e=>{let t=!0,n=!0,r=!0,i=!0;for(let a=0,o=e.length;a<o;a++){let o=e[a];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1),o.isEffectivelyChecked||(i=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n,isEffectivelyChecked:i}},VW=function(e){if(e.childNodes.length===0||e.loading){e.isEffectivelyChecked=e.disabled||e.checked;return}let{all:t,none:n,half:r,isEffectivelyChecked:i}=BW(e.childNodes);e.isEffectivelyChecked=i,t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);let a=e.parent;!a||a.level===0||e.store.checkStrictly||VW(a)},HW=function(e,t){let n=e.store.props,r=e.data||{},i=n[t];if(w(i))return i(r,e);if(T(i))return r[i];if(Lv(i)){let e=r[t];return Lv(e)?``:e}},UW=function(e,t){e.forEach(e=>{e.canFocus=t,UW(e.childNodes,t)})},WW=0,GW=class e{constructor(e){for(let t in this.isLeafByUser=void 0,this.isLeaf=void 0,this.isEffectivelyChecked=!1,this.id=WW++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1,e)y(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){let e=this.store;if(!e)throw Error(`[Node]store is required!`);e.registerNode(this);let t=e.props;if(t&&t.isLeaf!==void 0){let e=HW(this,`isLeaf`);Rv(e)&&(this.isLeafByUser=e)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),b(this.data)||LW(this,this.data),!this.data)return;let n=e.defaultExpandedKeys,r=e.key;r&&!ov(this.key)&&n&&n.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode&&(e.currentNode.isCurrent=!1),e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||this.parent?.expanded===!0)&&(this.canFocus=!0)}setData(e){b(e)||LW(this,e),this.data=e,this.childNodes=[];let t;t=this.level===0&&b(this.data)?this.data:HW(this,`children`)||[];for(let e=0,n=t.length;e<n;e++)this.insertChild({data:t[e]})}get label(){return HW(this,`label`)}get key(){let e=this.store.key;return this.data?this.data[e]:null}get disabled(){return HW(this,`disabled`)}get nextSibling(){let e=this.parent;if(e){let t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){let e=this.parent;if(e){let t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(n=>n===e||t&&n.contains(e))}remove(){let e=this.parent;e&&e.removeChild(this)}insertChild(t,n,r){if(!t)throw Error(`InsertChild error: child is required.`);if(!(t instanceof e)){if(!r){let e=this.getChildren(!0);e?.includes(t.data)||(Lv(n)||n<0?e?.push(t.data):e?.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=Kt(new e(t)),t instanceof e&&t.initialize()}t.level=this.level+1,Lv(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),n!==-1&&(n+=1)),this.insertChild(e,n)}removeChild(e){let t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);let r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=this.childNodes.find(t=>t.data===e);t&&this.removeChild(t)}expand(e,t){let n=()=>{if(t){let e=this.parent;for(;e&&e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),UW(this.childNodes,!0)};this.shouldLoadData()?this.loadData(e=>{b(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||VW(this),n())}):n()}doCreateChildren(e,t={}){e.forEach(e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)})}collapse(){this.expanded=!1,UW(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&this.isLeafByUser!==void 0){this.isLeaf=this.isLeafByUser,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}let e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0,this.isEffectivelyChecked=this.isLeaf&&this.disabled;return}this.isLeaf=!1}setChecked(e,t,n,r){if(this.indeterminate=e===`half`,this.checked=e===!0,this.isEffectivelyChecked=!this.childNodes.length&&(this.disabled||this.checked),this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){let n=()=>{if(t){let n=this.childNodes;for(let i=0,a=n.length;i<a;i++){let a=n[i];r||=e!==!1;let o=a.disabled&&a.isLeaf?a.checked:r;a.setChecked(o,t,!0,r)}let{half:i,all:a,isEffectivelyChecked:o}=BW(n);a||(this.checked=a,this.indeterminate=i),this.isEffectivelyChecked=this.childNodes.length?o:this.disabled||this.checked}};if(this.shouldLoadData()){this.loadData(()=>{n(),VW(this)},{checked:e!==!1});return}else n()}let i=this.parent;!i||i.level===0||n||VW(i)}getChildren(e=!1){if(this.level===0)return this.data;let t=this.data;if(!t)return null;let n=this.store.props,r=`children`;return n&&(r=n.children||`children`),Lv(t[r])&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){let e=this.getChildren()||[],t=this.childNodes.map(e=>e.data),n={},r=[];e.forEach((e,i)=>{let a=e[IW];a&&t.some(e=>e?.$treeNodeId===a)?n[a]={index:i,data:e}:r.push({index:i,data:e})}),this.store.lazy||t.forEach(e=>{n[e?.$treeNodeId]||this.removeChildByData(e)}),r.forEach(({index:e,data:t})=>{this.insertChild({data:t},e)}),this.updateLeafState()}loadData(e,t={}){this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)?(this.loading=!0,this.store.load(this,n=>{this.childNodes=[],this.doCreateChildren(n,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,n)},()=>{this.loading=!1})):e&&e.call(this)}eachNode(e){let t=[this];for(;t.length;){let n=t.shift();t.unshift(...n.childNodes),e(n)}}reInitChecked(){this.store.checkStrictly||VW(this)}},KW=class{constructor(e){for(let t in this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null,e)y(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new GW({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){let e=this.load;e(this.root,e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()},f)}else this._initDefaultCheckedNodes()}filter(e){let t=this.filterNodeMethod,n=this.lazy,r=async function(i){let a=i.root?i.root.childNodes:i.childNodes;for(let[n,i]of a.entries())i.visible=!!t?.call(i,e,i.data,i),n%80==0&&n>0&&await Ln(),await r(i);if(!i.visible&&a.length){let e=!0;e=!a.some(e=>e.visible),i.root?i.root.visible=e===!1:i.visible=e===!1}e&&i.visible&&!i.isLeaf&&(!n||i.loaded)&&i.expand()};r(this)}setData(e){e===this.root.data?this.root.updateChildren():(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey))}getNode(e){if(e instanceof GW)return e;let t=D(e)?RW(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){var n;let r=this.getNode(t);(n=r.parent)==null||n.insertBefore({data:e},r)}insertAfter(e,t){var n;let r=this.getNode(t);(n=r.parent)==null||n.insertAfter({data:e},r)}remove(e){let t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){let n=Hv(t)?this.root:this.getNode(t);n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){let e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(e=>{let n=t[e];n&&n.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){let t=this.defaultCheckedKeys||[];!ov(e.key)&&t.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){let t=this.key;if(!(!e||!e.data))if(!t)this.nodesMap[e.id]=e;else{let t=e.key;ov(t)||(this.nodesMap[t]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(e=>{this.deregisterNode(e)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){let n=[],r=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(i=>{(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&n.push(i.data),r(i)})};return r(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(e=>(e||{})[this.key])}getHalfCheckedNodes(){let e=[],t=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(n=>{n.indeterminate&&e.push(n.data),t(n)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){let e=[],t=this.nodesMap;for(let n in t)y(t,n)&&e.push(t[n]);return e}updateChildren(e,t){let n=this.nodesMap[e];if(!n)return;let r=n.childNodes;for(let e=r.length-1;e>=0;e--){let t=r[e];this.remove(t.data)}for(let e=0,r=t.length;e<r;e++){let r=t[e];this.append(r,n.data)}}_setCheckedKeys(e,t=!1,n){let r=this._getAllNodes().sort((e,t)=>e.level-t.level),i=Object.create(null),a=Object.keys(n);r.forEach(e=>e.setChecked(!1,!1));let o=t=>{t.childNodes.forEach(t=>{i[t.data[e]]=!0,t.childNodes?.length&&o(t)})};for(let n=0,s=r.length;n<s;n++){let s=r[n],c=s.data[e].toString();if(!a.includes(c)){s.checked&&!i[c]&&s.setChecked(!1,!1);continue}if(s.childNodes.length&&o(s),s.isLeaf||this.checkStrictly){s.setChecked(!0,!1);continue}if(s.setChecked(!0,!0),t){s.setChecked(!1,!1);let e=function(t){t.childNodes.forEach(t=>{t.isLeaf||t.setChecked(!1,!1),e(t)})};e(s)}}}setCheckedNodes(e,t=!1){let n=this.key,r={};e.forEach(e=>{r[(e||{})[n]]=!0}),this._setCheckedKeys(n,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;let n=this.key,r={};e.forEach(e=>{r[e]=!0}),this._setCheckedKeys(n,t,r)}setDefaultExpandedKeys(e){e||=[],this.defaultExpandedKeys=e,e.forEach(e=>{let t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)})}setChecked(e,t,n){let r=this.getNode(e);r&&r.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){let t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){var n;let r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),t&&this.currentNode&&this.currentNode.level>1&&((n=this.currentNode.parent)==null||n.expand(null,!0))}setCurrentNodeKey(e,t=!0){var n;if(this.currentNodeKey=e,Hv(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}let r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode&&this.currentNode.level>1&&((n=this.currentNode.parent)==null||n.expand(null,!0)))}},qW=`RootTree`,JW=`NodeInstance`,YW=`TreeNodeMap`,XW=Hb(R({name:`ElTreeNodeContent`,props:{node:{type:Object,required:!0},renderContent:Function},setup(e){let t=J(`tree`),n=Ni(JW),r=Ni(qW);return()=>{let i=e.node,{data:a,store:o}=i;return e.renderContent?e.renderContent(_o,{_self:n,node:i,data:a,store:o}):z(r.ctx.slots,`default`,{node:i,data:a},()=>[_o(aW,{tag:`span`,truncated:!0,class:t.be(`node`,`label`)},()=>[i.label])])}}}),[[`__file`,`tree-node-content.vue`]]);function ZW(e){let t=Ni(YW,null),n={treeNodeExpand:t=>{var n;e.node!==t&&((n=e.node)==null||n.collapse())},children:[]};return t&&t.children.push(n),Mi(YW,n),{broadcastExpanded:t=>{if(e.accordion)for(let e of n.children)e.treeNodeExpand(t)}}}var QW=Symbol(`dragEvents`);function $W({props:e,ctx:t,el$:n,dropIndicator$:r,store:i}){let a=J(`tree`),o=F({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Mi(QW,{treeNodeDragStart:({event:n,treeNode:r})=>{if(n.dataTransfer){if(w(e.allowDrag)&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed=`move`;try{n.dataTransfer.setData(`text/plain`,``)}catch{}o.value.draggingNode=r,t.emit(`node-drag-start`,r.node,n)}},treeNodeDragOver:({event:i,treeNode:s})=>{if(!i.dataTransfer)return;let c=s,l=o.value.dropNode;l&&l.node.id!==c.node.id&&Yb(l.$el,a.is(`drop-inner`));let u=o.value.draggingNode;if(!u||!c)return;let d=!0,f=!0,p=!0,m=!0;w(e.allowDrop)&&(d=e.allowDrop(u.node,c.node,`prev`),m=f=e.allowDrop(u.node,c.node,`inner`),p=e.allowDrop(u.node,c.node,`next`)),i.dataTransfer.dropEffect=f||d||p?`move`:`none`,(d||f||p)&&l?.node.id!==c.node.id&&(l&&t.emit(`node-drag-leave`,u.node,l.node,i),t.emit(`node-drag-enter`,u.node,c.node,i)),d||f||p?o.value.dropNode=c:o.value.dropNode=null,c.node.nextSibling===u.node&&(p=!1),c.node.previousSibling===u.node&&(d=!1),c.node.contains(u.node,!1)&&(f=!1),(u.node===c.node||u.node.contains(c.node))&&(d=!1,f=!1,p=!1);let h=c.$el,g=h.querySelector(`.${a.be(`node`,`content`)}`).getBoundingClientRect(),_=n.value.getBoundingClientRect(),v=n.value.scrollTop,y,b=d?f?.25:p?.45:1:-1/0,x=p?f?.75:d?.55:0:1/0,S=-9999,C=i.clientY-g.top;y=C<g.height*b?`before`:C>g.height*x?`after`:f?`inner`:`none`;let T=h.querySelector(`.${a.be(`node`,`expand-icon`)}`).getBoundingClientRect(),E=r.value;y===`before`?S=T.top-_.top+v:y===`after`&&(S=T.bottom-_.top+v),E.style.top=`${S}px`,E.style.left=`${T.right-_.left}px`,y===`inner`?Jb(h,a.is(`drop-inner`)):Yb(h,a.is(`drop-inner`)),o.value.showDropIndicator=y===`before`||y===`after`,o.value.allowDrop=o.value.showDropIndicator||m,o.value.dropType=y,t.emit(`node-drag-over`,u.node,c.node,i)},treeNodeDragEnd:e=>{var n,r;let{draggingNode:s,dropType:c,dropNode:l}=o.value;if(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=`move`),s?.node.data&&l){let o={data:s.node.data};c!==`none`&&s.node.remove(),c===`before`?(n=l.node.parent)==null||n.insertBefore(o,l.node):c===`after`?(r=l.node.parent)==null||r.insertAfter(o,l.node):c===`inner`&&l.node.insertChild(o),c!==`none`&&(i.value.registerNode(o),i.value.key&&s.node.eachNode(e=>{var t;(t=i.value.nodesMap[e.data[i.value.key]])==null||t.setChecked(e.checked,!i.value.checkStrictly)})),Yb(l.$el,a.is(`drop-inner`)),t.emit(`node-drag-end`,s.node,l.node,c,e),c!==`none`&&t.emit(`node-drop`,s.node,l.node,c,e)}s&&!l&&t.emit(`node-drag-end`,s.node,null,c,e),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}var eG=R({name:`ElTreeNode`,components:{ElCollapseTransition:AA,ElCheckbox:Sk,NodeContent:XW,ElIcon:hx,Loading:Wx},props:{node:{type:GW,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:[`node-expand`],setup(e,t){let n=J(`tree`),{broadcastExpanded:r}=ZW(e),i=Ni(qW),a=F(!1),o=F(!1),s=F(),c=F(),l=F(),u=Ni(QW),d=eo();Mi(JW,d),e.node.expanded&&(a.value=!0,o.value=!0);let f=i.props.props.children||`children`;B(()=>{let t=e.node.data?.[f];return t&&[...t]},()=>{e.node.updateChildren()}),B(()=>e.node.indeterminate,t=>{h(e.node.checked,t)}),B(()=>e.node.checked,t=>{h(t,e.node.indeterminate)}),B(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),B(()=>e.node.expanded,e=>{Ln(()=>a.value=e),e&&(o.value=!0)});let p=e=>RW(i.props.nodeKey,e.data),m=t=>{let n=e.props.class;if(!n)return{};let r;if(w(n)){let{data:e}=t;r=n(e,t)}else r=n;return T(r)?{[r]:!0}:r},h=(t,n)=>{(s.value!==t||c.value!==n)&&i.ctx.emit(`check-change`,e.node.data,t,n),s.value=t,c.value=n},g=t=>{zW(i.store,i.ctx.emit,()=>{if(i?.props?.nodeKey){let t=p(e.node);i.store.value.setCurrentNodeKey(t)}else i.store.value.setCurrentNode(e.node)}),i.currentNode.value=e.node,i.props.expandOnClickNode&&v(),(i.props.checkOnClickNode||e.node.isLeaf&&i.props.checkOnClickLeaf&&e.showCheckbox)&&!e.node.disabled&&y(!e.node.checked),i.ctx.emit(`node-click`,e.node.data,e.node,d,t)},_=t=>{i.instance.vnode.props?.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),i.ctx.emit(`node-contextmenu`,t,e.node.data,e.node,d)},v=()=>{e.node.isLeaf||(a.value?(i.ctx.emit(`node-collapse`,e.node.data,e.node,d),e.node.collapse()):e.node.expand(()=>{t.emit(`node-expand`,e.node.data,e.node,d)}))},y=t=>{let n=i?.props.checkStrictly,r=e.node.childNodes;!n&&r.length&&(t=r.some(e=>!e.isEffectivelyChecked)),e.node.setChecked(t,!n),Ln(()=>{let t=i.store.value;i.ctx.emit(`check`,e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})};return{ns:n,node$:l,tree:i,expanded:a,childNodeRendered:o,oldChecked:s,oldIndeterminate:c,getNodeKey:p,getNodeClass:m,handleSelectChange:h,handleClick:g,handleContextMenu:_,handleExpandIconClick:v,handleCheckChange:y,handleChildNodeExpand:(e,t,n)=>{r(t),i.ctx.emit(`node-expand`,e,t,n)},handleDragStart:t=>{i.props.draggable&&u.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),i.props.draggable&&u.treeNodeDragOver({event:t,treeNode:{$el:l.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{i.props.draggable&&u.treeNodeDragEnd(e)},CaretRight:wx}}});function tG(e,t,n,r,i,a){let o=Yr(`el-icon`),s=Yr(`el-checkbox`),c=Yr(`loading`),l=Yr(`node-content`),u=Yr(`el-tree-node`),d=Yr(`el-collapse-transition`);return Yn((V(),H(`div`,{ref:`node$`,class:N([e.ns.b(`node`),e.ns.is(`expanded`,e.expanded),e.ns.is(`current`,e.node.isCurrent),e.ns.is(`hidden`,!e.node.visible),e.ns.is(`focusable`,!e.node.disabled),e.ns.is(`checked`,!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:`treeitem`,tabindex:`-1`,"aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:Ks(e.handleClick,[`stop`]),onContextmenu:e.handleContextMenu,onDragstart:Ks(e.handleDragStart,[`stop`]),onDragover:Ks(e.handleDragOver,[`stop`]),onDragend:Ks(e.handleDragEnd,[`stop`]),onDrop:Ks(e.handleDrop,[`stop`])},[W(`div`,{class:N(e.ns.be(`node`,`content`)),style:j({paddingLeft:(e.node.level-1)*e.tree.props.indent+`px`})},[e.tree.props.icon||e.CaretRight?(V(),U(o,{key:0,class:N([e.ns.be(`node`,`expand-icon`),e.ns.is(`leaf`,e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:Ks(e.handleExpandIconClick,[`stop`])},{default:L(()=>[(V(),U(Zr(e.tree.props.icon||e.CaretRight)))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0),e.showCheckbox?(V(),U(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:Ks(()=>{},[`stop`]),onChange:e.handleCheckChange},null,8,[`model-value`,`indeterminate`,`disabled`,`onClick`,`onChange`])):K(`v-if`,!0),e.node.loading?(V(),U(o,{key:2,class:N([e.ns.be(`node`,`loading-icon`),e.ns.is(`loading`)])},{default:L(()=>[G(c)]),_:1},8,[`class`])):K(`v-if`,!0),G(l,{node:e.node,"render-content":e.renderContent},null,8,[`node`,`render-content`])],6),G(d,null,{default:L(()=>[!e.renderAfterExpand||e.childNodeRendered?Yn((V(),H(`div`,{key:0,class:N(e.ns.be(`node`,`children`)),role:`group`,"aria-expanded":e.expanded,onClick:Ks(()=>{},[`stop`])},[(V(!0),H(Da,null,ti(e.node.childNodes,t=>(V(),U(u,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,[`render-content`,`render-after-expand`,`show-checkbox`,`node`,`accordion`,`props`,`onNodeExpand`]))),128))],10,[`aria-expanded`,`onClick`])),[[Zo,e.expanded]]):K(`v-if`,!0)]),_:1})],42,[`aria-expanded`,`aria-disabled`,`aria-checked`,`draggable`,`data-key`,`onClick`,`onContextmenu`,`onDragstart`,`onDragover`,`onDragend`,`onDrop`])),[[Zo,e.node.visible]])}var nG=Hb(eG,[[`render`,tG],[`__file`,`tree-node.vue`]]);function rG({el$:e},t){let n=J(`tree`);Rr(()=>{i()}),Br(()=>{Array.from(e.value.querySelectorAll(`input[type=checkbox]`)).forEach(e=>{e.setAttribute(`tabindex`,`-1`)})});function r(e,n){let r=t.value.getNode(e[n].dataset.key);return r.canFocus&&r.visible&&(r.parent?.expanded||r.parent?.level===0)}Ty(e,`keydown`,t=>{let i=t.target;if(!i.className.includes(n.b(`node`)))return;let a=dw(t),o=Array.from(e.value.querySelectorAll(`.${n.is(`focusable`)}[role=treeitem]`)),s=o.indexOf(i),c;if([Z.up,Z.down].includes(a)){if(t.preventDefault(),a===Z.up){c=s===-1?0:s===0?o.length-1:s-1;let e=c;for(;!r(o,c);){if(c--,c===e){c=-1;break}c<0&&(c=o.length-1)}}else{c=s===-1?0:s<o.length-1?s+1:0;let e=c;for(;!r(o,c);){if(c++,c===e){c=-1;break}c>=o.length&&(c=0)}}c!==-1&&o[c].focus()}[Z.left,Z.right].includes(a)&&(t.preventDefault(),i.click());let l=i.querySelector(`[type="checkbox"]`);[Z.enter,Z.numpadEnter,Z.space].includes(a)&&l&&(t.preventDefault(),l.click())});let i=()=>{var t;if(!e.value)return;let r=Array.from(e.value.querySelectorAll(`.${n.is(`focusable`)}[role=treeitem]`));Array.from(e.value.querySelectorAll(`input[type=checkbox]`)).forEach(e=>{e.setAttribute(`tabindex`,`-1`)});let i=e.value.querySelectorAll(`.${n.is(`checked`)}[role=treeitem]`);if(i.length){i[0].setAttribute(`tabindex`,`0`);return}(t=r[0])==null||t.setAttribute(`tabindex`,`0`)}}var iG=R({name:`ElTree`,components:{ElTreeNode:nG},props:{data:{type:Y(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:Y(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:Y(Function)},allowDrop:{type:Y(Function)},props:{type:Object,default:()=>({children:`children`,label:`label`,disabled:`disabled`})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:gS}},emits:{"check-change":(e,t,n)=>e&&Rv(t)&&Rv(n),"current-change":(e,t)=>!0,"node-click":(e,t,n,r)=>e&&t&&r instanceof Event,"node-contextmenu":(e,t,n,r)=>e instanceof Event&&t&&n,"node-collapse":(e,t,n)=>e&&t,"node-expand":(e,t,n)=>e&&t,check:(e,t)=>e&&t,"node-drag-start":(e,t)=>e&&t,"node-drag-end":(e,t,n,r)=>e&&r,"node-drop":(e,t,n,r)=>e&&t&&r,"node-drag-leave":(e,t,n)=>e&&t&&n,"node-drag-enter":(e,t,n)=>e&&t&&n,"node-drag-over":(e,t,n)=>e&&t&&n},setup(e,t){let{t:n}=gb(),r=J(`tree`),i=F(new KW({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));i.value.initialize();let a=F(i.value.root),o=F(null),s=F(null),c=F(null),{broadcastExpanded:l}=ZW(e),{dragState:u}=$W({props:e,ctx:t,el$:s,dropIndicator$:c,store:i});rG({el$:s},i);let d=eo(),f=q(()=>{let e=d?.parent;for(;e;){if(e.type.name===`ElTreeSelect`)return!0;e=e.parent}return!1}),p=q(()=>{let{childNodes:e}=a.value;return(!e||e.length===0||e.every(({visible:e})=>!e))&&!f.value});B(()=>e.currentNodeKey,e=>{i.value.setCurrentNodeKey(e??null)}),B(()=>e.defaultCheckedKeys,(e,t)=>{iv(e,t)||i.value.setDefaultCheckedKey(e??[])}),B(()=>e.defaultExpandedKeys,e=>{i.value.setDefaultExpandedKeys(e??[])}),B(()=>e.data,e=>{i.value.setData(e)},{deep:!0}),B(()=>e.checkStrictly,e=>{i.value.checkStrictly=e});let m=t=>{if(!e.filterNodeMethod)throw Error(`[Tree] filterNodeMethod is required when filter`);i.value.filter(t)},h=t=>RW(e.nodeKey,t.data),g=t=>{if(!e.nodeKey)throw Error(`[Tree] nodeKey is required in ${t}`)},_=e=>{g(`getNodePath`);let t=i.value.getNode(e);if(!t)return[];let n=[t.data],r=t.parent;for(;r&&r!==a.value;)n.push(r.data),r=r.parent;return n.reverse()},v=(e,t)=>i.value.getCheckedNodes(e,t),y=e=>i.value.getCheckedKeys(e),b=()=>{let e=i.value.getCurrentNode();return e?e.data:null};return Mi(qW,{ctx:t,props:e,store:i,root:a,currentNode:o,instance:d}),Mi(GS,void 0),{ns:r,store:i,root:a,currentNode:o,dragState:u,el$:s,dropIndicator$:c,isEmpty:p,filter:m,getNodeKey:h,getNodePath:_,getCheckedNodes:v,getCheckedKeys:y,getCurrentNode:b,getCurrentKey:()=>{g(`getCurrentKey`);let t=b();return t?t[e.nodeKey]:null},setCheckedNodes:(e,t)=>{g(`setCheckedNodes`),i.value.setCheckedNodes(e,t)},setCheckedKeys:(e,t)=>{g(`setCheckedKeys`),i.value.setCheckedKeys(e,t)},setChecked:(e,t,n)=>{i.value.setChecked(e,t,n)},getHalfCheckedNodes:()=>i.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>i.value.getHalfCheckedKeys(),setCurrentNode:(e,n=!0)=>{g(`setCurrentNode`),zW(i,t.emit,()=>{l(e),i.value.setUserCurrentNode(e,n)})},setCurrentKey:(e=null,n=!0)=>{g(`setCurrentKey`),zW(i,t.emit,()=>{l(),i.value.setCurrentNodeKey(e,n)})},t:n,getNode:e=>i.value.getNode(e),remove:e=>{i.value.remove(e)},append:(e,t)=>{i.value.append(e,t)},insertBefore:(e,t)=>{i.value.insertBefore(e,t)},insertAfter:(e,t)=>{i.value.insertAfter(e,t)},handleNodeExpand:(e,n,r)=>{l(n),t.emit(`node-expand`,e,n,r)},updateKeyChildren:(e,t)=>{g(`updateKeyChild`),i.value.updateChildren(e,t)}}}});function aG(e,t,n,r,i,a){let o=Yr(`el-tree-node`);return V(),H(`div`,{ref:`el$`,class:N([e.ns.b(),e.ns.is(`dragging`,!!e.dragState.draggingNode),e.ns.is(`drop-not-allow`,!e.dragState.allowDrop),e.ns.is(`drop-inner`,e.dragState.dropType===`inner`),{[e.ns.m(`highlight-current`)]:e.highlightCurrent}]),role:`tree`},[(V(!0),H(Da,null,ti(e.root.childNodes,t=>(V(),U(o,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,[`node`,`props`,`accordion`,`render-after-expand`,`show-checkbox`,`render-content`,`onNodeExpand`]))),128)),e.isEmpty?(V(),H(`div`,{key:0,class:N(e.ns.e(`empty-block`))},[z(e.$slots,`empty`,{},()=>[W(`span`,{class:N(e.ns.e(`empty-text`))},P(e.emptyText??e.t(`el.tree.emptyText`)),3)])],2)):K(`v-if`,!0),Yn(W(`div`,{ref:`dropIndicator$`,class:N(e.ns.e(`drop-indicator`))},null,2),[[Zo,e.dragState.showDropIndicator]])],2)}var oG=lx(Hb(iG,[[`render`,aG],[`__file`,`tree.vue`]])),sG=(e,{attrs:t,emit:n},{select:r,tree:i,key:a})=>{let o=J(`tree-select`);B(()=>e.data,()=>{e.filterable&&Ln(()=>{var e;(e=i.value)==null||e.filter(r.value?.states.inputValue)})},{flush:`post`});let s=e=>{let t=e.at(-1);if(t.expanded&&t.childNodes.at(-1))s([t.childNodes.at(-1)]);else{(i.value.el$?.querySelector(`[data-key="${e.at(-1).key}"]`))?.focus({preventScroll:!0});return}};return Rr(()=>{Ty(()=>r.value?.$el,`keydown`,async e=>{let t=dw(e),{dropdownMenuVisible:n}=r.value;[Z.down,Z.up].includes(t)&&n&&(await Ln(),setTimeout(()=>{var e;if(Z.up===t){let e=i.value.store.root.childNodes;s(e);return}(e=r.value.optionsArray[r.value.states.hoveringIndex].$el?.parentNode?.parentNode)==null||e.focus({preventScroll:!0})}))},{capture:!0})}),{...Ev(mn(e),Object.keys(uL.props)),...t,class:q(()=>t.class),style:q(()=>t.style),"onUpdate:modelValue":e=>n(Lb,e),valueKey:a,popperClass:q(()=>{let t=[o.e(`popper`)];return e.popperClass&&t.push(e.popperClass),t.join(` `)}),filterMethod:(t=``)=>{var n;e.filterMethod?e.filterMethod(t):e.remoteMethod?e.remoteMethod(t):(n=i.value)==null||n.filter(t)}}},cG=R({extends:dL,setup(e,t){let n=dL.setup(e,t);delete n.selectOptionClick;let r=eo().proxy;return Ln(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),B(()=>t.attrs.visible,e=>{Ln(()=>{n.states.visible=e})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function lG(e){return e||e===0}function uG(e){return b(e)&&e.length}function dG(e){return b(e)?e:lG(e)?[e]:[]}function fG(e,t,n,r,i){for(let a=0;a<e.length;a++){let o=e[a];if(t(o,a,e,i))return r?r(o,a,e,i):o;{let e=n(o);if(uG(e)){let i=fG(e,t,n,r,o);if(i)return i}}}}function pG(e,t,n,r){for(let i=0;i<e.length;i++){let a=e[i];t(a,i,e,r);let o=n(a);uG(o)&&pG(o,t,n,a)}}var mG=(e,{attrs:t,slots:n,emit:r},{select:i,tree:a,key:o})=>{B([()=>e.modelValue,a],()=>{e.showCheckbox&&Ln(()=>{let t=a.value;t&&!iv(t.getCheckedKeys(),dG(e.modelValue))&&t.setCheckedKeys(dG(e.modelValue))})},{immediate:!0,deep:!0});let s=q(()=>({value:o.value,label:`label`,children:`children`,disabled:`disabled`,isLeaf:`isLeaf`,...e.props})),c=(e,t)=>{let n=s.value[e];return w(n)?n(t,a.value?.getNode(c(`value`,t))):t[n]},l=dG(e.modelValue).map(t=>fG(e.data||[],e=>c(`value`,e)===t,e=>c(`children`,e),(e,t,n,r)=>r&&c(`value`,r))).filter(e=>lG(e)),u=q(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];let t=[];return pG(e.data.concat(e.cacheData),e=>{let n=c(`value`,e);t.push({value:n,currentLabel:c(`label`,e),isDisabled:c(`disabled`,e)})},e=>c(`children`,e)),t}),d=()=>a.value?.getCheckedKeys().filter(e=>{let t=a.value?.getNode(e);return!ov(t)&&Bv(t.childNodes)});return{...Ev(mn(e),Object.keys(oG.props)),...t,nodeKey:o,expandOnClickNode:q(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:q(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(l):l),renderContent:(t,{node:r,data:i,store:a})=>t(cG,{value:c(`value`,i),label:c(`label`,i),disabled:c(`disabled`,i),visible:r.visible},e.renderContent?()=>e.renderContent(t,{node:r,data:i,store:a}):n.default?()=>n.default({node:r,data:i,store:a}):void 0),filterNodeMethod:(t,n,r)=>e.filterNodeMethod?e.filterNodeMethod(t,n,r):t?new RegExp(UI(t),`i`).test(c(`label`,n)||``):!0,onNodeClick:(n,r,a)=>{var o,s;if((o=t.onNodeClick)==null||o.call(t,n,r,a),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||r.isLeaf)){if(!c(`disabled`,n)){let e=i.value?.states.options.get(c(`value`,n));(s=i.value)==null||s.handleOptionSelect(e)}}else e.expandOnClickNode&&a.proxy.handleExpandIconClick()},onCheck:(n,o)=>{var s;if(!e.showCheckbox)return;let l=c(`value`,n),u={};pG([a.value.store.root],e=>u[e.key]=e,e=>e.childNodes);let f=o.checkedKeys,p=e.multiple?dG(e.modelValue).filter(e=>!(e in u)&&!f.includes(e)):[],m=p.concat(f);if(e.checkStrictly)r(Lb,e.multiple?m:m.includes(l)?l:void 0);else if(e.multiple){let e=d();r(Lb,p.concat(e))}else{let t=fG([n],e=>!uG(c(`children`,e))&&!c(`disabled`,e),e=>c(`children`,e)),i=t?c(`value`,t):void 0,a=lG(e.modelValue)&&!!fG([n],t=>c(`value`,t)===e.modelValue,e=>c(`children`,e));r(Lb,i===e.modelValue||a?void 0:i)}Ln(()=>{var r;let i=dG(e.modelValue);a.value.setCheckedKeys(i),(r=t.onCheck)==null||r.call(t,n,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(s=i.value)==null||s.focus()},onNodeExpand:(n,i,o)=>{var s;(s=t.onNodeExpand)==null||s.call(t,n,i,o),Ln(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&i.checked){let t={},n=a.value.getCheckedKeys();pG([a.value.store.root],e=>t[e.key]=e,e=>e.childNodes);let i=dG(e.modelValue).filter(e=>!(e in t)&&!n.includes(e)),o=d();r(Lb,i.concat(o))}})},cacheOptions:u}},hG=R({props:{data:{type:Array,default:()=>[]}},setup(e){let t=Ni(BI);return B(()=>e.data,()=>{e.data.forEach(e=>{t.states.cachedOptions.has(e.value)||t.states.cachedOptions.set(e.value,e)});let n=t.selectRef?.querySelectorAll(`input`)||[];ty&&!Array.from(n).includes(document.activeElement)&&t.setSelected()},{flush:`post`,immediate:!0}),()=>void 0}}),gG=lx(Hb(R({name:`ElTreeSelect`,inheritAttrs:!1,props:{...uL.props,...oG.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){let{slots:n,expose:r}=t,i=F(),a=F(),o=q(()=>e.nodeKey||e.valueKey||`value`),s=sG(e,t,{select:i,tree:a,key:o}),{cacheOptions:c,...l}=mG(e,t,{select:i,tree:a,key:o}),u=Kt({});return r(u),Rr(()=>{Object.assign(u,{...Ev(a.value,[`filter`,`updateKeyChildren`,`getCheckedNodes`,`setCheckedNodes`,`getCheckedKeys`,`setCheckedKeys`,`setChecked`,`getHalfCheckedNodes`,`getHalfCheckedKeys`,`getCurrentKey`,`getCurrentNode`,`setCurrentKey`,`setCurrentNode`,`getNode`,`remove`,`append`,`insertBefore`,`insertAfter`]),...Ev(i.value,[`focus`,`blur`,`selectedLabel`]),treeRef:a.value,selectRef:i.value})}),()=>_o(uL,Kt({...s,ref:e=>i.value=e}),{...n,default:()=>[_o(hG,{data:c.value}),_o(oG,Kt({...l,ref:e=>a.value=e}))]})}}),[[`__file`,`tree-select.vue`]])),_G=Symbol(),vG={key:-1,level:-1,data:{}},yG=(e=>(e.KEY=`id`,e.LABEL=`label`,e.CHILDREN=`children`,e.DISABLED=`disabled`,e.CLASS=``,e))(yG||{}),bG=(e=>(e.ADD=`add`,e.DELETE=`delete`,e))(bG||{}),xG={type:Number,default:26},SG=X({data:{type:Y(Array),default:()=>MS([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Y(Object),default:()=>MS({children:`children`,label:`label`,disabled:`disabled`,value:`id`,class:``})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:Y(Array),default:()=>MS([])},checkStrictly:Boolean,defaultExpandedKeys:{type:Y(Array),default:()=>MS([])},indent:{type:Number,default:16},itemSize:xG,icon:{type:gS},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:Y([String,Number])},accordion:Boolean,filterMethod:{type:Y(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),CG=X({node:{type:Y(Object),default:()=>MS(vG)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:xG}),wG=X({node:{type:Y(Object),required:!0}}),TG=`node-click`,EG=`node-drop`,DG=`node-expand`,OG=`node-collapse`,kG=`current-change`,AG=`check`,jG=`check-change`,MG=`node-contextmenu`,NG={[TG]:(e,t,n)=>e&&t&&n,[EG]:(e,t,n)=>e&&t&&n,[DG]:(e,t)=>e&&t,[OG]:(e,t)=>e&&t,[kG]:(e,t)=>e&&t,[AG]:(e,t)=>e&&t,[jG]:(e,t)=>e&&Rv(t),[MG]:(e,t,n)=>e&&t&&n},PG={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&Rv(t)};function FG(e,t){let n=F(new Set),r=F(new Set),{emit:i}=eo();B([()=>t.value,()=>e.defaultCheckedKeys],()=>Ln(()=>{v(e.defaultCheckedKeys)}),{immediate:!0});let a=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;let{levelTreeNodeMap:i,maxLevel:a}=t.value,o=n.value,s=new Set;for(let e=a;e>=1;--e){let t=i.get(e);t&&t.forEach(e=>{let t=e.children,n=!e.isLeaf||e.disabled||o.has(e.key);if(t){let r=!0,i=!1;for(let e of t){let t=e.key;if(e.isEffectivelyChecked||(n=!1),o.has(t))i=!0;else if(s.has(t)){r=!1,i=!0;break}else r=!1}r?o.add(e.key):i?(s.add(e.key),o.delete(e.key)):(o.delete(e.key),s.delete(e.key))}e.isEffectivelyChecked=n})}r.value=s},o=e=>n.value.has(e.key),s=e=>r.value.has(e.key),c=(t,r,i=!0,o=!0)=>{let s=n.value,c=t.children;!e.checkStrictly&&i&&c?.length&&(r=c.some(e=>!e.isEffectivelyChecked));let u=(t,n)=>{s[n?bG.ADD:bG.DELETE](t.key);let r=t.children;!e.checkStrictly&&r&&r.forEach(e=>{(!e.disabled||e.children)&&u(e,n)})};u(t,r),o&&a(),i&&l(t,r)},l=(e,t)=>{let{checkedNodes:n,checkedKeys:r}=m(),{halfCheckedNodes:a,halfCheckedKeys:o}=h();i(AG,e.data,{checkedKeys:r,checkedNodes:n,halfCheckedKeys:o,halfCheckedNodes:a}),i(jG,e.data,t)};function u(e=!1){return m(e).checkedKeys}function d(e=!1){return m(e).checkedNodes}function f(){return h().halfCheckedKeys}function p(){return h().halfCheckedNodes}function m(r=!1){let i=[],a=[];if(t?.value&&e.showCheckbox){let{treeNodeMap:e}=t.value;n.value.forEach(t=>{let n=e.get(t);n&&(!r||r&&n.isLeaf)&&(a.push(t),i.push(n.data))})}return{checkedKeys:a,checkedNodes:i}}function h(){let n=[],i=[];if(t?.value&&e.showCheckbox){let{treeNodeMap:e}=t.value;r.value.forEach(t=>{let r=e.get(t);r&&(i.push(t),n.push(r.data))})}return{halfCheckedNodes:n,halfCheckedKeys:i}}function g(e){n.value.clear(),r.value.clear(),Ln(()=>{v(e)})}function _(n,r){if(t?.value&&e.showCheckbox){let e=t.value.treeNodeMap.get(n);e&&c(e,r,!1)}}function v(n){if(t?.value){let{treeNodeMap:r}=t.value;if(e.showCheckbox&&r&&n?.length>0){for(let e of n){let t=r.get(e);t&&!o(t)&&c(t,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:c,isChecked:o,isIndeterminate:s,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:p,setChecked:_,setCheckedKeys:g}}function IG(e,t){let n=F(new Set([])),r=F(new Set([])),i=q(()=>w(e.filterMethod));function a(a){if(!i.value)return;let o=new Set,s=r.value,c=n.value,l=[],u=t.value?.treeNodes||[],d=e.filterMethod;c.clear();function f(e){e.forEach(e=>{l.push(e),d?.(a,e.data,e)?l.forEach(e=>{o.add(e.key),e.expanded=!0}):(e.expanded=!1,e.isLeaf&&c.add(e.key));let t=e.children;if(t&&f(t),!e.isLeaf){if(!o.has(e.key))c.add(e.key);else if(t){let n=!0;for(let e of t)if(!c.has(e.key)){n=!1;break}n?s.add(e.key):s.delete(e.key)}}l.pop()})}return f(u),o}function o(e){return r.value.has(e.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:o}}function LG(e,t){let n=F(new Set),r=F(),i=on(),a=F(),{isIndeterminate:o,isChecked:s,toggleCheckbox:c,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:p,setCheckedKeys:m}=FG(e,i),{doFilter:h,hiddenNodeKeySet:g,isForceHiddenExpandIcon:_}=IG(e,i),v=q(()=>e.props?.value||yG.KEY),y=q(()=>e.props?.children||yG.CHILDREN),b=q(()=>e.props?.disabled||yG.DISABLED),x=q(()=>e.props?.label||yG.LABEL),S=q(()=>{let e=n.value,t=g.value,r=[],a=i.value?.treeNodes||[],o=[];for(let e=a.length-1;e>=0;--e)o.push(a[e]);for(;o.length;){let n=o.pop();if(!t.has(n.key)&&(r.push(n),n.children&&e.has(n.key)))for(let e=n.children.length-1;e>=0;--e)o.push(n.children[e])}return r}),C=q(()=>S.value.length>0);function w(e){let t=new Map,r=new Map,i=1;function a(e,o=1,s=void 0){var c;let l=[];for(let i of e){let e=O(i),u={level:o,key:e,data:i};u.label=A(i),u.parent=s;let d=E(i);u.disabled=k(i),u.isLeaf=!d||d.length===0,u.expanded=n.value.has(e),d&&d.length&&(u.children=a(d,o+1,u)),l.push(u),t.set(e,u),r.has(o)||r.set(o,[]),(c=r.get(o))==null||c.push(u)}return o>i&&(i=o),l}let o=a(e);return{treeNodeMap:t,levelTreeNodeMap:r,maxLevel:i,treeNodes:o}}function T(e){let t=h(e);t&&(n.value=t)}function E(e){return e[y.value]}function O(e){return e?e[v.value]:``}function k(e){return e[b.value]}function A(e){return e[x.value]}function ee(e){n.value.has(e.key)?se(e):oe(e)}function te(e){let t=new Set,r=i.value.treeNodeMap;n.value.forEach(e=>{let t=r.get(e);n.value.delete(t.key),t.expanded=!1}),e.forEach(e=>{let n=r.get(e);for(;n&&!t.has(n.key);)t.add(n.key),n.expanded=!0,n=n.parent}),n.value=t}function ne(n,r){t(TG,n.data,n,r),ie(n),e.expandOnClickNode&&ee(n),e.showCheckbox&&(e.checkOnClickNode||n.isLeaf&&e.checkOnClickLeaf)&&!n.disabled&&c(n,!s(n),!0)}function re(e,n){t(EG,e.data,e,n)}function ie(e){le(e)||(r.value=e.key,t(kG,e.data,e))}function ae(e,t){c(e,t)}function oe(r){let a=n.value;if(i.value&&e.accordion){let{treeNodeMap:e}=i.value;a.forEach(t=>{let n=e.get(t);r&&r.level===n?.level&&(a.delete(t),n.expanded=!1)})}a.add(r.key);let o=me(r.key);o&&(o.expanded=!0,t(DG,o.data,o))}function se(e){n.value.delete(e.key);let r=me(e.key);r&&(r.expanded=!1,t(OG,r.data,r))}function ce(e){return!!e.disabled}function le(e){let t=r.value;return t!==void 0&&t===e.key}function ue(){if(r.value)return i.value?.treeNodeMap.get(r.value)?.data}function de(){return r.value}function fe(e){r.value=e}function pe(e){i.value=w(e)}function me(e){let t=D(e)?O(e):e;return i.value?.treeNodeMap.get(t)}function he(e,t=`auto`){let n=me(e);n&&a.value&&a.value.scrollToItem(S.value.indexOf(n),t)}function ge(e){var t;(t=a.value)==null||t.scrollTo(e)}return B(()=>e.currentNodeKey,e=>{r.value=e},{immediate:!0}),B(()=>e.defaultExpandedKeys,e=>{n.value=new Set(e)},{immediate:!0}),B(()=>e.data,e=>{pe(e)},{immediate:!0}),{tree:i,flattenTree:S,isNotEmpty:C,listRef:a,getKey:O,getChildren:E,toggleExpand:ee,toggleCheckbox:c,isChecked:s,isIndeterminate:o,isDisabled:ce,isCurrent:le,isForceHiddenExpandIcon:_,handleNodeClick:ne,handleNodeDrop:re,handleNodeCheck:ae,getCurrentNode:ue,getCurrentKey:de,setCurrentKey:fe,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:p,setCheckedKeys:m,filter:T,setData:pe,getNode:me,expandNode:oe,collapseNode:se,setExpandedKeys:te,scrollToNode:he,scrollTo:ge}}var RG=R({name:`ElTreeNodeContent`,props:wG,setup(e){let t=Ni(_G),n=J(`tree`);return()=>{let r=e.node,{data:i}=r;return t?.ctx.slots.default?t.ctx.slots.default({node:r,data:i}):_o(aW,{tag:`span`,truncated:!0,class:n.be(`node`,`label`)},()=>[r?.label])}}}),zG=Hb(R({...R({name:`ElTreeNode`}),props:CG,emits:PG,setup(e,{emit:t}){let n=e,r=Ni(_G),i=J(`tree`),a=q(()=>r?.props.indent??16),o=q(()=>r?.props.icon??wx),s=e=>{let t=r?.props.props.class;if(!t)return{};let n;if(w(t)){let{data:r}=e;n=t(r,e)}else n=t;return T(n)?{[n]:!0}:n},c=e=>{t(`click`,n.node,e)},l=e=>{t(`drop`,n.node,e)},u=()=>{t(`toggle`,n.node)},d=e=>{t(`check`,n.node,e)},f=e=>{r?.instance?.vnode?.props?.onNodeContextmenu&&(e.stopPropagation(),e.preventDefault()),r?.ctx.emit(MG,e,n.node?.data,n.node)};return(e,t)=>(V(),H(`div`,{ref:`node$`,class:N([I(i).b(`node`),I(i).is(`expanded`,e.expanded),I(i).is(`current`,e.current),I(i).is(`focusable`,!e.disabled),I(i).is(`checked`,!e.disabled&&e.checked),s(e.node)]),role:`treeitem`,tabindex:`-1`,"aria-expanded":e.expanded,"aria-disabled":e.disabled,"aria-checked":e.checked,"data-key":e.node?.key,onClick:Ks(c,[`stop`]),onContextmenu:f,onDragover:Ks(()=>{},[`prevent`]),onDragenter:Ks(()=>{},[`prevent`]),onDrop:Ks(l,[`stop`])},[W(`div`,{class:N(I(i).be(`node`,`content`)),style:j({paddingLeft:`${(e.node.level-1)*I(a)}px`,height:e.itemSize+`px`})},[I(o)?(V(),U(I(hx),{key:0,class:N([I(i).is(`leaf`,!!e.node?.isLeaf),I(i).is(`hidden`,e.hiddenExpandIcon),{expanded:!e.node?.isLeaf&&e.expanded},I(i).be(`node`,`expand-icon`)]),onClick:Ks(u,[`stop`])},{default:L(()=>[(V(),U(Zr(I(o))))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0),e.showCheckbox?(V(),U(I(Sk),{key:1,"model-value":e.checked,indeterminate:e.indeterminate,disabled:e.disabled,onChange:d,onClick:Ks(()=>{},[`stop`])},null,8,[`model-value`,`indeterminate`,`disabled`,`onClick`])):K(`v-if`,!0),G(I(RG),{node:{...e.node,expanded:e.expanded}},null,8,[`node`])],6)],42,[`aria-expanded`,`aria-disabled`,`aria-checked`,`data-key`,`onClick`,`onDragover`,`onDragenter`,`onDrop`]))}}),[[`__file`,`tree-node.vue`]]),BG=lx(Hb(R({...R({name:`ElTreeV2`}),props:SG,emits:NG,setup(e,{expose:t,emit:n}){let r=e,i=li(),a=q(()=>r.itemSize);Mi(_G,{ctx:{emit:n,slots:i},props:r,instance:eo()}),Mi(GS,void 0);let{t:o}=gb(),s=J(`tree`),{flattenTree:c,isNotEmpty:l,listRef:u,toggleExpand:d,isIndeterminate:f,isChecked:p,isDisabled:m,isCurrent:h,isForceHiddenExpandIcon:g,handleNodeClick:_,handleNodeDrop:v,handleNodeCheck:y,toggleCheckbox:b,getCurrentNode:x,getCurrentKey:S,setCurrentKey:C,getCheckedKeys:w,getCheckedNodes:T,getHalfCheckedKeys:E,getHalfCheckedNodes:D,setChecked:O,setCheckedKeys:k,filter:A,setData:ee,getNode:te,expandNode:ne,collapseNode:re,setExpandedKeys:ie,scrollToNode:ae,scrollTo:oe}=LG(r,n);return t({toggleCheckbox:b,getCurrentNode:x,getCurrentKey:S,setCurrentKey:C,getCheckedKeys:w,getCheckedNodes:T,getHalfCheckedKeys:E,getHalfCheckedNodes:D,setChecked:O,setCheckedKeys:k,filter:A,setData:ee,getNode:te,expandNode:ne,collapseNode:re,setExpandedKeys:ie,scrollToNode:ae,scrollTo:oe}),(e,t)=>(V(),H(`div`,{class:N([I(s).b(),{[I(s).m(`highlight-current`)]:e.highlightCurrent}]),role:`tree`},[I(l)?(V(),U(I(GR),{key:0,ref_key:`listRef`,ref:u,"class-name":I(s).b(`virtual-list`),data:I(c),total:I(c).length,height:e.height,"item-size":I(a),"perf-mode":e.perfMode,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:L(({data:t,index:n,style:r})=>[(V(),U(zG,{key:t[n].key,style:j(r),node:t[n],expanded:t[n].expanded,"show-checkbox":e.showCheckbox,checked:I(p)(t[n]),indeterminate:I(f)(t[n]),"item-size":I(a),disabled:I(m)(t[n]),current:I(h)(t[n]),"hidden-expand-icon":I(g)(t[n]),onClick:I(_),onToggle:I(d),onCheck:I(y),onDrop:I(v)},null,8,[`style`,`node`,`expanded`,`show-checkbox`,`checked`,`indeterminate`,`item-size`,`disabled`,`current`,`hidden-expand-icon`,`onClick`,`onToggle`,`onCheck`,`onDrop`]))]),_:1},8,[`class-name`,`data`,`total`,`height`,`item-size`,`perf-mode`,`scrollbar-always-on`])):(V(),H(`div`,{key:1,class:N(I(s).e(`empty-block`))},[z(e.$slots,`empty`,{},()=>[W(`span`,{class:N(I(s).e(`empty-text`))},P(e.emptyText??I(o)(`el.tree.emptyText`)),3)])],2))],2))}}),[[`__file`,`tree.vue`]])),VG=Symbol(`uploadContextKey`),HG=`ElUpload`,UG=class extends Error{constructor(e,t,n,r){super(e),this.name=`UploadAjaxError`,this.status=t,this.method=n,this.url=r}};function WG(e,t,n){let r;return r=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${t.method} ${e} ${n.status}`,new UG(r,n.status,t.method,e)}function GG(e){let t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}var KG=e=>{typeof XMLHttpRequest>`u`&&ib(HG,`XMLHttpRequest is undefined`);let t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener(`progress`,t=>{let n=t;n.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(n)});let r=new FormData;if(e.data)for(let[t,n]of Object.entries(e.data))b(n)&&n.length?r.append(t,...n):r.append(t,n);r.append(e.filename,e.file,e.file.name),t.addEventListener(`error`,()=>{e.onError(WG(n,e,t))}),t.addEventListener(`load`,()=>{if(t.status<200||t.status>=300)return e.onError(WG(n,e,t));e.onSuccess(GG(t))}),t.open(e.method,n,!0),e.withCredentials&&`withCredentials`in t&&(t.withCredentials=!0);let i=e.headers||{};if(i instanceof Headers)i.forEach((e,n)=>t.setRequestHeader(n,e));else for(let[e,n]of Object.entries(i))ov(n)||t.setRequestHeader(e,String(n));return t.send(r),t},qG=[`text`,`picture`,`picture-card`],JG=1,YG=()=>Date.now()+ JG++,XG=X({action:{type:String,default:`#`},headers:{type:Y(Object)},method:{type:String,default:`post`},data:{type:Y([Object,Function,Promise]),default:()=>MS({})},multiple:Boolean,name:{type:String,default:`file`},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:``},fileList:{type:Y(Array),default:()=>MS([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:qG,default:`text`},httpRequest:{type:Y(Function),default:KG},disabled:{type:Boolean,default:void 0},limit:Number}),ZG=X({...XG,beforeUpload:{type:Y(Function),default:f},beforeRemove:{type:Y(Function)},onRemove:{type:Y(Function),default:f},onChange:{type:Y(Function),default:f},onPreview:{type:Y(Function),default:f},onSuccess:{type:Y(Function),default:f},onProgress:{type:Y(Function),default:f},onError:{type:Y(Function),default:f},onExceed:{type:Y(Function),default:f},crossorigin:{type:Y(String)}}),QG=X({files:{type:Y(Array),default:()=>MS([])},disabled:{type:Boolean,default:void 0},handlePreview:{type:Y(Function),default:f},listType:{type:String,values:qG,default:`text`},crossorigin:{type:Y(String)}}),$G={remove:e=>!!e},eK=Hb(R({...R({name:`ElUploadList`}),props:QG,emits:$G,setup(e,{emit:t}){let n=e,{t:r}=gb(),i=J(`upload`),a=J(`icon`),o=J(`list`),s=XS(),c=F(!1),l=q(()=>[i.b(`list`),i.bm(`list`,n.listType),i.is(`disabled`,s.value)]),u=e=>{t(`remove`,e)};return(e,t)=>(V(),U(Os,{tag:`ul`,class:N(I(l)),name:I(o).b()},{default:L(()=>[(V(!0),H(Da,null,ti(e.files,(t,n)=>(V(),H(`li`,{key:t.uid||t.name,class:N([I(i).be(`list`,`item`),I(i).is(t.status),{focusing:c.value}]),tabindex:I(s)?void 0:0,"aria-disabled":I(s),role:`button`,onKeydown:Js(e=>!I(s)&&u(t),[`delete`]),onFocus:e=>c.value=!0,onBlur:e=>c.value=!1,onClick:e=>c.value=!1},[z(e.$slots,`default`,{file:t,index:n},()=>[e.listType===`picture`||t.status!==`uploading`&&e.listType===`picture-card`?(V(),H(`img`,{key:0,class:N(I(i).be(`list`,`item-thumbnail`)),src:t.url,crossorigin:e.crossorigin,alt:``},null,10,[`src`,`crossorigin`])):K(`v-if`,!0),t.status===`uploading`||e.listType!==`picture-card`?(V(),H(`div`,{key:1,class:N(I(i).be(`list`,`item-info`))},[W(`a`,{class:N(I(i).be(`list`,`item-name`)),onClick:Ks(n=>e.handlePreview(t),[`prevent`])},[G(I(hx),{class:N(I(a).m(`document`))},{default:L(()=>[G(I(Lx))]),_:1},8,[`class`]),W(`span`,{class:N(I(i).be(`list`,`item-file-name`)),title:t.name},P(t.name),11,[`title`])],10,[`onClick`]),t.status===`uploading`?(V(),U(I(FL),{key:0,type:e.listType===`picture-card`?`circle`:`line`,"stroke-width":e.listType===`picture-card`?6:2,percentage:Number(t.percentage),style:j(e.listType===`picture-card`?``:`margin-top: 0.5rem`)},null,8,[`type`,`stroke-width`,`percentage`,`style`])):K(`v-if`,!0)],2)):K(`v-if`,!0),W(`label`,{class:N(I(i).be(`list`,`item-status-label`))},[e.listType===`text`?(V(),U(I(hx),{key:0,class:N([I(a).m(`upload-success`),I(a).m(`circle-check`)])},{default:L(()=>[G(I(Ox))]),_:1},8,[`class`])):[`picture-card`,`picture`].includes(e.listType)?(V(),U(I(hx),{key:1,class:N([I(a).m(`upload-success`),I(a).m(`check`)])},{default:L(()=>[G(I(Ex))]),_:1},8,[`class`])):K(`v-if`,!0)],2),I(s)?K(`v-if`,!0):(V(),U(I(hx),{key:2,class:N(I(a).m(`close`)),onClick:e=>u(t)},{default:L(()=>[G(I(Mx))]),_:2},1032,[`class`,`onClick`])),K(` Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn`),K(` This is a bug which needs to be fixed `),K(` TODO: Fix the incorrect navigation interaction `),I(s)?K(`v-if`,!0):(V(),H(`i`,{key:3,class:N(I(a).m(`close-tip`))},P(I(r)(`el.upload.deleteTip`)),3)),e.listType===`picture-card`?(V(),H(`span`,{key:4,class:N(I(i).be(`list`,`item-actions`))},[W(`span`,{class:N(I(i).be(`list`,`item-preview`)),onClick:n=>e.handlePreview(t)},[G(I(hx),{class:N(I(a).m(`zoom-in`))},{default:L(()=>[G(I(mS))]),_:1},8,[`class`])],10,[`onClick`]),I(s)?K(`v-if`,!0):(V(),H(`span`,{key:0,class:N(I(i).be(`list`,`item-delete`)),onClick:e=>u(t)},[G(I(hx),{class:N(I(a).m(`delete`))},{default:L(()=>[G(I(Ix))]),_:1},8,[`class`])],10,[`onClick`]))],2)):K(`v-if`,!0)])],42,[`tabindex`,`aria-disabled`,`onKeydown`,`onFocus`,`onBlur`,`onClick`]))),128)),z(e.$slots,`append`)]),_:3},8,[`class`,`name`]))}}),[[`__file`,`upload-list.vue`]]),tK=X({disabled:{type:Boolean,default:void 0}}),nK={file:e=>b(e)},rK=`ElUploadDrag`,iK=Hb(R({...R({name:rK}),props:tK,emits:nK,setup(e,{emit:t}){Ni(VG)||ib(rK,`usage: <el-upload><el-upload-dragger /></el-upload>`);let n=J(`upload`),r=F(!1),i=XS(),a=e=>{if(i.value)return;r.value=!1,e.stopPropagation();let n=Array.from(e.dataTransfer.files),a=e.dataTransfer.items||[];n.forEach((e,t)=>{let n=a[t],r=(n?.webkitGetAsEntry)?.call(n);r&&(e.isDirectory=r.isDirectory)}),t(`file`,n)},o=()=>{i.value||(r.value=!0)},s=e=>{e.currentTarget.contains(e.relatedTarget)||(r.value=!1)};return(e,t)=>(V(),H(`div`,{class:N([I(n).b(`dragger`),I(n).is(`dragover`,r.value)]),onDrop:Ks(a,[`prevent`]),onDragover:Ks(o,[`prevent`]),onDragleave:Ks(s,[`prevent`])},[z(e.$slots,`default`)],42,[`onDrop`,`onDragover`,`onDragleave`]))}}),[[`__file`,`upload-dragger.vue`]]),aK=X({...XG,beforeUpload:{type:Y(Function),default:f},onRemove:{type:Y(Function),default:f},onStart:{type:Y(Function),default:f},onSuccess:{type:Y(Function),default:f},onProgress:{type:Y(Function),default:f},onError:{type:Y(Function),default:f},onExceed:{type:Y(Function),default:f}}),oK=Hb(R({...R({name:`ElUploadContent`,inheritAttrs:!1}),props:aK,setup(e,{expose:t}){let n=e,r=J(`upload`),i=XS(),a=on({}),o=on(),s=e=>{if(e.length===0)return;let{autoUpload:t,limit:r,fileList:i,multiple:a,onStart:o,onExceed:s}=n;if(r&&i.length+e.length>r){s(e,i);return}a||(e=e.slice(0,1));for(let n of e){let e=n;e.uid=YG(),o(e),t&&c(e)}},c=async e=>{if(o.value.value=``,!n.beforeUpload)return u(e);let t,r={};try{let i=n.data,a=n.beforeUpload(e);r=te(n.data)?lg(n.data):n.data,t=await a,te(n.data)&&iv(i,r)&&(r=lg(n.data))}catch{t=!1}if(t===!1){n.onRemove(e);return}let i=e;t instanceof Blob&&(i=t instanceof File?t:new File([t],e.name,{type:e.type})),u(Object.assign(i,{uid:e.uid}),r)},l=async(e,t)=>w(e)?e(t):e,u=async(e,t)=>{let{headers:r,data:i,method:o,withCredentials:s,name:c,action:u,onProgress:d,onSuccess:f,onError:p,httpRequest:m}=n;try{t=await l(t??i,e)}catch{n.onRemove(e);return}let{uid:h}=e,g={headers:r||{},withCredentials:s,file:e,data:t,method:o,filename:c,action:u,onProgress:t=>{d(t,e)},onSuccess:t=>{f(t,e),delete a.value[h]},onError:t=>{p(t,e),delete a.value[h]}},_=m(g);a.value[h]=_,_ instanceof Promise&&_.then(g.onSuccess,g.onError)},d=e=>{let t=e.target.files;t&&s(Array.from(t))},f=()=>{i.value||(o.value.value=``,o.value.click())},p=()=>{f()};return t({abort:e=>{kb(a.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach(([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete a.value[e]})},upload:c}),(e,t)=>(V(),H(`div`,{class:N([I(r).b(),I(r).m(e.listType),I(r).is(`drag`,e.drag),I(r).is(`disabled`,I(i))]),tabindex:I(i)?void 0:0,"aria-disabled":I(i),role:`button`,onClick:f,onKeydown:Js(Ks(p,[`self`]),[`enter`,`space`])},[e.drag?(V(),U(iK,{key:0,disabled:I(i),onFile:s},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`disabled`])):z(e.$slots,`default`,{key:1}),W(`input`,{ref_key:`inputRef`,ref:o,class:N(I(r).e(`input`)),name:e.name,disabled:I(i),multiple:e.multiple,accept:e.accept,type:`file`,onChange:d,onClick:Ks(()=>{},[`stop`])},null,42,[`name`,`disabled`,`multiple`,`accept`,`onClick`])],42,[`tabindex`,`aria-disabled`,`onKeydown`]))}}),[[`__file`,`upload-content.vue`]]),sK=`ElUpload`,cK=e=>{e.url?.startsWith(`blob:`)&&URL.revokeObjectURL(e.url)},lK=(e,t)=>{let n=eb(e,`fileList`,void 0,{passive:!0}),r=e=>n.value.find(t=>t.uid===e.uid);function i(e){var n;(n=t.value)==null||n.abort(e)}function a(e=[`ready`,`uploading`,`success`,`fail`]){n.value=n.value.filter(t=>!e.includes(t.status))}function o(e){n.value=n.value.filter(t=>t.uid!==e.uid)}let s=t=>{Ln(()=>e.onChange(t,n.value))},c=(t,i)=>{let a=r(i);a&&(console.error(t),a.status=`fail`,o(a),e.onError(t,a,n.value),s(a))},l=(t,i)=>{let a=r(i);a&&(e.onProgress(t,a,n.value),a.status=`uploading`,a.percentage=Math.round(t.percent))},u=(t,i)=>{let a=r(i);a&&(a.status=`success`,a.response=t,e.onSuccess(t,a,n.value),s(a))},d=t=>{ov(t.uid)&&(t.uid=YG());let r={name:t.name,percentage:0,status:`ready`,size:t.size,raw:t,uid:t.uid};if(e.listType===`picture-card`||e.listType===`picture`)try{r.url=URL.createObjectURL(t)}catch(t){t.message,e.onError(t,r,n.value)}n.value=[...n.value,r],s(r)},f=async t=>{let a=t instanceof File?r(t):t;a||ib(sK,`file to be removed not found`);let s=t=>{i(t),o(t),e.onRemove(t,n.value),cK(t)};e.beforeRemove?await e.beforeRemove(a,n.value)!==!1&&s(a):s(a)};function p(){n.value.filter(({status:e})=>e===`ready`).forEach(({raw:e})=>e&&t.value?.upload(e))}return B(()=>e.listType,t=>{t!==`picture-card`&&t!==`picture`||(n.value=n.value.map(t=>{let{raw:r,url:i}=t;if(!i&&r)try{t.url=URL.createObjectURL(r)}catch(r){e.onError(r,t,n.value)}return t}))}),B(n,e=>{for(let t of e)t.uid||=YG(),t.status||=`success`},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:a,handleError:c,handleProgress:l,handleStart:d,handleSuccess:u,handleRemove:f,submit:p,revokeFileObjectURL:cK}},uK=lx(Hb(R({...R({name:`ElUpload`}),props:ZG,setup(e,{expose:t}){let n=e,r=XS(),i=on(),{abort:a,submit:o,clearFiles:s,uploadFiles:c,handleStart:l,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:p,revokeFileObjectURL:m}=lK(n,i),h=q(()=>n.listType===`picture-card`),g=q(()=>({...n,fileList:c.value,onStart:l,onProgress:p,onSuccess:f,onError:u,onRemove:d}));return Vr(()=>{c.value.forEach(m)}),Mi(VG,{accept:_n(n,`accept`)}),t({abort:a,submit:o,clearFiles:s,handleStart:l,handleRemove:d}),(e,t)=>(V(),H(`div`,null,[I(h)&&e.showFileList?(V(),U(eK,{key:0,disabled:I(r),"list-type":e.listType,files:I(c),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:I(d)},ni({append:L(()=>[G(oK,Ja({ref_key:`uploadRef`,ref:i},I(g)),{default:L(()=>[e.$slots.trigger?z(e.$slots,`trigger`,{key:0}):K(`v-if`,!0),!e.$slots.trigger&&e.$slots.default?z(e.$slots,`default`,{key:1}):K(`v-if`,!0)]),_:3},16)]),_:2},[e.$slots.file?{name:`default`,fn:L(({file:t,index:n})=>[z(e.$slots,`file`,{file:t,index:n})])}:void 0]),1032,[`disabled`,`list-type`,`files`,`crossorigin`,`handle-preview`,`onRemove`])):K(`v-if`,!0),!I(h)||I(h)&&!e.showFileList?(V(),U(oK,Ja({key:1,ref_key:`uploadRef`,ref:i},I(g)),{default:L(()=>[e.$slots.trigger?z(e.$slots,`trigger`,{key:0}):K(`v-if`,!0),!e.$slots.trigger&&e.$slots.default?z(e.$slots,`default`,{key:1}):K(`v-if`,!0)]),_:3},16)):K(`v-if`,!0),e.$slots.trigger?z(e.$slots,`default`,{key:2}):K(`v-if`,!0),z(e.$slots,`tip`),!I(h)&&e.showFileList?(V(),U(eK,{key:3,disabled:I(r),"list-type":e.listType,files:I(c),crossorigin:e.crossorigin,"handle-preview":e.onPreview,onRemove:I(d)},ni({_:2},[e.$slots.file?{name:`default`,fn:L(({file:t,index:n})=>[z(e.$slots,`file`,{file:t,index:n})])}:void 0]),1032,[`disabled`,`list-type`,`files`,`crossorigin`,`handle-preview`,`onRemove`])):K(`v-if`,!0)]))}}),[[`__file`,`upload.vue`]])),dK=X({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Y([String,Array]),default:`Element Plus`},font:{type:Y(Object)},gap:{type:Y(Array),default:()=>[100,100]},offset:{type:Y(Array)}});function fK(e){return e.replace(/([A-Z])/g,`-$1`).toLowerCase()}function pK(e){return Object.keys(e).map(t=>`${fK(t)}: ${e[t]};`).join(` `)}function mK(){return window.devicePixelRatio||1}var hK=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type===`attributes`&&e.target===t&&(n=!0),n},gK={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function _K(e,t,n=1){let r=document.createElement(`canvas`),i=r.getContext(`2d`),a=e*n,o=t*n;return r.setAttribute(`width`,`${a}px`),r.setAttribute(`height`,`${o}px`),i.save(),[i,r,a,o]}function vK(){function e(e,t,n,r,i,a,o,s,c){let[l,u,d,f]=_K(r,i,n),p=0;if(e instanceof HTMLImageElement)l.drawImage(e,0,0,d,f);else{let{color:t,fontSize:r,fontStyle:o,fontWeight:s,fontFamily:u,textAlign:f,textBaseline:m}=a,h=Number(r)*n;l.font=`${o} normal ${s} ${h}px/${i}px ${u}`,l.fillStyle=t,l.textAlign=f,l.textBaseline=m;let g=b(e)?e:[e];if(m!==`top`&&g[0]){let e=l.measureText(g[0]);l.textBaseline=`top`;let t=l.measureText(g[0]);p=e.actualBoundingBoxAscent-t.actualBoundingBoxAscent}g?.forEach((e,t)=>{let[r,i]=gK[f];l.fillText(e??``,d*r+c*i,t*(h+a.fontGap*n))})}let m=Math.PI/180*Number(t),h=Math.max(r,i),[g,_,v]=_K(h,h,n);g.translate(v/2,v/2),g.rotate(m),d>0&&f>0&&g.drawImage(u,-d/2,-f/2);function y(e,t){return[e*Math.cos(m)-t*Math.sin(m),e*Math.sin(m)+t*Math.cos(m)]}let x=0,S=0,C=0,w=0,T=d/2,E=f/2;[[0-T,0-E],[0+T,0-E],[0+T,0+E],[0-T,0+E]].forEach(([e,t])=>{let[n,r]=y(e,t);x=Math.min(x,n),S=Math.max(S,n),C=Math.min(C,r),w=Math.max(w,r)});let D=x+v/2,O=C+v/2,k=S-x,A=w-C,ee=o*n,te=s*n,ne=(k+ee)*2,re=A+te,[ie,ae]=_K(ne,re);function oe(e=0,t=0){ie.drawImage(_,D,O,k,A,e,t+p,k,A)}return oe(),oe(k+ee,-A/2-te/2),oe(k+ee,A/2+te/2),[ae.toDataURL(),ne/n,re/n]}return e}var yK=lx(Hb(R({...R({name:`ElWatermark`}),props:dK,setup(e){let t=e,n={position:`relative`},r=q(()=>t.font?.fontGap??3),i=q(()=>t.font?.color??`rgba(0,0,0,.15)`),a=q(()=>t.font?.fontSize??16),o=q(()=>t.font?.fontWeight??`normal`),s=q(()=>t.font?.fontStyle??`normal`),c=q(()=>t.font?.fontFamily??`sans-serif`),l=q(()=>t.font?.textAlign??`center`),u=q(()=>t.font?.textBaseline??`hanging`),d=q(()=>t.gap[0]),f=q(()=>t.gap[1]),p=q(()=>d.value/2),m=q(()=>f.value/2),h=q(()=>t.offset?.[0]??p.value),g=q(()=>t.offset?.[1]??m.value),_=()=>{let e={zIndex:t.zIndex,position:`absolute`,left:0,top:0,width:`100%`,height:`100%`,pointerEvents:`none`,backgroundRepeat:`repeat`},n=h.value-p.value,r=g.value-m.value;return n>0&&(e.left=`${n}px`,e.width=`calc(100% - ${n}px)`,n=0),r>0&&(e.top=`${r}px`,e.height=`calc(100% - ${r}px)`,r=0),e.backgroundPosition=`${n}px ${r}px`,e},v=on(null),y=on(),x=F(!1),S=()=>{y.value&&=(y.value.remove(),void 0)},C=(e,t)=>{var n;v.value&&y.value&&(x.value=!0,y.value.setAttribute(`style`,pK({..._(),backgroundImage:`url('${e}')`,backgroundSize:`${Math.floor(t)}px`})),(n=v.value)==null||n.append(y.value),setTimeout(()=>{x.value=!1}))},w=e=>{let n=120,i=64,o=0,{image:s,content:l,width:u,height:d,rotate:f}=t;if(!s&&e.measureText){e.font=`${Number(a.value)}px ${c.value}`;let t=b(l)?l:[l],s=0,u=0;t.forEach(t=>{let{width:n,fontBoundingBoxAscent:r,fontBoundingBoxDescent:i,actualBoundingBoxAscent:a,actualBoundingBoxDescent:o}=e.measureText(t),c=Lv(r)?a+o:r+i;n>s&&(s=Math.ceil(n)),c>u&&(u=Math.ceil(c))}),n=s,i=u*t.length+(t.length-1)*r.value;let d=Math.PI/180*Number(f);o=Math.ceil(Math.abs(Math.sin(d)*i)/2),n+=o}return[u??n,d??i,o]},T=vK(),E=()=>{let e=document.createElement(`canvas`).getContext(`2d`),n=t.image,p=t.content,m=t.rotate;if(e){y.value||=document.createElement(`div`);let t=mK(),[h,g,_]=w(e),v=e=>{let[n,p]=T(e||``,m,t,h,g,{color:i.value,fontSize:a.value,fontStyle:s.value,fontWeight:o.value,fontFamily:c.value,fontGap:r.value,textAlign:l.value,textBaseline:u.value},d.value,f.value,_);C(n,p)};if(n){let e=new Image;e.onload=()=>{v(e)},e.onerror=()=>{v(p)},e.crossOrigin=`anonymous`,e.referrerPolicy=`no-referrer`,e.src=n}else v(p)}};return Rr(()=>{E()}),B(()=>t,()=>{E()},{deep:!0,flush:`post`}),Vr(()=>{S()}),qy(v,e=>{x.value||e.forEach(e=>{hK(e,y.value)&&(S(),E())})},{attributes:!0,subtree:!0,childList:!0}),(e,t)=>(V(),H(`div`,{ref_key:`containerRef`,ref:v,style:j([n])},[z(e.$slots,`default`)],4))}}),[[`__file`,`watermark.vue`]])),bK=X({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:`rgba(0,0,0,0.5)`},pos:{type:Y(Object)},targetAreaClickable:{type:Boolean,default:!0}}),xK=Math.min,SK=Math.max,CK=Math.round,wK=Math.floor,TK=e=>({x:e,y:e}),EK={left:`right`,right:`left`,bottom:`top`,top:`bottom`},DK={start:`end`,end:`start`};function OK(e,t,n){return SK(e,xK(t,n))}function kK(e,t){return typeof e==`function`?e(t):e}function AK(e){return e.split(`-`)[0]}function jK(e){return e.split(`-`)[1]}function MK(e){return e===`x`?`y`:`x`}function NK(e){return e===`y`?`height`:`width`}var PK=new Set([`top`,`bottom`]);function FK(e){return PK.has(AK(e))?`y`:`x`}function IK(e){return MK(FK(e))}function LK(e,t,n){n===void 0&&(n=!1);let r=jK(e),i=IK(e),a=NK(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=KK(o)),[o,KK(o)]}function RK(e){let t=KK(e);return[zK(e),t,zK(t)]}function zK(e){return e.replace(/start|end/g,e=>DK[e])}var BK=[`left`,`right`],VK=[`right`,`left`],HK=[`top`,`bottom`],UK=[`bottom`,`top`];function WK(e,t,n){switch(e){case`top`:case`bottom`:return n?t?VK:BK:t?BK:VK;case`left`:case`right`:return t?HK:UK;default:return[]}}function GK(e,t,n,r){let i=jK(e),a=WK(AK(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(zK)))),a}function KK(e){return e.replace(/left|right|bottom|top/g,e=>EK[e])}function qK(e){return{top:0,right:0,bottom:0,left:0,...e}}function JK(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:qK(e)}function YK(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function XK(e,t,n){let{reference:r,floating:i}=e,a=FK(t),o=IK(t),s=NK(o),c=AK(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(jK(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var ZK=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=XK(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=XK(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function QK(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=kK(t,e),p=JK(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=YK(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=YK(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var $K=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=kK(e,t)||{};if(l==null)return{};let d=JK(u),f={x:n,y:r},p=IK(i),m=NK(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=xK(d[_],T),D=xK(d[v],T),O=E,k=C-h[m]-D,A=C/2-h[m]/2+w,ee=OK(O,A,k),te=!c.arrow&&jK(i)!=null&&A!==ee&&a.reference[m]/2-(A<O?E:D)-h[m]/2<0,ne=te?A<O?A-O:A-k:0;return{[p]:f[p]+ne,data:{[p]:ee,centerOffset:A-ee-ne,...te&&{alignmentOffset:ne}},reset:te}}}),eq=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=kK(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=AK(r),_=FK(o),v=AK(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[KK(o)]:RK(o)),x=p!==`none`;!d&&x&&b.push(...GK(o,m,p,y));let S=[o,...b],C=await QK(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=LK(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==FK(t))||T.every(e=>FK(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=FK(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}},tq=new Set([`left`,`top`]);async function nq(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=AK(n),s=jK(n),c=FK(n)===`y`,l=tq.has(o)?-1:1,u=a&&c?-1:1,d=kK(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var rq=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await nq(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},iq=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=kK(e,t),l={x:n,y:r},u=await QK(t,c),d=FK(AK(i)),f=MK(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=OK(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=OK(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}};function aq(){return typeof window<`u`}function oq(e){return lq(e)?(e.nodeName||``).toLowerCase():`#document`}function sq(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cq(e){return((lq(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function lq(e){return aq()?e instanceof Node||e instanceof sq(e).Node:!1}function uq(e){return aq()?e instanceof Element||e instanceof sq(e).Element:!1}function dq(e){return aq()?e instanceof HTMLElement||e instanceof sq(e).HTMLElement:!1}function fq(e){return!aq()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof sq(e).ShadowRoot}var pq=new Set([`inline`,`contents`]);function mq(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=Dq(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!pq.has(i)}var hq=new Set([`table`,`td`,`th`]);function gq(e){return hq.has(oq(e))}var _q=[`:popover-open`,`:modal`];function vq(e){return _q.some(t=>{try{return e.matches(t)}catch{return!1}})}var yq=[`transform`,`translate`,`scale`,`rotate`,`perspective`],bq=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],xq=[`paint`,`layout`,`strict`,`content`];function Sq(e){let t=wq(),n=uq(e)?Dq(e):e;return yq.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||bq.some(e=>(n.willChange||``).includes(e))||xq.some(e=>(n.contain||``).includes(e))}function Cq(e){let t=kq(e);for(;dq(t)&&!Eq(t);){if(Sq(t))return t;if(vq(t))return null;t=kq(t)}return null}function wq(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var Tq=new Set([`html`,`body`,`#document`]);function Eq(e){return Tq.has(oq(e))}function Dq(e){return sq(e).getComputedStyle(e)}function Oq(e){return uq(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kq(e){if(oq(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||fq(e)&&e.host||cq(e);return fq(t)?t.host:t}function Aq(e){let t=kq(e);return Eq(t)?e.ownerDocument?e.ownerDocument.body:e.body:dq(t)&&mq(t)?t:Aq(t)}function jq(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=Aq(e),i=r===e.ownerDocument?.body,a=sq(r);if(i){let e=Mq(a);return t.concat(a,a.visualViewport||[],mq(r)?r:[],e&&n?jq(e):[])}return t.concat(r,jq(r,[],n))}function Mq(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Nq(e){let t=Dq(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=dq(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=CK(n)!==a||CK(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function Pq(e){return uq(e)?e:e.contextElement}function Fq(e){let t=Pq(e);if(!dq(t))return TK(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=Nq(t),o=(a?CK(n.width):n.width)/r,s=(a?CK(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var Iq=TK(0);function Lq(e){let t=sq(e);return!wq()||!t.visualViewport?Iq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Rq(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==sq(e)?!1:t}function zq(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=Pq(e),o=TK(1);t&&(r?uq(r)&&(o=Fq(r)):o=Fq(e));let s=Rq(a,n,r)?Lq(a):TK(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=sq(a),t=r&&uq(r)?sq(r):r,n=e,i=Mq(n);for(;i&&r&&t!==n;){let e=Fq(i),t=i.getBoundingClientRect(),r=Dq(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=sq(i),i=Mq(n)}}return YK({width:u,height:d,x:c,y:l})}function Bq(e,t){let n=Oq(e).scrollLeft;return t?t.left+n:zq(cq(e)).left+n}function Vq(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-Bq(e,n),y:n.top+t.scrollTop}}function Hq(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=cq(r),s=t?vq(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=TK(1),u=TK(0),d=dq(r);if((d||!d&&!a)&&((oq(r)!==`body`||mq(o))&&(c=Oq(r)),dq(r))){let e=zq(r);l=Fq(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?Vq(o,c):TK(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Uq(e){return Array.from(e.getClientRects())}function Wq(e){let t=cq(e),n=Oq(e),r=e.ownerDocument.body,i=SK(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=SK(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+Bq(e),s=-n.scrollTop;return Dq(r).direction===`rtl`&&(o+=SK(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Gq=25;function Kq(e,t){let n=sq(e),r=cq(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=wq();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=Bq(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Gq&&(a-=o)}else l<=Gq&&(a+=l);return{width:a,height:o,x:s,y:c}}var qq=new Set([`absolute`,`fixed`]);function Jq(e,t){let n=zq(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=dq(e)?Fq(e):TK(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function Yq(e,t,n){let r;if(t===`viewport`)r=Kq(e,n);else if(t===`document`)r=Wq(cq(e));else if(uq(t))r=Jq(t,n);else{let n=Lq(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return YK(r)}function Xq(e,t){let n=kq(e);return n===t||!uq(n)||Eq(n)?!1:Dq(n).position===`fixed`||Xq(n,t)}function Zq(e,t){let n=t.get(e);if(n)return n;let r=jq(e,[],!1).filter(e=>uq(e)&&oq(e)!==`body`),i=null,a=Dq(e).position===`fixed`,o=a?kq(e):e;for(;uq(o)&&!Eq(o);){let t=Dq(o),n=Sq(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&qq.has(i.position)||mq(o)&&!n&&Xq(e,o))?r=r.filter(e=>e!==o):i=t,o=kq(o)}return t.set(e,r),r}function Qq(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?vq(t)?[]:Zq(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=Yq(t,n,i);return e.top=SK(r.top,e.top),e.right=xK(r.right,e.right),e.bottom=xK(r.bottom,e.bottom),e.left=SK(r.left,e.left),e},Yq(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function $q(e){let{width:t,height:n}=Nq(e);return{width:t,height:n}}function eJ(e,t,n){let r=dq(t),i=cq(t),a=n===`fixed`,o=zq(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=TK(0);function l(){c.x=Bq(i)}if(r||!r&&!a)if((oq(t)!==`body`||mq(i))&&(s=Oq(t)),r){let e=zq(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?Vq(i,s):TK(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function tJ(e){return Dq(e).position===`static`}function nJ(e,t){if(!dq(e)||Dq(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return cq(e)===n&&(n=n.ownerDocument.body),n}function rJ(e,t){let n=sq(e);if(vq(e))return n;if(!dq(e)){let t=kq(e);for(;t&&!Eq(t);){if(uq(t)&&!tJ(t))return t;t=kq(t)}return n}let r=nJ(e,t);for(;r&&gq(r)&&tJ(r);)r=nJ(r,t);return r&&Eq(r)&&tJ(r)&&!Sq(r)?n:r||Cq(e)||n}var iJ=async function(e){let t=this.getOffsetParent||rJ,n=this.getDimensions,r=await n(e.floating);return{reference:eJ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aJ(e){return Dq(e).direction===`rtl`}var oJ={convertOffsetParentRelativeRectToViewportRelativeRect:Hq,getDocumentElement:cq,getClippingRect:Qq,getOffsetParent:rJ,getElementRects:iJ,getClientRects:Uq,getDimensions:$q,getScale:Fq,isElement:uq,isRTL:aJ};function sJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cJ(e,t){let n=null,r,i=cq(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=wK(d),h=wK(i.clientWidth-(u+f)),g=wK(i.clientHeight-(d+p)),_=wK(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:SK(0,xK(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!sJ(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function lJ(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=Pq(e),u=i||a?[...l?jq(l):[],...jq(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?cJ(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?zq(e):null;c&&g();function g(){let t=zq(e);h&&!sJ(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var uJ=QK,dJ=rq,fJ=iq,pJ=eq,mJ=$K,hJ=(e,t,n)=>{let r=new Map,i={platform:oJ,...n},a={...i.platform,_c:r};return ZK(e,t,{...i,platform:a})},gJ=(e,t,n,r,i)=>{let a=F(null),o=()=>{let t;return t=T(e.value)?document.querySelector(e.value):w(e.value)?e.value():e.value,t},s=()=>{let e=o();if(!e||!t.value){a.value=null;return}vJ(e)||e.scrollIntoView(i.value);let{left:n,top:r,width:s,height:c}=e.getBoundingClientRect();a.value={left:n,top:r,width:s,height:c,radius:0}};Rr(()=>{B([t,e],()=>{s()},{immediate:!0}),window.addEventListener(`resize`,s)}),Vr(()=>{window.removeEventListener(`resize`,s)});let c=e=>(b(n.value.offset)?n.value.offset[e]:n.value.offset)??6,l=q(()=>{if(!a.value)return a.value;let e=c(0),t=c(1),r=n.value?.radius||2;return{left:a.value.left-e,top:a.value.top-t,width:a.value.width+e*2,height:a.value.height+t*2,radius:r}});return{mergedPosInfo:l,triggerTarget:q(()=>{let e=o();return!r.value||!e||!window.DOMRect?e||void 0:{getBoundingClientRect(){return window.DOMRect.fromRect({width:l.value?.width||0,height:l.value?.height||0,x:l.value?.left||0,y:l.value?.top||0})}}})}},_J=Symbol(`ElTour`);function vJ(e){let t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:o}=e.getBoundingClientRect();return r>=0&&o>=0&&i<=t&&a<=n}var yJ=(e,t,n,r,i,a,o,s)=>{let c=F(),l=F(),u=F({}),d={x:c,y:l,placement:r,strategy:i,middlewareData:u},f=q(()=>{let e=[dJ(I(a)),pJ(),fJ(),bJ()];return I(s)&&I(n)&&e.push(mJ({element:I(n)})),e}),p=async()=>{if(!ty)return;let n=I(e),a=I(t);if(!n||!a)return;let o=await hJ(n,a,{placement:I(r),strategy:I(i),middleware:I(f)});Ob(d).forEach(e=>{d[e].value=o[e]})},m=q(()=>{if(!I(e))return{position:`fixed`,top:`50%`,left:`50%`,transform:`translate3d(-50%, -50%, 0)`,maxWidth:`100vw`,zIndex:I(o)};let{overflow:t}=I(u);return{position:I(i),zIndex:I(o),top:I(l)==null?``:`${I(l)}px`,left:I(c)==null?``:`${I(c)}px`,maxWidth:t?.maxWidth?`${t?.maxWidth}px`:``}}),h=q(()=>{if(!I(s))return{};let{arrow:e}=I(u);return{left:e?.x==null?``:`${e?.x}px`,top:e?.y==null?``:`${e?.y}px`}}),g;return Rr(()=>{let n=I(e),r=I(t);n&&r&&(g=lJ(n,r,p)),Ii(()=>{p()})}),Vr(()=>{g&&g()}),{update:p,contentStyle:m,arrowStyle:h}},bJ=()=>({name:`overflow`,async fn(e){let t=await uJ(e),n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),xJ=Hb(R({...R({name:`ElTourMask`,inheritAttrs:!1}),props:bK,setup(e){let t=e,{ns:n}=Ni(_J),r=q(()=>t.pos?.radius??2),i=q(()=>{let e=r.value,t=`a${e},${e} 0 0 1`;return{topRight:`${t} ${e},${e}`,bottomRight:`${t} ${-e},${e}`,bottomLeft:`${t} ${-e},${-e}`,topLeft:`${t} ${e},${-e}`}}),{width:a,height:o}=nb(),s=q(()=>{let e=a.value,n=o.value,s=i.value,c=`M${e},0 L0,0 L0,${n} L${e},${n} L${e},0 Z`,l=r.value;return t.pos?`${c} M${t.pos.left+l},${t.pos.top} h${t.pos.width-l*2} ${s.topRight} v${t.pos.height-l*2} ${s.bottomRight} h${-t.pos.width+l*2} ${s.bottomLeft} v${-t.pos.height+l*2} ${s.topLeft} z`:c}),c=q(()=>({position:`fixed`,left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?`none`:`auto`})),l=q(()=>({fill:t.fill,pointerEvents:`auto`,cursor:`auto`}));return pN(_n(t,`visible`),{ns:n}),(e,t)=>e.visible?(V(),H(`div`,Ja({key:0,class:I(n).e(`mask`),style:I(c)},e.$attrs),[(V(),H(`svg`,{style:{width:`100%`,height:`100%`}},[W(`path`,{class:N(I(n).e(`hollow`)),style:j(I(l)),d:I(s)},null,14,[`d`])]))],16)):K(`v-if`,!0)}}),[[`__file`,`mask.vue`]]),SJ=X({placement:{type:Y(String),values:[`top-start`,`top-end`,`top`,`bottom-start`,`bottom-end`,`bottom`,`left-start`,`left-end`,`left`,`right-start`,`right-end`,`right`],default:`bottom`},reference:{type:Y(Object),default:null},strategy:{type:Y(String),values:[`absolute`,`fixed`],default:`absolute`},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),CJ={close:()=>!0},wJ=Hb(R({...R({name:`ElTourContent`}),props:SJ,emits:CJ,setup(e,{emit:t}){let n=e,r=F(n.placement),i=F(n.strategy),a=F(null),o=F(null);B(()=>n.placement,()=>{r.value=n.placement});let{contentStyle:s,arrowStyle:c}=yJ(_n(n,`reference`),a,o,r,i,_n(n,`offset`),_n(n,`zIndex`),_n(n,`showArrow`)),l=q(()=>r.value.split(`-`)[0]),{ns:u}=Ni(_J),d=()=>{t(`close`)},f=e=>{e.detail.focusReason===`pointer`&&e.preventDefault()};return(e,t)=>(V(),H(`div`,{ref_key:`contentRef`,ref:a,style:j(I(s)),class:N(I(u).e(`content`)),"data-side":I(l),tabindex:`-1`},[G(I(vw),{loop:``,trapped:``,"focus-start-el":`container`,"focus-trap-el":a.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`focus-trap-el`]),e.showArrow?(V(),H(`span`,{key:0,ref_key:`arrowRef`,ref:o,style:j(I(c)),class:N(I(u).e(`arrow`))},null,6)):K(`v-if`,!0)],14,[`data-side`]))}}),[[`__file`,`content.vue`]]),TJ=R({name:`ElTourSteps`,props:{current:{type:Number,default:0}},emits:[`update-total`],setup(e,{slots:t,emit:n}){let r=0;return()=>{let i=t.default?.call(t),a=[],o=0;function s(e){b(e)&&e.forEach(e=>{(e?.type||{})?.name===`ElTourStep`&&(a.push(e),o+=1)})}return i.length&&s(XO(i[0]?.children)),r!==o&&(r=o,n(`update-total`,o)),a.length?a[e.current]:null}}}),EJ=X({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:gS},placement:SJ.placement,contentStyle:{type:Y([Object])},mask:{type:Y([Boolean,Object]),default:!0},gap:{type:Y(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Y([Boolean,Object]),default:()=>({block:`center`})},type:{type:Y(String)},appendTo:{type:AE.to.type,default:`body`},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),DJ={[Lb]:e=>Rv(e),"update:current":e=>zv(e),close:e=>zv(e),finish:()=>!0,change:e=>zv(e)},OJ=Hb(R({...R({name:`ElTour`}),props:EJ,emits:DJ,setup(e,{emit:t}){let n=e,r=J(`tour`),i=F(0),a=F(),o=eb(n,`current`,t,{passive:!0}),s=q(()=>a.value?.target),c=q(()=>[r.b(),g.value===`primary`?r.m(`primary`):``]),l=q(()=>a.value?.placement||n.placement),u=q(()=>a.value?.contentStyle??n.contentStyle),d=q(()=>a.value?.mask??n.mask),f=q(()=>!!d.value&&n.modelValue),p=q(()=>Rv(d.value)?void 0:d.value),m=q(()=>!!s.value&&(a.value?.showArrow??n.showArrow)),h=q(()=>a.value?.scrollIntoViewOptions??n.scrollIntoViewOptions),g=q(()=>a.value?.type??n.type),{nextZIndex:_}=ub(),v=_(),y=q(()=>n.zIndex??v),{mergedPosInfo:b,triggerTarget:x}=gJ(s,_n(n,`modelValue`),_n(n,`gap`),d,h);B(()=>n.modelValue,e=>{e||(o.value=0)});let S=()=>{n.closeOnPressEscape&&(t(Lb,!1),t(`close`,o.value))},C=e=>{i.value=e},w=li();return Mi(_J,{currentStep:a,current:o,total:i,showClose:_n(n,`showClose`),closeIcon:_n(n,`closeIcon`),mergedType:g,ns:r,slots:w,updateModelValue(e){t(Lb,e)},onClose(){t(`close`,o.value)},onFinish(){t(`finish`)},onChange(){t(Rb,o.value)}}),(e,t)=>(V(),H(Da,null,[G(I(WE),{to:e.appendTo},{default:L(()=>[W(`div`,Ja({class:I(c)},e.$attrs),[G(xJ,{visible:I(f),fill:I(p)?.color,style:j(I(p)?.style),pos:I(b),"z-index":I(y),"target-area-clickable":e.targetAreaClickable},null,8,[`visible`,`fill`,`style`,`pos`,`z-index`,`target-area-clickable`]),e.modelValue?(V(),U(wJ,{key:I(o),reference:I(x),placement:I(l),"show-arrow":I(m),"z-index":I(y),style:j(I(u)),onClose:S},{default:L(()=>[G(I(TJ),{current:I(o),onUpdateTotal:C},{default:L(()=>[z(e.$slots,`default`)]),_:3},8,[`current`])]),_:3},8,[`reference`,`placement`,`show-arrow`,`z-index`,`style`])):K(`v-if`,!0)],16)]),_:3},8,[`to`]),K(` just for IDE `),K(`v-if`,!0)],64))}}),[[`__file`,`tour.vue`]]),kJ=X({target:{type:Y([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:gS},showArrow:{type:Boolean,default:void 0},placement:SJ.placement,mask:{type:Y([Boolean,Object]),default:void 0},contentStyle:{type:Y([Object])},prevButtonProps:{type:Y(Object)},nextButtonProps:{type:Y(Object)},scrollIntoViewOptions:{type:Y([Boolean,Object]),default:void 0},type:{type:Y(String)}}),AJ={close:()=>!0},jJ=Hb(R({...R({name:`ElTourStep`}),props:kJ,emits:AJ,setup(e,{emit:t}){let n=e,{Close:r}=_S,{t:i}=gb(),{currentStep:a,current:o,total:s,showClose:c,closeIcon:l,mergedType:u,ns:d,slots:f,updateModelValue:p,onClose:m,onFinish:h,onChange:g}=Ni(_J);B(n,e=>{a.value=e},{immediate:!0});let _=q(()=>n.showClose??c.value),v=q(()=>n.closeIcon??l.value??r),y=e=>{if(e)return yv(e,[`children`,`onClick`])},b=()=>{var e;--o.value,n.prevButtonProps?.onClick&&((e=n.prevButtonProps)==null||e.onClick()),g()},x=()=>{o.value>=s.value-1?S():o.value+=1,n.nextButtonProps?.onClick&&n.nextButtonProps.onClick(),g()},S=()=>{C(),h()},C=()=>{p(!1),m(),t(`close`)},w=e=>{if(!e.target?.isContentEditable)switch(dw(e)){case Z.left:e.preventDefault(),o.value>0&&b();break;case Z.right:e.preventDefault(),x();break}};return Rr(()=>{window.addEventListener(`keydown`,w)}),Vr(()=>{window.removeEventListener(`keydown`,w)}),(e,t)=>(V(),H(Da,null,[I(_)?(V(),H(`button`,{key:0,"aria-label":I(i)(`el.tour.close`),class:N(I(d).e(`closebtn`)),type:`button`,onClick:C},[G(I(hx),{class:N(I(d).e(`close`))},{default:L(()=>[(V(),U(Zr(I(v))))]),_:1},8,[`class`])],10,[`aria-label`])):K(`v-if`,!0),W(`header`,{class:N([I(d).e(`header`),{"show-close":I(c)}])},[z(e.$slots,`header`,{},()=>[W(`span`,{role:`heading`,class:N(I(d).e(`title`))},P(e.title),3)])],2),W(`div`,{class:N(I(d).e(`body`))},[z(e.$slots,`default`,{},()=>[W(`span`,null,P(e.description),1)])],2),W(`footer`,{class:N(I(d).e(`footer`))},[W(`div`,{class:N(I(d).b(`indicators`))},[I(f).indicators?(V(),U(Zr(I(f).indicators),{key:0,current:I(o),total:I(s)},null,8,[`current`,`total`])):(V(!0),H(Da,{key:1},ti(I(s),(e,t)=>(V(),H(`span`,{key:e,class:N([I(d).b(`indicator`),I(d).is(`active`,t===I(o))])},null,2))),128))],2),W(`div`,{class:N(I(d).b(`buttons`))},[I(o)>0?(V(),U(I(aO),Ja({key:0,size:`small`,type:I(u)},y(e.prevButtonProps),{onClick:b}),{default:L(()=>[Wa(P(e.prevButtonProps?.children??I(i)(`el.tour.previous`)),1)]),_:1},16,[`type`])):K(`v-if`,!0),I(o)<=I(s)-1?(V(),U(I(aO),Ja({key:1,size:`small`,type:I(u)===`primary`?`default`:`primary`},y(e.nextButtonProps),{onClick:x}),{default:L(()=>[Wa(P(e.nextButtonProps?.children??(I(o)===I(s)-1?I(i)(`el.tour.finish`):I(i)(`el.tour.next`))),1)]),_:1},16,[`type`])):K(`v-if`,!0)],2)],2)],64))}}),[[`__file`,`step.vue`]]),MJ=lx(OJ,{TourStep:jJ}),NJ=fx(jJ),PJ=X({container:{type:Y([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Y(String),default:`default`},direction:{type:Y(String),default:`vertical`},selectScrollTop:Boolean}),FJ={change:e=>T(e),click:(e,t)=>e instanceof MouseEvent&&(T(t)||Lv(t))},IJ=Symbol(`anchor`),LJ=e=>{if(!ty||e===``)return null;if(T(e))try{return document.querySelector(e)}catch{return null}return e};function RJ(e){let t=0,n=(...n)=>{t&&Gb(t),t=Wb(()=>{e(...n),t=0})};return n.cancel=()=>{Gb(t),t=0},n}var zJ=Hb(R({...R({name:`ElAnchor`}),props:PJ,emits:FJ,setup(e,{expose:t,emit:n}){let r=e,i=li(),a=F(``),o=F({}),s=F(null),c=F(null),l=F(),u={},d=!1,f=0,p=J(`anchor`),m=q(()=>[p.b(),r.type===`underline`?p.m(`underline`):``,p.m(r.direction)]),h=e=>{u[e.href]=e.el},g=e=>{delete u[e]},_=e=>{a.value!==e&&(a.value=e,n(Rb,e))},v=null,y=``,b=e=>{if(!l.value)return;let t=LJ(e);if(!t)return;if(v){if(y===e)return;v()}y=e,d=!0;let n=ax(t,l.value),i=HA(t,n),a=n.scrollHeight-n.clientHeight,o=Math.min(i-r.offset,a);v=ix(l.value,f,o,r.duration,()=>{setTimeout(()=>{d=!1,y=``},20)})},x=e=>{e&&(_(e),b(e))},S=(e,t)=>{n(`click`,e,t),x(t)},C=RJ(()=>{l.value&&(f=ox(l.value));let e=w();d||Lv(e)||_(e)}),w=()=>{if(!l.value)return;let e=ox(l.value),t=[];for(let e of Object.keys(u)){let n=LJ(e);if(!n)continue;let i=HA(n,ax(n,l.value));t.push({top:i-r.offset-r.bound,href:e})}t.sort((e,t)=>e.top-t.top);for(let n=0;n<t.length;n++){let i=t[n],a=t[n+1];if(n===0&&e===0)return r.selectScrollTop?i.href:``;if(i.top<=e&&(!a||a.top>e))return i.href}},T=()=>{let e=LJ(r.container);!e||Wv(e)?l.value=window:l.value=e};Ty(l,`scroll`,C);let E=()=>{Ln(()=>{if(!s.value||!c.value||!a.value){o.value={};return}let e=u[a.value];if(!e){o.value={};return}let t=s.value.getBoundingClientRect(),n=c.value.getBoundingClientRect(),i=e.getBoundingClientRect();r.direction===`horizontal`?o.value={left:`${i.left-t.left}px`,width:`${i.width}px`,opacity:1}:o.value={top:`${i.top-t.top+(i.height-n.height)/2}px`,opacity:1}})};return B(a,E),B(()=>i.default?.call(i),E),Rr(()=>{T();let e=decodeURIComponent(window.location.hash);LJ(e)?x(e):C()}),B(()=>r.container,()=>{T()}),Mi(IJ,{ns:p,direction:r.direction,currentAnchor:a,addLink:h,removeLink:g,handleClick:S}),t({scrollTo:x}),(e,t)=>(V(),H(`div`,{ref_key:`anchorRef`,ref:s,class:N(I(m))},[e.marker?(V(),H(`div`,{key:0,ref_key:`markerRef`,ref:c,class:N(I(p).e(`marker`)),style:j(o.value)},null,6)):K(`v-if`,!0),W(`div`,{class:N(I(p).e(`list`))},[z(e.$slots,`default`)],2)],2))}}),[[`__file`,`anchor.vue`]]),BJ=X({title:String,href:String}),VJ=Hb(R({...R({name:`ElAnchorLink`}),props:BJ,setup(e){let t=e,n=F(null),{ns:r,direction:i,currentAnchor:a,addLink:o,removeLink:s,handleClick:c}=Ni(IJ),l=q(()=>[r.e(`link`),r.is(`active`,a.value===t.href)]),u=e=>{c(e,t.href)};return B(()=>t.href,(e,t)=>{Ln(()=>{t&&s(t),e&&o({href:e,el:n.value})})}),Rr(()=>{let{href:e}=t;e&&o({href:e,el:n.value})}),Vr(()=>{let{href:e}=t;e&&s(e)}),(e,t)=>(V(),H(`div`,{class:N(I(r).e(`item`))},[W(`a`,{ref_key:`linkRef`,ref:n,class:N(I(l)),href:e.href,onClick:u},[z(e.$slots,`default`,{},()=>[Wa(P(e.title),1)])],10,[`href`]),e.$slots[`sub-link`]&&I(i)===`vertical`?(V(),H(`div`,{key:0,class:N(I(r).e(`list`))},[z(e.$slots,`sub-link`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`anchor-link.vue`]]),HJ=lx(zJ,{AnchorLink:VJ}),UJ=fx(VJ),WJ={label:`label`,value:`value`,disabled:`disabled`},GJ=X({direction:{type:Y(String),default:`horizontal`},options:{type:Y(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:Y(Object),default:()=>WJ},block:Boolean,size:xb,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},id:String,name:String,...PS([`ariaLabel`])}),KJ={[Lb]:e=>T(e)||zv(e)||Rv(e),[Rb]:e=>T(e)||zv(e)||Rv(e)},qJ=lx(Hb(R({...R({name:`ElSegmented`}),props:GJ,emits:KJ,setup(e,{emit:t}){let n=e,r=J(`segmented`),i=US(),a=YS(),o=XS(),{formItem:s}=KS(),{inputId:c,isLabeledByFormItem:l}=qS(n,{formItemContext:s}),u=F(null),d=Oy(),f=Kt({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),p=(e,r)=>{let i=g(r);t(Lb,i),t(Rb,i),e.target.checked=i===n.modelValue},m=q(()=>({...WJ,...n.props})),h=e=>e,g=e=>D(e)?e[m.value.value]:e,_=e=>D(e)?e[m.value.label]:e,v=e=>!!(o.value||D(e)&&e[m.value.disabled]),y=e=>n.modelValue===g(e),b=e=>n.options.find(t=>g(t)===e),x=e=>[r.e(`item`),r.is(`selected`,y(e)),r.is(`disabled`,v(e))],S=()=>{if(!u.value)return;let e=u.value.querySelector(`.is-selected`),t=u.value.querySelector(`.is-selected input`);if(!e||!t){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}f.isInit=!0,n.direction===`vertical`?(f.height=e.offsetHeight,f.translateY=e.offsetTop):(f.width=e.offsetWidth,f.translateX=e.offsetLeft);try{f.focusVisible=t.matches(`:focus-visible`)}catch{}},C=q(()=>[r.b(),r.m(a.value),r.is(`block`,n.block)]),w=q(()=>({width:n.direction===`vertical`?`100%`:`${f.width}px`,height:n.direction===`vertical`?`${f.height}px`:`100%`,transform:n.direction===`vertical`?`translateY(${f.translateY}px)`:`translateX(${f.translateX}px)`,display:f.isInit?`block`:`none`})),T=q(()=>[r.e(`item-selected`),r.is(`disabled`,v(b(n.modelValue))),r.is(`focus-visible`,f.focusVisible)]),E=q(()=>n.name||i.value);return zy(u,S),B(d,S),B(()=>n.modelValue,()=>{var e;S(),n.validateEvent&&((e=s?.validate)==null||e.call(s,`change`).catch(e=>void 0))},{flush:`post`}),(e,t)=>e.options.length?(V(),H(`div`,{key:0,id:I(c),ref_key:`segmentedRef`,ref:u,class:N(I(C)),role:`radiogroup`,"aria-label":I(l)?void 0:e.ariaLabel||`segmented`,"aria-labelledby":I(l)?I(s).labelId:void 0},[W(`div`,{class:N([I(r).e(`group`),I(r).m(e.direction)])},[W(`div`,{style:j(I(w)),class:N(I(T))},null,6),(V(!0),H(Da,null,ti(e.options,(t,n)=>(V(),H(`label`,{key:n,class:N(x(t))},[W(`input`,{class:N(I(r).e(`item-input`)),type:`radio`,name:I(E),disabled:v(t),checked:y(t),onChange:e=>p(e,t)},null,42,[`name`,`disabled`,`checked`,`onChange`]),W(`div`,{class:N(I(r).e(`item-label`))},[z(e.$slots,`default`,{item:h(t)},()=>[Wa(P(_(t)),1)])],2)],2))),128))],2)],10,[`id`,`aria-label`,`aria-labelledby`])):K(`v-if`,!0)}}),[[`__file`,`segmented.vue`]])),JJ=(e,t)=>{let n=e.toLowerCase();return(t.label||t.value||``).toLowerCase().includes(n)},YJ=(e,t,n)=>{let{selectionEnd:r}=e;if(r===null)return;let i=e.value,a=Lp(t),o=-1,s;for(let e=r-1;e>=0;--e){let t=i[e];if(t===n||t===`
`||t===`\r`){o=e;continue}if(a.includes(t)){let n=o===-1?r:o;s={pattern:i.slice(e+1,n),start:e+1,end:n,prefix:t,prefixIndex:e,splitIndex:o,selectionEnd:r};break}}return s},XJ=(e,t={debug:!1,useSelectionEnd:!1})=>{let n=e.selectionStart===null?0:e.selectionStart,r=e.selectionEnd===null?0:e.selectionEnd,i=t.useSelectionEnd?r:n,a=`direction.boxSizing.width.height.overflowX.overflowY.borderTopWidth.borderRightWidth.borderBottomWidth.borderLeftWidth.borderStyle.paddingTop.paddingRight.paddingBottom.paddingLeft.fontStyle.fontVariant.fontWeight.fontStretch.fontSize.fontSizeAdjust.lineHeight.fontFamily.textAlign.textTransform.textIndent.textDecoration.letterSpacing.wordSpacing.tabSize.MozTabSize`.split(`.`);if(t.debug){let e=document.querySelector(`#input-textarea-caret-position-mirror-div`);e?.parentNode&&e.parentNode.removeChild(e)}let o=document.createElement(`div`);o.id=`input-textarea-caret-position-mirror-div`,document.body.appendChild(o);let s=o.style,c=window.getComputedStyle(e),l=e.nodeName===`INPUT`;s.whiteSpace=l?`nowrap`:`pre-wrap`,l||(s.wordWrap=`break-word`),s.position=`absolute`,t.debug||(s.visibility=`hidden`),a.forEach(e=>{if(l&&e===`lineHeight`)if(c.boxSizing===`border-box`){let e=Number.parseInt(c.height),t=Number.parseInt(c.paddingTop)+Number.parseInt(c.paddingBottom)+Number.parseInt(c.borderTopWidth)+Number.parseInt(c.borderBottomWidth),n=t+Number.parseInt(c.lineHeight);e>n?s.lineHeight=`${e-t}px`:e===n?s.lineHeight=c.lineHeight:s.lineHeight=`0`}else s.lineHeight=c.height;else s[e]=c[e]}),wS()?e.scrollHeight>Number.parseInt(c.height)&&(s.overflowY=`scroll`):s.overflow=`hidden`,o.textContent=e.value.slice(0,Math.max(0,i)),l&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g,`\xA0`));let u=document.createElement(`span`);u.textContent=e.value.slice(Math.max(0,i))||`.`,u.style.position=`relative`,u.style.left=`${-e.scrollLeft}px`,u.style.top=`${-e.scrollTop}px`,o.appendChild(u);let d={top:u.offsetTop+Number.parseInt(c.borderTopWidth),left:u.offsetLeft+Number.parseInt(c.borderLeftWidth),height:Number.parseInt(c.fontSize)*1.5};return t.debug?u.style.backgroundColor=`#aaa`:document.body.removeChild(o),d.left>=e.clientWidth&&(d.left=e.clientWidth),d},ZJ=X({...FS,options:{type:Y(Array),default:()=>[]},prefix:{type:Y([String,Array]),default:`@`,validator:e=>T(e)?e.length===1:e.every(e=>T(e)&&e.length===1)},split:{type:String,default:` `,validator:e=>e.length===1},filterOption:{type:Y([Boolean,Function]),default:()=>JJ,validator:e=>e===!1?!0:w(e)},placement:{type:Y(String),default:`bottom`},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Y(Function)},modelValue:String,loading:Boolean,popperClass:jE.popperClass,popperStyle:jE.popperStyle,popperOptions:{type:Y(Object),default:()=>({})},props:{type:Y(Object),default:()=>$J}}),QJ={[Lb]:e=>T(e),"whole-remove":(e,t)=>T(e)&&T(t),input:e=>T(e),search:(e,t)=>T(e)&&T(t),select:(e,t)=>D(e)&&T(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},$J={value:`value`,label:`label`,disabled:`disabled`},eY=X({options:{type:Y(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),tY={select:e=>T(e.value)},nY=Hb(R({...R({name:`ElMentionDropdown`}),props:eY,emits:tY,setup(e,{expose:t,emit:n}){let r=e,i=J(`mention`),{t:a}=gb(),o=F(-1),s=F(),c=F(),l=F(),u=(e,t)=>[i.be(`dropdown`,`item`),i.is(`hovering`,o.value===t),i.is(`disabled`,e.disabled||r.disabled)],d=e=>{e.disabled||r.disabled||n(`select`,e)},f=e=>{o.value=e},p=q(()=>r.disabled||r.options.every(e=>e.disabled)),m=q(()=>r.options[o.value]),h=()=>{m.value&&n(`select`,m.value)},g=e=>{let{options:t}=r;if(t.length===0||p.value)return;e===`next`?(o.value++,o.value===t.length&&(o.value=0)):e===`prev`&&(o.value--,o.value<0&&(o.value=t.length-1));let n=t[o.value];if(n.disabled){g(e);return}Ln(()=>_(n))},_=e=>{var t,n;let{options:a}=r,o=a.findIndex(t=>t.value===e.value),u=c.value?.[o];if(u){let e=((t=l.value)?.querySelector)?.call(t,`.${i.be(`dropdown`,`wrap`)}`);e&&rx(e,u)}(n=s.value)==null||n.handleScroll()};return B(()=>r.options,()=>{p.value||r.options.length===0?o.value=-1:o.value=0},{immediate:!0}),t({hoveringIndex:o,navigateOptions:g,selectHoverOption:h,hoverOption:m}),(e,t)=>(V(),H(`div`,{ref_key:`dropdownRef`,ref:l,class:N(I(i).b(`dropdown`))},[e.$slots.header?(V(),H(`div`,{key:0,class:N(I(i).be(`dropdown`,`header`))},[z(e.$slots,`header`)],2)):K(`v-if`,!0),Yn(G(I(xC),{id:e.contentId,ref_key:`scrollbarRef`,ref:s,tag:`ul`,"wrap-class":I(i).be(`dropdown`,`wrap`),"view-class":I(i).be(`dropdown`,`list`),role:`listbox`,"aria-label":e.ariaLabel,"aria-orientation":`vertical`},{default:L(()=>[(V(!0),H(Da,null,ti(e.options,(t,n)=>(V(),H(`li`,{id:`${e.contentId}-${n}`,ref_for:!0,ref_key:`optionRefs`,ref:c,key:n,class:N(u(t,n)),role:`option`,"aria-disabled":t.disabled||e.disabled||void 0,"aria-selected":o.value===n,onMousemove:e=>f(n),onClick:Ks(e=>d(t),[`stop`])},[z(e.$slots,`label`,{item:t,index:n},()=>[W(`span`,null,P(t.label??t.value),1)])],42,[`id`,`aria-disabled`,`aria-selected`,`onMousemove`,`onClick`]))),128))]),_:3},8,[`id`,`wrap-class`,`view-class`,`aria-label`]),[[Zo,e.options.length>0&&!e.loading]]),e.loading?(V(),H(`div`,{key:1,class:N(I(i).be(`dropdown`,`loading`))},[z(e.$slots,`loading`,{},()=>[Wa(P(I(a)(`el.mention.loading`)),1)])],2)):K(`v-if`,!0),e.$slots.footer?(V(),H(`div`,{key:2,class:N(I(i).be(`dropdown`,`footer`))},[z(e.$slots,`footer`)],2)):K(`v-if`,!0)],2))}}),[[`__file`,`mention-dropdown.vue`]]),rY=lx(Hb(R({...R({name:`ElMention`,inheritAttrs:!1}),props:ZJ,emits:QJ,setup(e,{expose:t,emit:n}){let r=e,i=q(()=>Ev(r,Object.keys(FS))),a=J(`mention`),o=XS(),s=US(),c=F(),l=F(),u=F(),d=F(!1),f=F(),p=F(),m=q(()=>r.showArrow?r.placement:`${r.placement}-start`),h=q(()=>r.showArrow?[`bottom`,`top`]:[`bottom-start`,`top-start`]),g=q(()=>({...$J,...r.props})),_=e=>{let t={label:e[g.value.label],value:e[g.value.value],disabled:e[g.value.disabled]};return{...e,...t}},v=q(()=>r.options.map(_)),y=q(()=>{let{filterOption:e}=r;return!p.value||!e?v.value:v.value.filter(t=>e(p.value.pattern,t))}),b=q(()=>d.value&&(!!y.value.length||r.loading)),x=q(()=>`${s.value}-${u.value?.hoveringIndex}`),S=e=>{n(Lb,e),n(zb,e),A()},C=e=>{var t,i;if(c.value?.isComposing)return;let a=dw(e);switch(a){case Z.left:case Z.right:A();break;case Z.up:case Z.down:if(!d.value)return;e.preventDefault(),(t=u.value)==null||t.navigateOptions(a===Z.up?`prev`:`next`);break;case Z.enter:case Z.numpadEnter:if(!d.value){r.type!==`textarea`&&A();return}e.preventDefault(),u.value?.hoverOption?(i=u.value)==null||i.selectHoverOption():d.value=!1;break;case Z.esc:if(!d.value)return;e.preventDefault(),d.value=!1;break;case Z.backspace:if(r.whole&&p.value){let{splitIndex:t,selectionEnd:i,pattern:a,prefixIndex:o,prefix:s}=p.value,c=k();if(!c)return;let l=c.value,u=v.value.find(e=>e.value===a);if((w(r.checkIsWhole)?r.checkIsWhole(a,s):u)&&t!==-1&&t+1===i){e.preventDefault();let r=l.slice(0,o)+l.slice(t+1);n(Lb,r),n(zb,r),n(`whole-remove`,a,s);let i=o;Ln(()=>{c.selectionStart=i,c.selectionEnd=i,te()})}}}},{wrapperRef:T}=sC(c,{disabled:o,afterFocus(){A()},beforeBlur(e){return l.value?.isFocusInsideContent(e)},afterBlur(){d.value=!1}}),E=()=>{A()},D=e=>r.options.find(t=>e.value===t[g.value.value]),O=e=>{if(!p.value)return;let t=k();if(!t)return;let i=t.value,{split:a}=r,o=i.slice(p.value.end),s=o.startsWith(a),c=`${e.value}${s?``:a}`,l=i.slice(0,p.value.start)+c+o;n(Lb,l),n(zb,l),n(`select`,D(e),p.value.prefix);let u=p.value.start+c.length+(s?1:0);Ln(()=>{t.selectionStart=u,t.selectionEnd=u,t.focus(),te()})},k=()=>r.type===`textarea`?c.value?.textarea:c.value?.input,A=()=>{setTimeout(()=>{ee(),te(),Ln(()=>l.value?.updatePopper())},0)},ee=()=>{let e=k();if(!e)return;let t=XJ(e),n=e.getBoundingClientRect(),r=T.value.getBoundingClientRect();f.value={position:`absolute`,width:0,height:`${t.height}px`,left:`${t.left+n.left-r.left}px`,top:`${t.top+n.top-r.top}px`}},te=()=>{let e=k();if(document.activeElement!==e){d.value=!1;return}let{prefix:t,split:i}=r;if(p.value=YJ(e,t,i),p.value&&p.value.splitIndex===-1){d.value=!0,n(`search`,p.value.pattern,p.value.prefix);return}d.value=!1};return t({input:c,tooltip:l,dropdownVisible:b}),(e,t)=>(V(),H(`div`,{ref_key:`wrapperRef`,ref:T,class:N(I(a).b())},[G(I(dC),Ja(Ja(I(i),e.$attrs),{ref_key:`elInputRef`,ref:c,"model-value":e.modelValue,disabled:I(o),role:I(b)?`combobox`:void 0,"aria-activedescendant":I(b)?I(x)||``:void 0,"aria-controls":I(b)?I(s):void 0,"aria-expanded":I(b)||void 0,"aria-label":e.ariaLabel,"aria-autocomplete":I(b)?`none`:void 0,"aria-haspopup":I(b)?`listbox`:void 0,onInput:S,onKeydown:C,onMousedown:E}),ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:L(t=>[z(e.$slots,n,xe(Ha(t)))])}))]),1040,[`model-value`,`disabled`,`role`,`aria-activedescendant`,`aria-controls`,`aria-expanded`,`aria-label`,`aria-autocomplete`,`aria-haspopup`]),G(I(QE),{ref_key:`tooltipRef`,ref:l,visible:I(b),"popper-class":[I(a).e(`popper`),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,placement:I(m),"fallback-placements":I(h),effect:`light`,pure:``,offset:e.offset,"show-arrow":e.showArrow},{default:L(()=>[W(`div`,{style:j(f.value)},null,4)]),content:L(()=>[G(nY,{ref_key:`dropdownRef`,ref:u,options:I(y),disabled:I(o),loading:e.loading,"content-id":I(s),"aria-label":e.ariaLabel,onSelect:O,onClick:Ks(c.value?.focus,[`stop`])},ni({_:2},[ti(e.$slots,(t,n)=>({name:n,fn:L(t=>[z(e.$slots,n,xe(Ha(t)))])}))]),1032,[`options`,`disabled`,`loading`,`content-id`,`aria-label`,`onClick`])]),_:3},8,[`visible`,`popper-class`,`popper-style`,`popper-options`,`placement`,`fallback-placements`,`offset`,`show-arrow`])],2))}}),[[`__file`,`mention.vue`]])),iY=X({layout:{type:String,default:`horizontal`,values:[`horizontal`,`vertical`]},lazy:Boolean}),aY={resizeStart:(e,t)=>!0,resize:(e,t)=>!0,resizeEnd:(e,t)=>!0,collapse:(e,t,n)=>!0},oY=Symbol(`splitterRootContextKey`);function sY(e){let t=F(),{width:n,height:r}=Vy(t);return{containerEl:t,containerSize:q(()=>e.value===`horizontal`?n.value:r.value)}}function cY(e){return Number(e.slice(0,-1))/100}function lY(e){return Number(e.slice(0,-2))}function uY(e){return T(e)&&e.endsWith(`%`)}function dY(e){return T(e)&&e.endsWith(`px`)}function fY(e,t){let n=q(()=>e.value.map(e=>e.size)),r=q(()=>e.value.length),i=F([]);B([n,r,t],()=>{let n=[],a=0;for(let i=0;i<r.value;i+=1){let r=e.value[i]?.size;if(uY(r))n[i]=cY(r);else if(dY(r))n[i]=lY(r)/t.value;else if(r||r===0){let e=Number(r);Number.isNaN(e)||(n[i]=e/t.value)}else a+=1,n[i]=void 0}let o=n.reduce((e,t)=>e+(t||0),0);if(o>1||!a){let e=1/o;n=n.map(t=>t===void 0?0:t*e)}else{let e=(1-o)/a;n=n.map(t=>t===void 0?e:t)}i.value=n});let a=e=>e*t.value;return{percentSizes:i,pxSizes:q(()=>i.value.map(a))}}function pY(e,t,n,r){let i=e=>e*t.value||0;function a(e,t){return uY(e)?i(cY(e)):dY(e)?lY(e):e??t}let o=F(0),s=F(null),c=[],l=f,u=q(()=>e.value.map(e=>[e.min,e.max]));B(r,()=>{if(o.value){let e=new MouseEvent(`mouseup`,{bubbles:!0});window.dispatchEvent(e)}});let d=e=>{o.value=0,s.value={index:e,confirmed:!1},c=n.value},p=(n,i)=>{let d=null;if((!s.value||!s.value.confirmed)&&i!==0){if(i>0)d=n,s.value={index:n,confirmed:!0};else for(let e=n;e>=0;--e)if(c[e]>0){d=e,s.value={index:e,confirmed:!0};break}}let p=d??s.value?.index??n,m=[...c],h=p+1,g=a(u.value[p][0],0),_=a(u.value[h][0],0),v=a(u.value[p][1],t.value||0),y=a(u.value[h][1],t.value||0),b=i;m[p]+b<g&&(b=g-m[p]),m[h]-b<_&&(b=m[h]-_),m[p]+b>v&&(b=v-m[p]),m[h]-b>y&&(b=m[h]-y),m[p]+=b,m[h]-=b,o.value=b,l=()=>{e.value.forEach((e,t)=>{e.size=m[t]}),l=f},r.value||l()},m=()=>{r.value&&l(),o.value=0,s.value=null,c=[]},h=[];return{lazyOffset:o,onMoveStart:d,onMoving:p,onMoveEnd:m,movingIndex:s,onCollapse:(t,r)=>{h.length||h.push(...n.value);let i=n.value,a=r===`start`?t:t+1,o=r===`start`?t+1:t,s=i[a],c=i[o];if(s!==0&&c!==0)i[a]=0,i[o]+=s,h[t]=s;else{let e=s+c,n=h[t],r=e-n;i[o]=n,i[a]=r}e.value.forEach((e,t)=>{e.size=i[t]})}}}var mY=Hb(R({...R({name:`ElSplitter`}),props:iY,emits:aY,setup(e,{emit:t}){let n=e,r=J(`splitter`),i=_n(n,`layout`),a=_n(n,`lazy`),{containerEl:o,containerSize:s}=sY(i),{removeChild:c,children:l,addChild:u,ChildrenSorter:d}=QO(eo(),`ElSplitterPanel`);B(l,()=>{h.value=null,l.value.forEach((e,t)=>{e.setIndex(t)})});let{percentSizes:f,pxSizes:p}=fY(l,s),{lazyOffset:m,movingIndex:h,onMoveStart:g,onMoving:_,onMoveEnd:v,onCollapse:y}=pY(l,s,p,a),b=q(()=>({[r.cssVarBlockName(`bar-offset`)]:a.value?`${m.value}px`:void 0}));return Mi(oY,Kt({panels:l,percentSizes:f,pxSizes:p,layout:i,lazy:a,movingIndex:h,containerSize:s,onMoveStart:e=>{g(e),t(`resizeStart`,e,p.value)},onMoving:(e,n)=>{_(e,n),a.value||t(`resize`,e,p.value)},onMoveEnd:async e=>{v(),await Ln(),t(`resizeEnd`,e,p.value)},onCollapse:(e,n)=>{y(e,n),t(`collapse`,e,n,p.value)},registerPanel:u,unregisterPanel:c})),(e,t)=>(V(),H(`div`,{ref_key:`containerEl`,ref:o,class:N([I(r).b(),I(r).e(I(i))]),style:j(I(b))},[z(e.$slots,`default`),G(I(d)),K(` Prevent iframe touch events from breaking `),I(h)?(V(),H(`div`,{key:0,class:N([I(r).e(`mask`),I(r).e(`mask-${I(i)}`)])},null,2)):K(`v-if`,!0)],6))}}),[[`__file`,`splitter.vue`]]);function hY(e){return e&&D(e)?e:{start:!!e,end:!!e}}function gY(e,t,n,r){return!!(e?.collapsible.end&&t>0||n?.collapsible.start&&r===0&&t>0)}var _Y=Hb(R({...R({name:`ElSplitterBar`}),props:{index:{type:Number,required:!0},layout:{type:String,values:[`horizontal`,`vertical`],default:`horizontal`},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:[`moveStart`,`moving`,`moveEnd`,`collapse`],setup(e,{emit:t}){let n=e,r=J(`splitter-bar`),i=q(()=>n.layout===`horizontal`),a=q(()=>i.value?{width:0}:{height:0}),o=q(()=>({width:i.value?`16px`:`100%`,height:i.value?`100%`:`16px`,cursor:n.resizable?i.value?`ew-resize`:`ns-resize`:`auto`,touchAction:`none`})),s=q(()=>{let e=r.e(`dragger`);return{[`${e}-horizontal`]:i.value,[`${e}-vertical`]:!i.value,[`${e}-active`]:!!c.value}}),c=F(null),l=e=>{n.resizable&&(c.value=[e.pageX,e.pageY],t(`moveStart`,n.index),window.addEventListener(`mouseup`,p),window.addEventListener(`mousemove`,d))},u=e=>{if(n.resizable&&e.touches.length===1){e.preventDefault();let r=e.touches[0];c.value=[r.pageX,r.pageY],t(`moveStart`,n.index),window.addEventListener(`touchend`,m),window.addEventListener(`touchmove`,f)}},d=e=>{let{pageX:r,pageY:a}=e,o=r-c.value[0],s=a-c.value[1],l=i.value?o:s;t(`moving`,n.index,l)},f=e=>{if(e.touches.length===1){e.preventDefault();let r=e.touches[0],a=r.pageX-c.value[0],o=r.pageY-c.value[1],s=i.value?a:o;t(`moving`,n.index,s)}},p=()=>{c.value=null,window.removeEventListener(`mouseup`,p),window.removeEventListener(`mousemove`,d),t(`moveEnd`,n.index)},m=()=>{c.value=null,window.removeEventListener(`touchend`,m),window.removeEventListener(`touchmove`,f),t(`moveEnd`,n.index)},h=q(()=>i.value?vx:bx),g=q(()=>i.value?yx:_x);return(n,i)=>(V(),H(`div`,{class:N([I(r).b()]),style:j(I(a))},[e.startCollapsible?(V(),H(`div`,{key:0,class:N([I(r).e(`collapse-icon`),I(r).e(`${e.layout}-collapse-icon-start`)]),onClick:n=>t(`collapse`,e.index,`start`)},[z(n.$slots,`start-collapsible`,{},()=>[(V(),U(Zr(I(h)),{style:{width:`12px`,height:`12px`}}))])],10,[`onClick`])):K(`v-if`,!0),W(`div`,{class:N([I(r).e(`dragger`),I(s),I(r).is(`disabled`,!e.resizable),I(r).is(`lazy`,e.resizable&&e.lazy)]),style:j(I(o)),onMousedown:l,onTouchstart:u},null,38),e.endCollapsible?(V(),H(`div`,{key:1,class:N([I(r).e(`collapse-icon`),I(r).e(`${e.layout}-collapse-icon-end`)]),onClick:n=>t(`collapse`,e.index,`end`)},[z(n.$slots,`end-collapsible`,{},()=>[(V(),U(Zr(I(g)),{style:{width:`12px`,height:`12px`}}))])],10,[`onClick`])):K(`v-if`,!0)],6))}}),[[`__file`,`split-bar.vue`]]),vY=X({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),yY={"update:size":e=>typeof e==`number`||typeof e==`string`},bY=`ElSplitterPanel`,xY=Hb(R({...R({name:bY}),props:vY,emits:yY,setup(e,{expose:t,emit:n}){let r=e,i=J(`splitter-panel`),a=Ni(oY);a||ib(bY,`usage: <el-splitter><el-splitter-panel /></el-splitter/>`);let{panels:o,layout:s,lazy:c,containerSize:l,pxSizes:u}=mn(a),{registerPanel:d,unregisterPanel:f,onCollapse:p,onMoveEnd:m,onMoveStart:h,onMoving:g}=a,_=F(),v=eo(),y=v.uid,b=F(0),x=q(()=>o.value[b.value]),S=e=>{b.value=e},C=q(()=>x.value?u.value[b.value]??0:0),w=q(()=>x.value?u.value[b.value+1]??0:0),T=q(()=>x.value?o.value[b.value+1]:null),E=q(()=>T.value?r.resizable&&T.value?.resizable&&(C.value!==0||!r.min)&&(w.value!==0||!T.value.min):!1),D=q(()=>x.value?b.value!==o.value.length-1:!1),O=q(()=>gY(x.value,C.value,T.value,w.value)),k=q(()=>gY(T.value,w.value,x.value,C.value));function A(e){return uY(e)?cY(e)*l.value||0:dY(e)?lY(e):e??0}let ee=!1;B(()=>r.size,()=>{if(!ee&&x.value){if(!l.value){x.value.size=r.size;return}let e=A(r.size),t=A(r.max),i=A(r.min),a=Math.min(Math.max(e,i||0),t||e);a!==e&&n(`update:size`,a),x.value.size=a}}),B(()=>x.value?.size,e=>{e!==r.size&&(ee=!0,n(`update:size`,e),Ln(()=>ee=!1))}),B(()=>r.resizable,e=>{x.value&&(x.value.resizable=e)});let te=Kt({el:_.value,uid:y,getVnode:()=>v.vnode,setIndex:S,...r,collapsible:q(()=>hY(r.collapsible))});return d(te),Vr(()=>f(te)),t({splitterPanelRef:_}),(e,t)=>(V(),H(Da,null,[W(`div`,Ja({ref_key:`panelEl`,ref:_,class:[I(i).b()],style:{flexBasis:`${I(C)}px`}},e.$attrs),[z(e.$slots,`default`)],16),I(D)?(V(),U(_Y,{key:0,index:b.value,layout:I(s),lazy:I(c),resizable:I(E),"start-collapsible":I(O),"end-collapsible":I(k),onMoveStart:I(h),onMoving:I(g),onMoveEnd:I(m),onCollapse:I(p)},{"start-collapsible":L(()=>[z(e.$slots,`start-collapsible`)]),"end-collapsible":L(()=>[z(e.$slots,`end-collapsible`)]),_:3},8,[`index`,`layout`,`lazy`,`resizable`,`start-collapsible`,`end-collapsible`,`onMoveStart`,`onMoving`,`onMoveEnd`,`onCollapse`])):K(`v-if`,!0)],64))}}),[[`__file`,`split-panel.vue`]]),SY=[px,CS,nD,VU,aD,uD,fD,vD,yD,aO,oO,RO,BO,ok,sk,hA,aA,vA,Sk,Ck,wk,xA,FA,IA,AA,aj,cte,ute,fte,pte,mte,hte,gte,VM,RM,ZM,QM,hN,_N,xN,bP,xP,SP,TP,NF,PF,hx,BF,LF,dC,UF,ZF,eI,wI,TI,EI,DI,AI,CL,EL,NL,TE,FL,Lk,zk,Rk,RL,HL,WL,xC,uL,dL,fL,rz,cz,lz,Tz,kz,jz,Lz,Wz,Gz,Xz,iH,aH,BU,nW,rW,cA,aW,Ete,mW,yW,bW,QE,FW,oG,gG,BG,uK,yK,MJ,NJ,HJ,UJ,qJ,rY,lx(mY,{SplitPanel:xY}),fx(xY)],CY=`ElInfiniteScroll`,wY={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},TY=(e,t)=>Object.entries(wY).reduce((n,[r,i])=>{let{type:a,default:o}=i,s=e.getAttribute(`infinite-scroll-${r}`),c=t[s]??s??o;return c=c===`false`?!1:c,c=a(c),n[r]=Number.isNaN(c)?o:c,n},{}),EY=e=>{let{observer:t}=e[CY];t&&(t.disconnect(),delete e[CY].observer)},DY=(e,t)=>{let{container:n,containerEl:r,instance:i,observer:a,lastScrollTop:o}=e[CY],{disabled:s,distance:c}=TY(e,i),{clientHeight:l,scrollHeight:u,scrollTop:d}=r,f=d-o;if(e[CY].lastScrollTop=d,a||s||f<0)return;let p=!1;if(n===e)p=u-(l+d)<=c;else{let{clientTop:t,scrollHeight:n}=e,i=HA(e,r);p=d+l>=i+t+n-c}p&&t.call(i)};function OY(e,t){let{containerEl:n,instance:r}=e[CY],{disabled:i}=TY(e,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):EY(e))}var kY={async mounted(e,t){let{instance:n,value:r}=t;xD({scope:CY,from:`the directive v-infinite-scroll`,replacement:`the el-scrollbar infinite scroll`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/scrollbar#infinite-scroll`},!0),w(r)||ib(CY,`'v-infinite-scroll' binding value must be a function`),await Ln();let{delay:i,immediate:a}=TY(e,n),o=ex(e,!0),s=o===window?document.documentElement:o,c=jv(DY.bind(null,e,r),i);if(o){if(e[CY]={instance:n,container:o,containerEl:s,delay:i,cb:r,onScroll:c,lastScrollTop:s.scrollTop},a){let t=new MutationObserver(jv(OY.bind(null,e,r),50));e[CY].observer=t,t.observe(e,{childList:!0,subtree:!0}),OY(e,r)}o.addEventListener(`scroll`,c)}},unmounted(e){if(!e.ElInfiniteScroll)return;let{container:t,onScroll:n}=e[CY];t?.removeEventListener(`scroll`,n),EY(e)},async updated(e){if(!e.ElInfiniteScroll)await Ln();else{let{containerEl:t,cb:n,observer:r}=e[CY];t.clientHeight&&r&&OY(e,n)}}};kY.install=e=>{e.directive(`InfiniteScroll`,kY)};var AY=kY;function jY(e,t){let n,r=F(!1),i=Kt({...e,originalPosition:``,originalOverflow:``,visible:!1});function a(e){i.text=e}function o(){let e=i.parent,t=d.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute(`loading-number`);n=Number.parseInt(n)-1,n?e.setAttribute(`loading-number`,n.toString()):(Yb(e,t.bm(`parent`,`relative`)),e.removeAttribute(`loading-number`)),Yb(e,t.bm(`parent`,`hidden`))}s(),u.unmount()}function s(){var e;(e=d.$el?.parentNode)==null||e.removeChild(d.$el)}function c(){var t;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(l,400),i.visible=!1,(t=e.closed)==null||t.call(e))}function l(){if(!r.value)return;let e=i.parent;r.value=!1,e.vLoadingAddClassList=void 0,o()}let u=$s(R({name:`ElLoading`,setup(e,{expose:t}){let{ns:n,zIndex:r}=Nb(`loading`);return t({ns:n,zIndex:r}),()=>{let e=i.spinner||i.svg,t=_o(`svg`,{class:`circular`,viewBox:i.svgViewBox?i.svgViewBox:`0 0 50 50`,...e?{innerHTML:e}:{}},[_o(`circle`,{class:`path`,cx:`25`,cy:`25`,r:`20`,fill:`none`})]),r=i.text?_o(`p`,{class:n.b(`text`)},[i.text]):void 0;return _o(No,{name:n.b(`fade`),onAfterLeave:l},{default:L(()=>[Yn(G(`div`,{style:{backgroundColor:i.background||``},class:[n.b(`mask`),i.customClass,n.is(`fullscreen`,i.fullscreen)]},[_o(`div`,{class:n.b(`spinner`)},[t,r])]),[[Zo,i.visible]])])})}}}));Object.assign(u._context,t??{});let d=u.mount(document.createElement(`div`));return{...mn(i),setText:a,removeElLoadingChild:s,close:c,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}var MY=void 0,NY=function(e={},t){if(!ty)return;let n=PY(e);if(n.fullscreen&&MY)return MY;let r=jY({...n,closed:()=>{var e;(e=n.closed)==null||e.call(n),n.fullscreen&&(MY=void 0)}},t??NY._context);FY(n,n.parent,r),IY(n,n.parent,r),n.parent.vLoadingAddClassList=()=>IY(n,n.parent,r);let i=n.parent.getAttribute(`loading-number`);return i=i?`${Number.parseInt(i)+1}`:`1`,n.parent.setAttribute(`loading-number`,i),n.parent.appendChild(r.$el),Ln(()=>r.visible.value=n.visible),n.fullscreen&&(MY=r),r},PY=e=>{let t;return t=T(e.target)?document.querySelector(e.target)??document.body:e.target||document.body,{parent:t===document.body||e.body?document.body:t,background:e.background||``,svg:e.svg||``,svgViewBox:e.svgViewBox||``,spinner:e.spinner||!1,text:e.text||``,fullscreen:t===document.body&&(e.fullscreen??!0),lock:e.lock??!1,customClass:e.customClass||``,visible:e.visible??!0,beforeClose:e.beforeClose,closed:e.closed,target:t}},FY=async(e,t,n)=>{let{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(e.fullscreen)n.originalPosition.value=Xb(document.body,`position`),n.originalOverflow.value=Xb(document.body,`overflow`),i.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=Xb(document.body,`position`),await Ln();for(let t of[`top`,`left`]){let n=t===`top`?`scrollTop`:`scrollLeft`;i[t]=`${e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(Xb(document.body,`margin-${t}`),10)}px`}for(let t of[`height`,`width`])i[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=Xb(t,`position`);for(let[e,t]of Object.entries(i))n.$el.style[e]=t},IY=(e,t,n)=>{let r=n.vm.ns||n.vm._.exposed.ns;[`absolute`,`fixed`,`sticky`].includes(n.originalPosition.value)?Yb(t,r.bm(`parent`,`relative`)):Jb(t,r.bm(`parent`,`relative`)),e.fullscreen&&e.lock?Jb(t,r.bm(`parent`,`hidden`)):Yb(t,r.bm(`parent`,`hidden`))};NY._context=null;var LY=Symbol(`ElLoading`),RY=e=>`element-loading-${ce(e)}`,zY=(e,t)=>{let n=t.instance,r=e=>D(t.value)?t.value[e]:void 0,i=e=>F(T(e)&&n?.[e]||e),a=t=>i(r(t)||e.getAttribute(RY(t))),o=r(`fullscreen`)??t.modifiers.fullscreen,s={text:a(`text`),svg:a(`svg`),svgViewBox:a(`svgViewBox`),spinner:a(`spinner`),background:a(`background`),customClass:a(`customClass`),fullscreen:o,target:r(`target`)??(o?void 0:e),body:r(`body`)??t.modifiers.body,lock:r(`lock`)??t.modifiers.lock},c=NY(s);c._context=VY._context,e[LY]={options:s,instance:c}},BY=(e,t)=>{for(let n of Object.keys(e))an(e[n])&&(e[n].value=t[n])},VY={mounted(e,t){t.value&&zY(e,t)},updated(e,t){let n=e[LY];if(!t.value){n?.instance.close(),e[LY]=null;return}n?BY(n.options,D(t.value)?t.value:{text:e.getAttribute(RY(`text`)),svg:e.getAttribute(RY(`svg`)),svgViewBox:e.getAttribute(RY(`svgViewBox`)),spinner:e.getAttribute(RY(`spinner`)),background:e.getAttribute(RY(`background`)),customClass:e.getAttribute(RY(`customClass`))}):zY(e,t)},unmounted(e){var t;(t=e[LY])==null||t.instance.close(),e[LY]=null}};VY._context=null;var HY={install(e){NY._context=e._context,VY._context=e._context,e.directive(`loading`,VY),e.config.globalProperties.$loading=NY},directive:VY,service:NY},UY=[`primary`,`success`,`info`,`warning`,`error`],WY=[`top`,`top-left`,`top-right`,`bottom`,`bottom-left`,`bottom-right`],GY=MS({customClass:``,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:``,message:``,onClose:void 0,showClose:!1,type:`info`,plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:ty?document.body:void 0}),KY=X({customClass:{type:String,default:GY.customClass},dangerouslyUseHTMLString:{type:Boolean,default:GY.dangerouslyUseHTMLString},duration:{type:Number,default:GY.duration},icon:{type:gS,default:GY.icon},id:{type:String,default:GY.id},message:{type:Y([String,Object,Function]),default:GY.message},onClose:{type:Y(Function),default:GY.onClose},showClose:{type:Boolean,default:GY.showClose},type:{type:String,values:UY,default:GY.type},plain:{type:Boolean,default:GY.plain},offset:{type:Number,default:GY.offset},placement:{type:String,values:WY,default:GY.placement},zIndex:{type:Number,default:GY.zIndex},grouping:{type:Boolean,default:GY.grouping},repeatNum:{type:Number,default:GY.repeatNum}}),qY={destroy:()=>!0},JY=qt({}),YY=e=>(JY[e]||(JY[e]=qt([])),JY[e]),XY=(e,t)=>{let n=JY[t]||[],r=n.findIndex(t=>t.id===e),i=n[r],a;return r>0&&(a=n[r-1]),{current:i,prev:a}},ZY=(e,t)=>{let{prev:n}=XY(e,t);return n?n.vm.exposed.bottom.value:0},QY=(e,t,n)=>(JY[n]||[]).findIndex(t=>t.id===e)>0?16:t,$Y=Hb(R({...R({name:`ElMessage`}),props:KY,emits:qY,setup(e,{expose:t,emit:n}){let r=e,{Close:i}=vS,a=F(!1),{ns:o,zIndex:s}=Nb(`message`),{currentZIndex:c,nextZIndex:l}=s,u=F(),d=F(!1),f=F(0),p,m=q(()=>r.type?r.type===`error`?`danger`:r.type:`info`),h=q(()=>{let e=r.type;return{[o.bm(`icon`,e)]:e&&yS[e]}}),g=q(()=>r.icon||yS[r.type]||``),_=q(()=>r.placement||`top`),v=q(()=>ZY(r.id,_.value)),y=q(()=>QY(r.id,r.offset,_.value)+v.value),b=q(()=>f.value+y.value),x=q(()=>_.value.includes(`left`)?o.is(`left`):_.value.includes(`right`)?o.is(`right`):o.is(`center`)),S=q(()=>_.value.startsWith(`top`)?`top`:`bottom`),C=q(()=>({[S.value]:`${y.value}px`,zIndex:c.value}));function w(){r.duration!==0&&({stop:p}=xy(()=>{E()},r.duration))}function T(){p?.()}function E(){d.value=!1,Ln(()=>{var e;a.value||((e=r.onClose)==null||e.call(r),n(`destroy`))})}function D(e){dw(e)===Z.esc&&E()}return Rr(()=>{w(),l(),d.value=!0}),B(()=>r.repeatNum,()=>{T(),w()}),Ty(document,`keydown`,D),zy(u,()=>{f.value=u.value.getBoundingClientRect().height}),t({visible:d,bottom:b,close:E}),(e,t)=>(V(),U(No,{name:I(o).b(`fade`),onBeforeEnter:e=>a.value=!0,onBeforeLeave:e.onClose,onAfterLeave:t=>e.$emit(`destroy`),persisted:``},{default:L(()=>[Yn(W(`div`,{id:e.id,ref_key:`messageRef`,ref:u,class:N([I(o).b(),{[I(o).m(e.type)]:e.type},I(o).is(`closable`,e.showClose),I(o).is(`plain`,e.plain),I(o).is(`bottom`,I(S)===`bottom`),I(x),e.customClass]),style:j(I(C)),role:`alert`,onMouseenter:T,onMouseleave:w},[e.repeatNum>1?(V(),U(I(fD),{key:0,value:e.repeatNum,type:I(m),class:N(I(o).e(`badge`))},null,8,[`value`,`type`,`class`])):K(`v-if`,!0),I(g)?(V(),U(I(hx),{key:1,class:N([I(o).e(`icon`),I(h)])},{default:L(()=>[(V(),U(Zr(I(g))))]),_:1},8,[`class`])):K(`v-if`,!0),z(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(V(),H(Da,{key:1},[K(` Caution here, message could've been compromised, never use user's input as message `),W(`p`,{class:N(I(o).e(`content`)),innerHTML:e.message},null,10,[`innerHTML`])],2112)):(V(),H(`p`,{key:0,class:N(I(o).e(`content`))},P(e.message),3))]),e.showClose?(V(),U(I(hx),{key:2,class:N(I(o).e(`closeBtn`)),onClick:Ks(E,[`stop`])},{default:L(()=>[G(I(i))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0)],46,[`id`]),[[Zo,d.value]])]),_:3},8,[`name`,`onBeforeEnter`,`onBeforeLeave`,`onAfterLeave`]))}}),[[`__file`,`message.vue`]]),eX=1,tX=e=>{if(!e.appendTo)e.appendTo=document.body;else if(T(e.appendTo)){let t=document.querySelector(e.appendTo);Vv(t)||(t=document.body),e.appendTo=t}},nX=e=>{!e.placement&&T(oj.placement)&&oj.placement&&(e.placement=oj.placement),e.placement||=`top`,WY.includes(e.placement)||(`${e.placement}`,e.placement=`top`)},rX=e=>{let t=!e||T(e)||La(e)||w(e)?{message:e}:e,n={...GY,...t};return tX(n),nX(n),Rv(oj.grouping)&&!n.grouping&&(n.grouping=oj.grouping),zv(oj.duration)&&n.duration===3e3&&(n.duration=oj.duration),zv(oj.offset)&&n.offset===16&&(n.offset=oj.offset),Rv(oj.showClose)&&!n.showClose&&(n.showClose=oj.showClose),Rv(oj.plain)&&!n.plain&&(n.plain=oj.plain),n},iX=e=>{let t=JY[e.props.placement||`top`],n=t.indexOf(e);if(n===-1)return;t.splice(n,1);let{handler:r}=e;r.close()},aX=({appendTo:e,...t},n)=>{let r=`message_${eX++}`,i=t.onClose,a=document.createElement(`div`),o={...t,id:r,onClose:()=>{i?.(),iX(l)},onDestroy:()=>{Qs(null,a)}},s=G($Y,o,w(o.message)||La(o.message)?{default:w(o.message)?o.message:()=>o.message}:null);s.appContext=n||oX._context,Qs(s,a),e.appendChild(a.firstElementChild);let c=s.component,l={id:r,vnode:s,vm:c,handler:{close:()=>{c.exposed.close()}},props:s.component.props};return l},oX=(e={},t)=>{if(!ty)return{close:()=>void 0};let n=rX(e),r=YY(n.placement||`top`);if(n.grouping&&r.length){let e=r.find(({vnode:e})=>e.props?.message===n.message);if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}if(zv(oj.max)&&r.length>=oj.max)return{close:()=>void 0};let i=aX(n,t);return r.push(i),i.handler};UY.forEach(e=>{oX[e]=(t={},n)=>oX({...rX(t),type:e},n)});function sX(e){for(let t in JY)if(y(JY,t)){let n=[...JY[t]];for(let t of n)(!e||e===t.props.type)&&t.handler.close()}}function cX(e){JY[e]&&[...JY[e]].forEach(e=>e.handler.close())}oX.closeAll=sX,oX.closeAllByPlacement=cX,oX._context=null;var lX=ux(oX,`$message`),uX=`_trap-focus-children`,dX=[],fX=e=>{if(dX.length===0)return;let t=dw(e),n=dX[dX.length-1][uX];if(n.length>0&&t===Z.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}let t=e.shiftKey,r=e.target===n[0],i=e.target===n[n.length-1];r&&t&&(e.preventDefault(),n[n.length-1].focus()),i&&!t&&(e.preventDefault(),n[0].focus())}},pX=R({name:`ElMessageBox`,directives:{TrapFocus:{beforeMount(e){e[uX]=eC(e),dX.push(e),dX.length<=1&&document.addEventListener(`keydown`,fX)},updated(e){Ln(()=>{e[uX]=eC(e)})},unmounted(){dX.shift(),dX.length===0&&document.removeEventListener(`keydown`,fX)}}},components:{ElButton:aO,ElFocusTrap:vw,ElInput:dC,ElOverlay:rN,ElIcon:hx,...vS},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Kz},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:`body`},boxType:{type:String,default:``}},emits:[`vanish`,`action`],setup(e,{emit:t}){let{locale:n,zIndex:r,ns:i,size:a}=Nb(`message-box`,q(()=>e.buttonSize)),{t:o}=n,{nextZIndex:s}=r,c=F(!1),l=Kt({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:``,cancelButtonClass:``,confirmButtonText:``,confirmButtonClass:``,customClass:``,customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:``,closeIcon:``,inputPattern:null,inputPlaceholder:``,inputType:`text`,inputValue:``,inputValidator:void 0,inputErrorMessage:``,message:``,modalFade:!0,modalClass:``,showCancelButton:!1,showConfirmButton:!0,type:``,title:void 0,showInput:!1,action:``,confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:tn(Wx),cancelButtonLoadingIcon:tn(Wx),confirmButtonDisabled:!1,editorErrorMessage:``,validateError:!1,zIndex:s()}),u=q(()=>{let e=l.type;return{[i.bm(`icon`,e)]:e&&yS[e]}}),d=US(),f=US(),p=q(()=>{let e=l.type;return l.icon||e&&yS[e]||``}),m=q(()=>!!l.message),h=F(),g=F(),_=F(),v=F(),y=F(),b=q(()=>l.confirmButtonClass);B(()=>l.inputValue,async t=>{await Ln(),e.boxType===`prompt`&&t&&k()},{immediate:!0}),B(()=>c.value,t=>{t&&(e.boxType!==`prompt`&&(l.autofocus?_.value=y.value?.$el??h.value:_.value=h.value),l.zIndex=s()),e.boxType===`prompt`&&(t?Ln().then(()=>{v.value&&v.value.$el&&(l.autofocus?_.value=A()??h.value:_.value=h.value)}):(l.editorErrorMessage=``,l.validateError=!1))});let{isDragging:x}=cN(h,g,q(()=>e.draggable),q(()=>e.overflow));Rr(async()=>{await Ln(),e.closeOnHashChange&&window.addEventListener(`hashchange`,S)}),Vr(()=>{e.closeOnHashChange&&window.removeEventListener(`hashchange`,S)});function S(){c.value&&(c.value=!1,Ln(()=>{l.action&&t(`action`,l.action)}))}let C=()=>{e.closeOnClickModal&&O(l.distinguishCancelAndClose?`close`:`cancel`)},E=$M(C),D=e=>{if(l.inputType!==`textarea`)return e.preventDefault(),O(`confirm`)},O=t=>{var n;e.boxType===`prompt`&&t===`confirm`&&!k()||(l.action=t,l.beforeClose?(n=l.beforeClose)==null||n.call(l,t,l,S):S())},k=()=>{if(e.boxType===`prompt`){let e=l.inputPattern;if(e&&!e.test(l.inputValue||``))return l.editorErrorMessage=l.inputErrorMessage||o(`el.messagebox.error`),l.validateError=!0,!1;let t=l.inputValidator;if(w(t)){let e=t(l.inputValue);if(e===!1)return l.editorErrorMessage=l.inputErrorMessage||o(`el.messagebox.error`),l.validateError=!0,!1;if(T(e))return l.editorErrorMessage=e,l.validateError=!0,!1}}return l.editorErrorMessage=``,l.validateError=!1,!0},A=()=>{let e=v.value?.$refs;return e?.input??e?.textarea},ee=()=>{O(`close`)},te=()=>{e.closeOnPressEscape&&ee()};return e.lockScroll&&pN(c,{ns:i}),{...mn(l),ns:i,overlayEvent:E,visible:c,hasMessage:m,typeClass:u,contentId:d,inputId:f,btnSize:a,iconComponent:p,confirmButtonClasses:b,rootRef:h,focusStartRef:_,headerRef:g,inputRef:v,isDragging:x,confirmRef:y,doClose:S,handleClose:ee,onCloseRequested:te,handleWrapperClick:C,handleInputEnter:D,handleAction:O,t:o}}});function mX(e,t,n,r,i,a){let o=Yr(`el-icon`),s=Yr(`el-input`),c=Yr(`el-button`),l=Yr(`el-focus-trap`),u=Yr(`el-overlay`);return V(),U(No,{name:`fade-in-linear`,onAfterLeave:t=>e.$emit(`vanish`),persisted:``},{default:L(()=>[Yn(G(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is(`message-box`),e.modalClass],mask:e.modal},{default:L(()=>[W(`div`,{role:`dialog`,"aria-label":e.title,"aria-modal":`true`,"aria-describedby":e.showInput?void 0:e.contentId,class:N(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[G(l,{loop:``,trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:L(()=>[W(`div`,{ref:`rootRef`,class:N([e.ns.b(),e.customClass,e.ns.is(`draggable`,e.draggable),e.ns.is(`dragging`,e.isDragging),{[e.ns.m(`center`)]:e.center}]),style:j(e.customStyle),tabindex:`-1`,onClick:Ks(()=>{},[`stop`])},[e.title!==null&&e.title!==void 0?(V(),H(`div`,{key:0,ref:`headerRef`,class:N([e.ns.e(`header`),{"show-close":e.showClose}])},[W(`div`,{class:N(e.ns.e(`title`))},[e.iconComponent&&e.center?(V(),U(o,{key:0,class:N([e.ns.e(`status`),e.typeClass])},{default:L(()=>[(V(),U(Zr(e.iconComponent)))]),_:1},8,[`class`])):K(`v-if`,!0),W(`span`,null,P(e.title),1)],2),e.showClose?(V(),H(`button`,{key:0,type:`button`,class:N(e.ns.e(`headerbtn`)),"aria-label":e.t(`el.messagebox.close`),onClick:t=>e.handleAction(e.distinguishCancelAndClose?`close`:`cancel`),onKeydown:Js(Ks(t=>e.handleAction(e.distinguishCancelAndClose?`close`:`cancel`),[`prevent`]),[`enter`])},[G(o,{class:N(e.ns.e(`close`))},{default:L(()=>[(V(),U(Zr(e.closeIcon||`close`)))]),_:1},8,[`class`])],42,[`aria-label`,`onClick`,`onKeydown`])):K(`v-if`,!0)],2)):K(`v-if`,!0),W(`div`,{id:e.contentId,class:N(e.ns.e(`content`))},[W(`div`,{class:N(e.ns.e(`container`))},[e.iconComponent&&!e.center&&e.hasMessage?(V(),U(o,{key:0,class:N([e.ns.e(`status`),e.typeClass])},{default:L(()=>[(V(),U(Zr(e.iconComponent)))]),_:1},8,[`class`])):K(`v-if`,!0),e.hasMessage?(V(),H(`div`,{key:1,class:N(e.ns.e(`message`))},[z(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(V(),U(Zr(e.showInput?`label`:`p`),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,[`for`,`innerHTML`])):(V(),U(Zr(e.showInput?`label`:`p`),{key:0,for:e.showInput?e.inputId:void 0,textContent:P(e.message)},null,8,[`for`,`textContent`]))])],2)):K(`v-if`,!0)],2),Yn(W(`div`,{class:N(e.ns.e(`input`))},[G(s,{id:e.inputId,ref:`inputRef`,modelValue:e.inputValue,"onUpdate:modelValue":t=>e.inputValue=t,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:N({invalid:e.validateError}),onKeydown:Js(e.handleInputEnter,[`enter`])},null,8,[`id`,`modelValue`,`onUpdate:modelValue`,`type`,`placeholder`,`aria-invalid`,`class`,`onKeydown`]),W(`div`,{class:N(e.ns.e(`errormsg`)),style:j({visibility:e.editorErrorMessage?`visible`:`hidden`})},P(e.editorErrorMessage),7)],2),[[Zo,e.showInput]])],10,[`id`]),W(`div`,{class:N(e.ns.e(`btns`))},[e.showCancelButton?(V(),U(c,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:N([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t=>e.handleAction(`cancel`),onKeydown:Js(Ks(t=>e.handleAction(`cancel`),[`prevent`]),[`enter`])},{default:L(()=>[Wa(P(e.cancelButtonText||e.t(`el.messagebox.cancel`)),1)]),_:1},8,[`loading`,`loading-icon`,`class`,`round`,`size`,`onClick`,`onKeydown`])):K(`v-if`,!0),Yn(G(c,{ref:`confirmRef`,type:`primary`,loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:N([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t=>e.handleAction(`confirm`),onKeydown:Js(Ks(t=>e.handleAction(`confirm`),[`prevent`]),[`enter`])},{default:L(()=>[Wa(P(e.confirmButtonText||e.t(`el.messagebox.confirm`)),1)]),_:1},8,[`loading`,`loading-icon`,`class`,`round`,`disabled`,`size`,`onClick`,`onKeydown`]),[[Zo,e.showConfirmButton]])],2)],14,[`onClick`])]),_:3},8,[`trapped`,`focus-trap-el`,`focus-start-el`,`onReleaseRequested`])],42,[`aria-label`,`aria-describedby`,`onClick`,`onMousedown`,`onMouseup`])]),_:3},8,[`z-index`,`overlay-class`,`mask`]),[[Zo,e.visible]])]),_:3},8,[`onAfterLeave`])}var hX=Hb(pX,[[`render`,mX],[`__file`,`index.vue`]]),gX=new Map,_X=e=>{let t=document.body;return e.appendTo&&(T(e.appendTo)&&(t=document.querySelector(e.appendTo)),Vv(e.appendTo)&&(t=e.appendTo),Vv(t)||(t=document.body)),t},vX=(e,t,n=null)=>{let r=G(hX,e,w(e.message)||La(e.message)?{default:w(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Qs(r,t),_X(e).appendChild(t.firstElementChild),r.component},yX=()=>document.createElement(`div`),bX=(e,t)=>{let n=yX();e.onVanish=()=>{Qs(null,n),gX.delete(i)},e.onAction=t=>{let n=gX.get(i),a;a=e.showInput?{value:i.inputValue,action:t}:t,e.callback?e.callback(a,r.proxy):t===`cancel`||t===`close`?e.distinguishCancelAndClose&&t!==`cancel`?n.reject(`close`):n.reject(`cancel`):n.resolve(a)};let r=vX(e,n,t),i=r.proxy;for(let t in e)y(e,t)&&!y(i.$props,t)&&(t===`closeIcon`&&D(e[t])?i[t]=tn(e[t]):i[t]=e[t]);return i.visible=!0,i};function xX(e,t=null){if(!ty)return Promise.reject();let n;return T(e)||La(e)?e={message:e}:n=e.callback,new Promise((r,i)=>{let a=bX(e,t??xX._context);gX.set(a,{options:e,callback:n,resolve:r,reject:i})})}var SX=[`alert`,`confirm`,`prompt`],CX={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};SX.forEach(e=>{xX[e]=wX(e)});function wX(e){return(t,n,r,i)=>{let a=``;return D(n)?(r=n,a=``):a=Lv(n)?``:n,xX(Object.assign({title:a,message:t,type:``,...CX[e]},r,{boxType:e}),i)}}xX.close=()=>{gX.forEach((e,t)=>{t.doClose()}),gX.clear()},xX._context=null;var TX=xX;TX.install=e=>{TX._context=e._context,e.config.globalProperties.$msgbox=TX,e.config.globalProperties.$messageBox=TX,e.config.globalProperties.$alert=TX.alert,e.config.globalProperties.$confirm=TX.confirm,e.config.globalProperties.$prompt=TX.prompt};var EX=TX,DX=[`primary`,`success`,`info`,`warning`,`error`],OX=X({customClass:{type:String,default:``},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:gS},id:{type:String,default:``},message:{type:Y([String,Object,Function]),default:``},offset:{type:Number,default:0},onClick:{type:Y(Function),default:()=>void 0},onClose:{type:Y(Function),required:!0},position:{type:String,values:[`top-right`,`top-left`,`bottom-right`,`bottom-left`],default:`top-right`},showClose:{type:Boolean,default:!0},title:{type:String,default:``},type:{type:String,values:[...DX,``],default:``},zIndex:Number,closeIcon:{type:gS,default:Mx}}),kX={destroy:()=>!0},AX=Hb(R({...R({name:`ElNotification`}),props:OX,emits:kX,setup(e,{expose:t}){let n=e,{ns:r,zIndex:i}=Nb(`notification`),{nextZIndex:a,currentZIndex:o}=i,s=F(!1),c,l=q(()=>{let e=n.type;return e&&yS[n.type]?r.m(e):``}),u=q(()=>n.type&&yS[n.type]||n.icon),d=q(()=>n.position.endsWith(`right`)?`right`:`left`),f=q(()=>n.position.startsWith(`top`)?`top`:`bottom`),p=q(()=>({[f.value]:`${n.offset}px`,zIndex:n.zIndex??o.value}));function m(){n.duration>0&&({stop:c}=xy(()=>{s.value&&g()},n.duration))}function h(){c?.()}function g(){s.value=!1}function _(e){switch(dw(e)){case Z.delete:case Z.backspace:h();break;case Z.esc:s.value&&g();break;default:m();break}}return Rr(()=>{m(),a(),s.value=!0}),Ty(document,`keydown`,_),t({visible:s,close:g}),(e,t)=>(V(),U(No,{name:I(r).b(`fade`),onBeforeLeave:e.onClose,onAfterLeave:t=>e.$emit(`destroy`),persisted:``},{default:L(()=>[Yn(W(`div`,{id:e.id,class:N([I(r).b(),e.customClass,I(d)]),style:j(I(p)),role:`alert`,onMouseenter:h,onMouseleave:m,onClick:e.onClick},[I(u)?(V(),U(I(hx),{key:0,class:N([I(r).e(`icon`),I(l)])},{default:L(()=>[(V(),U(Zr(I(u))))]),_:1},8,[`class`])):K(`v-if`,!0),W(`div`,{class:N(I(r).e(`group`))},[W(`h2`,{class:N(I(r).e(`title`)),textContent:P(e.title)},null,10,[`textContent`]),Yn(W(`div`,{class:N(I(r).e(`content`)),style:j(e.title?void 0:{margin:0})},[z(e.$slots,`default`,{},()=>[e.dangerouslyUseHTMLString?(V(),H(Da,{key:1},[K(` Caution here, message could've been compromised, never use user's input as message `),W(`p`,{innerHTML:e.message},null,8,[`innerHTML`])],2112)):(V(),H(`p`,{key:0},P(e.message),1))])],6),[[Zo,e.message]]),e.showClose?(V(),U(I(hx),{key:0,class:N(I(r).e(`closeBtn`)),onClick:Ks(g,[`stop`])},{default:L(()=>[(V(),U(Zr(e.closeIcon)))]),_:1},8,[`class`,`onClick`])):K(`v-if`,!0)],2)],46,[`id`,`onClick`]),[[Zo,s.value]])]),_:3},8,[`name`,`onBeforeLeave`,`onAfterLeave`]))}}),[[`__file`,`notification.vue`]]),jX={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},MX=16,NX=1,PX=function(e={},t){if(!ty)return{close:()=>void 0};(T(e)||La(e))&&(e={message:e});let n=e.position||`top-right`,r=e.offset||0;jX[n].forEach(({vm:e})=>{r+=(e.el?.offsetHeight||0)+MX}),r+=MX;let i=`notification_${NX++}`,a=e.onClose,o={...e,offset:r,id:i,onClose:()=>{FX(i,n,a)}},s=document.body;Vv(e.appendTo)?s=e.appendTo:T(e.appendTo)&&(s=document.querySelector(e.appendTo)),Vv(s)||(s=document.body);let c=document.createElement(`div`),l=G(AX,o,w(o.message)?o.message:La(o.message)?()=>o.message:null);return l.appContext=Lv(t)?PX._context:t,l.props.onDestroy=()=>{Qs(null,c)},Qs(l,c),jX[n].push({vm:l}),s.appendChild(c.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};DX.forEach(e=>{PX[e]=(t={},n)=>((T(t)||La(t))&&(t={message:t}),PX({...t,type:e},n))});function FX(e,t,n){let r=jX[t],i=r.findIndex(({vm:t})=>t.component?.props.id===e);if(i===-1)return;let{vm:a}=r[i];if(!a)return;n?.(a);let o=a.el.offsetHeight,s=t.split(`-`)[0];r.splice(i,1);let c=r.length;if(!(c<1))for(let e=i;e<c;e++){let{el:t,component:n}=r[e].vm,i=Number.parseInt(t.style[s],10)-o-MX;n.props.offset=i}}function IX(){for(let e of Object.values(jX))e.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function LX(e=`top-right`){let t=jX[e][0]?.vm.component?.props?.offset||0;for(let{vm:n}of jX[e])n.component.props.offset=t,t+=(n.el?.offsetHeight||0)+MX}PX.closeAll=IX,PX.updateOffsets=LX,PX._context=null;var RX=[AY,HY,lX,EX,ux(PX,`$notify`),ML],zX=Ib([...SY,...RX]),BX={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},VX={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},HX=`attached`,UX=1e3,WX=1001,GX=1002,KX=1003,qX=1004,JX=1005,YX=1006,XX=1007,ZX=1008,QX=1009,$X=1010,eZ=1011,tZ=1012,nZ=1013,rZ=1014,iZ=1015,aZ=1016,oZ=1017,sZ=1018,cZ=1020,lZ=35902,uZ=35899,dZ=1021,fZ=1022,pZ=1023,mZ=1026,hZ=1027,gZ=1028,_Z=1029,vZ=1030,yZ=1031,bZ=1033,xZ=33776,SZ=33777,CZ=33778,wZ=33779,TZ=35840,EZ=35841,DZ=35842,OZ=35843,kZ=36196,AZ=37492,jZ=37496,MZ=37808,NZ=37809,PZ=37810,FZ=37811,IZ=37812,LZ=37813,RZ=37814,zZ=37815,BZ=37816,VZ=37817,HZ=37818,UZ=37819,WZ=37820,GZ=37821,KZ=36492,qZ=36494,JZ=36495,YZ=36283,XZ=36284,ZZ=36285,QZ=36286,$Z=2300,eQ=2301,tQ=2302,nQ=2400,rQ=2401,iQ=2402,aQ=2500,oQ=3200,sQ=3201,cQ=`srgb`,lQ=`srgb-linear`,uQ=`linear`,dQ=`srgb`,fQ=7680,pQ=35044,mQ=2e3;function hQ(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function gQ(e){return document.createElementNS(`http://www.w3.org/1999/xhtml`,e)}function _Q(){let e=gQ(`canvas`);return e.style.display=`block`,e}var vQ={},yQ=null;function bQ(...e){let t=`THREE.`+e.shift();yQ?yQ(`log`,t,...e):console.log(t,...e)}function xQ(...e){let t=`THREE.`+e.shift();yQ?yQ(`warn`,t,...e):console.warn(t,...e)}function SQ(...e){let t=`THREE.`+e.shift();yQ?yQ(`error`,t,...e):console.error(t,...e)}function CQ(...e){let t=e.join(` `);t in vQ||(vQ[t]=!0,xQ(...e))}function wQ(e,t,n){return new Promise(function(r,i){function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}var TQ=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){let n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){let n=this._listeners;if(n===void 0)return;let r=n[e];if(r!==void 0){let e=r.indexOf(t);e!==-1&&r.splice(e,1)}}dispatchEvent(e){let t=this._listeners;if(t===void 0)return;let n=t[e.type];if(n!==void 0){e.target=this;let t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}},EQ=`00.01.02.03.04.05.06.07.08.09.0a.0b.0c.0d.0e.0f.10.11.12.13.14.15.16.17.18.19.1a.1b.1c.1d.1e.1f.20.21.22.23.24.25.26.27.28.29.2a.2b.2c.2d.2e.2f.30.31.32.33.34.35.36.37.38.39.3a.3b.3c.3d.3e.3f.40.41.42.43.44.45.46.47.48.49.4a.4b.4c.4d.4e.4f.50.51.52.53.54.55.56.57.58.59.5a.5b.5c.5d.5e.5f.60.61.62.63.64.65.66.67.68.69.6a.6b.6c.6d.6e.6f.70.71.72.73.74.75.76.77.78.79.7a.7b.7c.7d.7e.7f.80.81.82.83.84.85.86.87.88.89.8a.8b.8c.8d.8e.8f.90.91.92.93.94.95.96.97.98.99.9a.9b.9c.9d.9e.9f.a0.a1.a2.a3.a4.a5.a6.a7.a8.a9.aa.ab.ac.ad.ae.af.b0.b1.b2.b3.b4.b5.b6.b7.b8.b9.ba.bb.bc.bd.be.bf.c0.c1.c2.c3.c4.c5.c6.c7.c8.c9.ca.cb.cc.cd.ce.cf.d0.d1.d2.d3.d4.d5.d6.d7.d8.d9.da.db.dc.dd.de.df.e0.e1.e2.e3.e4.e5.e6.e7.e8.e9.ea.eb.ec.ed.ee.ef.f0.f1.f2.f3.f4.f5.f6.f7.f8.f9.fa.fb.fc.fd.fe.ff`.split(`.`),DQ=1234567,OQ=Math.PI/180,kQ=180/Math.PI;function AQ(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(EQ[e&255]+EQ[e>>8&255]+EQ[e>>16&255]+EQ[e>>24&255]+`-`+EQ[t&255]+EQ[t>>8&255]+`-`+EQ[t>>16&15|64]+EQ[t>>24&255]+`-`+EQ[n&63|128]+EQ[n>>8&255]+`-`+EQ[n>>16&255]+EQ[n>>24&255]+EQ[r&255]+EQ[r>>8&255]+EQ[r>>16&255]+EQ[r>>24&255]).toLowerCase()}function jQ(e,t,n){return Math.max(t,Math.min(n,e))}function MQ(e,t){return(e%t+t)%t}function NQ(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)}function PQ(e,t,n){return e===t?0:(n-e)/(t-e)}function FQ(e,t,n){return(1-n)*e+n*t}function IQ(e,t,n,r){return FQ(e,t,1-Math.exp(-n*r))}function LQ(e,t=1){return t-Math.abs(MQ(e,t*2)-t)}function RQ(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function zQ(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))}function BQ(e,t){return e+Math.floor(Math.random()*(t-e+1))}function VQ(e,t){return e+Math.random()*(t-e)}function HQ(e){return e*(.5-Math.random())}function UQ(e){e!==void 0&&(DQ=e);let t=DQ+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function WQ(e){return e*OQ}function GQ(e){return e*kQ}function KQ(e){return(e&e-1)==0&&e!==0}function qQ(e){return 2**Math.ceil(Math.log(e)/Math.LN2)}function JQ(e){return 2**Math.floor(Math.log(e)/Math.LN2)}function YQ(e,t,n,r,i){let a=Math.cos,o=Math.sin,s=a(n/2),c=o(n/2),l=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),f=o((t-r)/2),p=a((r-t)/2),m=o((r-t)/2);switch(i){case`XYX`:e.set(s*u,c*d,c*f,s*l);break;case`YZY`:e.set(c*f,s*u,c*d,s*l);break;case`ZXZ`:e.set(c*d,c*f,s*u,s*l);break;case`XZX`:e.set(s*u,c*m,c*p,s*l);break;case`YXY`:e.set(c*p,s*u,c*m,s*l);break;case`ZYZ`:e.set(c*m,c*p,s*u,s*l);break;default:xQ(`MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: `+i)}}function XQ(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw Error(`Invalid component type.`)}}function ZQ(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw Error(`Invalid component type.`)}}var QQ={DEG2RAD:OQ,RAD2DEG:kQ,generateUUID:AQ,clamp:jQ,euclideanModulo:MQ,mapLinear:NQ,inverseLerp:PQ,lerp:FQ,damp:IQ,pingpong:LQ,smoothstep:RQ,smootherstep:zQ,randInt:BQ,randFloat:VQ,randFloatSpread:HQ,seededRandom:UQ,degToRad:WQ,radToDeg:GQ,isPowerOfTwo:KQ,ceilPowerOfTwo:qQ,floorPowerOfTwo:JQ,setQuaternionFromProperEuler:YQ,normalize:ZQ,denormalize:XQ},$Q=class e{constructor(t=0,n=0){e.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error(`index is out of range: `+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error(`index is out of range: `+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=jQ(this.x,e.x,t.x),this.y=jQ(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=jQ(this.x,e,t),this.y=jQ(this.y,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(jQ(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(jQ(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},e$=class{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],d=i[a+0],f=i[a+1],p=i[a+2],m=i[a+3];if(o<=0){e[t+0]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u;return}if(o>=1){e[t+0]=d,e[t+1]=f,e[t+2]=p,e[t+3]=m;return}if(u!==m||s!==d||c!==f||l!==p){let e=s*d+c*f+l*p+u*m;e<0&&(d=-d,f=-f,p=-p,m=-m,e=-e);let t=1-o;if(e<.9995){let n=Math.acos(e),r=Math.sin(n);t=Math.sin(t*n)/r,o=Math.sin(o*n)/r,s=s*t+d*o,c=c*t+f*o,l=l*t+p*o,u=u*t+m*o}else{s=s*t+d*o,c=c*t+f*o,l=l*t+p*o,u=u*t+m*o;let e=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=e,c*=e,l*=e,u*=e}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){let o=n[r],s=n[r+1],c=n[r+2],l=n[r+3],u=i[a],d=i[a+1],f=i[a+2],p=i[a+3];return e[t]=o*p+l*u+s*f-c*d,e[t+1]=s*p+l*d+c*u-o*f,e[t+2]=c*p+l*f+o*d-s*u,e[t+3]=l*p-o*u-s*d-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){let n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,c=o(n/2),l=o(r/2),u=o(i/2),d=s(n/2),f=s(r/2),p=s(i/2);switch(a){case`XYZ`:this._x=d*l*u+c*f*p,this._y=c*f*u-d*l*p,this._z=c*l*p+d*f*u,this._w=c*l*u-d*f*p;break;case`YXZ`:this._x=d*l*u+c*f*p,this._y=c*f*u-d*l*p,this._z=c*l*p-d*f*u,this._w=c*l*u+d*f*p;break;case`ZXY`:this._x=d*l*u-c*f*p,this._y=c*f*u+d*l*p,this._z=c*l*p+d*f*u,this._w=c*l*u-d*f*p;break;case`ZYX`:this._x=d*l*u-c*f*p,this._y=c*f*u+d*l*p,this._z=c*l*p-d*f*u,this._w=c*l*u+d*f*p;break;case`YZX`:this._x=d*l*u+c*f*p,this._y=c*f*u+d*l*p,this._z=c*l*p-d*f*u,this._w=c*l*u-d*f*p;break;case`XZY`:this._x=d*l*u-c*f*p,this._y=c*f*u-d*l*p,this._z=c*l*p+d*f*u,this._w=c*l*u+d*f*p;break;default:xQ(`Quaternion: .setFromEuler() encountered an unknown order: `+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],c=t[2],l=t[6],u=t[10],d=n+o+u;if(d>0){let e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(l-s)*e,this._y=(i-c)*e,this._z=(a-r)*e}else if(n>o&&n>u){let e=2*Math.sqrt(1+n-o-u);this._w=(l-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+c)/e}else if(o>u){let e=2*Math.sqrt(1+o-n-u);this._w=(i-c)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+l)/e}else{let e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+c)/e,this._y=(s+l)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jQ(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(n===0)return this;let r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+a*o+r*c-i*s,this._y=r*l+a*s+i*o-n*c,this._z=i*l+a*c+n*s-r*o,this._w=a*l-n*o-r*s-i*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,i=e._z,a=e._w,o=this.dot(e);o<0&&(n=-n,r=-r,i=-i,a=-a,o=-o);let s=1-t;if(o<.9995){let e=Math.acos(o),c=Math.sin(e);s=Math.sin(s*e)/c,t=Math.sin(t*e)/c,this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this._onChangeCallback()}else this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Q=class e{constructor(t=0,n=0,r=0){e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error(`index is out of range: `+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error(`index is out of range: `+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(n$.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(n$.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,c=2*(a*r-o*n),l=2*(o*t-i*r),u=2*(i*n-a*t);return this.x=t+s*c+a*u-o*l,this.y=n+s*l+o*c-i*u,this.z=r+s*u+i*l-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=jQ(this.x,e.x,t.x),this.y=jQ(this.y,e.y,t.y),this.z=jQ(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=jQ(this.x,e,t),this.y=jQ(this.y,e,t),this.z=jQ(this.z,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(jQ(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return t$.copy(this).projectOnVector(e),this.sub(t$)}reflect(e){return this.sub(t$.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(jQ(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},t$=new Q,n$=new e$,r$=class e{constructor(t,n,r,i,a,o,s,c,l){e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,n,r,i,a,o,s,c,l)}set(e,t,n,r,i,a,o,s,c){let l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],l=n[4],u=n[7],d=n[2],f=n[5],p=n[8],m=r[0],h=r[3],g=r[6],_=r[1],v=r[4],y=r[7],b=r[2],x=r[5],S=r[8];return i[0]=a*m+o*_+s*b,i[3]=a*h+o*v+s*x,i[6]=a*g+o*y+s*S,i[1]=c*m+l*_+u*b,i[4]=c*h+l*v+u*x,i[7]=c*g+l*y+u*S,i[2]=d*m+f*_+p*b,i[5]=d*h+f*v+p*x,i[8]=d*g+f*y+p*S,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-n*i*l+n*o*s+r*i*c-r*a*s}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=l*a-o*c,d=o*s-l*i,f=c*i-a*s,p=t*u+n*d+r*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/p;return e[0]=u*m,e[1]=(r*c-l*n)*m,e[2]=(o*n-r*a)*m,e[3]=d*m,e[4]=(l*t-r*s)*m,e[5]=(r*i-o*t)*m,e[6]=f*m,e[7]=(n*s-c*t)*m,e[8]=(a*t-n*i)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){let s=Math.cos(i),c=Math.sin(i);return this.set(n*s,n*c,-n*(s*a+c*o)+a+e,-r*c,r*s,-r*(-c*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(i$.makeScale(e,t)),this}rotate(e){return this.premultiply(i$.makeRotation(-e)),this}translate(e,t){return this.premultiply(i$.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}},i$=new r$,a$=new r$().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),o$=new r$().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function s$(){let e={enabled:!0,workingColorSpace:lQ,spaces:{},convert:function(e,t,n){return this.enabled===!1||t===n||!t||!n?e:(this.spaces[t].transfer===`srgb`&&(e.r=l$(e.r),e.g=l$(e.g),e.b=l$(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===`srgb`&&(e.r=u$(e.r),e.g=u$(e.g),e.b=u$(e.b)),e)},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===``?uQ:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||`standard`},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return CQ(`ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace().`),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return CQ(`ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking().`),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[lQ]:{primaries:t,whitePoint:r,transfer:uQ,toXYZ:a$,fromXYZ:o$,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:cQ},outputColorSpaceConfig:{drawingBufferColorSpace:cQ}},[cQ]:{primaries:t,whitePoint:r,transfer:dQ,toXYZ:a$,fromXYZ:o$,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:cQ}}}),e}var c$=s$();function l$(e){return e<.04045?e*.0773993808:(e*.9478672986+.0521327014)**2.4}function u$(e){return e<.0031308?e*12.92:1.055*e**.41666-.055}var d$,f$=class{static getDataURL(e,t=`image/png`){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>`u`)return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{d$===void 0&&(d$=gQ(`canvas`)),d$.width=e.width,d$.height=e.height;let t=d$.getContext(`2d`);e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),n=d$}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement||typeof ImageBitmap<`u`&&e instanceof ImageBitmap){let t=gQ(`canvas`);t.width=e.width,t.height=e.height;let n=t.getContext(`2d`);n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=l$(i[e]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){let t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(l$(t[e]/255)*255):t[e]=l$(t[e]);return{data:t,width:e.width,height:e.height}}else return xQ(`ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.`),e}},p$=0,m$=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,`id`,{value:p$++}),this.uuid=AQ(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){let t=this.data;return typeof HTMLVideoElement<`u`&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t===null?e.set(0,0,0):e.set(t.width,t.height,t.depth||0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e==`string`;if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let n={uuid:this.uuid,url:``},r=this.data;if(r!==null){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(h$(r[t].image)):e.push(h$(r[t]))}else e=h$(r);n.url=e}return t||(e.images[this.uuid]=n),n}};function h$(e){return typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement||typeof ImageBitmap<`u`&&e instanceof ImageBitmap?f$.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(xQ(`Texture: Unable to serialize Texture.`),{})}var g$=0,_$=new Q,v$=class e extends TQ{constructor(t=e.DEFAULT_IMAGE,n=e.DEFAULT_MAPPING,r=WX,i=WX,a=YX,o=ZX,s=pZ,c=QX,l=e.DEFAULT_ANISOTROPY,u=``){super(),this.isTexture=!0,Object.defineProperty(this,`id`,{value:g$++}),this.uuid=AQ(),this.name=``,this.source=new m$(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=c,this.offset=new $Q(0,0),this.repeat=new $Q(1,1),this.center=new $Q(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new r$,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(_$).x}get height(){return this.source.getSize(_$).y}get depth(){return this.source.getSize(_$).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(let t in e){let n=e[t];if(n===void 0){xQ(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){xQ(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e==`string`;if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let n={metadata:{version:4.7,type:`Texture`,generator:`Texture.toJSON`},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:`dispose`})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case UX:e.x-=Math.floor(e.x);break;case WX:e.x=e.x<0?0:1;break;case GX:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x-=Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case UX:e.y-=Math.floor(e.y);break;case WX:e.y=e.y<0?0:1;break;case GX:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y-=Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};v$.DEFAULT_IMAGE=null,v$.DEFAULT_MAPPING=300,v$.DEFAULT_ANISOTROPY=1;var y$=class e{constructor(t=0,n=0,r=0,i=1){e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error(`index is out of range: `+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error(`index is out of range: `+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w===void 0?1:e.w,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i,a=.01,o=.1,s=e.elements,c=s[0],l=s[4],u=s[8],d=s[1],f=s[5],p=s[9],m=s[2],h=s[6],g=s[10];if(Math.abs(l-d)<a&&Math.abs(u-m)<a&&Math.abs(p-h)<a){if(Math.abs(l+d)<o&&Math.abs(u+m)<o&&Math.abs(p+h)<o&&Math.abs(c+f+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;let e=(c+1)/2,s=(f+1)/2,_=(g+1)/2,v=(l+d)/4,y=(u+m)/4,b=(p+h)/4;return e>s&&e>_?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=v/n,i=y/n):s>_?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=v/r,i=b/r):_<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(_),n=y/i,r=b/i),this.set(n,r,i,t),this}let _=Math.sqrt((h-p)*(h-p)+(u-m)*(u-m)+(d-l)*(d-l));return Math.abs(_)<.001&&(_=1),this.x=(h-p)/_,this.y=(u-m)/_,this.z=(d-l)/_,this.w=Math.acos((c+f+g-1)/2),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=jQ(this.x,e.x,t.x),this.y=jQ(this.y,e.y,t.y),this.z=jQ(this.z,e.z,t.z),this.w=jQ(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=jQ(this.x,e,t),this.y=jQ(this.y,e,t),this.z=jQ(this.z,e,t),this.w=jQ(this.w,e,t),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(jQ(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},b$=class extends TQ{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:YX,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new y$(0,0,e,t),this.scissorTest=!1,this.viewport=new y$(0,0,e,t);let r=new v$({width:e,height:t,depth:n.depth});this.textures=[];let i=n.count;for(let e=0;e<i;e++)this.textures[e]=r.clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){let t={minFilter:YX,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let e=0;e<this.textures.length;e++)this.textures[e].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;let n=Object.assign({},e.textures[t].image);this.textures[t].source=new m$(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:`dispose`})}},x$=class extends b${constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}},S$=class extends v${constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=KX,this.minFilter=KX,this.wrapR=WX,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},C$=class extends v${constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=KX,this.minFilter=KX,this.wrapR=WX,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},w$=class{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(E$.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(E$.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=E$.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(n!==void 0){let r=n.getAttribute(`position`);if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let t=0,n=r.count;t<n;t++)e.isMesh===!0?e.getVertexPosition(t,E$):E$.fromBufferAttribute(r,t),E$.applyMatrix4(e.matrixWorld),this.expandByPoint(E$);else e.boundingBox===void 0?(n.boundingBox===null&&n.computeBoundingBox(),D$.copy(n.boundingBox)):(e.boundingBox===null&&e.computeBoundingBox(),D$.copy(e.boundingBox)),D$.applyMatrix4(e.matrixWorld),this.union(D$)}let r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,E$),E$.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(P$),F$.subVectors(this.max,P$),O$.subVectors(e.a,P$),k$.subVectors(e.b,P$),A$.subVectors(e.c,P$),j$.subVectors(k$,O$),M$.subVectors(A$,k$),N$.subVectors(O$,A$);let t=[0,-j$.z,j$.y,0,-M$.z,M$.y,0,-N$.z,N$.y,j$.z,0,-j$.x,M$.z,0,-M$.x,N$.z,0,-N$.x,-j$.y,j$.x,0,-M$.y,M$.x,0,-N$.y,N$.x,0];return!R$(t,O$,k$,A$,F$)||(t=[1,0,0,0,1,0,0,0,1],!R$(t,O$,k$,A$,F$))?!1:(I$.crossVectors(j$,M$),t=[I$.x,I$.y,I$.z],R$(t,O$,k$,A$,F$))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,E$).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(E$).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(T$[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),T$[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),T$[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),T$[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),T$[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),T$[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),T$[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),T$[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(T$),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}},T$=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],E$=new Q,D$=new w$,O$=new Q,k$=new Q,A$=new Q,j$=new Q,M$=new Q,N$=new Q,P$=new Q,F$=new Q,I$=new Q,L$=new Q;function R$(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){L$.fromArray(e,a);let o=i.x*Math.abs(L$.x)+i.y*Math.abs(L$.y)+i.z*Math.abs(L$.z),s=t.dot(L$),c=n.dot(L$),l=r.dot(L$);if(Math.max(-Math.max(s,c,l),Math.min(s,c,l))>o)return!1}return!0}var z$=new w$,B$=new Q,V$=new Q,H$=class{constructor(e=new Q,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;t===void 0?z$.setFromPoints(e).getCenter(n):n.copy(t);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;B$.subVectors(e,this.center);let t=B$.lengthSq();if(t>this.radius*this.radius){let e=Math.sqrt(t),n=(e-this.radius)*.5;this.center.addScaledVector(B$,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(V$.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(B$.copy(e.center).add(V$)),this.expandByPoint(B$.copy(e.center).sub(V$))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}},U$=new Q,W$=new Q,G$=new Q,K$=new Q,q$=new Q,J$=new Q,Y$=new Q,X$=class{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,U$)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=U$.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(U$.copy(this.origin).addScaledVector(this.direction,t),U$.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){W$.copy(e).add(t).multiplyScalar(.5),G$.copy(t).sub(e).normalize(),K$.copy(this.origin).sub(W$);let i=e.distanceTo(t)*.5,a=-this.direction.dot(G$),o=K$.dot(this.direction),s=-K$.dot(G$),c=K$.lengthSq(),l=Math.abs(1-a*a),u,d,f,p;if(l>0)if(u=a*s-o,d=a*o-s,p=i*l,u>=0)if(d>=-p)if(d<=p){let e=1/l;u*=e,d*=e,f=u*(u+a*d+2*o)+d*(a*u+d+2*s)+c}else d=i,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*s)+c;else d=-i,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*s)+c;else d<=-p?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),f=-u*u+d*(d+2*s)+c):d<=p?(u=0,d=Math.min(Math.max(-i,-s),i),f=d*(d+2*s)+c):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),f=-u*u+d*(d+2*s)+c);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),f=-u*u+d*(d+2*s)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(W$).addScaledVector(G$,d),f}intersectSphere(e,t){U$.subVectors(e.center,this.origin);let n=U$.dot(this.direction),r=U$.dot(U$)-n*n,i=e.radius*e.radius;if(r>i)return null;let a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),l>=0?(i=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),n>a||i>r||((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r)||((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,U$)!==null}intersectTriangle(e,t,n,r,i){q$.subVectors(t,e),J$.subVectors(n,e),Y$.crossVectors(q$,J$);let a=this.direction.dot(Y$),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;K$.subVectors(this.origin,e);let s=o*this.direction.dot(J$.crossVectors(K$,J$));if(s<0)return null;let c=o*this.direction.dot(q$.cross(K$));if(c<0||s+c>a)return null;let l=-o*K$.dot(Y$);return l<0?null:this.at(l/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Z$=class e{constructor(t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g){e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g)}set(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){let g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=d,g[3]=f,g[7]=p,g[11]=m,g[15]=h,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new e().fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,r=1/Q$.setFromMatrixColumn(e,0).length(),i=1/Q$.setFromMatrixColumn(e,1).length(),a=1/Q$.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if(e.order===`XYZ`){let e=a*l,n=a*u,r=o*l,i=o*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=n+r*c,t[5]=e-i*c,t[9]=-o*s,t[2]=i-e*c,t[6]=r+n*c,t[10]=a*s}else if(e.order===`YXZ`){let e=s*l,n=s*u,r=c*l,i=c*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*c,t[1]=a*u,t[5]=a*l,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if(e.order===`ZXY`){let e=s*l,n=s*u,r=c*l,i=c*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*l,t[9]=i-e*o,t[2]=-a*c,t[6]=o,t[10]=a*s}else if(e.order===`ZYX`){let e=a*l,n=a*u,r=o*l,i=o*u;t[0]=s*l,t[4]=r*c-n,t[8]=e*c+i,t[1]=s*u,t[5]=i*c+e,t[9]=n*c-r,t[2]=-c,t[6]=o*s,t[10]=a*s}else if(e.order===`YZX`){let e=a*s,n=a*c,r=o*s,i=o*c;t[0]=s*l,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*l,t[9]=-o*l,t[2]=-c*l,t[6]=n*u+r,t[10]=e-i*u}else if(e.order===`XZY`){let e=a*s,n=a*c,r=o*s,i=o*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=e*u+i,t[5]=a*l,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*l,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(e1,e,t1)}lookAt(e,t,n){let r=this.elements;return i1.subVectors(e,t),i1.lengthSq()===0&&(i1.z=1),i1.normalize(),n1.crossVectors(n,i1),n1.lengthSq()===0&&(Math.abs(n.z)===1?i1.x+=1e-4:i1.z+=1e-4,i1.normalize(),n1.crossVectors(n,i1)),n1.normalize(),r1.crossVectors(i1,n1),r[0]=n1.x,r[4]=r1.x,r[8]=i1.x,r[1]=n1.y,r[5]=r1.y,r[9]=i1.y,r[2]=n1.z,r[6]=r1.z,r[10]=i1.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],l=n[1],u=n[5],d=n[9],f=n[13],p=n[2],m=n[6],h=n[10],g=n[14],_=n[3],v=n[7],y=n[11],b=n[15],x=r[0],S=r[4],C=r[8],w=r[12],T=r[1],E=r[5],D=r[9],O=r[13],k=r[2],A=r[6],ee=r[10],te=r[14],ne=r[3],re=r[7],ie=r[11],ae=r[15];return i[0]=a*x+o*T+s*k+c*ne,i[4]=a*S+o*E+s*A+c*re,i[8]=a*C+o*D+s*ee+c*ie,i[12]=a*w+o*O+s*te+c*ae,i[1]=l*x+u*T+d*k+f*ne,i[5]=l*S+u*E+d*A+f*re,i[9]=l*C+u*D+d*ee+f*ie,i[13]=l*w+u*O+d*te+f*ae,i[2]=p*x+m*T+h*k+g*ne,i[6]=p*S+m*E+h*A+g*re,i[10]=p*C+m*D+h*ee+g*ie,i[14]=p*w+m*O+h*te+g*ae,i[3]=_*x+v*T+y*k+b*ne,i[7]=_*S+v*E+y*A+b*re,i[11]=_*C+v*D+y*ee+b*ie,i[15]=_*w+v*O+y*te+b*ae,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],c=e[13],l=e[2],u=e[6],d=e[10],f=e[14],p=e[3],m=e[7],h=e[11],g=e[15];return p*(+i*s*u-r*c*u-i*o*d+n*c*d+r*o*f-n*s*f)+m*(+t*s*f-t*c*d+i*a*d-r*a*f+r*c*l-i*s*l)+h*(+t*c*u-t*o*f-i*a*u+n*a*f+i*o*l-n*c*l)+g*(-r*o*l-t*s*u+t*o*d+r*a*u-n*a*d+n*s*l)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15],_=u*h*c-m*d*c+m*s*f-o*h*f-u*s*g+o*d*g,v=p*d*c-l*h*c-p*s*f+a*h*f+l*s*g-a*d*g,y=l*m*c-p*u*c+p*o*f-a*m*f-l*o*g+a*u*g,b=p*u*s-l*m*s-p*o*d+a*m*d+l*o*h-a*u*h,x=t*_+n*v+r*y+i*b;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let S=1/x;return e[0]=_*S,e[1]=(m*d*i-u*h*i-m*r*f+n*h*f+u*r*g-n*d*g)*S,e[2]=(o*h*i-m*s*i+m*r*c-n*h*c-o*r*g+n*s*g)*S,e[3]=(u*s*i-o*d*i-u*r*c+n*d*c+o*r*f-n*s*f)*S,e[4]=v*S,e[5]=(l*h*i-p*d*i+p*r*f-t*h*f-l*r*g+t*d*g)*S,e[6]=(p*s*i-a*h*i-p*r*c+t*h*c+a*r*g-t*s*g)*S,e[7]=(a*d*i-l*s*i+l*r*c-t*d*c-a*r*f+t*s*f)*S,e[8]=y*S,e[9]=(p*u*i-l*m*i-p*n*f+t*m*f+l*n*g-t*u*g)*S,e[10]=(a*m*i-p*o*i+p*n*c-t*m*c-a*n*g+t*o*g)*S,e[11]=(l*o*i-a*u*i-l*n*c+t*u*c+a*n*f-t*o*f)*S,e[12]=b*S,e[13]=(l*m*r-p*u*r+p*n*d-t*m*d-l*n*h+t*u*h)*S,e[14]=(p*o*r-a*m*r-p*n*s+t*m*s+a*n*h-t*o*h)*S,e[15]=(a*u*r-l*o*r+l*n*s-t*u*s-a*n*d+t*o*d)*S,this}scale(e){let t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,c=i*a,l=i*o;return this.set(c*a+n,c*o-r*s,c*s+r*o,0,c*o+r*s,l*o+n,l*s-r*a,0,c*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){let r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,c=i+i,l=a+a,u=o+o,d=i*c,f=i*l,p=i*u,m=a*l,h=a*u,g=o*u,_=s*c,v=s*l,y=s*u,b=n.x,x=n.y,S=n.z;return r[0]=(1-(m+g))*b,r[1]=(f+y)*b,r[2]=(p-v)*b,r[3]=0,r[4]=(f-y)*x,r[5]=(1-(d+g))*x,r[6]=(h+_)*x,r[7]=0,r[8]=(p+v)*S,r[9]=(h-_)*S,r[10]=(1-(d+m))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){let r=this.elements,i=Q$.set(r[0],r[1],r[2]).length(),a=Q$.set(r[4],r[5],r[6]).length(),o=Q$.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],$$.copy(this);let s=1/i,c=1/a,l=1/o;return $$.elements[0]*=s,$$.elements[1]*=s,$$.elements[2]*=s,$$.elements[4]*=c,$$.elements[5]*=c,$$.elements[6]*=c,$$.elements[8]*=l,$$.elements[9]*=l,$$.elements[10]*=l,t.setFromRotationMatrix($$),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a,o=mQ,s=!1){let c=this.elements,l=2*i/(t-e),u=2*i/(n-r),d=(t+e)/(t-e),f=(n+r)/(n-r),p,m;if(s)p=i/(a-i),m=a*i/(a-i);else if(o===2e3)p=-(a+i)/(a-i),m=-2*a*i/(a-i);else if(o===2001)p=-a/(a-i),m=-a*i/(a-i);else throw Error(`THREE.Matrix4.makePerspective(): Invalid coordinate system: `+o);return c[0]=l,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=u,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,r,i,a,o=mQ,s=!1){let c=this.elements,l=2/(t-e),u=2/(n-r),d=-(t+e)/(t-e),f=-(n+r)/(n-r),p,m;if(s)p=1/(a-i),m=a/(a-i);else if(o===2e3)p=-2/(a-i),m=-(a+i)/(a-i);else if(o===2001)p=-1/(a-i),m=-i/(a-i);else throw Error(`THREE.Matrix4.makeOrthographic(): Invalid coordinate system: `+o);return c[0]=l,c[4]=0,c[8]=0,c[12]=d,c[1]=0,c[5]=u,c[9]=0,c[13]=f,c[2]=0,c[6]=0,c[10]=p,c[14]=m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},Q$=new Q,$$=new Z$,e1=new Q(0,0,0),t1=new Q(1,1,1),n1=new Q,r1=new Q,i1=new Q,a1=new Z$,o1=new e$,s1=class e{constructor(t=0,n=0,r=0,i=e.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],c=r[5],l=r[9],u=r[2],d=r[6],f=r[10];switch(t){case`XYZ`:this._y=Math.asin(jQ(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,c),this._z=0);break;case`YXZ`:this._x=Math.asin(-jQ(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,c)):(this._y=Math.atan2(-u,i),this._z=0);break;case`ZXY`:this._x=Math.asin(jQ(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(s,i));break;case`ZYX`:this._y=Math.asin(-jQ(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,c));break;case`YZX`:this._z=Math.asin(jQ(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,f));break;case`XZY`:this._z=Math.asin(-jQ(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,f),this._y=0);break;default:xQ(`Euler: .setFromRotationMatrix() encountered an unknown order: `+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return a1.makeRotationFromQuaternion(e),this.setFromRotationMatrix(a1,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return o1.setFromEuler(this),this.setFromQuaternion(o1,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};s1.DEFAULT_ORDER=`XYZ`;var c1=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},l1=0,u1=new Q,d1=new e$,f1=new Z$,p1=new Q,m1=new Q,h1=new Q,g1=new e$,_1=new Q(1,0,0),v1=new Q(0,1,0),y1=new Q(0,0,1),b1={type:`added`},x1={type:`removed`},S1={type:`childadded`,child:null},C1={type:`childremoved`,child:null},w1=class e extends TQ{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,`id`,{value:l1++}),this.uuid=AQ(),this.name=``,this.type=`Object3D`,this.parent=null,this.children=[],this.up=e.DEFAULT_UP.clone();let t=new Q,n=new s1,r=new e$,i=new Q(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Z$},normalMatrix:{value:new r$}}),this.matrix=new Z$,this.matrixWorld=new Z$,this.matrixAutoUpdate=e.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=e.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new c1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return d1.setFromAxisAngle(e,t),this.quaternion.multiply(d1),this}rotateOnWorldAxis(e,t){return d1.setFromAxisAngle(e,t),this.quaternion.premultiply(d1),this}rotateX(e){return this.rotateOnAxis(_1,e)}rotateY(e){return this.rotateOnAxis(v1,e)}rotateZ(e){return this.rotateOnAxis(y1,e)}translateOnAxis(e,t){return u1.copy(e).applyQuaternion(this.quaternion),this.position.add(u1.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(_1,e)}translateY(e){return this.translateOnAxis(v1,e)}translateZ(e){return this.translateOnAxis(y1,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(f1.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?p1.copy(e):p1.set(e,t,n);let r=this.parent;this.updateWorldMatrix(!0,!1),m1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?f1.lookAt(m1,p1,this.up):f1.lookAt(p1,m1,this.up),this.quaternion.setFromRotationMatrix(f1),r&&(f1.extractRotation(r.matrixWorld),d1.setFromRotationMatrix(f1),this.quaternion.premultiply(d1.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(SQ(`Object3D.add: object can't be added as a child of itself.`,e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(b1),S1.child=e,this.dispatchEvent(S1),S1.child=null):SQ(`Object3D.add: object not an instance of THREE.Object3D.`,e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(x1),C1.child=e,this.dispatchEvent(C1),C1.child=null),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),f1.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),f1.multiply(e.parent.matrixWorld)),e.applyMatrix4(f1),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(b1),S1.child=e,this.dispatchEvent(S1),S1.child=null,this}getObjectById(e){return this.getObjectByProperty(`id`,e)}getObjectByName(e){return this.getObjectByProperty(`name`,e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){let r=this.children[n].getObjectByProperty(e,t);if(r!==void 0)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);let r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(m1,e,h1),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(m1,g1,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){let n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){let e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e==`string`,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:`Object`,generator:`Object3D.toJSON`});let r={};r.uuid=this.uuid,r.type=this.type,this.name!==``&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type=`InstancedMesh`,r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type=`BatchedMesh`,r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(e=>({...e})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function i(t,n){return t[n.uuid]===void 0&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);let t=this.geometry.parameters;if(t!==void 0&&t.shapes!==void 0){let n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){let n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){let t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),c=a(e.skeletons),l=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let t=0;t<e.children.length;t++){let n=e.children[t];this.add(n.clone())}return this}};w1.DEFAULT_UP=new Q(0,1,0),w1.DEFAULT_MATRIX_AUTO_UPDATE=!0,w1.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var T1=new Q,E1=new Q,D1=new Q,O1=new Q,k1=new Q,A1=new Q,j1=new Q,M1=new Q,N1=new Q,P1=new Q,F1=new y$,I1=new y$,L1=new y$,R1=class e{constructor(e=new Q,t=new Q,n=new Q){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),T1.subVectors(e,t),r.cross(T1);let i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){T1.subVectors(r,t),E1.subVectors(n,t),D1.subVectors(e,t);let a=T1.dot(T1),o=T1.dot(E1),s=T1.dot(D1),c=E1.dot(E1),l=E1.dot(D1),u=a*c-o*o;if(u===0)return i.set(0,0,0),null;let d=1/u,f=(c*s-o*l)*d,p=(a*l-o*s)*d;return i.set(1-f-p,p,f)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,O1)===null?!1:O1.x>=0&&O1.y>=0&&O1.x+O1.y<=1}static getInterpolation(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,O1)===null?(s.x=0,s.y=0,`z`in s&&(s.z=0),`w`in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,O1.x),s.addScaledVector(a,O1.y),s.addScaledVector(o,O1.z),s)}static getInterpolatedAttribute(e,t,n,r,i,a){return F1.setScalar(0),I1.setScalar(0),L1.setScalar(0),F1.fromBufferAttribute(e,t),I1.fromBufferAttribute(e,n),L1.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(F1,i.x),a.addScaledVector(I1,i.y),a.addScaledVector(L1,i.z),a}static isFrontFacing(e,t,n,r){return T1.subVectors(n,t),E1.subVectors(e,t),T1.cross(E1).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return T1.subVectors(this.c,this.b),E1.subVectors(this.a,this.b),T1.cross(E1).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return e.getNormal(this.a,this.b,this.c,t)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}getInterpolation(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}containsPoint(t){return e.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return e.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n=this.a,r=this.b,i=this.c,a,o;k1.subVectors(r,n),A1.subVectors(i,n),M1.subVectors(e,n);let s=k1.dot(M1),c=A1.dot(M1);if(s<=0&&c<=0)return t.copy(n);N1.subVectors(e,r);let l=k1.dot(N1),u=A1.dot(N1);if(l>=0&&u<=l)return t.copy(r);let d=s*u-l*c;if(d<=0&&s>=0&&l<=0)return a=s/(s-l),t.copy(n).addScaledVector(k1,a);P1.subVectors(e,i);let f=k1.dot(P1),p=A1.dot(P1);if(p>=0&&f<=p)return t.copy(i);let m=f*c-s*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(n).addScaledVector(A1,o);let h=l*p-f*u;if(h<=0&&u-l>=0&&f-p>=0)return j1.subVectors(i,r),o=(u-l)/(u-l+(f-p)),t.copy(r).addScaledVector(j1,o);let g=1/(h+m+d);return a=m*g,o=d*g,t.copy(n).addScaledVector(k1,a).addScaledVector(A1,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},z1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},B1={h:0,s:0,l:0},V1={h:0,s:0,l:0};function H1(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}var U1=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){let t=e;t&&t.isColor?this.copy(t):typeof t==`number`?this.setHex(t):typeof t==`string`&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=cQ){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,c$.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=c$.workingColorSpace){return this.r=e,this.g=t,this.b=n,c$.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=c$.workingColorSpace){if(e=MQ(e,1),t=jQ(t,0,1),n=jQ(n,0,1),t===0)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=H1(i,r,e+1/3),this.g=H1(i,r,e),this.b=H1(i,r,e-1/3)}return c$.colorSpaceToWorking(this,r),this}setStyle(e,t=cQ){function n(t){t!==void 0&&parseFloat(t)<1&&xQ(`Color: Alpha component of `+e+` will be ignored.`)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let i,a=r[1],o=r[2];switch(a){case`rgb`:case`rgba`:if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case`hsl`:case`hsla`:if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:xQ(`Color: Unknown color model `+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let n=r[1],i=n.length;if(i===3)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(i===6)return this.setHex(parseInt(n,16),t);xQ(`Color: Invalid hex color `+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=cQ){let n=z1[e.toLowerCase()];return n===void 0?xQ(`Color: Unknown color `+e):this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=l$(e.r),this.g=l$(e.g),this.b=l$(e.b),this}copyLinearToSRGB(e){return this.r=u$(e.r),this.g=u$(e.g),this.b=u$(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=cQ){return c$.workingToColorSpace(W1.copy(this),e),Math.round(jQ(W1.r*255,0,255))*65536+Math.round(jQ(W1.g*255,0,255))*256+Math.round(jQ(W1.b*255,0,255))}getHexString(e=cQ){return(`000000`+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=c$.workingColorSpace){c$.workingToColorSpace(W1.copy(this),t);let n=W1.r,r=W1.g,i=W1.b,a=Math.max(n,r,i),o=Math.min(n,r,i),s,c,l=(o+a)/2;if(o===a)s=0,c=0;else{let e=a-o;switch(c=l<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4;break}s/=6}return e.h=s,e.s=c,e.l=l,e}getRGB(e,t=c$.workingColorSpace){return c$.workingToColorSpace(W1.copy(this),t),e.r=W1.r,e.g=W1.g,e.b=W1.b,e}getStyle(e=cQ){c$.workingToColorSpace(W1.copy(this),e);let t=W1.r,n=W1.g,r=W1.b;return e===`srgb`?`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`:`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`}offsetHSL(e,t,n){return this.getHSL(B1),this.setHSL(B1.h+e,B1.s+t,B1.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(B1),e.getHSL(V1);let n=FQ(B1.h,V1.h,t),r=FQ(B1.s,V1.s,t),i=FQ(B1.l,V1.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},W1=new U1;U1.NAMES=z1;var G1=0,K1=class extends TQ{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,`id`,{value:G1++}),this.uuid=AQ(),this.name=``,this.type=`Material`,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new U1(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=fQ,this.stencilZFail=fQ,this.stencilZPass=fQ,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let n=e[t];if(n===void 0){xQ(`Material: parameter '${t}' has value of undefined.`);continue}let r=this[t];if(r===void 0){xQ(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){let t=e===void 0||typeof e==`string`;t&&(e={textures:{},images:{}});let n={metadata:{version:4.7,type:`Material`,generator:`Material.toJSON`}};n.uuid=this.uuid,n.type=this.type,this.name!==``&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(n.blending=this.blending),this.side!==0&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==204&&(n.blendSrc=this.blendSrc),this.blendDst!==205&&(n.blendDst=this.blendDst),this.blendEquation!==100&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==3&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==519&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==7680&&(n.stencilFail=this.stencilFail),this.stencilZFail!==7680&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==7680&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!==`round`&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!==`round`&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}if(t){let t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(t!==null){let e=t.length;n=Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:`dispose`})}set needsUpdate(e){e===!0&&this.version++}},q1=class extends K1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type=`MeshBasicMaterial`,this.color=new U1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new s1,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=`round`,this.wireframeLinejoin=`round`,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},J1=new Q,Y1=new $Q,X1=0,Z1=class{constructor(e,t,n=!1){if(Array.isArray(e))throw TypeError(`THREE.BufferAttribute: array should be a Typed Array.`);this.isBufferAttribute=!0,Object.defineProperty(this,`id`,{value:X1++}),this.name=``,this.array=e,this.itemSize=t,this.count=e===void 0?0:e.length/t,this.normalized=n,this.usage=pQ,this.updateRanges=[],this.gpuType=iZ,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Y1.fromBufferAttribute(this,t),Y1.applyMatrix3(e),this.setXY(t,Y1.x,Y1.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)J1.fromBufferAttribute(this,t),J1.applyMatrix3(e),this.setXYZ(t,J1.x,J1.y,J1.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)J1.fromBufferAttribute(this,t),J1.applyMatrix4(e),this.setXYZ(t,J1.x,J1.y,J1.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)J1.fromBufferAttribute(this,t),J1.applyNormalMatrix(e),this.setXYZ(t,J1.x,J1.y,J1.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)J1.fromBufferAttribute(this,t),J1.transformDirection(e),this.setXYZ(t,J1.x,J1.y,J1.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=XQ(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ZQ(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=XQ(t,this.array)),t}setX(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=XQ(t,this.array)),t}setY(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=XQ(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=XQ(t,this.array)),t}setW(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array),r=ZQ(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array),r=ZQ(r,this.array),i=ZQ(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==``&&(e.name=this.name),this.usage!==35044&&(e.usage=this.usage),e}},Q1=class extends Z1{constructor(e,t,n){super(new Uint16Array(e),t,n)}},$1=class extends Z1{constructor(e,t,n){super(new Uint32Array(e),t,n)}},e0=class extends Z1{constructor(e,t,n){super(new Float32Array(e),t,n)}},t0=0,n0=new Z$,r0=new w1,i0=new Q,a0=new w$,o0=new w$,s0=new Q,c0=class e extends TQ{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,`id`,{value:t0++}),this.uuid=AQ(),this.name=``,this.type=`BufferGeometry`,this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hQ(e)?$1:Q1)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let t=new r$().getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return n0.makeRotationFromQuaternion(e),this.applyMatrix4(n0),this}rotateX(e){return n0.makeRotationX(e),this.applyMatrix4(n0),this}rotateY(e){return n0.makeRotationY(e),this.applyMatrix4(n0),this}rotateZ(e){return n0.makeRotationZ(e),this.applyMatrix4(n0),this}translate(e,t,n){return n0.makeTranslation(e,t,n),this.applyMatrix4(n0),this}scale(e,t,n){return n0.makeScale(e,t,n),this.applyMatrix4(n0),this}lookAt(e){return r0.lookAt(e),r0.updateMatrix(),this.applyMatrix4(r0.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(i0).negate(),this.translate(i0.x,i0.y,i0.z),this}setFromPoints(e){let t=this.getAttribute(`position`);if(t===void 0){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute(`position`,new e0(t,3))}else{let n=Math.min(e.length,t.count);for(let r=0;r<n;r++){let n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&xQ(`BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry.`),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new w$);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){SQ(`BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.`,this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];a0.setFromBufferAttribute(n),this.morphTargetsRelative?(s0.addVectors(this.boundingBox.min,a0.min),this.boundingBox.expandByPoint(s0),s0.addVectors(this.boundingBox.max,a0.max),this.boundingBox.expandByPoint(s0)):(this.boundingBox.expandByPoint(a0.min),this.boundingBox.expandByPoint(a0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&SQ(`BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.`,this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new H$);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){SQ(`BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.`,this),this.boundingSphere.set(new Q,1/0);return}if(e){let n=this.boundingSphere.center;if(a0.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];o0.setFromBufferAttribute(n),this.morphTargetsRelative?(s0.addVectors(a0.min,o0.min),a0.expandByPoint(s0),s0.addVectors(a0.max,o0.max),a0.expandByPoint(s0)):(a0.expandByPoint(o0.min),a0.expandByPoint(o0.max))}a0.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)s0.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(s0));if(t)for(let i=0,a=t.length;i<a;i++){let a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)s0.fromBufferAttribute(a,t),o&&(i0.fromBufferAttribute(e,t),s0.add(i0)),r=Math.max(r,n.distanceToSquared(s0))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&SQ(`BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.`,this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){SQ(`BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)`);return}let n=t.position,r=t.normal,i=t.uv;this.hasAttribute(`tangent`)===!1&&this.setAttribute(`tangent`,new Z1(new Float32Array(4*n.count),4));let a=this.getAttribute(`tangent`),o=[],s=[];for(let e=0;e<n.count;e++)o[e]=new Q,s[e]=new Q;let c=new Q,l=new Q,u=new Q,d=new $Q,f=new $Q,p=new $Q,m=new Q,h=new Q;function g(e,t,r){c.fromBufferAttribute(n,e),l.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),f.fromBufferAttribute(i,t),p.fromBufferAttribute(i,r),l.sub(c),u.sub(c),f.sub(d),p.sub(d);let a=1/(f.x*p.y-p.x*f.y);isFinite(a)&&(m.copy(l).multiplyScalar(p.y).addScaledVector(u,-f.y).multiplyScalar(a),h.copy(u).multiplyScalar(f.x).addScaledVector(l,-p.x).multiplyScalar(a),o[e].add(m),o[t].add(m),o[r].add(m),s[e].add(h),s[t].add(h),s[r].add(h))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let t=0,n=_.length;t<n;++t){let n=_[t],r=n.start,i=n.count;for(let t=r,n=r+i;t<n;t+=3)g(e.getX(t+0),e.getX(t+1),e.getX(t+2))}let v=new Q,y=new Q,b=new Q,x=new Q;function S(e){b.fromBufferAttribute(r,e),x.copy(b);let t=o[e];v.copy(t),v.sub(b.multiplyScalar(b.dot(t))).normalize(),y.crossVectors(x,t);let n=y.dot(s[e])<0?-1:1;a.setXYZW(e,v.x,v.y,v.z,n)}for(let t=0,n=_.length;t<n;++t){let n=_[t],r=n.start,i=n.count;for(let t=r,n=r+i;t<n;t+=3)S(e.getX(t+0)),S(e.getX(t+1)),S(e.getX(t+2))}}computeVertexNormals(){let e=this.index,t=this.getAttribute(`position`);if(t!==void 0){let n=this.getAttribute(`normal`);if(n===void 0)n=new Z1(new Float32Array(t.count*3),3),this.setAttribute(`normal`,n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);let r=new Q,i=new Q,a=new Q,o=new Q,s=new Q,c=new Q,l=new Q,u=new Q;if(e)for(let d=0,f=e.count;d<f;d+=3){let f=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),l.subVectors(a,i),u.subVectors(r,i),l.cross(u),o.fromBufferAttribute(n,f),s.fromBufferAttribute(n,p),c.fromBufferAttribute(n,m),o.add(l),s.add(l),c.add(l),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(m,c.x,c.y,c.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),l.subVectors(a,i),u.subVectors(r,i),l.cross(u),n.setXYZ(e+0,l.x,l.y,l.z),n.setXYZ(e+1,l.x,l.y,l.z),n.setXYZ(e+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)s0.fromBufferAttribute(e,t),s0.normalize(),e.setXYZ(t,s0.x,s0.y,s0.z)}toNonIndexed(){function t(e,t){let n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0;for(let i=0,c=t.length;i<c;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new Z1(a,r,i)}if(this.index===null)return xQ(`BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.`),this;let n=new e,r=this.index.array,i=this.attributes;for(let e in i){let a=i[e],o=t(a,r);n.setAttribute(e,o)}let a=this.morphAttributes;for(let e in a){let i=[],o=a[e];for(let e=0,n=o.length;e<n;e++){let n=o[e],a=t(n,r);i.push(a)}n.morphAttributes[e]=i}n.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let e=0,t=o.length;e<t;e++){let t=o[e];n.addGroup(t.start,t.count,t.materialIndex)}return n}toJSON(){let e={metadata:{version:4.7,type:`BufferGeometry`,generator:`BufferGeometry.toJSON`}};if(e.uuid=this.uuid,e.type=this.type,this.name!==``&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let t=this.parameters;for(let n in t)t[n]!==void 0&&(e[n]=t[n]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let t in n){let r=n[t];e.data.attributes[t]=r.toJSON(e.data)}let r={},i=!1;for(let t in this.morphAttributes){let n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++){let r=n[t];a.push(r.toJSON(e.data))}a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;n!==null&&this.setIndex(n.clone());let r=e.attributes;for(let e in r){let n=r[e];this.setAttribute(e,n.clone(t))}let i=e.morphAttributes;for(let e in i){let n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let e=0,t=a.length;e<t;e++){let t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}let o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());let s=e.boundingSphere;return s!==null&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:`dispose`})}},l0=new Z$,u0=new X$,d0=new H$,f0=new Q,p0=new Q,m0=new Q,h0=new Q,g0=new Q,_0=new Q,v0=new Q,y0=new Q,$=class extends w1{constructor(e=new c0,t=new q1){super(),this.isMesh=!0,this.type=`Mesh`,this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){let n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(i&&o){_0.set(0,0,0);for(let n=0,r=i.length;n<r;n++){let r=o[n],s=i[n];r!==0&&(g0.fromBufferAttribute(s,e),a?_0.addScaledVector(g0,r):_0.addScaledVector(g0.sub(t),r))}t.add(_0)}return t}raycast(e,t){let n=this.geometry,r=this.material,i=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),d0.copy(n.boundingSphere),d0.applyMatrix4(i),u0.copy(e.ray).recast(e.near),!(d0.containsPoint(u0.origin)===!1&&(u0.intersectSphere(d0,f0)===null||u0.origin.distanceToSquared(f0)>(e.far-e.near)**2))&&(l0.copy(i).invert(),u0.copy(e.ray).applyMatrix4(l0),!(n.boundingBox!==null&&u0.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,u0)))}_computeIntersections(e,t,n){let r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,c=i.attributes.uv,l=i.attributes.uv1,u=i.attributes.normal,d=i.groups,f=i.drawRange;if(o!==null)if(Array.isArray(a))for(let i=0,s=d.length;i<s;i++){let s=d[i],p=a[s.materialIndex],m=Math.max(s.start,f.start),h=Math.min(o.count,Math.min(s.start+s.count,f.start+f.count));for(let i=m,a=h;i<a;i+=3){let a=o.getX(i),d=o.getX(i+1),f=o.getX(i+2);r=x0(this,p,e,n,c,l,u,a,d,f),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=s.materialIndex,t.push(r))}}else{let i=Math.max(0,f.start),s=Math.min(o.count,f.start+f.count);for(let d=i,f=s;d<f;d+=3){let i=o.getX(d),s=o.getX(d+1),f=o.getX(d+2);r=x0(this,a,e,n,c,l,u,i,s,f),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}else if(s!==void 0)if(Array.isArray(a))for(let i=0,o=d.length;i<o;i++){let o=d[i],p=a[o.materialIndex],m=Math.max(o.start,f.start),h=Math.min(s.count,Math.min(o.start+o.count,f.start+f.count));for(let i=m,a=h;i<a;i+=3){let a=i,s=i+1,d=i+2;r=x0(this,p,e,n,c,l,u,a,s,d),r&&(r.faceIndex=Math.floor(i/3),r.face.materialIndex=o.materialIndex,t.push(r))}}else{let i=Math.max(0,f.start),o=Math.min(s.count,f.start+f.count);for(let s=i,d=o;s<d;s+=3){let i=s,o=s+1,d=s+2;r=x0(this,a,e,n,c,l,u,i,o,d),r&&(r.faceIndex=Math.floor(s/3),t.push(r))}}}};function b0(e,t,n,r,i,a,o,s){let c;if(c=t.side===1?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===0,s),c===null)return null;y0.copy(s),y0.applyMatrix4(e.matrixWorld);let l=n.ray.origin.distanceTo(y0);return l<n.near||l>n.far?null:{distance:l,point:y0.clone(),object:e}}function x0(e,t,n,r,i,a,o,s,c,l){e.getVertexPosition(s,p0),e.getVertexPosition(c,m0),e.getVertexPosition(l,h0);let u=b0(e,t,n,r,p0,m0,h0,v0);if(u){let e=new Q;R1.getBarycoord(v0,p0,m0,h0,e),i&&(u.uv=R1.getInterpolatedAttribute(i,s,c,l,e,new $Q)),a&&(u.uv1=R1.getInterpolatedAttribute(a,s,c,l,e,new $Q)),o&&(u.normal=R1.getInterpolatedAttribute(o,s,c,l,e,new Q),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));let t={a:s,b:c,c:l,normal:new Q,materialIndex:0};R1.getNormal(p0,m0,h0,t.normal),u.face=t,u.barycoord=e}return u}var S0=class e extends c0{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type=`BoxGeometry`,this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};let o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);let s=[],c=[],l=[],u=[],d=0,f=0;p(`z`,`y`,`x`,-1,-1,n,t,e,a,i,0),p(`z`,`y`,`x`,1,-1,n,t,-e,a,i,1),p(`x`,`z`,`y`,1,1,e,n,t,r,a,2),p(`x`,`z`,`y`,1,-1,e,n,-t,r,a,3),p(`x`,`y`,`z`,1,-1,e,t,n,r,i,4),p(`x`,`y`,`z`,-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute(`position`,new e0(c,3)),this.setAttribute(`normal`,new e0(l,3)),this.setAttribute(`uv`,new e0(u,2));function p(e,t,n,r,i,a,p,m,h,g,_){let v=a/h,y=p/g,b=a/2,x=p/2,S=m/2,C=h+1,w=g+1,T=0,E=0,D=new Q;for(let a=0;a<w;a++){let o=a*y-x;for(let s=0;s<C;s++)D[e]=(s*v-b)*r,D[t]=o*i,D[n]=S,c.push(D.x,D.y,D.z),D[e]=0,D[t]=0,D[n]=m>0?1:-1,l.push(D.x,D.y,D.z),u.push(s/h),u.push(1-a/g),T+=1}for(let e=0;e<g;e++)for(let t=0;t<h;t++){let n=d+t+C*e,r=d+t+C*(e+1),i=d+(t+1)+C*(e+1),a=d+(t+1)+C*e;s.push(n,r,a),s.push(r,i,a),E+=6}o.addGroup(f,E,_),f+=E,d+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}};function C0(e){let t={};for(let n in e)for(let r in t[n]={},e[n]){let i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(xQ(`UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().`),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function w0(e){let t={};for(let n=0;n<e.length;n++){let r=C0(e[n]);for(let e in r)t[e]=r[e]}return t}function T0(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function E0(e){let t=e.getRenderTarget();return t===null?e.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:c$.workingColorSpace}var D0={clone:C0,merge:w0},O0=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,k0=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,A0=class extends K1{constructor(e){super(),this.isShaderMaterial=!0,this.type=`ShaderMaterial`,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=O0,this.fragmentShader=k0,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=C0(e.uniforms),this.uniformsGroups=T0(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);for(let n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){let r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:`t`,value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:`c`,value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:`v2`,value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:`v3`,value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:`v4`,value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:`m3`,value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:`m4`,value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;let n={};for(let e in this.extensions)this.extensions[e]===!0&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},j0=class extends w1{constructor(){super(),this.isCamera=!0,this.type=`Camera`,this.matrixWorldInverse=new Z$,this.projectionMatrix=new Z$,this.projectionMatrixInverse=new Z$,this.coordinateSystem=mQ,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},M0=new Q,N0=new $Q,P0=new $Q,F0=class extends j0{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type=`PerspectiveCamera`,this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=kQ*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(OQ*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kQ*2*Math.atan(Math.tan(OQ*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){M0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(M0.x,M0.y).multiplyScalar(-e/M0.z),M0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(M0.x,M0.y).multiplyScalar(-e/M0.z)}getViewSize(e,t){return this.getViewBounds(e,N0,P0),t.subVectors(P0,N0)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(OQ*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(this.view!==null&&this.view.enabled){let e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}let o=this.filmOffset;o!==0&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},I0=-90,L0=1,R0=class extends w1{constructor(e,t,n){super(),this.type=`CubeCamera`,this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;let r=new F0(I0,L0,e,t);r.layers=this.layers,this.add(r);let i=new F0(I0,L0,e,t);i.layers=this.layers,this.add(i);let a=new F0(I0,L0,e,t);a.layers=this.layers,this.add(a);let o=new F0(I0,L0,e,t);o.layers=this.layers,this.add(o);let s=new F0(I0,L0,e,t);s.layers=this.layers,this.add(s);let c=new F0(I0,L0,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){let e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(let e of t)this.remove(e);if(e===2e3)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else if(e===2001)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1);else throw Error(`THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: `+e);for(let e of t)this.add(e),e.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();let{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[i,a,o,s,c,l]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;let m=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=m,e.setRenderTarget(n,5,r),e.render(t,l),e.setRenderTarget(u,d,f),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}},z0=class extends v${constructor(e=[],t=301,n,r,i,a,o,s,c,l){super(e,t,n,r,i,a,o,s,c,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},B0=class extends x${constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1};this.texture=new z0([n,n,n,n,n,n]),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new S0(5,5,5),i=new A0({name:`CubemapFromEquirect`,uniforms:C0(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;let a=new $(r,i),o=t.minFilter;return t.minFilter===1008&&(t.minFilter=YX),new R0(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){let i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}},V0=class extends w1{constructor(){super(),this.isGroup=!0,this.type=`Group`}},H0={type:`move`},U0=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new V0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new V0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new V0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:`connected`,data:e}),this}disconnect(e){return this.dispatchEvent({type:`disconnected`,data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null,o=this._targetRay,s=this._grip,c=this._hand;if(e&&t.session.visibilityState!==`visible-blurred`){if(c&&e.hand){a=!0;for(let r of e.hand.values()){let e=t.getJointPose(r,n),i=this._getHandJoint(c,r);e!==null&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=e.radius),i.visible=e!==null}let r=c.joints[`index-finger-tip`],i=c.joints[`thumb-tip`],o=r.position.distanceTo(i.position),s=.02,l=.005;c.inputState.pinching&&o>s+l?(c.inputState.pinching=!1,this.dispatchEvent({type:`pinchend`,handedness:e.handedness,target:this})):!c.inputState.pinching&&o<=s-l&&(c.inputState.pinching=!0,this.dispatchEvent({type:`pinchstart`,handedness:e.handedness,target:this}))}else s!==null&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&i!==null&&(r=i),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(H0)))}return o!==null&&(o.visible=r!==null),s!==null&&(s.visible=i!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let n=new V0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},W0=class e{constructor(e,t=1,n=1e3){this.isFog=!0,this.name=``,this.color=new U1(e),this.near=t,this.far=n}clone(){return new e(this.color,this.near,this.far)}toJSON(){return{type:`Fog`,name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}},G0=class extends w1{constructor(){super(),this.isScene=!0,this.type=`Scene`,this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new s1,this.environmentIntensity=1,this.environmentRotation=new s1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<`u`&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(`observe`,{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}},K0=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e===void 0?0:e.length/t,this.usage=pQ,this.updateRanges=[],this.version=0,this.uuid=AQ()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=AQ()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=AQ()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},q0=new Q,J0=class e{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name=``,this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)q0.fromBufferAttribute(this,t),q0.applyMatrix4(e),this.setXYZ(t,q0.x,q0.y,q0.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)q0.fromBufferAttribute(this,t),q0.applyNormalMatrix(e),this.setXYZ(t,q0.x,q0.y,q0.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)q0.fromBufferAttribute(this,t),q0.transformDirection(e),this.setXYZ(t,q0.x,q0.y,q0.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=XQ(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ZQ(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ZQ(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=XQ(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=XQ(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=XQ(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=XQ(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array),r=ZQ(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ZQ(t,this.array),n=ZQ(n,this.array),r=ZQ(r,this.array),i=ZQ(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(t){if(t===void 0){bQ(`InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.`);let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Z1(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){bQ(`InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.`);let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},Y0=new Q,X0=new y$,Z0=new y$,Q0=new Q,$0=new Z$,e2=new Q,t2=new H$,n2=new Z$,r2=new X$,i2=class extends ${constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type=`SkinnedMesh`,this.bindMode=HX,this.bindMatrix=new Z$,this.bindMatrixInverse=new Z$,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;this.boundingBox===null&&(this.boundingBox=new w$),this.boundingBox.makeEmpty();let t=e.getAttribute(`position`);for(let e=0;e<t.count;e++)this.getVertexPosition(e,e2),this.boundingBox.expandByPoint(e2)}computeBoundingSphere(){let e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new H$),this.boundingSphere.makeEmpty();let t=e.getAttribute(`position`);for(let e=0;e<t.count;e++)this.getVertexPosition(e,e2),this.boundingSphere.expandByPoint(e2)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){let n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),t2.copy(this.boundingSphere),t2.applyMatrix4(r),e.ray.intersectsSphere(t2)!==!1&&(n2.copy(r).invert(),r2.copy(e.ray).applyMatrix4(n2),!(this.boundingBox!==null&&r2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,r2)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new y$,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);let r=1/e.manhattanLength();r===1/0?e.set(1,0,0,0):e.multiplyScalar(r),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===`attached`?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===`detached`?this.bindMatrixInverse.copy(this.bindMatrix).invert():xQ(`SkinnedMesh: Unrecognized bindMode: `+this.bindMode)}applyBoneTransform(e,t){let n=this.skeleton,r=this.geometry;X0.fromBufferAttribute(r.attributes.skinIndex,e),Z0.fromBufferAttribute(r.attributes.skinWeight,e),Y0.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){let r=Z0.getComponent(e);if(r!==0){let i=X0.getComponent(e);$0.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(Q0.copy(Y0).applyMatrix4($0),r)}}return t.applyMatrix4(this.bindMatrixInverse)}},a2=class extends w1{constructor(){super(),this.isBone=!0,this.type=`Bone`}},o2=class extends v${constructor(e=null,t=1,n=1,r,i,a,o,s,c=KX,l=KX,u,d){super(null,a,o,s,c,l,r,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},s2=new Z$,c2=new Z$,l2=class e{constructor(e=[],t=[]){this.uuid=AQ(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){xQ(`Skeleton: Number of inverse bone matrices does not match amount of bones.`),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Z$)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let t=new Z$;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){let i=e[r]?e[r].matrixWorld:c2;s2.multiplyMatrices(i,t[r]),s2.toArray(n,r*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new e(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new o2(t,e,e,pZ,iZ);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=e.bones[n],i=t[r];i===void 0&&(xQ(`Skeleton: No bone found with UUID:`,r),i=new a2),this.bones.push(i),this.boneInverses.push(new Z$().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.7,type:`Skeleton`,generator:`Skeleton.toJSON`},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){let i=t[r];e.bones.push(i.uuid);let a=n[r];e.boneInverses.push(a.toArray())}return e}},u2=class extends Z1{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},d2=new Z$,f2=new Z$,p2=[],m2=new w$,h2=new Z$,g2=new $,_2=new H$,v2=class extends ${constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new u2(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let e=0;e<n;e++)this.setMatrixAt(e,h2)}computeBoundingBox(){let e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new w$),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,d2),m2.copy(e.boundingBox).applyMatrix4(d2),this.boundingBox.union(m2)}computeBoundingSphere(){let e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new H$),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,d2),_2.copy(e.boundingSphere).applyMatrix4(d2),this.boundingSphere.union(_2)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){let n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let e=0;e<n.length;e++)n[e]=r[i+e]}raycast(e,t){let n=this.matrixWorld,r=this.count;if(g2.geometry=this.geometry,g2.material=this.material,g2.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_2.copy(this.boundingSphere),_2.applyMatrix4(n),e.ray.intersectsSphere(_2)!==!1))for(let i=0;i<r;i++){this.getMatrixAt(i,d2),f2.multiplyMatrices(n,d2),g2.matrixWorld=f2,g2.raycast(e,p2);for(let e=0,n=p2.length;e<n;e++){let n=p2[e];n.instanceId=i,n.object=this,t.push(n)}p2.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new u2(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){let n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new o2(new Float32Array(r*this.count),r,this.count,gZ,iZ));let i=this.morphTexture.source.data.data,a=0;for(let e=0;e<n.length;e++)a+=n[e];let o=this.geometry.morphTargetsRelative?1:1-a,s=r*e;i[s]=o,i.set(n,s+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:`dispose`}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}},y2=new Q,b2=new Q,x2=new r$,S2=class{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let r=y2.subVectors(n,t).cross(b2.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){let n=e.delta(y2),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||x2.getNormalMatrix(e),r=this.coplanarPoint(y2).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},C2=new H$,w2=new $Q(.5,.5),T2=new Q,E2=class{constructor(e=new S2,t=new S2,n=new S2,r=new S2,i=new S2,a=new S2){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=mQ,n=!1){let r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],c=i[3],l=i[4],u=i[5],d=i[6],f=i[7],p=i[8],m=i[9],h=i[10],g=i[11],_=i[12],v=i[13],y=i[14],b=i[15];if(r[0].setComponents(c-a,f-l,g-p,b-_).normalize(),r[1].setComponents(c+a,f+l,g+p,b+_).normalize(),r[2].setComponents(c+o,f+u,g+m,b+v).normalize(),r[3].setComponents(c-o,f-u,g-m,b-v).normalize(),n)r[4].setComponents(s,d,h,y).normalize(),r[5].setComponents(c-s,f-d,g-h,b-y).normalize();else if(r[4].setComponents(c-s,f-d,g-h,b-y).normalize(),t===2e3)r[5].setComponents(c+s,f+d,g+h,b+y).normalize();else if(t===2001)r[5].setComponents(s,d,h,y).normalize();else throw Error(`THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: `+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),C2.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),C2.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(C2)}intersectsSprite(e){return C2.center.set(0,0,0),C2.radius=.7071067811865476+w2.distanceTo(e.center),C2.applyMatrix4(e.matrixWorld),this.intersectsSphere(C2)}intersectsSphere(e){let t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let r=t[n];if(T2.x=r.normal.x>0?e.max.x:e.min.x,T2.y=r.normal.y>0?e.max.y:e.min.y,T2.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(T2)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}},D2=class extends K1{constructor(e){super(),this.isLineBasicMaterial=!0,this.type=`LineBasicMaterial`,this.color=new U1(16777215),this.map=null,this.linewidth=1,this.linecap=`round`,this.linejoin=`round`,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},O2=new Q,k2=new Q,A2=new Z$,j2=new X$,M2=new H$,N2=new Q,P2=new Q,F2=class extends w1{constructor(e=new c0,t=new D2){super(),this.isLine=!0,this.type=`Line`,this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)O2.fromBufferAttribute(t,e-1),k2.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=O2.distanceTo(k2);e.setAttribute(`lineDistance`,new e0(n,1))}else xQ(`Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.`);return this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),M2.copy(n.boundingSphere),M2.applyMatrix4(r),M2.radius+=i,e.ray.intersectsSphere(M2)===!1)return;A2.copy(r).invert(),j2.copy(e.ray).applyMatrix4(A2);let o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,c=this.isLineSegments?2:1,l=n.index,u=n.attributes.position;if(l!==null){let n=Math.max(0,a.start),r=Math.min(l.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=c){let n=l.getX(i),r=l.getX(i+1),a=I2(this,e,j2,s,n,r,i);a&&t.push(a)}if(this.isLineLoop){let i=l.getX(r-1),a=l.getX(n),o=I2(this,e,j2,s,i,a,r-1);o&&t.push(o)}}else{let n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=c){let n=I2(this,e,j2,s,i,i+1,i);n&&t.push(n)}if(this.isLineLoop){let i=I2(this,e,j2,s,r-1,n,r-1);i&&t.push(i)}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}};function I2(e,t,n,r,i,a,o){let s=e.geometry.attributes.position;if(O2.fromBufferAttribute(s,i),k2.fromBufferAttribute(s,a),n.distanceSqToSegment(O2,k2,N2,P2)>r)return;N2.applyMatrix4(e.matrixWorld);let c=t.ray.origin.distanceTo(N2);if(!(c<t.near||c>t.far))return{distance:c,point:P2.clone().applyMatrix4(e.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:e}}var L2=new Q,R2=new Q,z2=class extends F2{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type=`LineSegments`}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)L2.fromBufferAttribute(t,e),R2.fromBufferAttribute(t,e+1),n[e]=e===0?0:n[e-1],n[e+1]=n[e]+L2.distanceTo(R2);e.setAttribute(`lineDistance`,new e0(n,1))}else xQ(`LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.`);return this}},B2=class extends F2{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type=`LineLoop`}},V2=class extends K1{constructor(e){super(),this.isPointsMaterial=!0,this.type=`PointsMaterial`,this.color=new U1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},H2=new Z$,U2=new X$,W2=new H$,G2=new Q,K2=class extends w1{constructor(e=new c0,t=new V2){super(),this.isPoints=!0,this.type=`Points`,this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),W2.copy(n.boundingSphere),W2.applyMatrix4(r),W2.radius+=i,e.ray.intersectsSphere(W2)===!1)return;H2.copy(r).invert(),U2.copy(e.ray).applyMatrix4(H2);let o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,c=n.index,l=n.attributes.position;if(c!==null){let n=Math.max(0,a.start),i=Math.min(c.count,a.start+a.count);for(let a=n,o=i;a<o;a++){let n=c.getX(a);G2.fromBufferAttribute(l,n),q2(G2,n,s,r,e,t,this)}}else{let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);for(let a=n,o=i;a<o;a++)G2.fromBufferAttribute(l,a),q2(G2,a,s,r,e,t,this)}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}};function q2(e,t,n,r,i,a,o){let s=U2.distanceSqToPoint(e);if(s<n){let n=new Q;U2.closestPointToPoint(e,n),n.applyMatrix4(r);let c=i.ray.origin.distanceTo(n);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}var J2=class extends v${constructor(e,t,n,r,i,a,o,s,c,l,u,d){super(null,a,o,s,c,l,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}},Y2=class extends v${constructor(e,t,n,r,i,a,o,s,c){super(e,t,n,r,i,a,o,s,c),this.isCanvasTexture=!0,this.needsUpdate=!0}},X2=class extends v${constructor(e,t,n=rZ,r,i,a,o=KX,s=KX,c,l=mZ,u=1){if(l!==1026&&l!==1027)throw Error(`DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat`);super({width:e,height:t,depth:u},r,i,a,o,s,l,n,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new m$(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){let t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}},Z2=class extends v${constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}},Q2=class e extends c0{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type=`CircleGeometry`,this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);let i=[],a=[],o=[],s=[],c=new Q,l=new $Q;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let i=0,u=3;i<=t;i++,u+=3){let d=n+i/t*r;c.x=e*Math.cos(d),c.y=e*Math.sin(d),a.push(c.x,c.y,c.z),o.push(0,0,1),l.x=(a[u]/e+1)/2,l.y=(a[u+1]/e+1)/2,s.push(l.x,l.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute(`position`,new e0(a,3)),this.setAttribute(`normal`,new e0(o,3)),this.setAttribute(`uv`,new e0(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.radius,t.segments,t.thetaStart,t.thetaLength)}},$2=class e extends c0{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(),this.type=`CylinderGeometry`,this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};let c=this;r=Math.floor(r),i=Math.floor(i);let l=[],u=[],d=[],f=[],p=0,m=[],h=n/2,g=0;_(),a===!1&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.setAttribute(`position`,new e0(u,3)),this.setAttribute(`normal`,new e0(d,3)),this.setAttribute(`uv`,new e0(f,2));function _(){let a=new Q,_=new Q,v=0,y=(t-e)/n;for(let c=0;c<=i;c++){let l=[],g=c/i,v=g*(t-e)+e;for(let e=0;e<=r;e++){let t=e/r,i=t*s+o,c=Math.sin(i),m=Math.cos(i);_.x=v*c,_.y=-g*n+h,_.z=v*m,u.push(_.x,_.y,_.z),a.set(c,y,m).normalize(),d.push(a.x,a.y,a.z),f.push(t,1-g),l.push(p++)}m.push(l)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){let a=m[r][n],o=m[r+1][n],s=m[r+1][n+1],c=m[r][n+1];(e>0||r!==0)&&(l.push(a,o,c),v+=3),(t>0||r!==i-1)&&(l.push(o,s,c),v+=3)}c.addGroup(g,v,0),g+=v}function v(n){let i=p,a=new $Q,m=new Q,_=0,v=n===!0?e:t,y=n===!0?1:-1;for(let e=1;e<=r;e++)u.push(0,h*y,0),d.push(0,y,0),f.push(.5,.5),p++;let b=p;for(let e=0;e<=r;e++){let t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);m.x=v*i,m.y=h*y,m.z=v*n,u.push(m.x,m.y,m.z),d.push(0,y,0),a.x=n*.5+.5,a.y=i*.5*y+.5,f.push(a.x,a.y),p++}for(let e=0;e<r;e++){let t=i+e,r=b+e;n===!0?l.push(r,r+1,t):l.push(r+1,r,t),_+=3}c.addGroup(g,_,n===!0?1:2),g+=_}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}},e4=class e extends $2{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=Math.PI*2){super(0,e,t,n,r,i,a,o),this.type=`ConeGeometry`,this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(t){return new e(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}},t4=class e extends c0{constructor(e=[],t=[],n=1,r=0){super(),this.type=`PolyhedronGeometry`,this.parameters={vertices:e,indices:t,radius:n,detail:r};let i=[],a=[];o(r),c(n),l(),this.setAttribute(`position`,new e0(i,3)),this.setAttribute(`normal`,new e0(i.slice(),3)),this.setAttribute(`uv`,new e0(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(e){let n=new Q,r=new Q,i=new Q;for(let a=0;a<t.length;a+=3)f(t[a+0],n),f(t[a+1],r),f(t[a+2],i),s(n,r,i,e)}function s(e,t,n,r){let i=r+1,a=[];for(let r=0;r<=i;r++){a[r]=[];let o=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),c=i-r;for(let e=0;e<=c;e++)e===0&&r===i?a[r][e]=o:a[r][e]=o.clone().lerp(s,e/c)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){let n=Math.floor(t/2);t%2==0?(d(a[e][n+1]),d(a[e+1][n]),d(a[e][n])):(d(a[e][n+1]),d(a[e+1][n+1]),d(a[e+1][n]))}}function c(e){let t=new Q;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}function l(){let e=new Q;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];let n=h(e)/2/Math.PI+.5,r=g(e)/Math.PI+.5;a.push(n,1-r)}p(),u()}function u(){for(let e=0;e<a.length;e+=6){let t=a[e+0],n=a[e+2],r=a[e+4];Math.max(t,n,r)>.9&&Math.min(t,n,r)<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}function d(e){i.push(e.x,e.y,e.z)}function f(t,n){let r=t*3;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function p(){let e=new Q,t=new Q,n=new Q,r=new Q,o=new $Q,s=new $Q,c=new $Q;for(let l=0,u=0;l<i.length;l+=9,u+=6){e.set(i[l+0],i[l+1],i[l+2]),t.set(i[l+3],i[l+4],i[l+5]),n.set(i[l+6],i[l+7],i[l+8]),o.set(a[u+0],a[u+1]),s.set(a[u+2],a[u+3]),c.set(a[u+4],a[u+5]),r.copy(e).add(t).add(n).divideScalar(3);let d=h(r);m(o,u+0,e,d),m(s,u+2,t,d),m(c,u+4,n,d)}}function m(e,t,n,r){r<0&&e.x===1&&(a[t]=e.x-1),n.x===0&&n.z===0&&(a[t]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.vertices,t.indices,t.radius,t.details)}},n4=class{constructor(){this.type=`Curve`,this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){xQ(`Curve: .getPoint() not implemented.`)}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){let n=this.getLengths(),r=0,i=n.length,a;a=t||e*n[i-1];let o=0,s=i-1,c;for(;o<=s;)if(r=Math.floor(o+(s-o)/2),c=n[r]-a,c<0)o=r+1;else if(c>0)s=r-1;else{s=r;break}if(r=s,n[r]===a)return r/(i-1);let l=n[r],u=n[r+1]-l,d=(a-l)/u;return(r+d)/(i-1)}getTangent(e,t){let n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);let a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new $Q:new Q);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){let n=new Q,r=[],i=[],a=[],o=new Q,s=new Z$;for(let t=0;t<=e;t++){let n=t/e;r[t]=this.getTangentAt(n,new Q)}i[0]=new Q,a[0]=new Q;let c=Number.MAX_VALUE,l=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);l<=c&&(c=l,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(r[t-1],r[t]),o.length()>2**-52){o.normalize();let e=Math.acos(jQ(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(r[t],i[t])}if(t===!0){let t=Math.acos(jQ(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.7,type:`Curve`,generator:`Curve.toJSON`}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},r4=class extends n4{constructor(e=0,t=0,n=1,r=1,i=0,a=Math.PI*2,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type=`EllipseCurve`,this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t=new $Q){let n=t,r=Math.PI*2,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<2**-52;for(;i<0;)i+=r;for(;i>r;)i-=r;i<2**-52&&(i=a?0:r),this.aClockwise===!0&&!a&&(i===r?i=-r:i-=r);let o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=c-this.aY;s=n*e-r*t+this.aX,c=n*t+r*e+this.aY}return n.set(s,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},i4=class extends r4{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type=`ArcCurve`}};function a4(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let c=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;c*=o,l*=o,i(t,n,c,l)},calc:function(i){let a=i*i,o=a*i;return e+t*i+n*a+r*o}}}var o4=new Q,s4=new a4,c4=new a4,l4=new a4,u4=class extends n4{constructor(e=[],t=!1,n=`centripetal`,r=.5){super(),this.isCatmullRomCurve3=!0,this.type=`CatmullRomCurve3`,this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Q){let n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e,o=Math.floor(a),s=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/i)+1)*i:s===0&&o===i-1&&(o=i-2,s=1);let c,l;this.closed||o>0?c=r[(o-1)%i]:(o4.subVectors(r[0],r[1]).add(r[0]),c=o4);let u=r[o%i],d=r[(o+1)%i];if(this.closed||o+2<i?l=r[(o+2)%i]:(o4.subVectors(r[i-1],r[i-2]).add(r[i-1]),l=o4),this.curveType===`centripetal`||this.curveType===`chordal`){let e=this.curveType===`chordal`?.5:.25,t=c.distanceToSquared(u)**+e,n=u.distanceToSquared(d)**+e,r=d.distanceToSquared(l)**+e;n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),s4.initNonuniformCatmullRom(c.x,u.x,d.x,l.x,t,n,r),c4.initNonuniformCatmullRom(c.y,u.y,d.y,l.y,t,n,r),l4.initNonuniformCatmullRom(c.z,u.z,d.z,l.z,t,n,r)}else this.curveType===`catmullrom`&&(s4.initCatmullRom(c.x,u.x,d.x,l.x,this.tension),c4.initCatmullRom(c.y,u.y,d.y,l.y,this.tension),l4.initCatmullRom(c.z,u.z,d.z,l.z,this.tension));return n.set(s4.calc(s),c4.calc(s),l4.calc(s)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new Q().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function d4(e,t,n,r,i){let a=(r-t)*.5,o=(i-n)*.5,s=e*e,c=e*s;return(2*n-2*r+a+o)*c+(-3*n+3*r-2*a-o)*s+a*e+n}function f4(e,t){let n=1-e;return n*n*t}function p4(e,t){return 2*(1-e)*e*t}function m4(e,t){return e*e*t}function h4(e,t,n,r){return f4(e,t)+p4(e,n)+m4(e,r)}function g4(e,t){let n=1-e;return n*n*n*t}function _4(e,t){let n=1-e;return 3*n*n*e*t}function v4(e,t){return 3*(1-e)*e*e*t}function y4(e,t){return e*e*e*t}function b4(e,t,n,r,i){return g4(e,t)+_4(e,n)+v4(e,r)+y4(e,i)}var x4=class extends n4{constructor(e=new $Q,t=new $Q,n=new $Q,r=new $Q){super(),this.isCubicBezierCurve=!0,this.type=`CubicBezierCurve`,this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new $Q){let n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(b4(e,r.x,i.x,a.x,o.x),b4(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},S4=class extends n4{constructor(e=new Q,t=new Q,n=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type=`CubicBezierCurve3`,this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Q){let n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(b4(e,r.x,i.x,a.x,o.x),b4(e,r.y,i.y,a.y,o.y),b4(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},C4=class extends n4{constructor(e=new $Q,t=new $Q){super(),this.isLineCurve=!0,this.type=`LineCurve`,this.v1=e,this.v2=t}getPoint(e,t=new $Q){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},w4=class extends n4{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type=`LineCurve3`,this.v1=e,this.v2=t}getPoint(e,t=new Q){let n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},T4=class extends n4{constructor(e=new $Q,t=new $Q,n=new $Q){super(),this.isQuadraticBezierCurve=!0,this.type=`QuadraticBezierCurve`,this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $Q){let n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(h4(e,r.x,i.x,a.x),h4(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},E4=class extends n4{constructor(e=new Q,t=new Q,n=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type=`QuadraticBezierCurve3`,this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Q){let n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(h4(e,r.x,i.x,a.x),h4(e,r.y,i.y,a.y),h4(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},D4=class extends n4{constructor(e=[]){super(),this.isSplineCurve=!0,this.type=`SplineCurve`,this.points=e}getPoint(e,t=new $Q){let n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[a===0?a:a-1],c=r[a],l=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(d4(o,s.x,c.x,l.x,u.x),d4(o,s.y,c.y,l.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(new $Q().fromArray(n))}return this}},O4=Object.freeze({__proto__:null,ArcCurve:i4,CatmullRomCurve3:u4,CubicBezierCurve:x4,CubicBezierCurve3:S4,EllipseCurve:r4,LineCurve:C4,LineCurve3:w4,QuadraticBezierCurve:T4,QuadraticBezierCurve3:E4,SplineCurve:D4}),k4=class extends n4{constructor(){super(),this.type=`CurvePath`,this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){let n=e.isVector2===!0?`LineCurve`:`LineCurve3`;this.curves.push(new O4[n](t,e))}return this}getPoint(e,t){let n=e*this.getLength(),r=this.getCurveLengths(),i=0;for(;i<r.length;){if(r[i]>=n){let e=r[i]-n,a=this.curves[i],o=a.getLength(),s=o===0?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],n;for(let r=0,i=this.curves;r<i.length;r++){let a=i[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){let r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(new O4[n.type]().fromJSON(n))}return this}},A4=class extends k4{constructor(e){super(),this.type=`Path`,this.currentPoint=new $Q,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new C4(this.currentPoint.clone(),new $Q(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){let i=new T4(this.currentPoint.clone(),new $Q(e,t),new $Q(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){let o=new x4(this.currentPoint.clone(),new $Q(e,t),new $Q(n,r),new $Q(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){let t=new D4([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){let o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){let c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){let c=new r4(e,t,n,r,i,a,o,s);if(this.curves.length>0){let e=c.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(c);let l=c.getPoint(1);return this.currentPoint.copy(l),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},j4=class extends A4{constructor(e){super(e),this.uuid=AQ(),this.type=`Shape`,this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(new A4().fromJSON(n))}return this}};function M4(e,t,n=2){let r=t&&t.length,i=r?t[0]*n:e.length,a=N4(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;let s,c,l;if(r&&(a=B4(e,t,a,n)),e.length>80*n){s=e[0],c=e[1];let t=s,r=c;for(let a=n;a<i;a+=n){let n=e[a],i=e[a+1];n<s&&(s=n),i<c&&(c=i),n>t&&(t=n),i>r&&(r=i)}l=Math.max(t-s,r-c),l=l===0?0:32767/l}return F4(a,o,n,s,c,l,0),o}function N4(e,t,n,r,i){let a;if(i===u3(e,t,n,r)>0)for(let i=t;i<n;i+=r)a=s3(i/r|0,e[i],e[i+1],a);else for(let i=n-r;i>=t;i-=r)a=s3(i/r|0,e[i],e[i+1],a);return a&&$4(a,a.next)&&(c3(a),a=a.next),a}function P4(e,t){if(!e)return e;t||=e;let n=e,r;do if(r=!1,!n.steiner&&($4(n,n.next)||Q4(n.prev,n,n.next)===0)){if(c3(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function F4(e,t,n,r,i,a,o){if(!e)return;!o&&a&&G4(e,r,i,a);let s=e;for(;e.prev!==e.next;){let c=e.prev,l=e.next;if(a?L4(e,r,i,a):I4(e)){t.push(c.i,e.i,l.i),c3(e),e=l.next,s=l.next;continue}if(e=l,e===s){o?o===1?(e=R4(P4(e),t),F4(e,t,n,r,i,a,2)):o===2&&z4(e,t,n,r,i,a):F4(P4(e),t,n,r,i,a,1);break}}}function I4(e){let t=e.prev,n=e,r=e.next;if(Q4(t,n,r)>=0)return!1;let i=t.x,a=n.x,o=r.x,s=t.y,c=n.y,l=r.y,u=Math.min(i,a,o),d=Math.min(s,c,l),f=Math.max(i,a,o),p=Math.max(s,c,l),m=r.next;for(;m!==t;){if(m.x>=u&&m.x<=f&&m.y>=d&&m.y<=p&&X4(i,s,a,c,o,l,m.x,m.y)&&Q4(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function L4(e,t,n,r){let i=e.prev,a=e,o=e.next;if(Q4(i,a,o)>=0)return!1;let s=i.x,c=a.x,l=o.x,u=i.y,d=a.y,f=o.y,p=Math.min(s,c,l),m=Math.min(u,d,f),h=Math.max(s,c,l),g=Math.max(u,d,f),_=q4(p,m,t,n,r),v=q4(h,g,t,n,r),y=e.prevZ,b=e.nextZ;for(;y&&y.z>=_&&b&&b.z<=v;){if(y.x>=p&&y.x<=h&&y.y>=m&&y.y<=g&&y!==i&&y!==o&&X4(s,u,c,d,l,f,y.x,y.y)&&Q4(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=p&&b.x<=h&&b.y>=m&&b.y<=g&&b!==i&&b!==o&&X4(s,u,c,d,l,f,b.x,b.y)&&Q4(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=_;){if(y.x>=p&&y.x<=h&&y.y>=m&&y.y<=g&&y!==i&&y!==o&&X4(s,u,c,d,l,f,y.x,y.y)&&Q4(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=h&&b.y>=m&&b.y<=g&&b!==i&&b!==o&&X4(s,u,c,d,l,f,b.x,b.y)&&Q4(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function R4(e,t){let n=e;do{let r=n.prev,i=n.next.next;!$4(r,i)&&e3(r,n,n.next,i)&&i3(r,i)&&i3(i,r)&&(t.push(r.i,n.i,i.i),c3(n),c3(n.next),n=e=i),n=n.next}while(n!==e);return P4(n)}function z4(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&Z4(o,e)){let s=o3(o,e);o=P4(o,o.next),s=P4(s,s.next),F4(o,t,n,r,i,a,0),F4(s,t,n,r,i,a,0);return}e=e.next}o=o.next}while(o!==e)}function B4(e,t,n,r){let i=[];for(let n=0,a=t.length;n<a;n++){let o=N4(e,t[n]*r,n<a-1?t[n+1]*r:e.length,r,!1);o===o.next&&(o.steiner=!0),i.push(J4(o))}i.sort(V4);for(let e=0;e<i.length;e++)n=H4(i[e],n);return n}function V4(e,t){let n=e.x-t.x;return n===0&&(n=e.y-t.y,n===0&&(n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x))),n}function H4(e,t){let n=U4(e,t);if(!n)return t;let r=o3(n,e);return P4(r,r.next),P4(n,n.next)}function U4(e,t){let n=t,r=e.x,i=e.y,a=-1/0,o;if($4(e,n))return n;do{if($4(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){let e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>a&&(a=e,o=n.x<n.next.x?n:n.next,e===r))return o}n=n.next}while(n!==t);if(!o)return null;let s=o,c=o.x,l=o.y,u=1/0;n=o;do{if(r>=n.x&&n.x>=c&&r!==n.x&&Y4(i<l?r:a,i,c,l,i<l?a:r,i,n.x,n.y)){let t=Math.abs(i-n.y)/(r-n.x);i3(n,e)&&(t<u||t===u&&(n.x>o.x||n.x===o.x&&W4(o,n)))&&(o=n,u=t)}n=n.next}while(n!==s);return o}function W4(e,t){return Q4(e.prev,e,t.prev)<0&&Q4(t.next,e,e.next)<0}function G4(e,t,n,r){let i=e;do i.z===0&&(i.z=q4(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,K4(i)}function K4(e){let t,n=1;do{let r=e,i;e=null;let a=null;for(t=0;r;){t++;let o=r,s=0;for(let e=0;e<n&&(s++,o=o.nextZ,o);e++);let c=n;for(;s>0||c>0&&o;)s!==0&&(c===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(t>1);return e}function q4(e,t,n,r,i){return e=(e-n)*i|0,t=(t-r)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function J4(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function Y4(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function X4(e,t,n,r,i,a,o,s){return!(e===o&&t===s)&&Y4(e,t,n,r,i,a,o,s)}function Z4(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!r3(e,t)&&(i3(e,t)&&i3(t,e)&&a3(e,t)&&(Q4(e.prev,e,t.prev)||Q4(e,t.prev,t))||$4(e,t)&&Q4(e.prev,e,e.next)>0&&Q4(t.prev,t,t.next)>0)}function Q4(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function $4(e,t){return e.x===t.x&&e.y===t.y}function e3(e,t,n,r){let i=n3(Q4(e,t,n)),a=n3(Q4(e,t,r)),o=n3(Q4(n,r,e)),s=n3(Q4(n,r,t));return!!(i!==a&&o!==s||i===0&&t3(e,n,t)||a===0&&t3(e,r,t)||o===0&&t3(n,e,r)||s===0&&t3(n,t,r))}function t3(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function n3(e){return e>0?1:e<0?-1:0}function r3(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&e3(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function i3(e,t){return Q4(e.prev,e,e.next)<0?Q4(e,t,e.next)>=0&&Q4(e,e.prev,t)>=0:Q4(e,t,e.prev)<0||Q4(e,e.next,t)<0}function a3(e,t){let n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function o3(e,t){let n=l3(e.i,e.x,e.y),r=l3(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function s3(e,t,n,r){let i=l3(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function c3(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l3(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function u3(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}var d3=class{static triangulate(e,t,n=2){return M4(e,t,n)}},f3=class e{static area(e){let t=e.length,n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return n*.5}static isClockWise(t){return e.area(t)<0}static triangulateShape(e,t){let n=[],r=[],i=[];p3(e),m3(n,e);let a=e.length;t.forEach(p3);for(let e=0;e<t.length;e++)r.push(a),a+=t[e].length,m3(n,t[e]);let o=d3.triangulate(n,r);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}};function p3(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function m3(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var h3=class e extends c0{constructor(e=new j4([new $Q(.5,.5),new $Q(-.5,.5),new $Q(-.5,-.5),new $Q(.5,-.5)]),t={}){super(),this.type=`ExtrudeGeometry`,this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let n=this,r=[],i=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];a(n)}this.setAttribute(`position`,new e0(r,3)),this.setAttribute(`uv`,new e0(i,2)),this.computeVertexNormals();function a(e){let a=[],o=t.curveSegments===void 0?12:t.curveSegments,s=t.steps===void 0?1:t.steps,c=t.depth===void 0?1:t.depth,l=t.bevelEnabled===void 0?!0:t.bevelEnabled,u=t.bevelThickness===void 0?.2:t.bevelThickness,d=t.bevelSize===void 0?u-.1:t.bevelSize,f=t.bevelOffset===void 0?0:t.bevelOffset,p=t.bevelSegments===void 0?3:t.bevelSegments,m=t.extrudePath,h=t.UVGenerator===void 0?g3:t.UVGenerator,g,_=!1,v,y,b,x;m&&(g=m.getSpacedPoints(s),_=!0,l=!1,v=m.computeFrenetFrames(s,!1),y=new Q,b=new Q,x=new Q),l||(p=0,u=0,d=0,f=0);let S=e.extractPoints(o),C=S.shape,w=S.holes;if(!f3.isClockWise(C)){C=C.reverse();for(let e=0,t=w.length;e<t;e++){let t=w[e];f3.isClockWise(t)&&(w[e]=t.reverse())}}function T(e){let t=1e-10;t*t;let n=e[0];for(let t=1;t<=e.length;t++){let r=t%e.length,i=e[r],a=i.x-n.x,o=i.y-n.y,s=a*a+o*o,c=Math.max(Math.abs(i.x),Math.abs(i.y),Math.abs(n.x),Math.abs(n.y));if(s<=10000000000000001e-36*c*c){e.splice(r,1),t--;continue}n=i}}T(C),w.forEach(T);let E=w.length,D=C;for(let e=0;e<E;e++){let t=w[e];C=C.concat(t)}function O(e,t,n){return t||SQ(`ExtrudeGeometry: vec does not exist`),e.clone().addScaledVector(t,n)}let k=C.length;function A(e,t,n){let r,i,a,o=e.x-t.x,s=e.y-t.y,c=n.x-e.x,l=n.y-e.y,u=o*o+s*s,d=o*l-s*c;if(Math.abs(d)>2**-52){let d=Math.sqrt(u),f=Math.sqrt(c*c+l*l),p=t.x-s/d,m=t.y+o/d,h=n.x-l/f,g=n.y+c/f,_=((h-p)*l-(g-m)*c)/(o*l-s*c);r=p+o*_-e.x,i=m+s*_-e.y;let v=r*r+i*i;if(v<=2)return new $Q(r,i);a=Math.sqrt(v/2)}else{let e=!1;o>2**-52?c>2**-52&&(e=!0):o<-(2**-52)?c<-(2**-52)&&(e=!0):Math.sign(s)===Math.sign(l)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new $Q(r/a,i/a)}let ee=[];for(let e=0,t=D.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),ee[e]=A(D[e],D[n],D[r]);let te=[],ne,re=ee.concat();for(let e=0,t=E;e<t;e++){let t=w[e];ne=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),ne[e]=A(t[e],t[r],t[i]);te.push(ne),re=re.concat(ne)}let ie;if(p===0)ie=f3.triangulateShape(D,w);else{let e=[],t=[];for(let n=0;n<p;n++){let r=n/p,i=u*Math.cos(r*Math.PI/2),a=d*Math.sin(r*Math.PI/2)+f;for(let t=0,n=D.length;t<n;t++){let n=O(D[t],ee[t],a);ue(n.x,n.y,-i),r===0&&e.push(n)}for(let e=0,n=E;e<n;e++){let n=w[e];ne=te[e];let o=[];for(let e=0,t=n.length;e<t;e++){let t=O(n[e],ne[e],a);ue(t.x,t.y,-i),r===0&&o.push(t)}r===0&&t.push(o)}}ie=f3.triangulateShape(e,t)}let ae=ie.length,oe=d+f;for(let e=0;e<k;e++){let t=l?O(C[e],re[e],oe):C[e];_?(b.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),x.copy(g[0]).add(b).add(y),ue(x.x,x.y,x.z)):ue(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<k;t++){let n=l?O(C[t],re[t],oe):C[t];_?(b.copy(v.normals[e]).multiplyScalar(n.x),y.copy(v.binormals[e]).multiplyScalar(n.y),x.copy(g[e]).add(b).add(y),ue(x.x,x.y,x.z)):ue(n.x,n.y,c/s*e)}for(let e=p-1;e>=0;e--){let t=e/p,n=u*Math.cos(t*Math.PI/2),r=d*Math.sin(t*Math.PI/2)+f;for(let e=0,t=D.length;e<t;e++){let t=O(D[e],ee[e],r);ue(t.x,t.y,c+n)}for(let e=0,t=w.length;e<t;e++){let t=w[e];ne=te[e];for(let e=0,i=t.length;e<i;e++){let i=O(t[e],ne[e],r);_?ue(i.x,i.y+g[s-1].y,g[s-1].x+n):ue(i.x,i.y,c+n)}}}se(),ce();function se(){let e=r.length/3;if(l){let e=0,t=k*e;for(let e=0;e<ae;e++){let n=ie[e];de(n[2]+t,n[1]+t,n[0]+t)}e=s+p*2,t=k*e;for(let e=0;e<ae;e++){let n=ie[e];de(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<ae;e++){let t=ie[e];de(t[2],t[1],t[0])}for(let e=0;e<ae;e++){let t=ie[e];de(t[0]+k*s,t[1]+k*s,t[2]+k*s)}}n.addGroup(e,r.length/3-e,0)}function ce(){let e=r.length/3,t=0;le(D,t),t+=D.length;for(let e=0,n=w.length;e<n;e++){let n=w[e];le(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}function le(e,t){let n=e.length;for(;--n>=0;){let r=n,i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+p*2;e<n;e++){let n=k*e,a=k*(e+1);fe(t+r+n,t+i+n,t+i+a,t+r+a)}}}function ue(e,t,n){a.push(e),a.push(t),a.push(n)}function de(e,t,i){pe(e),pe(t),pe(i);let a=r.length/3,o=h.generateTopUV(n,r,a-3,a-2,a-1);me(o[0]),me(o[1]),me(o[2])}function fe(e,t,i,a){pe(e),pe(t),pe(a),pe(t),pe(i),pe(a);let o=r.length/3,s=h.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);me(s[0]),me(s[1]),me(s[3]),me(s[1]),me(s[2]),me(s[3])}function pe(e){r.push(a[e*3+0]),r.push(a[e*3+1]),r.push(a[e*3+2])}function me(e){i.push(e.x),i.push(e.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return _3(t,n,e)}static fromJSON(t,n){let r=[];for(let e=0,i=t.shapes.length;e<i;e++){let i=n[t.shapes[e]];r.push(i)}let i=t.options.extrudePath;return i!==void 0&&(t.options.extrudePath=new O4[i.type]().fromJSON(i)),new e(r,t.options)}},g3={generateTopUV:function(e,t,n,r,i){let a=t[n*3],o=t[n*3+1],s=t[r*3],c=t[r*3+1],l=t[i*3],u=t[i*3+1];return[new $Q(a,o),new $Q(s,c),new $Q(l,u)]},generateSideWallUV:function(e,t,n,r,i,a){let o=t[n*3],s=t[n*3+1],c=t[n*3+2],l=t[r*3],u=t[r*3+1],d=t[r*3+2],f=t[i*3],p=t[i*3+1],m=t[i*3+2],h=t[a*3],g=t[a*3+1],_=t[a*3+2];return Math.abs(s-u)<Math.abs(o-l)?[new $Q(o,1-c),new $Q(l,1-d),new $Q(f,1-m),new $Q(h,1-_)]:[new $Q(s,1-c),new $Q(u,1-d),new $Q(p,1-m),new $Q(g,1-_)]}};function _3(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){let r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}var v3=class e extends t4{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type=`OctahedronGeometry`,this.parameters={radius:e,detail:t}}static fromJSON(t){return new e(t.radius,t.detail)}},y3=class e extends c0{constructor(e=1,t=1,n=1,r=1){super(),this.type=`PlaneGeometry`,this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};let i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),c=o+1,l=s+1,u=e/o,d=t/s,f=[],p=[],m=[],h=[];for(let e=0;e<l;e++){let t=e*d-a;for(let n=0;n<c;n++){let r=n*u-i;p.push(r,-t,0),m.push(0,0,1),h.push(n/o),h.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){let n=t+c*e,r=t+c*(e+1),i=t+1+c*(e+1),a=t+1+c*e;f.push(n,r,a),f.push(r,i,a)}this.setIndex(f),this.setAttribute(`position`,new e0(p,3)),this.setAttribute(`normal`,new e0(m,3)),this.setAttribute(`uv`,new e0(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.width,t.height,t.widthSegments,t.heightSegments)}},b3=class e extends c0{constructor(e=.5,t=1,n=32,r=1,i=0,a=Math.PI*2){super(),this.type=`RingGeometry`,this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n),r=Math.max(1,r);let o=[],s=[],c=[],l=[],u=e,d=(t-e)/r,f=new Q,p=new $Q;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){let r=i+e/n*a;f.x=u*Math.cos(r),f.y=u*Math.sin(r),s.push(f.x,f.y,f.z),c.push(0,0,1),p.x=(f.x/t+1)/2,p.y=(f.y/t+1)/2,l.push(p.x,p.y)}u+=d}for(let e=0;e<r;e++){let t=e*(n+1);for(let e=0;e<n;e++){let r=e+t,i=r,a=r+n+1,s=r+n+2,c=r+1;o.push(i,a,c),o.push(a,s,c)}}this.setIndex(o),this.setAttribute(`position`,new e0(s,3)),this.setAttribute(`normal`,new e0(c,3)),this.setAttribute(`uv`,new e0(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}},x3=class e extends c0{constructor(e=1,t=32,n=16,r=0,i=Math.PI*2,a=0,o=Math.PI){super(),this.type=`SphereGeometry`,this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let s=Math.min(a+o,Math.PI),c=0,l=[],u=new Q,d=new Q,f=[],p=[],m=[],h=[];for(let f=0;f<=n;f++){let g=[],_=f/n,v=0;f===0&&a===0?v=.5/t:f===n&&s===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){let s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+_*o),u.y=e*Math.cos(a+_*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+_*o),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),h.push(s+v,1-_),g.push(c++)}l.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){let t=l[e][r+1],i=l[e][r],o=l[e+1][r],c=l[e+1][r+1];(e!==0||a>0)&&f.push(t,i,c),(e!==n-1||s<Math.PI)&&f.push(i,o,c)}this.setIndex(f),this.setAttribute(`position`,new e0(p,3)),this.setAttribute(`normal`,new e0(m,3)),this.setAttribute(`uv`,new e0(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}},S3=class e extends c0{constructor(e=1,t=.4,n=12,r=48,i=Math.PI*2){super(),this.type=`TorusGeometry`,this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);let a=[],o=[],s=[],c=[],l=new Q,u=new Q,d=new Q;for(let a=0;a<=n;a++)for(let f=0;f<=r;f++){let p=f/r*i,m=a/n*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p),u.y=(e+t*Math.cos(m))*Math.sin(p),u.z=t*Math.sin(m),o.push(u.x,u.y,u.z),l.x=e*Math.cos(p),l.y=e*Math.sin(p),d.subVectors(u,l).normalize(),s.push(d.x,d.y,d.z),c.push(f/r),c.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){let n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,o=(r+1)*(e-1)+t,s=(r+1)*e+t;a.push(n,i,s),a.push(i,o,s)}this.setIndex(a),this.setAttribute(`position`,new e0(o,3)),this.setAttribute(`normal`,new e0(s,3)),this.setAttribute(`uv`,new e0(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(t){return new e(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}},C3=class extends K1{constructor(e){super(),this.isShadowMaterial=!0,this.type=`ShadowMaterial`,this.color=new U1(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}},w3=class extends A0{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type=`RawShaderMaterial`}},T3=class extends K1{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type=`MeshStandardMaterial`,this.defines={STANDARD:``},this.color=new U1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new U1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new s1,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=`round`,this.wireframeLinejoin=`round`,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:``},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},E3=class extends T3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:``,PHYSICAL:``},this.type=`MeshPhysicalMaterial`,this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $Q(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,`reflectivity`,{get:function(){return jQ(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new U1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new U1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new U1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:``,PHYSICAL:``},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}},D3=class extends K1{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type=`MeshNormalMaterial`,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}},O3=class extends K1{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type=`MeshLambertMaterial`,this.color=new U1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new U1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $Q(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new s1,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=`round`,this.wireframeLinejoin=`round`,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}},k3=class extends K1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type=`MeshDepthMaterial`,this.depthPacking=oQ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},A3=class extends K1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type=`MeshDistanceMaterial`,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};function j3(e,t){return!e||e.constructor===t?e:typeof t.BYTES_PER_ELEMENT==`number`?new t(e):Array.prototype.slice.call(e)}function M3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function N3(e){function t(t,n){return e[t]-e[n]}let n=e.length,r=Array(n);for(let e=0;e!==n;++e)r[e]=e;return r.sort(t),r}function P3(e,t,n){let r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){let r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function F3(e,t,n,r){let i=1,a=e[0];for(;a!==void 0&&a[r]===void 0;)a=e[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(t.push(a.time),n.push(...o)),a=e[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(t.push(a.time),n.push(o)),a=e[i++];while(a!==void 0)}var I3=class{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r===void 0?new t.constructor(n):r,this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];validate_interval:{seek:{let a;linear_scan:{forward_scan:if(!(e<r)){for(let a=n+2;;){if(r===void 0){if(e<i)break forward_scan;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break seek}a=t.length;break linear_scan}if(!(e>=i)){let o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break seek}a=n,n=0;break linear_scan}break validate_interval}for(;n<a;){let r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw Error(`call to abstract method`)}intervalChanged_(){}},L3=class extends I3{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nQ,endingEnd:nQ}}intervalChanged_(e,t,n){let r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case rQ:i=e,o=2*t-n;break;case iQ:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(s===void 0)switch(this.getSettings_().endingEnd){case rQ:a=e,s=2*n-t;break;case iQ:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}let c=(n-t)*.5,l=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(n-t)/(r-t),m=p*p,h=m*p,g=-d*h+2*d*m-d*p,_=(1+d)*h+(-1.5-2*d)*m+(-.5+d)*p+1,v=(-1-f)*h+(1.5+f)*m+.5*p,y=f*h-f*m;for(let e=0;e!==o;++e)i[e]=g*a[l+e]+_*a[c+e]+v*a[s+e]+y*a[u+e];return i}},R3=class extends I3{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=(n-t)/(r-t),u=1-l;for(let e=0;e!==o;++e)i[e]=a[c+e]*u+a[s+e]*l;return i}},z3=class extends I3{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}},B3=class{constructor(e,t,n,r){if(e===void 0)throw Error(`THREE.KeyframeTrack: track name is undefined`);if(t===void 0||t.length===0)throw Error(`THREE.KeyframeTrack: no keyframes in track named `+e);this.name=e,this.times=j3(t,this.TimeBufferType),this.values=j3(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:j3(e.times,Array),values:j3(e.values,Array)};let t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new z3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new R3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new L3(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $Z:t=this.InterpolantFactoryMethodDiscrete;break;case eQ:t=this.InterpolantFactoryMethodLinear;break;case tQ:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let t=`unsupported interpolation for `+this.ValueTypeName+` keyframe track named `+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(t);return xQ(`KeyframeTrack:`,t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $Z;case this.InterpolantFactoryMethodLinear:return eQ;case this.InterpolantFactoryMethodSmooth:return tQ}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){let n=this.times,r=n.length,i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;a!==-1&&n[a]>t;)--a;if(++a,i!==0||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);let e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(SQ(`KeyframeTrack: Invalid value size in track.`,this),e=!1);let n=this.times,r=this.values,i=n.length;i===0&&(SQ(`KeyframeTrack: Track is empty.`,this),e=!1);let a=null;for(let t=0;t!==i;t++){let r=n[t];if(typeof r==`number`&&isNaN(r)){SQ(`KeyframeTrack: Time is not a valid number.`,this,t,r),e=!1;break}if(a!==null&&a>r){SQ(`KeyframeTrack: Out of order keys.`,this,t,r,a),e=!1;break}a=r}if(r!==void 0&&M3(r))for(let t=0,n=r.length;t!==n;++t){let n=r[t];if(isNaN(n)){SQ(`KeyframeTrack: Value is not a valid number.`,this,t,n),e=!1;break}}return e}optimize(){let e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===tQ,i=e.length-1,a=1;for(let o=1;o<i;++o){let i=!1,s=e[o];if(s!==e[o+1]&&(o!==1||s!==e[0]))if(r)i=!0;else{let e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){let n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];let r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a===e.length?(this.times=e,this.values=t):(this.times=e.slice(0,a),this.values=t.slice(0,a*n)),this}clone(){let e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}};B3.prototype.ValueTypeName=``,B3.prototype.TimeBufferType=Float32Array,B3.prototype.ValueBufferType=Float32Array,B3.prototype.DefaultInterpolation=eQ;var V3=class extends B3{constructor(e,t,n){super(e,t,n)}};V3.prototype.ValueTypeName=`bool`,V3.prototype.ValueBufferType=Array,V3.prototype.DefaultInterpolation=$Z,V3.prototype.InterpolantFactoryMethodLinear=void 0,V3.prototype.InterpolantFactoryMethodSmooth=void 0;var H3=class extends B3{constructor(e,t,n,r){super(e,t,n,r)}};H3.prototype.ValueTypeName=`color`;var U3=class extends B3{constructor(e,t,n,r){super(e,t,n,r)}};U3.prototype.ValueTypeName=`number`;var W3=class extends I3{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),c=e*o;for(let e=c+o;c!==e;c+=4)e$.slerpFlat(i,0,a,c-o,a,c,s);return i}},G3=class extends B3{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new W3(this.times,this.values,this.getValueSize(),e)}};G3.prototype.ValueTypeName=`quaternion`,G3.prototype.InterpolantFactoryMethodSmooth=void 0;var K3=class extends B3{constructor(e,t,n){super(e,t,n)}};K3.prototype.ValueTypeName=`string`,K3.prototype.ValueBufferType=Array,K3.prototype.DefaultInterpolation=$Z,K3.prototype.InterpolantFactoryMethodLinear=void 0,K3.prototype.InterpolantFactoryMethodSmooth=void 0;var q3=class extends B3{constructor(e,t,n,r){super(e,t,n,r)}};q3.prototype.ValueTypeName=`vector`;var J3=class{constructor(e=``,t=-1,n=[],r=aQ){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=AQ(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(X3(n[e]).scale(r));let i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i.userData=JSON.parse(e.userData||`{}`),i}static toJSON(e){let t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let e=0,r=n.length;e!==r;++e)t.push(B3.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){let i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);let c=N3(o);o=P3(o,1,c),s=P3(s,1,c),!r&&o[0]===0&&(o.push(i),s.push(s[0])),a.push(new U3(`.morphTargetInfluences[`+t[e].name+`]`,o,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.name.match(i);if(a&&a.length>1){let e=a[1],t=r[e];t||(r[e]=t=[]),t.push(n)}}let a=[];for(let e in r)a.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return a}static parseAnimation(e,t){if(xQ(`AnimationClip: parseAnimation() is deprecated and will be removed with r185`),!e)return SQ(`AnimationClip: No animation in JSONLoader data.`),null;let n=function(e,t,n,r,i){if(n.length!==0){let a=[],o=[];F3(n,a,o,r),a.length!==0&&i.push(new e(t,a,o))}},r=[],i=e.name||`default`,a=e.fps||30,o=e.blendMode,s=e.length||-1,c=e.hierarchy||[];for(let e=0;e<c.length;e++){let i=c[e].keys;if(!(!i||i.length===0))if(i[0].morphTargets){let e={},t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(let n in e){let e=[],a=[];for(let r=0;r!==i[t].morphTargets.length;++r){let r=i[t];e.push(r.time),a.push(r.morphTarget===n?1:0)}r.push(new U3(`.morphTargetInfluence[`+n+`]`,e,a))}s=e.length*a}else{let a=`.bones[`+t[e].name+`]`;n(q3,a+`.position`,i,`pos`,r),n(G3,a+`.quaternion`,i,`rot`,r),n(q3,a+`.scale`,i,`scl`,r)}}return r.length===0?null:new this(i,s,r,o)}resetDuration(){let e=this.tracks,t=0;for(let n=0,r=e.length;n!==r;++n){let e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e&&=this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());let t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}};function Y3(e){switch(e.toLowerCase()){case`scalar`:case`double`:case`float`:case`number`:case`integer`:return U3;case`vector`:case`vector2`:case`vector3`:case`vector4`:return q3;case`color`:return H3;case`quaternion`:return G3;case`bool`:case`boolean`:return V3;case`string`:return K3}throw Error(`THREE.KeyframeTrack: Unsupported typeName: `+e)}function X3(e){if(e.type===void 0)throw Error(`THREE.KeyframeTrack: track type undefined, can not parse`);let t=Y3(e.type);if(e.times===void 0){let t=[],n=[];F3(e.keys,t,n,`value`),e.times=t,e.values=n}return t.parse===void 0?new t(e.name,e.times,e.values,e.interpolation):t.parse(e)}var Z3={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Q3=new class{constructor(e,t,n){let r=this,i=!1,a=0,o=0,s,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(e){o++,i===!1&&r.onStart!==void 0&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,r.onProgress!==void 0&&r.onProgress(e,a,o),a===o&&(i=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(e){r.onError!==void 0&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){let t=c.indexOf(e);return t!==-1&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=c.length;t<n;t+=2){let n=c[t],r=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||=new AbortController,this._abortController}},$3=class{constructor(e){this.manager=e===void 0?Q3:e,this.crossOrigin=`anonymous`,this.withCredentials=!1,this.path=``,this.resourcePath=``,this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};$3.DEFAULT_MATERIAL_NAME=`__DEFAULT`;var e6={},t6=class extends Error{constructor(e,t){super(e),this.response=t}},n6=class extends $3{constructor(e){super(e),this.mimeType=``,this.responseType=``,this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=``),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let i=Z3.get(`file:${e}`);if(i!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(e6[e]!==void 0){e6[e].push({onLoad:t,onProgress:n,onError:r});return}e6[e]=[],e6[e].push({onLoad:t,onProgress:n,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?`include`:`same-origin`,signal:typeof AbortSignal.any==`function`?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(t.status===200||t.status===0){if(t.status===0&&xQ(`FileLoader: HTTP Status 0 received.`),typeof ReadableStream>`u`||t.body===void 0||t.body.getReader===void 0)return t;let n=e6[e],r=t.body.getReader(),i=t.headers.get(`X-File-Size`)||t.headers.get(`Content-Length`),a=i?parseInt(i):0,o=a!==0,s=0,c=new ReadableStream({start(e){t();function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;let r=new ProgressEvent(`progress`,{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){let t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}},t=>{e.error(t)})}}});return new Response(c)}else throw new t6(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case`arraybuffer`:return e.arrayBuffer();case`blob`:return e.blob();case`document`:return e.text().then(e=>new DOMParser().parseFromString(e,o));case`json`:return e.json();default:if(o===``)return e.text();{let t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{Z3.add(`file:${e}`,t);let n=e6[e];delete e6[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{let n=e6[e];if(n===void 0)throw this.manager.itemError(e),t;delete e6[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}},r6=new WeakMap,i6=class extends $3{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let i=this,a=Z3.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0);else{let e=r6.get(a);e===void 0&&(e=[],r6.set(a,e)),e.push({onLoad:t,onError:r})}return a}let o=gQ(`img`);function s(){l(),t&&t(this);let n=r6.get(this)||[];for(let e=0;e<n.length;e++){let t=n[e];t.onLoad&&t.onLoad(this)}r6.delete(this),i.manager.itemEnd(e)}function c(t){l(),r&&r(t),Z3.remove(`image:${e}`);let n=r6.get(this)||[];for(let e=0;e<n.length;e++){let r=n[e];r.onError&&r.onError(t)}r6.delete(this),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener(`load`,s,!1),o.removeEventListener(`error`,c,!1)}return o.addEventListener(`load`,s,!1),o.addEventListener(`error`,c,!1),e.slice(0,5)!==`data:`&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Z3.add(`image:${e}`,o),i.manager.itemStart(e),o.src=e,o}},a6=class extends $3{constructor(e){super(e)}load(e,t,n,r){let i=new v$,a=new i6(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){i.image=e,i.needsUpdate=!0,t!==void 0&&t(i)},n,r),i}},o6=class extends w1{constructor(e,t=1){super(),this.isLight=!0,this.type=`Light`,this.color=new U1(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}},s6=class extends o6{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type=`HemisphereLight`,this.position.copy(w1.DEFAULT_UP),this.updateMatrix(),this.groundColor=new U1(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},c6=new Z$,l6=new Q,u6=new Q,d6=class{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $Q(512,512),this.mapType=QX,this.map=null,this.mapPass=null,this.matrix=new Z$,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new E2,this._frameExtents=new $Q(1,1),this._viewportCount=1,this._viewports=[new y$(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;l6.setFromMatrixPosition(e.matrixWorld),t.position.copy(l6),u6.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(u6),t.updateMatrixWorld(),c6.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(c6,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(c6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},f6=class extends d6{constructor(){super(new F0(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){let t=this.camera,n=kQ*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},p6=class extends o6{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type=`SpotLight`,this.position.copy(w1.DEFAULT_UP),this.updateMatrix(),this.target=new w1,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new f6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},m6=new Z$,h6=new Q,g6=new Q,_6=class extends d6{constructor(){super(new F0(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $Q(4,2),this._viewportCount=6,this._viewports=[new y$(2,1,1,1),new y$(0,1,1,1),new y$(3,1,1,1),new y$(1,1,1,1),new y$(3,0,1,1),new y$(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),h6.setFromMatrixPosition(e.matrixWorld),n.position.copy(h6),g6.copy(n.position),g6.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(g6),n.updateMatrixWorld(),r.makeTranslation(-h6.x,-h6.y,-h6.z),m6.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(m6,n.coordinateSystem,n.reversedDepth)}},v6=class extends o6{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type=`PointLight`,this.distance=n,this.decay=r,this.shadow=new _6}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},y6=class extends j0{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type=`OrthographicCamera`,this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(this.view!==null&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},b6=class extends d6{constructor(){super(new y6(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},x6=class extends o6{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type=`DirectionalLight`,this.position.copy(w1.DEFAULT_UP),this.updateMatrix(),this.target=new w1,this.shadow=new b6}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},S6=class extends o6{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type=`AmbientLight`}},C6=class{static extractUrlBase(e){let t=e.lastIndexOf(`/`);return t===-1?`./`:e.slice(0,t+1)}static resolveURL(e,t){return typeof e!=`string`||e===``?``:(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,`$1`)),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},w6=new WeakMap,T6=class extends $3{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>`u`&&xQ(`ImageBitmapLoader: createImageBitmap() not supported.`),typeof fetch>`u`&&xQ(`ImageBitmapLoader: fetch() not supported.`),this.options={premultiplyAlpha:`none`},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=``),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let i=this,a=Z3.get(`image-bitmap:${e}`);if(a!==void 0){if(i.manager.itemStart(e),a.then){a.then(n=>{if(w6.has(a)===!0)r&&r(w6.get(a)),i.manager.itemError(e),i.manager.itemEnd(e);else return t&&t(n),i.manager.itemEnd(e),n});return}return setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a}let o={};o.credentials=this.crossOrigin===`anonymous`?`same-origin`:`include`,o.headers=this.requestHeader,o.signal=typeof AbortSignal.any==`function`?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;let s=fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:`none`}))}).then(function(n){return Z3.add(`image-bitmap:${e}`,n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),w6.set(s,t),Z3.remove(`image-bitmap:${e}`),i.manager.itemError(e),i.manager.itemEnd(e)});Z3.add(`image-bitmap:${e}`,s),i.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}},E6=class extends F0{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}},D6=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},O6=`\\[\\]\\.:\\/`,k6=RegExp(`[`+O6+`]`,`g`),A6=`[^`+O6+`]`,j6=`[^`+O6.replace(`\\.`,``)+`]`,M6=`((?:WC+[\\/:])*)`.replace(`WC`,A6),N6=`(WCOD+)?`.replace(`WCOD`,j6),P6=`(?:\\.(WC+)(?:\\[(.+)\\])?)?`.replace(`WC`,A6),F6=`\\.(WC+)(?:\\[(.+)\\])?`.replace(`WC`,A6),I6=RegExp(`^`+M6+N6+P6+F6+`$`),L6=[`material`,`materials`,`bones`,`map`],R6=class{constructor(e,t,n){let r=n||z6.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},z6=class e{constructor(t,n,r){this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,`_`).replace(k6,``)}static parseTrackName(e){let t=I6.exec(e);if(t===null)throw Error(`PropertyBinding: Cannot parse trackName: `+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(`.`);if(r!==void 0&&r!==-1){let e=n.nodeName.substring(r+1);L6.indexOf(e)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(n.propertyName===null||n.propertyName.length===0)throw Error(`PropertyBinding: can not parse propertyName from trackName: `+e);return n}static findNode(e,t){if(t===void 0||t===``||t===`.`||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){let n=function(e){for(let r=0;r<e.length;r++){let i=e[r];if(i.name===t||i.uuid===t)return i;let a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){xQ(`PropertyBinding: No target node found for track: `+this.path+`.`);return}if(r){let e=n.objectIndex;switch(r){case`materials`:if(!t.material){SQ(`PropertyBinding: Can not bind to material as node does not have a material.`,this);return}if(!t.material.materials){SQ(`PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.`,this);return}t=t.material.materials;break;case`bones`:if(!t.skeleton){SQ(`PropertyBinding: Can not bind to bones as node does not have a skeleton.`,this);return}t=t.skeleton.bones;for(let n=0;n<t.length;n++)if(t[n].name===e){e=n;break}break;case`map`:if(`map`in t){t=t.map;break}if(!t.material){SQ(`PropertyBinding: Can not bind to material as node does not have a material.`,this);return}if(!t.material.map){SQ(`PropertyBinding: Can not bind to material.map as node.material does not have a map.`,this);return}t=t.material.map;break;default:if(t[r]===void 0){SQ(`PropertyBinding: Can not bind to objectName of node undefined.`,this);return}t=t[r]}if(e!==void 0){if(t[e]===void 0){SQ(`PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.`,this,t);return}t=t[e]}}let o=t[i];if(o===void 0){let e=n.nodeName;SQ(`PropertyBinding: Trying to update property for track: `+e+`.`+i+` but it wasn't found.`,t);return}let s=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?s=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(i===`morphTargetInfluences`){if(!t.geometry){SQ(`PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.`,this);return}if(!t.geometry.morphAttributes){SQ(`PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.`,this);return}t.morphTargetDictionary[a]!==void 0&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};z6.Composite=R6,z6.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},z6.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},z6.prototype.GetterByBindingType=[z6.prototype._getValue_direct,z6.prototype._getValue_array,z6.prototype._getValue_arrayElement,z6.prototype._getValue_toArray],z6.prototype.SetterByBindingTypeAndVersioning=[[z6.prototype._setValue_direct,z6.prototype._setValue_direct_setNeedsUpdate,z6.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[z6.prototype._setValue_array,z6.prototype._setValue_array_setNeedsUpdate,z6.prototype._setValue_array_setMatrixWorldNeedsUpdate],[z6.prototype._setValue_arrayElement,z6.prototype._setValue_arrayElement_setNeedsUpdate,z6.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[z6.prototype._setValue_fromArray,z6.prototype._setValue_fromArray_setNeedsUpdate,z6.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);var B6=new Z$,V6=class{constructor(e,t,n=0,r=1/0){this.ray=new X$(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new c1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):SQ(`Raycaster: Unsupported camera type: `+t.type)}setFromXRController(e){return B6.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(B6),this}intersectObject(e,t=!0,n=[]){return U6(e,this,n,t),n.sort(H6),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)U6(e[r],this,n,t);return n.sort(H6),n}};function H6(e,t){return e.distance-t.distance}function U6(e,t,n,r){let i=!0;if(e.layers.test(t.layers)&&e.raycast(t,n)===!1&&(i=!1),i===!0&&r===!0){let r=e.children;for(let e=0,i=r.length;e<i;e++)U6(r[e],t,n,!0)}}var W6=class{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){let e=1e-6;return this.phi=jQ(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(jQ(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},G6=class extends z2{constructor(e=10,t=10,n=4473924,r=8947848){n=new U1(n),r=new U1(r);let i=t/2,a=e/t,o=e/2,s=[],c=[];for(let e=0,l=0,u=-o;e<=t;e++,u+=a){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);let t=e===i?n:r;t.toArray(c,l),l+=3,t.toArray(c,l),l+=3,t.toArray(c,l),l+=3,t.toArray(c,l),l+=3}let l=new c0;l.setAttribute(`position`,new e0(s,3)),l.setAttribute(`color`,new e0(c,3));let u=new D2({vertexColors:!0,toneMapped:!1});super(l,u),this.type=`GridHelper`}dispose(){this.geometry.dispose(),this.material.dispose()}},K6=class extends z2{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new c0;r.setAttribute(`position`,new e0(t,3)),r.setAttribute(`color`,new e0(n,3));let i=new D2({vertexColors:!0,toneMapped:!1});super(r,i),this.type=`AxesHelper`}setColors(e,t,n){let r=new U1,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},q6=class extends TQ{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){xQ(`Controls: connect() now requires an element.`);return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}};function J6(e,t,n,r){let i=Y6(r);switch(n){case dZ:return e*t;case gZ:return e*t/i.components*i.byteLength;case _Z:return e*t/i.components*i.byteLength;case vZ:return e*t*2/i.components*i.byteLength;case yZ:return e*t*2/i.components*i.byteLength;case fZ:return e*t*3/i.components*i.byteLength;case pZ:return e*t*4/i.components*i.byteLength;case bZ:return e*t*4/i.components*i.byteLength;case xZ:case SZ:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case CZ:case wZ:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case EZ:case OZ:return Math.max(e,16)*Math.max(t,8)/4;case TZ:case DZ:return Math.max(e,8)*Math.max(t,8)/2;case kZ:case AZ:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case jZ:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case MZ:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case NZ:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case PZ:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case FZ:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case IZ:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case LZ:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case RZ:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case zZ:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case BZ:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case VZ:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case HZ:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case UZ:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case WZ:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case GZ:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case KZ:case qZ:case JZ:return Math.ceil(e/4)*Math.ceil(t/4)*16;case YZ:case XZ:return Math.ceil(e/4)*Math.ceil(t/4)*8;case ZZ:case QZ:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw Error(`Unable to determine texture byte length for ${n} format.`)}function Y6(e){switch(e){case QX:case $X:return{byteLength:1,components:1};case tZ:case eZ:case aZ:return{byteLength:2,components:1};case oZ:case sZ:return{byteLength:2,components:4};case rZ:case nZ:case iZ:return{byteLength:4,components:1};case lZ:case uZ:return{byteLength:4,components:3}}throw Error(`Unknown texture type ${e}.`)}typeof __THREE_DEVTOOLS__<`u`&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(`register`,{detail:{revision:`181`}})),typeof window<`u`&&(window.__THREE__?xQ(`WARNING: Multiple instances of Three.js being imported.`):window.__THREE__=`181`);function X6(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Z6(e){let t=new WeakMap;function n(t,n){let r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();let s;if(r instanceof Float32Array)s=e.FLOAT;else if(typeof Float16Array<`u`&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else if(r instanceof Uint8ClampedArray)s=e.UNSIGNED_BYTE;else throw Error(`THREE.WebGLAttributes: Unsupported buffer data format: `+r);return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}function r(t,n,r){let i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),a.length===0)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){let n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let t=0,n=a.length;t<n;t++){let n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}function i(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)}function a(n){n.isInterleavedBufferAttribute&&(n=n.data);let r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))}function o(e,i){if(e.isInterleavedBufferAttribute&&(e=e.data),e.isGLBufferAttribute){let n=t.get(e);(!n||n.version<e.version)&&t.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version});return}let a=t.get(e);if(a===void 0)t.set(e,n(e,i));else if(a.version<e.version){if(a.size!==e.array.byteLength)throw Error(`THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.`);r(a.buffer,e,i),a.version=e.version}}return{get:i,remove:a,update:o}}var Q6={alphahash_fragment:`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment:`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment:`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex:`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex:`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex:`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment:`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex:`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex:`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common:`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment:`gl_FragColor = linearToOutputTexel( gl_FragColor );`,colorspace_pars_fragment:`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment:`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment:`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment:`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex:`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex:`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin:`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps:`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment:`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex:`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex:`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment:`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment:`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex:`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment:`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment:`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment:`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex:`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex:`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},$6={common:{diffuse:{value:new U1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new r$},alphaMap:{value:null},alphaMapTransform:{value:new r$},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new r$}},envmap:{envMap:{value:null},envMapRotation:{value:new r$},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new r$}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new r$}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new r$},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new r$},normalScale:{value:new $Q(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new r$},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new r$}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new r$}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new r$}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new U1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new U1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new r$},alphaTest:{value:0},uvTransform:{value:new r$}},sprite:{diffuse:{value:new U1(16777215)},opacity:{value:1},center:{value:new $Q(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new r$},alphaMap:{value:null},alphaMapTransform:{value:new r$},alphaTest:{value:0}}},e8={basic:{uniforms:w0([$6.common,$6.specularmap,$6.envmap,$6.aomap,$6.lightmap,$6.fog]),vertexShader:Q6.meshbasic_vert,fragmentShader:Q6.meshbasic_frag},lambert:{uniforms:w0([$6.common,$6.specularmap,$6.envmap,$6.aomap,$6.lightmap,$6.emissivemap,$6.bumpmap,$6.normalmap,$6.displacementmap,$6.fog,$6.lights,{emissive:{value:new U1(0)}}]),vertexShader:Q6.meshlambert_vert,fragmentShader:Q6.meshlambert_frag},phong:{uniforms:w0([$6.common,$6.specularmap,$6.envmap,$6.aomap,$6.lightmap,$6.emissivemap,$6.bumpmap,$6.normalmap,$6.displacementmap,$6.fog,$6.lights,{emissive:{value:new U1(0)},specular:{value:new U1(1118481)},shininess:{value:30}}]),vertexShader:Q6.meshphong_vert,fragmentShader:Q6.meshphong_frag},standard:{uniforms:w0([$6.common,$6.envmap,$6.aomap,$6.lightmap,$6.emissivemap,$6.bumpmap,$6.normalmap,$6.displacementmap,$6.roughnessmap,$6.metalnessmap,$6.fog,$6.lights,{emissive:{value:new U1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Q6.meshphysical_vert,fragmentShader:Q6.meshphysical_frag},toon:{uniforms:w0([$6.common,$6.aomap,$6.lightmap,$6.emissivemap,$6.bumpmap,$6.normalmap,$6.displacementmap,$6.gradientmap,$6.fog,$6.lights,{emissive:{value:new U1(0)}}]),vertexShader:Q6.meshtoon_vert,fragmentShader:Q6.meshtoon_frag},matcap:{uniforms:w0([$6.common,$6.bumpmap,$6.normalmap,$6.displacementmap,$6.fog,{matcap:{value:null}}]),vertexShader:Q6.meshmatcap_vert,fragmentShader:Q6.meshmatcap_frag},points:{uniforms:w0([$6.points,$6.fog]),vertexShader:Q6.points_vert,fragmentShader:Q6.points_frag},dashed:{uniforms:w0([$6.common,$6.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Q6.linedashed_vert,fragmentShader:Q6.linedashed_frag},depth:{uniforms:w0([$6.common,$6.displacementmap]),vertexShader:Q6.depth_vert,fragmentShader:Q6.depth_frag},normal:{uniforms:w0([$6.common,$6.bumpmap,$6.normalmap,$6.displacementmap,{opacity:{value:1}}]),vertexShader:Q6.meshnormal_vert,fragmentShader:Q6.meshnormal_frag},sprite:{uniforms:w0([$6.sprite,$6.fog]),vertexShader:Q6.sprite_vert,fragmentShader:Q6.sprite_frag},background:{uniforms:{uvTransform:{value:new r$},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Q6.background_vert,fragmentShader:Q6.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new r$}},vertexShader:Q6.backgroundCube_vert,fragmentShader:Q6.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Q6.cube_vert,fragmentShader:Q6.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Q6.equirect_vert,fragmentShader:Q6.equirect_frag},distanceRGBA:{uniforms:w0([$6.common,$6.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Q6.distanceRGBA_vert,fragmentShader:Q6.distanceRGBA_frag},shadow:{uniforms:w0([$6.lights,$6.fog,{color:{value:new U1(0)},opacity:{value:1}}]),vertexShader:Q6.shadow_vert,fragmentShader:Q6.shadow_frag}};e8.physical={uniforms:w0([e8.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new r$},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new r$},clearcoatNormalScale:{value:new $Q(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new r$},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new r$},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new r$},sheen:{value:0},sheenColor:{value:new U1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new r$},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new r$},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new r$},transmissionSamplerSize:{value:new $Q},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new r$},attenuationDistance:{value:0},attenuationColor:{value:new U1(0)},specularColor:{value:new U1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new r$},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new r$},anisotropyVector:{value:new $Q},anisotropyMap:{value:null},anisotropyMapTransform:{value:new r$}}]),vertexShader:Q6.meshphysical_vert,fragmentShader:Q6.meshphysical_frag};var t8={r:0,b:0,g:0},n8=new s1,r8=new Z$;function i8(e,t,n,r,i,a,o){let s=new U1(0),c=a===!0?0:1,l,u,d=null,f=0,p=null;function m(e){let r=e.isScene===!0?e.background:null;return r&&r.isTexture&&(r=(e.backgroundBlurriness>0?n:t).get(r)),r}function h(t){let n=!1,i=m(t);i===null?_(s,c):i&&i.isColor&&(_(i,1),n=!0);let a=e.xr.getEnvironmentBlendMode();a===`additive`?r.buffers.color.setClear(0,0,0,1,o):a===`alpha-blend`&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))}function g(t,n){let r=m(n);r&&(r.isCubeTexture||r.mapping===306)?(u===void 0&&(u=new $(new S0(1,1,1),new A0({name:`BackgroundCubeMaterial`,uniforms:C0(e8.backgroundCube.uniforms),vertexShader:e8.backgroundCube.vertexShader,fragmentShader:e8.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute(`normal`),u.geometry.deleteAttribute(`uv`),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,`envMap`,{get:function(){return this.uniforms.envMap.value}}),i.update(u)),n8.copy(n.backgroundRotation),n8.x*=-1,n8.y*=-1,n8.z*=-1,r.isCubeTexture&&r.isRenderTargetTexture===!1&&(n8.y*=-1,n8.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&r.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(r8.makeRotationFromEuler(n8)),u.material.toneMapped=c$.getTransfer(r.colorSpace)!==dQ,(d!==r||f!==r.version||p!==e.toneMapping)&&(u.material.needsUpdate=!0,d=r,f=r.version,p=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(l===void 0&&(l=new $(new y3(2,2),new A0({name:`BackgroundMaterial`,uniforms:C0(e8.background.uniforms),vertexShader:e8.background.vertexShader,fragmentShader:e8.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute(`normal`),Object.defineProperty(l.material,`map`,{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=c$.getTransfer(r.colorSpace)!==dQ,r.matrixAutoUpdate===!0&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),(d!==r||f!==r.version||p!==e.toneMapping)&&(l.material.needsUpdate=!0,d=r,f=r.version,p=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}function _(t,n){t.getRGB(t8,E0(e)),r.buffers.color.setClear(t8.r,t8.g,t8.b,n,o)}function v(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),c=t,_(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,_(s,c)},render:h,addToRenderList:g,dispose:v}}function a8(e,t){let n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=f(null),a=i,o=!1;function s(n,r,i,s,c){let u=!1,f=d(s,i,r);a!==f&&(a=f,l(a.object)),u=p(n,s,i,c),u&&m(n,s,i,c),c!==null&&t.update(c,e.ELEMENT_ARRAY_BUFFER),(u||o)&&(o=!1,b(n,r,i,s),c!==null&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(c).buffer))}function c(){return e.createVertexArray()}function l(t){return e.bindVertexArray(t)}function u(t){return e.deleteVertexArray(t)}function d(e,t,n){let i=n.wireframe===!0,a=r[e.id];a===void 0&&(a={},r[e.id]=a);let o=a[t.id];o===void 0&&(o={},a[t.id]=o);let s=o[i];return s===void 0&&(s=f(c()),o[i]=s),s}function f(e){let t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function p(e,t,n,r){let i=a.attributes,o=t.attributes,s=0,c=n.getAttributes();for(let t in c)if(c[t].location>=0){let n=i[t],r=o[t];if(r===void 0&&(t===`instanceMatrix`&&e.instanceMatrix&&(r=e.instanceMatrix),t===`instanceColor`&&e.instanceColor&&(r=e.instanceColor)),n===void 0||n.attribute!==r||r&&n.data!==r.data)return!0;s++}return a.attributesNum!==s||a.index!==r}function m(e,t,n,r){let i={},o=t.attributes,s=0,c=n.getAttributes();for(let t in c)if(c[t].location>=0){let n=o[t];n===void 0&&(t===`instanceMatrix`&&e.instanceMatrix&&(n=e.instanceMatrix),t===`instanceColor`&&e.instanceColor&&(n=e.instanceColor));let r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,s++}a.attributes=i,a.attributesNum=s,a.index=r}function h(){let e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function g(e){_(e,0)}function _(t,n){let r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,i[t]===0&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function v(){let t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){s===!0?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(n,r,i,a){h();let o=a.attributes,s=i.getAttributes(),c=r.defaultAttributeValues;for(let r in s){let i=s[r];if(i.location>=0){let s=o[r];if(s===void 0&&(r===`instanceMatrix`&&n.instanceMatrix&&(s=n.instanceMatrix),r===`instanceColor`&&n.instanceColor&&(s=n.instanceColor)),s!==void 0){let r=s.normalized,o=s.itemSize,c=t.get(s);if(c===void 0)continue;let l=c.buffer,u=c.type,d=c.bytesPerElement,f=u===e.INT||u===e.UNSIGNED_INT||s.gpuType===1013;if(s.isInterleavedBufferAttribute){let t=s.data,c=t.stride,p=s.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)_(i.location+e,t.meshPerAttribute);n.isInstancedMesh!==!0&&a._maxInstanceCount===void 0&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,l);for(let e=0;e<i.locationSize;e++)y(i.location+e,o/i.locationSize,u,r,c*d,(p+o/i.locationSize*e)*d,f)}else{if(s.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)_(i.location+e,s.meshPerAttribute);n.isInstancedMesh!==!0&&a._maxInstanceCount===void 0&&(a._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,l);for(let e=0;e<i.locationSize;e++)y(i.location+e,o/i.locationSize,u,r,o*d,o/i.locationSize*e*d,f)}}else if(c!==void 0){let t=c[r];if(t!==void 0)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}v()}function x(){for(let e in w(),r){let t=r[e];for(let e in t){let n=t[e];for(let e in n)u(n[e].object),delete n[e];delete t[e]}delete r[e]}}function S(e){if(r[e.id]===void 0)return;let t=r[e.id];for(let e in t){let n=t[e];for(let e in n)u(n[e].object),delete n[e];delete t[e]}delete r[e.id]}function C(e){for(let t in r){let n=r[t];if(n[e.id]===void 0)continue;let i=n[e.id];for(let e in i)u(i[e].object),delete i[e];delete n[e.id]}}function w(){T(),o=!0,a!==i&&(a=i,l(a.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:w,resetDefaultState:T,dispose:x,releaseStatesOfGeometry:S,releaseStatesOfProgram:C,initAttributes:h,enableAttribute:g,disableUnusedAttributes:v}}function o8(e,t,n){let r;function i(e){r=e}function a(t,i){e.drawArrays(r,t,i),n.update(i,r,1)}function o(t,i,a){a!==0&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}function s(e,i,a){if(a===0)return;t.get(`WEBGL_multi_draw`).multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)}function c(e,i,a,s){if(a===0)return;let c=t.get(`WEBGL_multi_draw`);if(c===null)for(let t=0;t<e.length;t++)o(e[t],i[t],s[t]);else{c.multiDrawArraysInstancedWEBGL(r,e,0,i,0,s,0,a);let t=0;for(let e=0;e<a;e++)t+=i[e]*s[e];n.update(t,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=c}function s8(e,t,n,r){let i;function a(){if(i!==void 0)return i;if(t.has(`EXT_texture_filter_anisotropic`)===!0){let n=t.get(`EXT_texture_filter_anisotropic`);i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(t){return!(t!==1023&&r.convert(t)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(n){let i=n===1016&&(t.has(`EXT_color_buffer_half_float`)||t.has(`EXT_color_buffer_float`));return!(n!==1009&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==1015&&!i)}function c(t){if(t===`highp`){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return`highp`;t=`mediump`}return t===`mediump`&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?`mediump`:`lowp`}let l=n.precision===void 0?`highp`:n.precision,u=c(l);u!==l&&(xQ(`WebGLRenderer:`,l,`not supported, using`,u,`instead.`),l=u);let d=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&t.has(`EXT_clip_control`),p=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),m=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),g=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),_=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),y=e.getParameter(e.MAX_VARYING_VECTORS),b=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),x=m>0,S=e.getParameter(e.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:s,precision:l,logarithmicDepthBuffer:d,reversedDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:h,maxCubemapSize:g,maxAttributes:_,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:b,vertexTextures:x,maxSamples:S}}function c8(e){let t=this,n=null,r=0,i=!1,a=!1,o=new S2,s=new r$,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){let n=e.length!==0||t||r!==0||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(t,o,s){let d=t.clippingPlanes,f=t.clipIntersection,p=t.clipShadows,m=e.get(t);if(!i||d===null||d.length===0||a&&!p)a?u(null):l();else{let e=a?0:r,t=e*4,i=m.clippingState||null;c.value=i,i=u(d,o,t,s);for(let e=0;e!==t;++e)i[e]=n[e];m.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}};function l(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){let a=e===null?0:e.length,l=null;if(a!==0){if(l=c.value,i!==!0||l===null){let t=r+a*4,i=n.matrixWorldInverse;s.getNormalMatrix(i),(l===null||l.length<t)&&(l=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(l,n),l[n+3]=o.constant}c.value=l,c.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}}function l8(e){let t=new WeakMap;function n(e,t){return t===303?e.mapping=301:t===304&&(e.mapping=302),e}function r(r){if(r&&r.isTexture){let a=r.mapping;if(a===303||a===304)if(t.has(r)){let e=t.get(r).texture;return n(e,r.mapping)}else{let a=r.image;if(a&&a.height>0){let o=new B0(a.height);return o.fromEquirectangularTexture(e,r),t.set(r,o),r.addEventListener(`dispose`,i),n(o.texture,r.mapping)}else return null}}return r}function i(e){let n=e.target;n.removeEventListener(`dispose`,i);let r=t.get(n);r!==void 0&&(t.delete(n),r.dispose())}function a(){t=new WeakMap}return{get:r,dispose:a}}var u8=4,d8=[.125,.215,.35,.446,.526,.582],f8=20,p8=256,m8=new y6,h8=new U1,g8=null,_8=0,v8=0,y8=!1,b8=new Q,x8=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,i={}){let{size:a=256,position:o=b8}=i;g8=this._renderer.getRenderTarget(),_8=this._renderer.getActiveCubeFace(),v8=this._renderer.getActiveMipmapLevel(),y8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=O8(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=D8(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=2**this._lodMax}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(g8,_8,v8),this._renderer.xr.enabled=y8,e.scissorTest=!1,w8(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===301||e.mapping===302?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),g8=this._renderer.getRenderTarget(),_8=this._renderer.getActiveCubeFace(),v8=this._renderer.getActiveMipmapLevel(),y8=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:YX,minFilter:YX,generateMipmaps:!1,type:aZ,format:pZ,colorSpace:lQ,depthBuffer:!1},r=C8(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=C8(e,t,n);let{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=S8(r)),this._blurMaterial=E8(r,e,t),this._ggxMaterial=T8(r,e,t)}return r}_compileMaterial(e){let t=new $(new c0,e);this._renderer.compile(t,m8)}_sceneToCubeUV(e,t,n,r,i){let a=new F0(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],c=this._renderer,l=c.autoClear,u=c.toneMapping;c.getClearColor(h8),c.toneMapping=0,c.autoClear=!1,c.state.buffers.depth.getReversed()&&(c.setRenderTarget(r),c.clearDepth(),c.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new $(new S0,new q1({name:`PMREM.Background`,side:1,depthWrite:!1,depthTest:!1})));let d=this._backgroundBox,f=d.material,p=!1,m=e.background;m?m.isColor&&(f.color.copy(m),e.background=null,p=!0):(f.color.copy(h8),p=!0);for(let t=0;t<6;t++){let n=t%3;n===0?(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+s[t],i.y,i.z)):n===1?(a.up.set(0,0,o[t]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+s[t],i.z)):(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+s[t]));let l=this._cubeSize;w8(r,n*l,t>2?l:0,l,l),c.setRenderTarget(r),p&&c.render(d,a),c.render(e,a)}c.toneMapping=u,c.autoClear=l,e.background=m}_textureToCubeUV(e,t){let n=this._renderer,r=e.mapping===301||e.mapping===302;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=O8()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=D8());let i=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i;let o=i.uniforms;o.envMap.value=e;let s=this._cubeSize;w8(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(a,m8)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;let r=this._lodMeshes.length;for(let t=1;t<r;t++)this._applyGGXFilter(e,t-1,t);t.autoClear=n}_applyGGXFilter(e,t,n){let r=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;let s=a.uniforms,c=n/(this._lodMeshes.length-1),l=t/(this._lodMeshes.length-1),u=Math.sqrt(c*c-l*l)*(.05+c*.95),{_lodMax:d}=this,f=this._sizeLods[n],p=3*f*(n>d-u8?n-d+u8:0),m=4*(this._cubeSize-f);s.envMap.value=e.texture,s.roughness.value=u,s.mipInt.value=d-t,w8(i,p,m,3*f,2*f),r.setRenderTarget(i),r.render(o,m8),s.envMap.value=i.texture,s.roughness.value=0,s.mipInt.value=d-n,w8(e,p,m,3*f,2*f),r.setRenderTarget(e),r.render(o,m8)}_blur(e,t,n,r,i){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,`latitudinal`,i),this._halfBlur(a,e,n,n,r,`longitudinal`,i)}_halfBlur(e,t,n,r,i,a,o){let s=this._renderer,c=this._blurMaterial;a!==`latitudinal`&&a!==`longitudinal`&&SQ(`blur direction must be either latitudinal or longitudinal!`);let l=this._lodMeshes[r];l.material=c;let u=c.uniforms,d=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*d):2*Math.PI/(2*f8-1),p=i/f,m=isFinite(i)?1+Math.floor(3*p):f8;m>f8&&xQ(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${f8}`);let h=[],g=0;for(let e=0;e<f8;++e){let t=e/p,n=Math.exp(-t*t/2);h.push(n),e===0?g+=n:e<m&&(g+=2*n)}for(let e=0;e<h.length;e++)h[e]=h[e]/g;u.envMap.value=e.texture,u.samples.value=m,u.weights.value=h,u.latitudinal.value=a===`latitudinal`,o&&(u.poleAxis.value=o);let{_lodMax:_}=this;u.dTheta.value=f,u.mipInt.value=_-n;let v=this._sizeLods[r];w8(t,3*v*(r>_-u8?r-_+u8:0),4*(this._cubeSize-v),3*v,2*v),s.setRenderTarget(t),s.render(l,m8)}};function S8(e){let t=[],n=[],r=[],i=e,a=e-u8+1+d8.length;for(let o=0;o<a;o++){let a=2**i;t.push(a);let s=1/a;o>e-u8?s=d8[o-e+u8-1]:o===0&&(s=0),n.push(s);let c=1/(a-2),l=-c,u=1+c,d=[l,l,u,l,u,u,l,l,u,u,l,u],f=new Float32Array(108),p=new Float32Array(72),m=new Float32Array(36);for(let e=0;e<6;e++){let t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];f.set(r,18*e),p.set(d,12*e);let i=[e,e,e,e,e,e];m.set(i,6*e)}let h=new c0;h.setAttribute(`position`,new Z1(f,3)),h.setAttribute(`uv`,new Z1(p,2)),h.setAttribute(`faceIndex`,new Z1(m,1)),r.push(new $(h,null)),i>u8&&i--}return{lodMeshes:r,sizeLods:t,sigmas:n}}function C8(e,t,n){let r=new x$(e,t,n);return r.texture.mapping=306,r.texture.name=`PMREM.cubeUv`,r.scissorTest=!0,r}function w8(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function T8(e,t,n){return new A0({name:`PMREMGGXConvolution`,defines:{GGX_SAMPLES:p8,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:k8(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function E8(e,t,n){let r=new Float32Array(f8),i=new Q(0,1,0);return new A0({name:`SphericalGaussianBlur`,defines:{n:f8,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:k8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function D8(){return new A0({name:`EquirectangularToCubeUV`,uniforms:{envMap:{value:null}},vertexShader:k8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function O8(){return new A0({name:`CubemapToCubeUV`,uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:k8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function k8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function A8(e){let t=new WeakMap,n=null;function r(r){if(r&&r.isTexture){let o=r.mapping,s=o===303||o===304,c=o===301||o===302;if(s||c){let o=t.get(r),l=o===void 0?0:o.texture.pmremVersion;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return n===null&&(n=new x8(e)),o=s?n.fromEquirectangular(r,o):n.fromCubemap(r,o),o.texture.pmremVersion=r.pmremVersion,t.set(r,o),o.texture;if(o!==void 0)return o.texture;{let l=r.image;return s&&l&&l.height>0||c&&l&&i(l)?(n===null&&(n=new x8(e)),o=s?n.fromEquirectangular(r):n.fromCubemap(r),o.texture.pmremVersion=r.pmremVersion,t.set(r,o),r.addEventListener(`dispose`,a),o.texture):null}}}return r}function i(e){let t=0;for(let n=0;n<6;n++)e[n]!==void 0&&t++;return t===6}function a(e){let n=e.target;n.removeEventListener(`dispose`,a);let r=t.get(n);r!==void 0&&(t.delete(n),r.dispose())}function o(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function j8(e){let t={};function n(n){if(t[n]!==void 0)return t[n];let r=e.getExtension(n);return t[n]=r,r}return{has:function(e){return n(e)!==null},init:function(){n(`EXT_color_buffer_float`),n(`WEBGL_clip_cull_distance`),n(`OES_texture_float_linear`),n(`EXT_color_buffer_half_float`),n(`WEBGL_multisampled_render_to_texture`),n(`WEBGL_render_shared_exponent`)},get:function(e){let t=n(e);return t===null&&CQ(`WebGLRenderer: `+e+` extension not supported.`),t}}}function M8(e,t,n,r){let i={},a=new WeakMap;function o(e){let s=e.target;for(let e in s.index!==null&&t.remove(s.index),s.attributes)t.remove(s.attributes[e]);s.removeEventListener(`dispose`,o),delete i[s.id];let c=a.get(s);c&&(t.remove(c),a.delete(s)),r.releaseStatesOfGeometry(s),s.isInstancedBufferGeometry===!0&&delete s._maxInstanceCount,n.memory.geometries--}function s(e,t){return i[t.id]===!0?t:(t.addEventListener(`dispose`,o),i[t.id]=!0,n.memory.geometries++,t)}function c(n){let r=n.attributes;for(let n in r)t.update(r[n],e.ARRAY_BUFFER)}function l(e){let n=[],r=e.index,i=e.attributes.position,o=0;if(r!==null){let e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){let r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else if(i!==void 0){let e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){let e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}else return;let s=new(hQ(n)?$1:Q1)(n,1);s.version=o;let c=a.get(e);c&&t.remove(c),a.set(e,s)}function u(e){let t=a.get(e);if(t){let n=e.index;n!==null&&t.version<n.version&&l(e)}else l(e);return a.get(e)}return{get:s,update:c,getWireframeAttribute:u}}function N8(e,t,n){let r;function i(e){r=e}let a,o;function s(e){a=e.type,o=e.bytesPerElement}function c(t,i){e.drawElements(r,i,a,t*o),n.update(i,r,1)}function l(t,i,s){s!==0&&(e.drawElementsInstanced(r,i,a,t*o,s),n.update(i,r,s))}function u(e,i,o){if(o===0)return;t.get(`WEBGL_multi_draw`).multiDrawElementsWEBGL(r,i,0,a,e,0,o);let s=0;for(let e=0;e<o;e++)s+=i[e];n.update(s,r,1)}function d(e,i,s,c){if(s===0)return;let u=t.get(`WEBGL_multi_draw`);if(u===null)for(let t=0;t<e.length;t++)l(e[t]/o,i[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,i,0,a,e,0,c,0,s);let t=0;for(let e=0;e<s;e++)t+=i[e]*c[e];n.update(t,r,1)}}this.setMode=i,this.setIndex=s,this.render=c,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function P8(e){let t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(t,r,i){switch(n.calls++,r){case e.TRIANGLES:n.triangles+=i*(t/3);break;case e.LINES:n.lines+=i*(t/2);break;case e.LINE_STRIP:n.lines+=i*(t-1);break;case e.LINE_LOOP:n.lines+=i*t;break;case e.POINTS:n.points+=i*t;break;default:SQ(`WebGLInfo: Unknown draw mode:`,r);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function F8(e,t,n){let r=new WeakMap,i=new y$;function a(a,o,s){let c=a.morphTargetInfluences,l=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=l===void 0?0:l.length,d=r.get(o);if(d===void 0||d.count!==u){d!==void 0&&d.texture.dispose();let e=o.morphAttributes.position!==void 0,n=o.morphAttributes.normal!==void 0,a=o.morphAttributes.color!==void 0,s=o.morphAttributes.position||[],c=o.morphAttributes.normal||[],l=o.morphAttributes.color||[],f=0;e===!0&&(f=1),n===!0&&(f=2),a===!0&&(f=3);let p=o.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);let h=new Float32Array(p*m*4*u),g=new S$(h,p,m,u);g.type=iZ,g.needsUpdate=!0;let _=f*4;for(let t=0;t<u;t++){let r=s[t],o=c[t],u=l[t],d=p*m*4*t;for(let t=0;t<r.count;t++){let s=t*_;e===!0&&(i.fromBufferAttribute(r,t),h[d+s+0]=i.x,h[d+s+1]=i.y,h[d+s+2]=i.z,h[d+s+3]=0),n===!0&&(i.fromBufferAttribute(o,t),h[d+s+4]=i.x,h[d+s+5]=i.y,h[d+s+6]=i.z,h[d+s+7]=0),a===!0&&(i.fromBufferAttribute(u,t),h[d+s+8]=i.x,h[d+s+9]=i.y,h[d+s+10]=i.z,h[d+s+11]=u.itemSize===4?i.w:1)}}d={count:u,texture:g,size:new $Q(p,m)},r.set(o,d);function v(){g.dispose(),r.delete(o),o.removeEventListener(`dispose`,v)}o.addEventListener(`dispose`,v)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)s.getUniforms().setValue(e,`morphTexture`,a.morphTexture,n);else{let t=0;for(let e=0;e<c.length;e++)t+=c[e];let n=o.morphTargetsRelative?1:1-t;s.getUniforms().setValue(e,`morphTargetBaseInfluence`,n),s.getUniforms().setValue(e,`morphTargetInfluences`,c)}s.getUniforms().setValue(e,`morphTargetsTexture`,d.texture,n),s.getUniforms().setValue(e,`morphTargetsTextureSize`,d.size)}return{update:a}}function I8(e,t,n,r){let i=new WeakMap;function a(a){let o=r.render.frame,c=a.geometry,l=t.get(a,c);if(i.get(l)!==o&&(t.update(l),i.set(l,o)),a.isInstancedMesh&&(a.hasEventListener(`dispose`,s)===!1&&a.addEventListener(`dispose`,s),i.get(a)!==o&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),a.instanceColor!==null&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,o))),a.isSkinnedMesh){let e=a.skeleton;i.get(e)!==o&&(e.update(),i.set(e,o))}return l}function o(){i=new WeakMap}function s(e){let t=e.target;t.removeEventListener(`dispose`,s),n.remove(t.instanceMatrix),t.instanceColor!==null&&n.remove(t.instanceColor)}return{update:a,dispose:o}}var L8=new v$,R8=new X2(1,1),z8=new S$,B8=new C$,V8=new z0,H8=[],U8=[],W8=new Float32Array(16),G8=new Float32Array(9),K8=new Float32Array(4);function q8(e,t,n){let r=e[0];if(r<=0||r>0)return e;let i=t*n,a=H8[i];if(a===void 0&&(a=new Float32Array(i),H8[i]=a),t!==0){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function J8(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Y8(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function X8(e,t){let n=U8[t];n===void 0&&(n=new Int32Array(t),U8[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Z8(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Q8(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(J8(n,t))return;e.uniform2fv(this.addr,t),Y8(n,t)}}function $8(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(J8(n,t))return;e.uniform3fv(this.addr,t),Y8(n,t)}}function e5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(J8(n,t))return;e.uniform4fv(this.addr,t),Y8(n,t)}}function t5(e,t){let n=this.cache,r=t.elements;if(r===void 0){if(J8(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Y8(n,t)}else{if(J8(n,r))return;K8.set(r),e.uniformMatrix2fv(this.addr,!1,K8),Y8(n,r)}}function n5(e,t){let n=this.cache,r=t.elements;if(r===void 0){if(J8(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Y8(n,t)}else{if(J8(n,r))return;G8.set(r),e.uniformMatrix3fv(this.addr,!1,G8),Y8(n,r)}}function r5(e,t){let n=this.cache,r=t.elements;if(r===void 0){if(J8(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Y8(n,t)}else{if(J8(n,r))return;W8.set(r),e.uniformMatrix4fv(this.addr,!1,W8),Y8(n,r)}}function i5(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function a5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(J8(n,t))return;e.uniform2iv(this.addr,t),Y8(n,t)}}function o5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(J8(n,t))return;e.uniform3iv(this.addr,t),Y8(n,t)}}function s5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(J8(n,t))return;e.uniform4iv(this.addr,t),Y8(n,t)}}function c5(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function l5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(J8(n,t))return;e.uniform2uiv(this.addr,t),Y8(n,t)}}function u5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(J8(n,t))return;e.uniform3uiv(this.addr,t),Y8(n,t)}}function d5(e,t){let n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(J8(n,t))return;e.uniform4uiv(this.addr,t),Y8(n,t)}}function f5(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);let a;this.type===e.SAMPLER_2D_SHADOW?(R8.compareFunction=515,a=R8):a=L8,n.setTexture2D(t||a,i)}function p5(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||B8,i)}function m5(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||V8,i)}function h5(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||z8,i)}function g5(e){switch(e){case 5126:return Z8;case 35664:return Q8;case 35665:return $8;case 35666:return e5;case 35674:return t5;case 35675:return n5;case 35676:return r5;case 5124:case 35670:return i5;case 35667:case 35671:return a5;case 35668:case 35672:return o5;case 35669:case 35673:return s5;case 5125:return c5;case 36294:return l5;case 36295:return u5;case 36296:return d5;case 35678:case 36198:case 36298:case 36306:case 35682:return f5;case 35679:case 36299:case 36307:return p5;case 35680:case 36300:case 36308:case 36293:return m5;case 36289:case 36303:case 36311:case 36292:return h5}}function _5(e,t){e.uniform1fv(this.addr,t)}function v5(e,t){let n=q8(t,this.size,2);e.uniform2fv(this.addr,n)}function y5(e,t){let n=q8(t,this.size,3);e.uniform3fv(this.addr,n)}function b5(e,t){let n=q8(t,this.size,4);e.uniform4fv(this.addr,n)}function x5(e,t){let n=q8(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function S5(e,t){let n=q8(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function C5(e,t){let n=q8(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function w5(e,t){e.uniform1iv(this.addr,t)}function T5(e,t){e.uniform2iv(this.addr,t)}function E5(e,t){e.uniform3iv(this.addr,t)}function D5(e,t){e.uniform4iv(this.addr,t)}function O5(e,t){e.uniform1uiv(this.addr,t)}function k5(e,t){e.uniform2uiv(this.addr,t)}function A5(e,t){e.uniform3uiv(this.addr,t)}function j5(e,t){e.uniform4uiv(this.addr,t)}function M5(e,t,n){let r=this.cache,i=t.length,a=X8(n,i);J8(r,a)||(e.uniform1iv(this.addr,a),Y8(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||L8,a[e])}function N5(e,t,n){let r=this.cache,i=t.length,a=X8(n,i);J8(r,a)||(e.uniform1iv(this.addr,a),Y8(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||B8,a[e])}function P5(e,t,n){let r=this.cache,i=t.length,a=X8(n,i);J8(r,a)||(e.uniform1iv(this.addr,a),Y8(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||V8,a[e])}function F5(e,t,n){let r=this.cache,i=t.length,a=X8(n,i);J8(r,a)||(e.uniform1iv(this.addr,a),Y8(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||z8,a[e])}function I5(e){switch(e){case 5126:return _5;case 35664:return v5;case 35665:return y5;case 35666:return b5;case 35674:return x5;case 35675:return S5;case 35676:return C5;case 5124:case 35670:return w5;case 35667:case 35671:return T5;case 35668:case 35672:return E5;case 35669:case 35673:return D5;case 5125:return O5;case 36294:return k5;case 36295:return A5;case 36296:return j5;case 35678:case 36198:case 36298:case 36306:case 35682:return M5;case 35679:case 36299:case 36307:return N5;case 35680:case 36300:case 36308:case 36293:return P5;case 36289:case 36303:case 36311:case 36292:return F5}}var L5=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=g5(t.type)}},R5=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=I5(t.type)}},z5=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let a=r[i];a.setValue(e,t[a.id],n)}}},B5=/(\w+)(\])?(\[|\.)?/g;function V5(e,t){e.seq.push(t),e.map[t.id]=t}function H5(e,t,n){let r=e.name,i=r.length;for(B5.lastIndex=0;;){let a=B5.exec(r),o=B5.lastIndex,s=a[1],c=a[2]===`]`,l=a[3];if(c&&(s|=0),l===void 0||l===`[`&&o+2===i){V5(n,l===void 0?new L5(s,e,t):new R5(s,e,t));break}else{let e=n.map[s];e===void 0&&(e=new z5(s),V5(n,e)),n=e}}}var U5=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let n=e.getActiveUniform(t,r);H5(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){let i=this.map[t];i!==void 0&&i.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){let a=t[i],o=n[a.id];o.needsUpdate!==!1&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,i=e.length;r!==i;++r){let i=e[r];i.id in t&&n.push(i)}return n}};function W5(e,t,n){let r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var G5=37297,K5=0;function q5(e,t){let n=e.split(`
`),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){let i=e+1;r.push(`${i===t?`>`:` `} ${i}: ${n[e]}`)}return r.join(`
`)}var J5=new r$;function Y5(e){c$._getMatrix(J5,c$.workingColorSpace,e);let t=`mat3( ${J5.elements.map(e=>e.toFixed(4))} )`;switch(c$.getTransfer(e)){case uQ:return[t,`LinearTransferOETF`];case dQ:return[t,`sRGBTransferOETF`];default:return xQ(`WebGLProgram: Unsupported color space: `,e),[t,`LinearTransferOETF`]}}function X5(e,t,n){let r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||``).trim();if(r&&i===``)return``;let a=/ERROR: 0:(\d+)/.exec(i);if(a){let r=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+q5(e.getShaderSource(t),r)}else return i}function Z5(e,t){let n=Y5(t);return[`vec4 ${e}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,`}`].join(`
`)}function Q5(e,t){let n;switch(t){case 1:n=`Linear`;break;case 2:n=`Reinhard`;break;case 3:n=`Cineon`;break;case 4:n=`ACESFilmic`;break;case 6:n=`AgX`;break;case 7:n=`Neutral`;break;case 5:n=`Custom`;break;default:xQ(`WebGLProgram: Unsupported toneMapping:`,t),n=`Linear`}return`vec3 `+e+`( vec3 color ) { return `+n+`ToneMapping( color ); }`}var $5=new Q;function e7(){return c$.getLuminanceCoefficients($5),[`float luminance( const in vec3 rgb ) {`,`	const vec3 weights = vec3( ${$5.x.toFixed(4)}, ${$5.y.toFixed(4)}, ${$5.z.toFixed(4)} );`,`	return dot( weights, rgb );`,`}`].join(`
`)}function t7(e){return[e.extensionClipCullDistance?`#extension GL_ANGLE_clip_cull_distance : require`:``,e.extensionMultiDraw?`#extension GL_ANGLE_multi_draw : require`:``].filter(i7).join(`
`)}function n7(e){let t=[];for(let n in e){let r=e[n];r!==!1&&t.push(`#define `+n+` `+r)}return t.join(`
`)}function r7(e,t){let n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let r=e.getActiveAttrib(t,i),a=r.name,o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}function i7(e){return e!==``}function a7(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function o7(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var s7=/^[ \t]*#include +<([\w\d./]+)>/gm;function c7(e){return e.replace(s7,u7)}var l7=new Map;function u7(e,t){let n=Q6[t];if(n===void 0){let e=l7.get(t);if(e!==void 0)n=Q6[e],xQ(`WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.`,t,e);else throw Error(`Can not resolve #include <`+t+`>`)}return c7(n)}var d7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function f7(e){return e.replace(d7,p7)}function p7(e,t,n,r){let i=``;for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,`[ `+e+` ]`).replace(/UNROLLED_LOOP_INDEX/g,e);return i}function m7(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return e.precision===`highp`?t+=`
#define HIGH_PRECISION`:e.precision===`mediump`?t+=`
#define MEDIUM_PRECISION`:e.precision===`lowp`&&(t+=`
#define LOW_PRECISION`),t}function h7(e){let t=`SHADOWMAP_TYPE_BASIC`;return e.shadowMapType===1?t=`SHADOWMAP_TYPE_PCF`:e.shadowMapType===2?t=`SHADOWMAP_TYPE_PCF_SOFT`:e.shadowMapType===3&&(t=`SHADOWMAP_TYPE_VSM`),t}function g7(e){let t=`ENVMAP_TYPE_CUBE`;if(e.envMap)switch(e.envMapMode){case 301:case 302:t=`ENVMAP_TYPE_CUBE`;break;case 306:t=`ENVMAP_TYPE_CUBE_UV`;break}return t}function Vte(e){let t=`ENVMAP_MODE_REFLECTION`;if(e.envMap)switch(e.envMapMode){case 302:t=`ENVMAP_MODE_REFRACTION`;break}return t}function Hte(e){let t=`ENVMAP_BLENDING_NONE`;if(e.envMap)switch(e.combine){case 0:t=`ENVMAP_BLENDING_MULTIPLY`;break;case 1:t=`ENVMAP_BLENDING_MIX`;break;case 2:t=`ENVMAP_BLENDING_ADD`;break}return t}function Ute(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(2**n,112)),texelHeight:r,maxMip:n}}function Wte(e,t,n,r){let i=e.getContext(),a=n.defines,o=n.vertexShader,s=n.fragmentShader,c=h7(n),l=g7(n),u=Vte(n),d=Hte(n),f=Ute(n),p=t7(n),m=n7(a),h=i.createProgram(),g,_,v=n.glslVersion?`#version `+n.glslVersion+`
`:``;n.isRawShaderMaterial?(g=[`#define SHADER_TYPE `+n.shaderType,`#define SHADER_NAME `+n.shaderName,m].filter(i7).join(`
`),g.length>0&&(g+=`
`),_=[`#define SHADER_TYPE `+n.shaderType,`#define SHADER_NAME `+n.shaderName,m].filter(i7).join(`
`),_.length>0&&(_+=`
`)):(g=[m7(n),`#define SHADER_TYPE `+n.shaderType,`#define SHADER_NAME `+n.shaderName,m,n.extensionClipCullDistance?`#define USE_CLIP_DISTANCE`:``,n.batching?`#define USE_BATCHING`:``,n.batchingColor?`#define USE_BATCHING_COLOR`:``,n.instancing?`#define USE_INSTANCING`:``,n.instancingColor?`#define USE_INSTANCING_COLOR`:``,n.instancingMorph?`#define USE_INSTANCING_MORPH`:``,n.useFog&&n.fog?`#define USE_FOG`:``,n.useFog&&n.fogExp2?`#define FOG_EXP2`:``,n.map?`#define USE_MAP`:``,n.envMap?`#define USE_ENVMAP`:``,n.envMap?`#define `+u:``,n.lightMap?`#define USE_LIGHTMAP`:``,n.aoMap?`#define USE_AOMAP`:``,n.bumpMap?`#define USE_BUMPMAP`:``,n.normalMap?`#define USE_NORMALMAP`:``,n.normalMapObjectSpace?`#define USE_NORMALMAP_OBJECTSPACE`:``,n.normalMapTangentSpace?`#define USE_NORMALMAP_TANGENTSPACE`:``,n.displacementMap?`#define USE_DISPLACEMENTMAP`:``,n.emissiveMap?`#define USE_EMISSIVEMAP`:``,n.anisotropy?`#define USE_ANISOTROPY`:``,n.anisotropyMap?`#define USE_ANISOTROPYMAP`:``,n.clearcoatMap?`#define USE_CLEARCOATMAP`:``,n.clearcoatRoughnessMap?`#define USE_CLEARCOAT_ROUGHNESSMAP`:``,n.clearcoatNormalMap?`#define USE_CLEARCOAT_NORMALMAP`:``,n.iridescenceMap?`#define USE_IRIDESCENCEMAP`:``,n.iridescenceThicknessMap?`#define USE_IRIDESCENCE_THICKNESSMAP`:``,n.specularMap?`#define USE_SPECULARMAP`:``,n.specularColorMap?`#define USE_SPECULAR_COLORMAP`:``,n.specularIntensityMap?`#define USE_SPECULAR_INTENSITYMAP`:``,n.roughnessMap?`#define USE_ROUGHNESSMAP`:``,n.metalnessMap?`#define USE_METALNESSMAP`:``,n.alphaMap?`#define USE_ALPHAMAP`:``,n.alphaHash?`#define USE_ALPHAHASH`:``,n.transmission?`#define USE_TRANSMISSION`:``,n.transmissionMap?`#define USE_TRANSMISSIONMAP`:``,n.thicknessMap?`#define USE_THICKNESSMAP`:``,n.sheenColorMap?`#define USE_SHEEN_COLORMAP`:``,n.sheenRoughnessMap?`#define USE_SHEEN_ROUGHNESSMAP`:``,n.mapUv?`#define MAP_UV `+n.mapUv:``,n.alphaMapUv?`#define ALPHAMAP_UV `+n.alphaMapUv:``,n.lightMapUv?`#define LIGHTMAP_UV `+n.lightMapUv:``,n.aoMapUv?`#define AOMAP_UV `+n.aoMapUv:``,n.emissiveMapUv?`#define EMISSIVEMAP_UV `+n.emissiveMapUv:``,n.bumpMapUv?`#define BUMPMAP_UV `+n.bumpMapUv:``,n.normalMapUv?`#define NORMALMAP_UV `+n.normalMapUv:``,n.displacementMapUv?`#define DISPLACEMENTMAP_UV `+n.displacementMapUv:``,n.metalnessMapUv?`#define METALNESSMAP_UV `+n.metalnessMapUv:``,n.roughnessMapUv?`#define ROUGHNESSMAP_UV `+n.roughnessMapUv:``,n.anisotropyMapUv?`#define ANISOTROPYMAP_UV `+n.anisotropyMapUv:``,n.clearcoatMapUv?`#define CLEARCOATMAP_UV `+n.clearcoatMapUv:``,n.clearcoatNormalMapUv?`#define CLEARCOAT_NORMALMAP_UV `+n.clearcoatNormalMapUv:``,n.clearcoatRoughnessMapUv?`#define CLEARCOAT_ROUGHNESSMAP_UV `+n.clearcoatRoughnessMapUv:``,n.iridescenceMapUv?`#define IRIDESCENCEMAP_UV `+n.iridescenceMapUv:``,n.iridescenceThicknessMapUv?`#define IRIDESCENCE_THICKNESSMAP_UV `+n.iridescenceThicknessMapUv:``,n.sheenColorMapUv?`#define SHEEN_COLORMAP_UV `+n.sheenColorMapUv:``,n.sheenRoughnessMapUv?`#define SHEEN_ROUGHNESSMAP_UV `+n.sheenRoughnessMapUv:``,n.specularMapUv?`#define SPECULARMAP_UV `+n.specularMapUv:``,n.specularColorMapUv?`#define SPECULAR_COLORMAP_UV `+n.specularColorMapUv:``,n.specularIntensityMapUv?`#define SPECULAR_INTENSITYMAP_UV `+n.specularIntensityMapUv:``,n.transmissionMapUv?`#define TRANSMISSIONMAP_UV `+n.transmissionMapUv:``,n.thicknessMapUv?`#define THICKNESSMAP_UV `+n.thicknessMapUv:``,n.vertexTangents&&n.flatShading===!1?`#define USE_TANGENT`:``,n.vertexColors?`#define USE_COLOR`:``,n.vertexAlphas?`#define USE_COLOR_ALPHA`:``,n.vertexUv1s?`#define USE_UV1`:``,n.vertexUv2s?`#define USE_UV2`:``,n.vertexUv3s?`#define USE_UV3`:``,n.pointsUvs?`#define USE_POINTS_UV`:``,n.flatShading?`#define FLAT_SHADED`:``,n.skinning?`#define USE_SKINNING`:``,n.morphTargets?`#define USE_MORPHTARGETS`:``,n.morphNormals&&n.flatShading===!1?`#define USE_MORPHNORMALS`:``,n.morphColors?`#define USE_MORPHCOLORS`:``,n.morphTargetsCount>0?`#define MORPHTARGETS_TEXTURE_STRIDE `+n.morphTextureStride:``,n.morphTargetsCount>0?`#define MORPHTARGETS_COUNT `+n.morphTargetsCount:``,n.doubleSided?`#define DOUBLE_SIDED`:``,n.flipSided?`#define FLIP_SIDED`:``,n.shadowMapEnabled?`#define USE_SHADOWMAP`:``,n.shadowMapEnabled?`#define `+c:``,n.sizeAttenuation?`#define USE_SIZEATTENUATION`:``,n.numLightProbes>0?`#define USE_LIGHT_PROBES`:``,n.logarithmicDepthBuffer?`#define USE_LOGARITHMIC_DEPTH_BUFFER`:``,n.reversedDepthBuffer?`#define USE_REVERSED_DEPTH_BUFFER`:``,`uniform mat4 modelMatrix;`,`uniform mat4 modelViewMatrix;`,`uniform mat4 projectionMatrix;`,`uniform mat4 viewMatrix;`,`uniform mat3 normalMatrix;`,`uniform vec3 cameraPosition;`,`uniform bool isOrthographic;`,`#ifdef USE_INSTANCING`,`	attribute mat4 instanceMatrix;`,`#endif`,`#ifdef USE_INSTANCING_COLOR`,`	attribute vec3 instanceColor;`,`#endif`,`#ifdef USE_INSTANCING_MORPH`,`	uniform sampler2D morphTexture;`,`#endif`,`attribute vec3 position;`,`attribute vec3 normal;`,`attribute vec2 uv;`,`#ifdef USE_UV1`,`	attribute vec2 uv1;`,`#endif`,`#ifdef USE_UV2`,`	attribute vec2 uv2;`,`#endif`,`#ifdef USE_UV3`,`	attribute vec2 uv3;`,`#endif`,`#ifdef USE_TANGENT`,`	attribute vec4 tangent;`,`#endif`,`#if defined( USE_COLOR_ALPHA )`,`	attribute vec4 color;`,`#elif defined( USE_COLOR )`,`	attribute vec3 color;`,`#endif`,`#ifdef USE_SKINNING`,`	attribute vec4 skinIndex;`,`	attribute vec4 skinWeight;`,`#endif`,`
`].filter(i7).join(`
`),_=[m7(n),`#define SHADER_TYPE `+n.shaderType,`#define SHADER_NAME `+n.shaderName,m,n.useFog&&n.fog?`#define USE_FOG`:``,n.useFog&&n.fogExp2?`#define FOG_EXP2`:``,n.alphaToCoverage?`#define ALPHA_TO_COVERAGE`:``,n.map?`#define USE_MAP`:``,n.matcap?`#define USE_MATCAP`:``,n.envMap?`#define USE_ENVMAP`:``,n.envMap?`#define `+l:``,n.envMap?`#define `+u:``,n.envMap?`#define `+d:``,f?`#define CUBEUV_TEXEL_WIDTH `+f.texelWidth:``,f?`#define CUBEUV_TEXEL_HEIGHT `+f.texelHeight:``,f?`#define CUBEUV_MAX_MIP `+f.maxMip+`.0`:``,n.lightMap?`#define USE_LIGHTMAP`:``,n.aoMap?`#define USE_AOMAP`:``,n.bumpMap?`#define USE_BUMPMAP`:``,n.normalMap?`#define USE_NORMALMAP`:``,n.normalMapObjectSpace?`#define USE_NORMALMAP_OBJECTSPACE`:``,n.normalMapTangentSpace?`#define USE_NORMALMAP_TANGENTSPACE`:``,n.emissiveMap?`#define USE_EMISSIVEMAP`:``,n.anisotropy?`#define USE_ANISOTROPY`:``,n.anisotropyMap?`#define USE_ANISOTROPYMAP`:``,n.clearcoat?`#define USE_CLEARCOAT`:``,n.clearcoatMap?`#define USE_CLEARCOATMAP`:``,n.clearcoatRoughnessMap?`#define USE_CLEARCOAT_ROUGHNESSMAP`:``,n.clearcoatNormalMap?`#define USE_CLEARCOAT_NORMALMAP`:``,n.dispersion?`#define USE_DISPERSION`:``,n.iridescence?`#define USE_IRIDESCENCE`:``,n.iridescenceMap?`#define USE_IRIDESCENCEMAP`:``,n.iridescenceThicknessMap?`#define USE_IRIDESCENCE_THICKNESSMAP`:``,n.specularMap?`#define USE_SPECULARMAP`:``,n.specularColorMap?`#define USE_SPECULAR_COLORMAP`:``,n.specularIntensityMap?`#define USE_SPECULAR_INTENSITYMAP`:``,n.roughnessMap?`#define USE_ROUGHNESSMAP`:``,n.metalnessMap?`#define USE_METALNESSMAP`:``,n.alphaMap?`#define USE_ALPHAMAP`:``,n.alphaTest?`#define USE_ALPHATEST`:``,n.alphaHash?`#define USE_ALPHAHASH`:``,n.sheen?`#define USE_SHEEN`:``,n.sheenColorMap?`#define USE_SHEEN_COLORMAP`:``,n.sheenRoughnessMap?`#define USE_SHEEN_ROUGHNESSMAP`:``,n.transmission?`#define USE_TRANSMISSION`:``,n.transmissionMap?`#define USE_TRANSMISSIONMAP`:``,n.thicknessMap?`#define USE_THICKNESSMAP`:``,n.vertexTangents&&n.flatShading===!1?`#define USE_TANGENT`:``,n.vertexColors||n.instancingColor||n.batchingColor?`#define USE_COLOR`:``,n.vertexAlphas?`#define USE_COLOR_ALPHA`:``,n.vertexUv1s?`#define USE_UV1`:``,n.vertexUv2s?`#define USE_UV2`:``,n.vertexUv3s?`#define USE_UV3`:``,n.pointsUvs?`#define USE_POINTS_UV`:``,n.gradientMap?`#define USE_GRADIENTMAP`:``,n.flatShading?`#define FLAT_SHADED`:``,n.doubleSided?`#define DOUBLE_SIDED`:``,n.flipSided?`#define FLIP_SIDED`:``,n.shadowMapEnabled?`#define USE_SHADOWMAP`:``,n.shadowMapEnabled?`#define `+c:``,n.premultipliedAlpha?`#define PREMULTIPLIED_ALPHA`:``,n.numLightProbes>0?`#define USE_LIGHT_PROBES`:``,n.decodeVideoTexture?`#define DECODE_VIDEO_TEXTURE`:``,n.decodeVideoTextureEmissive?`#define DECODE_VIDEO_TEXTURE_EMISSIVE`:``,n.logarithmicDepthBuffer?`#define USE_LOGARITHMIC_DEPTH_BUFFER`:``,n.reversedDepthBuffer?`#define USE_REVERSED_DEPTH_BUFFER`:``,`uniform mat4 viewMatrix;`,`uniform vec3 cameraPosition;`,`uniform bool isOrthographic;`,n.toneMapping===0?``:`#define TONE_MAPPING`,n.toneMapping===0?``:Q6.tonemapping_pars_fragment,n.toneMapping===0?``:Q5(`toneMapping`,n.toneMapping),n.dithering?`#define DITHERING`:``,n.opaque?`#define OPAQUE`:``,Q6.colorspace_pars_fragment,Z5(`linearToOutputTexel`,n.outputColorSpace),e7(),n.useDepthPacking?`#define DEPTH_PACKING `+n.depthPacking:``,`
`].filter(i7).join(`
`)),o=c7(o),o=a7(o,n),o=o7(o,n),s=c7(s),s=a7(s,n),s=o7(s,n),o=f7(o),s=f7(s),n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,g=[p,`#define attribute in`,`#define varying out`,`#define texture2D texture`].join(`
`)+`
`+g,_=[`#define varying in`,n.glslVersion===`300 es`?``:`layout(location = 0) out highp vec4 pc_fragColor;`,n.glslVersion===`300 es`?``:`#define gl_FragColor pc_fragColor`,`#define gl_FragDepthEXT gl_FragDepth`,`#define texture2D texture`,`#define textureCube texture`,`#define texture2DProj textureProj`,`#define texture2DLodEXT textureLod`,`#define texture2DProjLodEXT textureProjLod`,`#define textureCubeLodEXT textureLod`,`#define texture2DGradEXT textureGrad`,`#define texture2DProjGradEXT textureProjGrad`,`#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+_);let y=v+g+o,b=v+_+s,x=W5(i,i.VERTEX_SHADER,y),S=W5(i,i.FRAGMENT_SHADER,b);i.attachShader(h,x),i.attachShader(h,S),n.index0AttributeName===void 0?n.morphTargets===!0&&i.bindAttribLocation(h,0,`position`):i.bindAttribLocation(h,0,n.index0AttributeName),i.linkProgram(h);function C(t){if(e.debug.checkShaderErrors){let n=i.getProgramInfoLog(h)||``,r=i.getShaderInfoLog(x)||``,a=i.getShaderInfoLog(S)||``,o=n.trim(),s=r.trim(),c=a.trim(),l=!0,u=!0;if(i.getProgramParameter(h,i.LINK_STATUS)===!1)if(l=!1,typeof e.debug.onShaderError==`function`)e.debug.onShaderError(i,h,x,S);else{let e=X5(i,x,`vertex`),n=X5(i,S,`fragment`);SQ(`THREE.WebGLProgram: Shader Error `+i.getError()+` - VALIDATE_STATUS `+i.getProgramParameter(h,i.VALIDATE_STATUS)+`

Material Name: `+t.name+`
Material Type: `+t.type+`

Program Info Log: `+o+`
`+e+`
`+n)}else o===``?(s===``||c===``)&&(u=!1):xQ(`WebGLProgram: Program Info Log:`,o);u&&(t.diagnostics={runnable:l,programLog:o,vertexShader:{log:s,prefix:g},fragmentShader:{log:c,prefix:_}})}i.deleteShader(x),i.deleteShader(S),w=new U5(i,h),T=r7(i,h)}let w;this.getUniforms=function(){return w===void 0&&C(this),w};let T;this.getAttributes=function(){return T===void 0&&C(this),T};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=i.getProgramParameter(h,G5)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(h),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=K5++,this.cacheKey=t,this.usedTimes=1,this.program=h,this.vertexShader=x,this.fragmentShader=S,this}var Gte=0,Kte=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(i)===!1&&(a.add(i),i.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let e of t)e.usedTimes--,e.usedTimes===0&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return n===void 0&&(n=new qte(e),t.set(e,n)),n}},qte=class{constructor(e){this.id=Gte++,this.code=e,this.usedTimes=0}};function Jte(e,t,n,r,i,a,o){let s=new c1,c=new Kte,l=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures,p=i.precision,m={MeshDepthMaterial:`depth`,MeshDistanceMaterial:`distanceRGBA`,MeshNormalMaterial:`normal`,MeshBasicMaterial:`basic`,MeshLambertMaterial:`lambert`,MeshPhongMaterial:`phong`,MeshToonMaterial:`toon`,MeshStandardMaterial:`physical`,MeshPhysicalMaterial:`physical`,MeshMatcapMaterial:`matcap`,LineBasicMaterial:`basic`,LineDashedMaterial:`dashed`,PointsMaterial:`points`,ShadowMaterial:`shadow`,SpriteMaterial:`sprite`};function h(e){return l.add(e),e===0?`uv`:`uv${e}`}function g(a,s,u,g,_){let v=g.fog,y=_.geometry,b=a.isMeshStandardMaterial?g.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),S=x&&x.mapping===306?x.image.height:null,C=m[a.type];a.precision!==null&&(p=i.getMaxPrecision(a.precision),p!==a.precision&&xQ(`WebGLProgram.getParameters:`,a.precision,`not supported, using`,p,`instead.`));let w=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,T=w===void 0?0:w.length,E=0;y.morphAttributes.position!==void 0&&(E=1),y.morphAttributes.normal!==void 0&&(E=2),y.morphAttributes.color!==void 0&&(E=3);let D,O,k,A;if(C){let e=e8[C];D=e.vertexShader,O=e.fragmentShader}else D=a.vertexShader,O=a.fragmentShader,c.update(a),k=c.getVertexShaderID(a),A=c.getFragmentShaderID(a);let ee=e.getRenderTarget(),te=e.state.buffers.depth.getReversed(),ne=_.isInstancedMesh===!0,re=_.isBatchedMesh===!0,ie=!!a.map,ae=!!a.matcap,oe=!!x,se=!!a.aoMap,ce=!!a.lightMap,le=!!a.bumpMap,ue=!!a.normalMap,de=!!a.displacementMap,fe=!!a.emissiveMap,pe=!!a.metalnessMap,me=!!a.roughnessMap,he=a.anisotropy>0,ge=a.clearcoat>0,_e=a.dispersion>0,j=a.iridescence>0,M=a.sheen>0,ve=a.transmission>0,ye=he&&!!a.anisotropyMap,be=ge&&!!a.clearcoatMap,N=ge&&!!a.clearcoatNormalMap,xe=ge&&!!a.clearcoatRoughnessMap,Se=j&&!!a.iridescenceMap,Ce=j&&!!a.iridescenceThicknessMap,we=M&&!!a.sheenColorMap,Te=M&&!!a.sheenRoughnessMap,Ee=!!a.specularMap,De=!!a.specularColorMap,Oe=!!a.specularIntensityMap,P=ve&&!!a.transmissionMap,ke=ve&&!!a.thicknessMap,Ae=!!a.gradientMap,je=!!a.alphaMap,Me=a.alphaTest>0,Ne=!!a.alphaHash,Pe=!!a.extensions,Fe=0;a.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(Fe=e.toneMapping);let Ie={shaderID:C,shaderType:a.type,shaderName:a.name,vertexShader:D,fragmentShader:O,defines:a.defines,customVertexShaderID:k,customFragmentShaderID:A,isRawShaderMaterial:a.isRawShaderMaterial===!0,glslVersion:a.glslVersion,precision:p,batching:re,batchingColor:re&&_._colorsTexture!==null,instancing:ne,instancingColor:ne&&_.instanceColor!==null,instancingMorph:ne&&_.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ee===null?e.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:lQ,alphaToCoverage:!!a.alphaToCoverage,map:ie,matcap:ae,envMap:oe,envMapMode:oe&&x.mapping,envMapCubeUVHeight:S,aoMap:se,lightMap:ce,bumpMap:le,normalMap:ue,displacementMap:f&&de,emissiveMap:fe,normalMapObjectSpace:ue&&a.normalMapType===1,normalMapTangentSpace:ue&&a.normalMapType===0,metalnessMap:pe,roughnessMap:me,anisotropy:he,anisotropyMap:ye,clearcoat:ge,clearcoatMap:be,clearcoatNormalMap:N,clearcoatRoughnessMap:xe,dispersion:_e,iridescence:j,iridescenceMap:Se,iridescenceThicknessMap:Ce,sheen:M,sheenColorMap:we,sheenRoughnessMap:Te,specularMap:Ee,specularColorMap:De,specularIntensityMap:Oe,transmission:ve,transmissionMap:P,thicknessMap:ke,gradientMap:Ae,opaque:a.transparent===!1&&a.blending===1&&a.alphaToCoverage===!1,alphaMap:je,alphaTest:Me,alphaHash:Ne,combine:a.combine,mapUv:ie&&h(a.map.channel),aoMapUv:se&&h(a.aoMap.channel),lightMapUv:ce&&h(a.lightMap.channel),bumpMapUv:le&&h(a.bumpMap.channel),normalMapUv:ue&&h(a.normalMap.channel),displacementMapUv:de&&h(a.displacementMap.channel),emissiveMapUv:fe&&h(a.emissiveMap.channel),metalnessMapUv:pe&&h(a.metalnessMap.channel),roughnessMapUv:me&&h(a.roughnessMap.channel),anisotropyMapUv:ye&&h(a.anisotropyMap.channel),clearcoatMapUv:be&&h(a.clearcoatMap.channel),clearcoatNormalMapUv:N&&h(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xe&&h(a.clearcoatRoughnessMap.channel),iridescenceMapUv:Se&&h(a.iridescenceMap.channel),iridescenceThicknessMapUv:Ce&&h(a.iridescenceThicknessMap.channel),sheenColorMapUv:we&&h(a.sheenColorMap.channel),sheenRoughnessMapUv:Te&&h(a.sheenRoughnessMap.channel),specularMapUv:Ee&&h(a.specularMap.channel),specularColorMapUv:De&&h(a.specularColorMap.channel),specularIntensityMapUv:Oe&&h(a.specularIntensityMap.channel),transmissionMapUv:P&&h(a.transmissionMap.channel),thicknessMapUv:ke&&h(a.thicknessMap.channel),alphaMapUv:je&&h(a.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(ue||he),vertexColors:a.vertexColors,vertexAlphas:a.vertexColors===!0&&!!y.attributes.color&&y.attributes.color.itemSize===4,pointsUvs:_.isPoints===!0&&!!y.attributes.uv&&(ie||je),fog:!!v,useFog:a.fog===!0,fogExp2:!!v&&v.isFogExp2,flatShading:a.flatShading===!0&&a.wireframe===!1,sizeAttenuation:a.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:te,skinning:_.isSkinnedMesh===!0,morphTargets:y.morphAttributes.position!==void 0,morphNormals:y.morphAttributes.normal!==void 0,morphColors:y.morphAttributes.color!==void 0,morphTargetsCount:T,morphTextureStride:E,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:Fe,decodeVideoTexture:ie&&a.map.isVideoTexture===!0&&c$.getTransfer(a.map.colorSpace)===`srgb`,decodeVideoTextureEmissive:fe&&a.emissiveMap.isVideoTexture===!0&&c$.getTransfer(a.emissiveMap.colorSpace)===`srgb`,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===2,flipSided:a.side===1,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:Pe&&a.extensions.clipCullDistance===!0&&r.has(`WEBGL_clip_cull_distance`),extensionMultiDraw:(Pe&&a.extensions.multiDraw===!0||re)&&r.has(`WEBGL_multi_draw`),rendererExtensionParallelShaderCompile:r.has(`KHR_parallel_shader_compile`),customProgramCacheKey:a.customProgramCacheKey()};return Ie.vertexUv1s=l.has(1),Ie.vertexUv2s=l.has(2),Ie.vertexUv3s=l.has(3),l.clear(),Ie}function _(t){let n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),t.defines!==void 0)for(let e in t.defines)n.push(e),n.push(t.defines[e]);return t.isRawShaderMaterial===!1&&(v(n,t),y(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()}function v(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function y(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0),t.instancing&&s.enable(1),t.instancingColor&&s.enable(2),t.instancingMorph&&s.enable(3),t.matcap&&s.enable(4),t.envMap&&s.enable(5),t.normalMapObjectSpace&&s.enable(6),t.normalMapTangentSpace&&s.enable(7),t.clearcoat&&s.enable(8),t.iridescence&&s.enable(9),t.alphaTest&&s.enable(10),t.vertexColors&&s.enable(11),t.vertexAlphas&&s.enable(12),t.vertexUv1s&&s.enable(13),t.vertexUv2s&&s.enable(14),t.vertexUv3s&&s.enable(15),t.vertexTangents&&s.enable(16),t.anisotropy&&s.enable(17),t.alphaHash&&s.enable(18),t.batching&&s.enable(19),t.dispersion&&s.enable(20),t.batchingColor&&s.enable(21),t.gradientMap&&s.enable(22),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.reversedDepthBuffer&&s.enable(4),t.skinning&&s.enable(5),t.morphTargets&&s.enable(6),t.morphNormals&&s.enable(7),t.morphColors&&s.enable(8),t.premultipliedAlpha&&s.enable(9),t.shadowMapEnabled&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.transmission&&s.enable(15),t.sheen&&s.enable(16),t.opaque&&s.enable(17),t.pointsUvs&&s.enable(18),t.decodeVideoTexture&&s.enable(19),t.decodeVideoTextureEmissive&&s.enable(20),t.alphaToCoverage&&s.enable(21),e.push(s.mask)}function b(e){let t=m[e.type],n;if(t){let e=e8[t];n=D0.clone(e.uniforms)}else n=e.uniforms;return n}function x(t,n){let r;for(let e=0,t=u.length;e<t;e++){let t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return r===void 0&&(r=new Wte(e,n,t,a),u.push(r)),r}function S(e){if(--e.usedTimes===0){let t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}}function C(e){c.remove(e)}function w(){c.dispose()}return{getParameters:g,getProgramCacheKey:_,getUniforms:b,acquireProgram:x,releaseProgram:S,releaseShaderCache:C,programs:u,dispose:w}}function Yte(){let e=new WeakMap;function t(t){return e.has(t)}function n(t){let n=e.get(t);return n===void 0&&(n={},e.set(t,n)),n}function r(t){e.delete(t)}function i(t,n,r){e.get(t)[n]=r}function a(){e=new WeakMap}return{has:t,get:n,remove:r,update:i,dispose:a}}function Xte(e,t){return e.groupOrder===t.groupOrder?e.renderOrder===t.renderOrder?e.material.id===t.material.id?e.z===t.z?e.id-t.id:e.z-t.z:e.material.id-t.material.id:e.renderOrder-t.renderOrder:e.groupOrder-t.groupOrder}function _7(e,t){return e.groupOrder===t.groupOrder?e.renderOrder===t.renderOrder?e.z===t.z?e.id-t.id:t.z-e.z:e.renderOrder-t.renderOrder:e.groupOrder-t.groupOrder}function v7(){let e=[],t=0,n=[],r=[],i=[];function a(){t=0,n.length=0,r.length=0,i.length=0}function o(n,r,i,a,o,s){let c=e[t];return c===void 0?(c={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=c):(c.id=n.id,c.object=n,c.geometry=r,c.material=i,c.groupOrder=a,c.renderOrder=n.renderOrder,c.z=o,c.group=s),t++,c}function s(e,t,a,s,c,l){let u=o(e,t,a,s,c,l);a.transmission>0?r.push(u):a.transparent===!0?i.push(u):n.push(u)}function c(e,t,a,s,c,l){let u=o(e,t,a,s,c,l);a.transmission>0?r.unshift(u):a.transparent===!0?i.unshift(u):n.unshift(u)}function l(e,t){n.length>1&&n.sort(e||Xte),r.length>1&&r.sort(t||_7),i.length>1&&i.sort(t||_7)}function u(){for(let n=t,r=e.length;n<r;n++){let t=e[n];if(t.id===null)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:c,finish:u,sort:l}}function Zte(){let e=new WeakMap;function t(t,n){let r=e.get(t),i;return r===void 0?(i=new v7,e.set(t,[i])):n>=r.length?(i=new v7,r.push(i)):i=r[n],i}function n(){e=new WeakMap}return{get:t,dispose:n}}function Qte(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case`DirectionalLight`:n={direction:new Q,color:new U1};break;case`SpotLight`:n={position:new Q,direction:new Q,color:new U1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case`PointLight`:n={position:new Q,color:new U1,distance:0,decay:0};break;case`HemisphereLight`:n={direction:new Q,skyColor:new U1,groundColor:new U1};break;case`RectAreaLight`:n={color:new U1,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return e[t.id]=n,n}}}function $te(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case`DirectionalLight`:n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $Q};break;case`SpotLight`:n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $Q};break;case`PointLight`:n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $Q,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}var ene=0;function tne(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function nne(e){let t=new Qte,n=$te(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new Q);let i=new Q,a=new Z$,o=new Z$;function s(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,l=0,u=0,d=0,f=0,p=0,m=0,h=0,g=0,_=0,v=0;i.sort(tne);for(let e=0,y=i.length;e<y;e++){let y=i[e],b=y.color,x=y.intensity,S=y.distance,C=y.shadow&&y.shadow.map?y.shadow.map.texture:null;if(y.isAmbientLight)a+=b.r*x,o+=b.g*x,s+=b.b*x;else if(y.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(y.sh.coefficients[e],x);v++}else if(y.isDirectionalLight){let e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),y.castShadow){let e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[c]=t,r.directionalShadowMap[c]=C,r.directionalShadowMatrix[c]=y.shadow.matrix,p++}r.directional[c]=e,c++}else if(y.isSpotLight){let e=t.get(y);e.position.setFromMatrixPosition(y.matrixWorld),e.color.copy(b).multiplyScalar(x),e.distance=S,e.coneCos=Math.cos(y.angle),e.penumbraCos=Math.cos(y.angle*(1-y.penumbra)),e.decay=y.decay,r.spot[u]=e;let i=y.shadow;if(y.map&&(r.spotLightMap[g]=y.map,g++,i.updateMatrices(y),y.castShadow&&_++),r.spotLightMatrix[u]=i.matrix,y.castShadow){let e=n.get(y);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=C,h++}u++}else if(y.isRectAreaLight){let e=t.get(y);e.color.copy(b).multiplyScalar(x),e.halfWidth.set(y.width*.5,0,0),e.halfHeight.set(0,y.height*.5,0),r.rectArea[d]=e,d++}else if(y.isPointLight){let e=t.get(y);if(e.color.copy(y.color).multiplyScalar(y.intensity),e.distance=y.distance,e.decay=y.decay,y.castShadow){let e=y.shadow,t=n.get(y);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[l]=t,r.pointShadowMap[l]=C,r.pointShadowMatrix[l]=y.shadow.matrix,m++}r.point[l]=e,l++}else if(y.isHemisphereLight){let e=t.get(y);e.skyColor.copy(y.color).multiplyScalar(x),e.groundColor.copy(y.groundColor).multiplyScalar(x),r.hemi[f]=e,f++}}d>0&&(e.has(`OES_texture_float_linear`)===!0?(r.rectAreaLTC1=$6.LTC_FLOAT_1,r.rectAreaLTC2=$6.LTC_FLOAT_2):(r.rectAreaLTC1=$6.LTC_HALF_1,r.rectAreaLTC2=$6.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;let y=r.hash;(y.directionalLength!==c||y.pointLength!==l||y.spotLength!==u||y.rectAreaLength!==d||y.hemiLength!==f||y.numDirectionalShadows!==p||y.numPointShadows!==m||y.numSpotShadows!==h||y.numSpotMaps!==g||y.numLightProbes!==v)&&(r.directional.length=c,r.spot.length=u,r.rectArea.length=d,r.point.length=l,r.hemi.length=f,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=h,r.spotShadowMap.length=h,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=m,r.spotLightMatrix.length=h+g-_,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=_,r.numLightProbes=v,y.directionalLength=c,y.pointLength=l,y.spotLength=u,y.rectAreaLength=d,y.hemiLength=f,y.numDirectionalShadows=p,y.numPointShadows=m,y.numSpotShadows=h,y.numSpotMaps=g,y.numLightProbes=v,r.version=ene++)}function c(e,t){let n=0,s=0,c=0,l=0,u=0,d=t.matrixWorldInverse;for(let t=0,f=e.length;t<f;t++){let f=e[t];if(f.isDirectionalLight){let e=r.directional[n];e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(f.isSpotLight){let e=r.spot[c];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),c++}else if(f.isRectAreaLight){let e=r.rectArea[l];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(f.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(f.width*.5,0,0),e.halfHeight.set(0,f.height*.5,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),l++}else if(f.isPointLight){let e=r.point[s];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),s++}else if(f.isHemisphereLight){let e=r.hemi[u];e.direction.setFromMatrixPosition(f.matrixWorld),e.direction.transformDirection(d),u++}}}return{setup:s,setupView:c,state:r}}function y7(e){let t=new nne(e),n=[],r=[];function i(e){l.camera=e,n.length=0,r.length=0}function a(e){n.push(e)}function o(e){r.push(e)}function s(){t.setup(n)}function c(e){t.setupView(n,e)}let l={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:i,state:l,setupLights:s,setupLightsView:c,pushLight:a,pushShadow:o}}function rne(e){let t=new WeakMap;function n(n,r=0){let i=t.get(n),a;return i===void 0?(a=new y7(e),t.set(n,[a])):r>=i.length?(a=new y7(e),i.push(a)):a=i[r],a}function r(){t=new WeakMap}return{get:n,dispose:r}}var ine=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,ane=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function one(e,t,n){let r=new E2,i=new $Q,a=new $Q,o=new y$,s=new k3({depthPacking:sQ}),c=new A3,l={},u=n.maxTextureSize,d={0:1,1:0,2:2},f=new A0({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $Q},radius:{value:4}},vertexShader:ine,fragmentShader:ane}),p=f.clone();p.defines.HORIZONTAL_PASS=1;let m=new c0;m.setAttribute(`position`,new Z1(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let h=new $(m,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let _=this.type;this.render=function(t,n,s){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||t.length===0)return;let c=e.getRenderTarget(),l=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.depth.getReversed()===!0?f.buffers.color.setClear(0,0,0,0):f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);let p=_!==3&&this.type===3,m=_===3&&this.type!==3;for(let c=0,l=t.length;c<l;c++){let l=t[c],d=l.shadow;if(d===void 0){xQ(`WebGLShadowMap:`,l,`has no shadow.`);continue}if(d.autoUpdate===!1&&d.needsUpdate===!1)continue;i.copy(d.mapSize);let h=d.getFrameExtents();if(i.multiply(h),a.copy(d.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/h.x),i.x=a.x*h.x,d.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/h.y),i.y=a.y*h.y,d.mapSize.y=a.y)),d.map===null||p===!0||m===!0){let e=this.type===3?{}:{minFilter:KX,magFilter:KX};d.map!==null&&d.map.dispose(),d.map=new x$(i.x,i.y,e),d.map.texture.name=l.name+`.shadowMap`,d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();let g=d.getViewportCount();for(let e=0;e<g;e++){let t=d.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),f.viewport(o),d.updateMatrices(l,e),r=d.getFrustum(),b(n,s,d.camera,l,this.type)}d.isPointLightShadow!==!0&&this.type===3&&v(d,s),d.needsUpdate=!1}_=this.type,g.needsUpdate=!1,e.setRenderTarget(c,l,d)};function v(n,r){let a=t.update(h);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),n.mapPass===null&&(n.mapPass=new x$(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,f,h,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,p,h,null)}function y(t,n,r,i){let a=null,o=r.isPointLight===!0?t.customDistanceMaterial:t.customDepthMaterial;if(o!==void 0)a=o;else if(a=r.isPointLight===!0?c:s,e.localClippingEnabled&&n.clipShadows===!0&&Array.isArray(n.clippingPlanes)&&n.clippingPlanes.length!==0||n.displacementMap&&n.displacementScale!==0||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||n.alphaToCoverage===!0){let e=a.uuid,t=n.uuid,r=l[e];r===void 0&&(r={},l[e]=r);let i=r[t];i===void 0&&(i=a.clone(),r[t]=i,n.addEventListener(`dispose`,x)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,i===3?a.side=n.shadowSide===null?n.side:n.shadowSide:a.side=n.shadowSide===null?d[n.side]:n.shadowSide,a.alphaMap=n.alphaMap,a.alphaTest=n.alphaToCoverage===!0?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r.isPointLight===!0&&a.isMeshDistanceMaterial===!0){let t=e.properties.get(a);t.light=r}return a}function b(n,i,a,o,s){if(n.visible===!1)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===3)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);let r=t.update(n),c=n.material;if(Array.isArray(c)){let t=r.groups;for(let l=0,u=t.length;l<u;l++){let u=t[l],d=c[u.materialIndex];if(d&&d.visible){let t=y(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(c.visible){let t=y(n,c,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}let c=n.children;for(let e=0,t=c.length;e<t;e++)b(c[e],i,a,o,s)}function x(e){for(let t in e.target.removeEventListener(`dispose`,x),l){let n=l[t],r=e.target.uuid;r in n&&(n[r].dispose(),delete n[r])}}}var sne={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function cne(e,t){function n(){let t=!1,n=new y$,r=null,i=new y$(0,0,0,0);return{setMask:function(n){r!==n&&!t&&(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){s===!0&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),i.equals(n)===!1&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function r(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){let n=t.get(`EXT_clip_control`);e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;let i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?fe(e.DEPTH_TEST):pe(e.DEPTH_TEST)},setMask:function(t){i!==t&&!n&&(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=sne[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}}function i(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(n){t||(n?fe(e.STENCIL_TEST):pe(e.STENCIL_TEST))},setMask:function(r){n!==r&&!t&&(e.stencilMask(r),n=r)},setFunc:function(t,n,o){(r!==t||i!==n||a!==o)&&(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){(o!==t||s!==n||c!==r)&&(e.stencilOp(t,n,r),o=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null}}}let a=new n,o=new r,s=new i,c=new WeakMap,l=new WeakMap,u={},d={},f=new WeakMap,p=[],m=null,h=!1,g=null,_=null,v=null,y=null,b=null,x=null,S=null,C=new U1(0,0,0),w=0,T=!1,E=null,D=null,O=null,k=null,A=null,ee=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),te=!1,ne=0,re=e.getParameter(e.VERSION);re.indexOf(`WebGL`)===-1?re.indexOf(`OpenGL ES`)!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),te=ne>=2):(ne=parseFloat(/^WebGL (\d)/.exec(re)[1]),te=ne>=1);let ie=null,ae={},oe=e.getParameter(e.SCISSOR_BOX),se=e.getParameter(e.VIEWPORT),ce=new y$().fromArray(oe),le=new y$().fromArray(se);function ue(t,n,r,i){let a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}let de={};de[e.TEXTURE_2D]=ue(e.TEXTURE_2D,e.TEXTURE_2D,1),de[e.TEXTURE_CUBE_MAP]=ue(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[e.TEXTURE_2D_ARRAY]=ue(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),de[e.TEXTURE_3D]=ue(e.TEXTURE_3D,e.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),fe(e.DEPTH_TEST),o.setFunc(3),ye(!1),be(1),fe(e.CULL_FACE),M(0);function fe(t){u[t]!==!0&&(e.enable(t),u[t]=!0)}function pe(t){u[t]!==!1&&(e.disable(t),u[t]=!1)}function me(t,n){return d[t]===n?!1:(e.bindFramebuffer(t,n),d[t]=n,t===e.DRAW_FRAMEBUFFER&&(d[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(d[e.DRAW_FRAMEBUFFER]=n),!0)}function he(t,n){let r=p,i=!1;if(t){r=f.get(n),r===void 0&&(r=[],f.set(n,r));let a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)}function ge(t){return m===t?!1:(e.useProgram(t),m=t,!0)}let _e={100:e.FUNC_ADD,101:e.FUNC_SUBTRACT,102:e.FUNC_REVERSE_SUBTRACT};_e[103]=e.MIN,_e[104]=e.MAX;let j={200:e.ZERO,201:e.ONE,202:e.SRC_COLOR,204:e.SRC_ALPHA,210:e.SRC_ALPHA_SATURATE,208:e.DST_COLOR,206:e.DST_ALPHA,203:e.ONE_MINUS_SRC_COLOR,205:e.ONE_MINUS_SRC_ALPHA,209:e.ONE_MINUS_DST_COLOR,207:e.ONE_MINUS_DST_ALPHA,211:e.CONSTANT_COLOR,212:e.ONE_MINUS_CONSTANT_COLOR,213:e.CONSTANT_ALPHA,214:e.ONE_MINUS_CONSTANT_ALPHA};function M(t,n,r,i,a,o,s,c,l,u){if(t===0){h===!0&&(pe(e.BLEND),h=!1);return}if(h===!1&&(fe(e.BLEND),h=!0),t!==5){if(t!==g||u!==T){if((_!==100||b!==100)&&(e.blendEquation(e.FUNC_ADD),_=100,b=100),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:SQ(`WebGLState: Invalid blending: `,t);break}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case 3:SQ(`WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true`);break;case 4:SQ(`WebGLState: MultiplyBlending requires material.premultipliedAlpha = true`);break;default:SQ(`WebGLState: Invalid blending: `,t);break}v=null,y=null,x=null,S=null,C.set(0,0,0),w=0,g=t,T=u}return}a||=n,o||=r,s||=i,(n!==_||a!==b)&&(e.blendEquationSeparate(_e[n],_e[a]),_=n,b=a),(r!==v||i!==y||o!==x||s!==S)&&(e.blendFuncSeparate(j[r],j[i],j[o],j[s]),v=r,y=i,x=o,S=s),(c.equals(C)===!1||l!==w)&&(e.blendColor(c.r,c.g,c.b,l),C.copy(c),w=l),g=t,T=!1}function ve(t,n){t.side===2?pe(e.CULL_FACE):fe(e.CULL_FACE);let r=t.side===1;n&&(r=!r),ye(r),t.blending===1&&t.transparent===!1?M(0):M(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),a.setMask(t.colorWrite);let i=t.stencilWrite;s.setTest(i),i&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),xe(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),t.alphaToCoverage===!0?fe(e.SAMPLE_ALPHA_TO_COVERAGE):pe(e.SAMPLE_ALPHA_TO_COVERAGE)}function ye(t){E!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),E=t)}function be(t){t===0?pe(e.CULL_FACE):(fe(e.CULL_FACE),t!==D&&(t===1?e.cullFace(e.BACK):t===2?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))),D=t}function N(t){t!==O&&(te&&e.lineWidth(t),O=t)}function xe(t,n,r){t?(fe(e.POLYGON_OFFSET_FILL),(k!==n||A!==r)&&(e.polygonOffset(n,r),k=n,A=r)):pe(e.POLYGON_OFFSET_FILL)}function Se(t){t?fe(e.SCISSOR_TEST):pe(e.SCISSOR_TEST)}function Ce(t){t===void 0&&(t=e.TEXTURE0+ee-1),ie!==t&&(e.activeTexture(t),ie=t)}function we(t,n,r){r===void 0&&(r=ie===null?e.TEXTURE0+ee-1:ie);let i=ae[r];i===void 0&&(i={type:void 0,texture:void 0},ae[r]=i),(i.type!==t||i.texture!==n)&&(ie!==r&&(e.activeTexture(r),ie=r),e.bindTexture(t,n||de[t]),i.type=t,i.texture=n)}function Te(){let t=ae[ie];t!==void 0&&t.type!==void 0&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function Ee(){try{e.compressedTexImage2D(...arguments)}catch(e){e(`WebGLState:`,e)}}function De(){try{e.compressedTexImage3D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Oe(){try{e.texSubImage2D(...arguments)}catch(e){e(`WebGLState:`,e)}}function P(){try{e.texSubImage3D(...arguments)}catch(e){e(`WebGLState:`,e)}}function ke(){try{e.compressedTexSubImage2D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Ae(){try{e.compressedTexSubImage3D(...arguments)}catch(e){e(`WebGLState:`,e)}}function je(){try{e.texStorage2D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Me(){try{e.texStorage3D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Ne(){try{e.texImage2D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Pe(){try{e.texImage3D(...arguments)}catch(e){e(`WebGLState:`,e)}}function Fe(t){ce.equals(t)===!1&&(e.scissor(t.x,t.y,t.z,t.w),ce.copy(t))}function Ie(t){le.equals(t)===!1&&(e.viewport(t.x,t.y,t.z,t.w),le.copy(t))}function Le(t,n){let r=l.get(n);r===void 0&&(r=new WeakMap,l.set(n,r));let i=r.get(t);i===void 0&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))}function Re(t,n){let r=l.get(n).get(t);c.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),c.set(n,r))}function ze(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),o.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},ie=null,ae={},d={},f=new WeakMap,p=[],m=null,h=!1,g=null,_=null,v=null,y=null,b=null,x=null,S=null,C=new U1(0,0,0),w=0,T=!1,E=null,D=null,O=null,k=null,A=null,ce.set(0,0,e.canvas.width,e.canvas.height),le.set(0,0,e.canvas.width,e.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:fe,disable:pe,bindFramebuffer:me,drawBuffers:he,useProgram:ge,setBlending:M,setMaterial:ve,setFlipSided:ye,setCullFace:be,setLineWidth:N,setPolygonOffset:xe,setScissorTest:Se,activeTexture:Ce,bindTexture:we,unbindTexture:Te,compressedTexImage2D:Ee,compressedTexImage3D:De,texImage2D:Ne,texImage3D:Pe,updateUBOMapping:Le,uniformBlockBinding:Re,texStorage2D:je,texStorage3D:Me,texSubImage2D:Oe,texSubImage3D:P,compressedTexSubImage2D:ke,compressedTexSubImage3D:Ae,scissor:Fe,viewport:Ie,reset:ze}}function lne(e,t,n,r,i,a,o){let s=t.has(`WEBGL_multisampled_render_to_texture`)?t.get(`WEBGL_multisampled_render_to_texture`):null,c=typeof navigator>`u`?!1:/OculusBrowser/g.test(navigator.userAgent),l=new $Q,u=new WeakMap,d,f=new WeakMap,p=!1;try{p=typeof OffscreenCanvas<`u`&&new OffscreenCanvas(1,1).getContext(`2d`)!==null}catch{}function m(e,t){return p?new OffscreenCanvas(e,t):gQ(`canvas`)}function h(e,t,n){let r=1,i=we(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1)if(typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement||typeof ImageBitmap<`u`&&e instanceof ImageBitmap||typeof VideoFrame<`u`&&e instanceof VideoFrame){let n=Math.floor(r*i.width),a=Math.floor(r*i.height);d===void 0&&(d=m(n,a));let o=t?m(n,a):d;return o.width=n,o.height=a,o.getContext(`2d`).drawImage(e,0,0,n,a),xQ(`WebGLRenderer: Texture has been resized from (`+i.width+`x`+i.height+`) to (`+n+`x`+a+`).`),o}else return`data`in e&&xQ(`WebGLRenderer: Image in DataTexture is too big (`+i.width+`x`+i.height+`).`),e;return e}function g(e){return e.generateMipmaps}function _(t){e.generateMipmap(t)}function v(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function y(n,r,i,a,o=!1){if(n!==null){if(e[n]!==void 0)return e[n];xQ(`WebGLRenderer: Attempt to use non-existing WebGL internal format '`+n+`'`)}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),r===e.RGBA){let t=o?uQ:c$.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===`srgb`?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return(s===e.R16F||s===e.R32F||s===e.RG16F||s===e.RG32F||s===e.RGBA16F||s===e.RGBA32F)&&t.get(`EXT_color_buffer_float`),s}function b(t,n){let r;return t?n===null||n===1014||n===1020?r=e.DEPTH24_STENCIL8:n===1015?r=e.DEPTH32F_STENCIL8:n===1012&&(r=e.DEPTH24_STENCIL8,xQ(`DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.`)):n===null||n===1014||n===1020?r=e.DEPTH_COMPONENT24:n===1015?r=e.DEPTH_COMPONENT32F:n===1012&&(r=e.DEPTH_COMPONENT16),r}function x(e,t){return g(e)===!0||e.isFramebufferTexture&&e.minFilter!==1003&&e.minFilter!==1006?Math.log2(Math.max(t.width,t.height))+1:e.mipmaps!==void 0&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function S(e){let t=e.target;t.removeEventListener(`dispose`,S),w(t),t.isVideoTexture&&u.delete(t)}function C(e){let t=e.target;t.removeEventListener(`dispose`,C),E(t)}function w(e){let t=r.get(e);if(t.__webglInit===void 0)return;let n=e.source,i=f.get(n);if(i){let r=i[t.__cacheKey];r.usedTimes--,r.usedTimes===0&&T(e),Object.keys(i).length===0&&f.delete(n)}r.remove(e)}function T(t){let n=r.get(t);e.deleteTexture(n.__webglTexture);let i=t.source,a=f.get(i);delete a[n.__cacheKey],o.memory.textures--}function E(t){let n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}let i=t.textures;for(let t=0,n=i.length;t<n;t++){let n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}let D=0;function O(){D=0}function k(){let e=D;return e>=i.maxTextures&&xQ(`WebGLTextures: Trying to use `+e+` texture units while this GPU supports only `+i.maxTextures),D+=1,e}function A(e){let t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}function ee(t,i){let a=r.get(t);if(t.isVideoTexture&&Se(t),t.isRenderTargetTexture===!1&&t.isExternalTexture!==!0&&t.version>0&&a.__version!==t.version){let e=t.image;if(e===null)xQ(`WebGLRenderer: Texture marked for update but no image data found.`);else if(e.complete===!1)xQ(`WebGLRenderer: Texture marked for update but image is incomplete`);else{de(a,t,i);return}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}function te(t,i){let a=r.get(t);if(t.isRenderTargetTexture===!1&&t.version>0&&a.__version!==t.version){de(a,t,i);return}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)}function ne(t,i){let a=r.get(t);if(t.isRenderTargetTexture===!1&&t.version>0&&a.__version!==t.version){de(a,t,i);return}n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)}function re(t,i){let a=r.get(t);if(t.version>0&&a.__version!==t.version){fe(a,t,i);return}n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)}let ie={[UX]:e.REPEAT,[WX]:e.CLAMP_TO_EDGE,[GX]:e.MIRRORED_REPEAT},ae={[KX]:e.NEAREST,[qX]:e.NEAREST_MIPMAP_NEAREST,[JX]:e.NEAREST_MIPMAP_LINEAR,[YX]:e.LINEAR,[XX]:e.LINEAR_MIPMAP_NEAREST,[ZX]:e.LINEAR_MIPMAP_LINEAR},oe={512:e.NEVER,519:e.ALWAYS,513:e.LESS,515:e.LEQUAL,514:e.EQUAL,518:e.GEQUAL,516:e.GREATER,517:e.NOTEQUAL};function se(n,a){if(a.type===1015&&t.has(`OES_texture_float_linear`)===!1&&(a.magFilter===1006||a.magFilter===1007||a.magFilter===1005||a.magFilter===1008||a.minFilter===1006||a.minFilter===1007||a.minFilter===1005||a.minFilter===1008)&&xQ(`WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.`),e.texParameteri(n,e.TEXTURE_WRAP_S,ie[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,ie[a.wrapT]),(n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY)&&e.texParameteri(n,e.TEXTURE_WRAP_R,ie[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,ae[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,ae[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,oe[a.compareFunction])),t.has(`EXT_texture_filter_anisotropic`)===!0){if(a.magFilter===1003||a.minFilter!==1005&&a.minFilter!==1008||a.type===1015&&t.has(`OES_texture_float_linear`)===!1)return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){let o=t.get(`EXT_texture_filter_anisotropic`);e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function ce(t,n){let r=!1;t.__webglInit===void 0&&(t.__webglInit=!0,n.addEventListener(`dispose`,S));let i=n.source,a=f.get(i);a===void 0&&(a={},f.set(i,a));let s=A(n);if(s!==t.__cacheKey){a[s]===void 0&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;let i=a[t.__cacheKey];i!==void 0&&(a[t.__cacheKey].usedTimes--,i.usedTimes===0&&T(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function le(e,t,n){return Math.floor(Math.floor(e/n)/t)}function ue(t,r,i,a){let o=t.updateRanges;if(o.length===0)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){let t=o[s],n=o[e],i=t.start+t.count,a=le(n.start,r.width,4),c=le(t.start,r.width,4);n.start<=i+1&&a===c&&le(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;let c=e.getParameter(e.UNPACK_ROW_LENGTH),l=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,s=o.length;t<s;t++){let s=o[t],c=Math.floor(s.start/4),l=Math.ceil(s.count/4),u=c%r.width,d=Math.floor(c/r.width),f=l;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,f,1,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,c),e.pixelStorei(e.UNPACK_SKIP_PIXELS,l),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}function de(t,o,s){let c=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(c=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(c=e.TEXTURE_3D);let l=ce(t,o),u=o.source;n.bindTexture(c,t.__webglTexture,e.TEXTURE0+s);let d=r.get(u);if(u.version!==d.__version||l===!0){n.activeTexture(e.TEXTURE0+s);let t=c$.getPrimaries(c$.workingColorSpace),r=o.colorSpace===``?null:c$.getPrimaries(o.colorSpace),f=o.colorSpace===``||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let p=h(o.image,!1,i.maxTextureSize);p=Ce(o,p);let m=a.convert(o.format,o.colorSpace),v=a.convert(o.type),S=y(o.internalFormat,m,v,o.colorSpace,o.isVideoTexture);se(c,o);let C,w=o.mipmaps,T=o.isVideoTexture!==!0,E=d.__version===void 0||l===!0,D=u.dataReady,O=x(o,p);if(o.isDepthTexture)S=b(o.format===hZ,o.type),E&&(T?n.texStorage2D(e.TEXTURE_2D,1,S,p.width,p.height):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,v,null));else if(o.isDataTexture)if(w.length>0){T&&E&&n.texStorage2D(e.TEXTURE_2D,O,S,w[0].width,w[0].height);for(let t=0,r=w.length;t<r;t++)C=w[t],T?D&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,v,C.data):n.texImage2D(e.TEXTURE_2D,t,S,C.width,C.height,0,m,v,C.data);o.generateMipmaps=!1}else T?(E&&n.texStorage2D(e.TEXTURE_2D,O,S,p.width,p.height),D&&ue(o,p,m,v)):n.texImage2D(e.TEXTURE_2D,0,S,p.width,p.height,0,m,v,p.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){T&&E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,O,S,w[0].width,w[0].height,p.depth);for(let t=0,r=w.length;t<r;t++)if(C=w[t],o.format!==1023)if(m!==null)if(T){if(D)if(o.layerUpdates.size>0){let r=J6(C.width,C.height,o.format,o.type);for(let i of o.layerUpdates){let a=C.data.subarray(i*r/C.data.BYTES_PER_ELEMENT,(i+1)*r/C.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,C.width,C.height,1,m,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,C.width,C.height,p.depth,m,C.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,C.width,C.height,p.depth,0,C.data,0,0);else xQ(`WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()`);else T?D&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,C.width,C.height,p.depth,m,v,C.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,C.width,C.height,p.depth,0,m,v,C.data)}else{T&&E&&n.texStorage2D(e.TEXTURE_2D,O,S,w[0].width,w[0].height);for(let t=0,r=w.length;t<r;t++)C=w[t],o.format===1023?T?D&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,v,C.data):n.texImage2D(e.TEXTURE_2D,t,S,C.width,C.height,0,m,v,C.data):m===null?xQ(`WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()`):T?D&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,C.width,C.height,m,C.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,C.width,C.height,0,C.data)}else if(o.isDataArrayTexture)if(T){if(E&&n.texStorage3D(e.TEXTURE_2D_ARRAY,O,S,p.width,p.height,p.depth),D)if(o.layerUpdates.size>0){let t=J6(p.width,p.height,o.format,o.type);for(let r of o.layerUpdates){let i=p.data.subarray(r*t/p.data.BYTES_PER_ELEMENT,(r+1)*t/p.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,p.width,p.height,1,m,v,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isData3DTexture)T?(E&&n.texStorage3D(e.TEXTURE_3D,O,S,p.width,p.height,p.depth),D&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,p.width,p.height,p.depth,m,v,p.data)):n.texImage3D(e.TEXTURE_3D,0,S,p.width,p.height,p.depth,0,m,v,p.data);else if(o.isFramebufferTexture){if(E)if(T)n.texStorage2D(e.TEXTURE_2D,O,S,p.width,p.height);else{let t=p.width,r=p.height;for(let i=0;i<O;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,m,v,null),t>>=1,r>>=1}}else if(w.length>0){if(T&&E){let t=we(w[0]);n.texStorage2D(e.TEXTURE_2D,O,S,t.width,t.height)}for(let t=0,r=w.length;t<r;t++)C=w[t],T?D&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,v,C):n.texImage2D(e.TEXTURE_2D,t,S,m,v,C);o.generateMipmaps=!1}else if(T){if(E){let t=we(p);n.texStorage2D(e.TEXTURE_2D,O,S,t.width,t.height)}D&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,v,p)}else n.texImage2D(e.TEXTURE_2D,0,S,m,v,p);g(o)&&_(c),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function fe(t,o,s){if(o.image.length!==6)return;let c=ce(t,o),l=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);let u=r.get(l);if(l.version!==u.__version||c===!0){n.activeTexture(e.TEXTURE0+s);let t=c$.getPrimaries(c$.workingColorSpace),r=o.colorSpace===``?null:c$.getPrimaries(o.colorSpace),d=o.colorSpace===``||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);let f=o.isCompressedTexture||o.image[0].isCompressedTexture,p=o.image[0]&&o.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)!f&&!p?m[e]=h(o.image[e],!0,i.maxCubemapSize):m[e]=p?o.image[e].image:o.image[e],m[e]=Ce(o,m[e]);let v=m[0],b=a.convert(o.format,o.colorSpace),S=a.convert(o.type),C=y(o.internalFormat,b,S,o.colorSpace),w=o.isVideoTexture!==!0,T=u.__version===void 0||c===!0,E=l.dataReady,D=x(o,v);se(e.TEXTURE_CUBE_MAP,o);let O;if(f){w&&T&&n.texStorage2D(e.TEXTURE_CUBE_MAP,D,C,v.width,v.height);for(let t=0;t<6;t++){O=m[t].mipmaps;for(let r=0;r<O.length;r++){let i=O[r];o.format===1023?w?E&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,b,S,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,C,i.width,i.height,0,b,S,i.data):b===null?xQ(`WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()`):w?E&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,b,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,C,i.width,i.height,0,i.data)}}}else{if(O=o.mipmaps,w&&T){O.length>0&&D++;let t=we(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,D,C,t.width,t.height)}for(let t=0;t<6;t++)if(p){w?E&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,b,S,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,C,m[t].width,m[t].height,0,b,S,m[t].data);for(let r=0;r<O.length;r++){let i=O[r].image[t].image;w?E&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,b,S,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,C,i.width,i.height,0,b,S,i.data)}}else{w?E&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,b,S,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,C,b,S,m[t]);for(let r=0;r<O.length;r++){let i=O[r];w?E&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,b,S,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,C,b,S,i.image[t])}}}g(o)&&_(e.TEXTURE_CUBE_MAP),u.__version=l.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function pe(t,i,o,c,l,u){let d=a.convert(o.format,o.colorSpace),f=a.convert(o.type),p=y(o.internalFormat,d,f,o.colorSpace),m=r.get(i),h=r.get(o);if(h.__renderTarget=i,!m.__hasExternalTextures){let t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,u,p,t,r,i.depth,0,d,f,null):n.texImage2D(l,u,p,t,r,0,d,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),xe(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,c,l,h.__webglTexture,0,N(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,c,l,h.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function me(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){let i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=b(n.stencilBuffer,a),c=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,l=N(n);xe(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,l,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,l,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,c,e.RENDERBUFFER,t)}else{let t=n.textures;for(let i=0;i<t.length;i++){let o=t[i],c=a.convert(o.format,o.colorSpace),l=a.convert(o.type),u=y(o.internalFormat,c,l,o.colorSpace),d=N(n);r&&xe(n)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):xe(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function he(t,i){if(i&&i.isWebGLCubeRenderTarget)throw Error(`Depth Texture with cube render targets is not supported`);if(n.bindFramebuffer(e.FRAMEBUFFER,t),!(i.depthTexture&&i.depthTexture.isDepthTexture))throw Error(`renderTarget.depthTexture must be an instance of THREE.DepthTexture`);let a=r.get(i.depthTexture);a.__renderTarget=i,(!a.__webglTexture||i.depthTexture.image.width!==i.width||i.depthTexture.image.height!==i.height)&&(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),ee(i.depthTexture,0);let o=a.__webglTexture,c=N(i);if(i.depthTexture.format===1026)xe(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else if(i.depthTexture.format===1027)xe(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0);else throw Error(`Unknown depthTexture format`)}function ge(t){let i=r.get(t),a=t.isWebGLCubeRenderTarget===!0;if(i.__boundDepthTexture!==t.depthTexture){let e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){let t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener(`dispose`,t)};e.addEventListener(`dispose`,t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw Error(`target.depthTexture not supported in Cube render targets`);let e=t.texture.mipmaps;e&&e.length>0?he(i.__webglFramebuffer[0],t):he(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]===void 0)i.__webglDepthbuffer[r]=e.createRenderbuffer(),me(i.__webglDepthbuffer[r],t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{let r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer===void 0)i.__webglDepthbuffer=e.createRenderbuffer(),me(i.__webglDepthbuffer,t,!1);else{let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}function _e(t,n,i){let a=r.get(t);n!==void 0&&pe(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),i!==void 0&&ge(t)}function j(t){let i=t.texture,s=r.get(t),c=r.get(i);t.addEventListener(`dispose`,C);let l=t.textures,u=t.isWebGLCubeRenderTarget===!0,d=l.length>1;if(d||(c.__webglTexture===void 0&&(c.__webglTexture=e.createTexture()),c.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=l.length;t<n;t++){let n=r.get(l[t]);n.__webglTexture===void 0&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&xe(t)===!1){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<l.length;n++){let r=l[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);let i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),c=y(r.internalFormat,i,o,r.colorSpace,t.isXRRenderTarget===!0),u=N(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),me(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),se(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)pe(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else pe(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&_(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=l.length;i<a;i++){let a=l[i],o=r.get(a),c=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(c,o.__webglTexture),se(c,a),pe(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,c,0),g(a)&&_(c)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,c.__webglTexture),se(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)pe(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else pe(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&_(r),n.unbindTexture()}t.depthBuffer&&ge(t)}function M(e){let t=e.textures;for(let i=0,a=t.length;i<a;i++){let a=t[i];if(g(a)){let t=v(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),_(t),n.unbindTexture()}}}let ve=[],ye=[];function be(t){if(t.samples>0){if(xe(t)===!1){let i=t.textures,a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);let f=t.texture.mipmaps;f&&f.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);let t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),c===!0&&(ve.length=0,ye.length=0,ve.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&t.resolveDepthBuffer===!1&&(ve.push(l),ye.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,ye)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,ve))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);let a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&t.resolveDepthBuffer===!1&&c){let n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}}}function N(e){return Math.min(i.maxSamples,e.samples)}function xe(e){let n=r.get(e);return e.samples>0&&t.has(`WEBGL_multisampled_render_to_texture`)===!0&&n.__useRenderToTexture!==!1}function Se(e){let t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}function Ce(e,t){let n=e.colorSpace,r=e.format,i=e.type;return e.isCompressedTexture===!0||e.isVideoTexture===!0||n!==`srgb-linear`&&n!==``&&(c$.getTransfer(n)===`srgb`?(r!==1023||i!==1009)&&xQ(`WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.`):SQ(`WebGLTextures: Unsupported texture color space:`,n)),t}function we(e){return typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement?(l.width=e.naturalWidth||e.width,l.height=e.naturalHeight||e.height):typeof VideoFrame<`u`&&e instanceof VideoFrame?(l.width=e.displayWidth,l.height=e.displayHeight):(l.width=e.width,l.height=e.height),l}this.allocateTextureUnit=k,this.resetTextureUnits=O,this.setTexture2D=ee,this.setTexture2DArray=te,this.setTexture3D=ne,this.setTextureCube=re,this.rebindTextures=_e,this.setupRenderTarget=j,this.updateRenderTargetMipmap=M,this.updateMultisampleRenderTarget=be,this.setupDepthRenderbuffer=ge,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=xe}function une(e,t){function n(n,r=``){let i,a=c$.getTransfer(r);if(n===1009)return e.UNSIGNED_BYTE;if(n===1017)return e.UNSIGNED_SHORT_4_4_4_4;if(n===1018)return e.UNSIGNED_SHORT_5_5_5_1;if(n===35902)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===35899)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===1010)return e.BYTE;if(n===1011)return e.SHORT;if(n===1012)return e.UNSIGNED_SHORT;if(n===1013)return e.INT;if(n===1014)return e.UNSIGNED_INT;if(n===1015)return e.FLOAT;if(n===1016)return e.HALF_FLOAT;if(n===1021)return e.ALPHA;if(n===1022)return e.RGB;if(n===1023)return e.RGBA;if(n===1026)return e.DEPTH_COMPONENT;if(n===1027)return e.DEPTH_STENCIL;if(n===1028)return e.RED;if(n===1029)return e.RED_INTEGER;if(n===1030)return e.RG;if(n===1031)return e.RG_INTEGER;if(n===1033)return e.RGBA_INTEGER;if(n===33776||n===33777||n===33778||n===33779)if(a===`srgb`)if(i=t.get(`WEBGL_compressed_texture_s3tc_srgb`),i!==null){if(n===33776)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===33777)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===33778)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===33779)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=t.get(`WEBGL_compressed_texture_s3tc`),i!==null){if(n===33776)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===33777)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===33778)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===33779)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===35840||n===35841||n===35842||n===35843)if(i=t.get(`WEBGL_compressed_texture_pvrtc`),i!==null){if(n===35840)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===35841)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===35842)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===35843)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===36196||n===37492||n===37496)if(i=t.get(`WEBGL_compressed_texture_etc`),i!==null){if(n===36196||n===37492)return a===`srgb`?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===37496)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===37808||n===37809||n===37810||n===37811||n===37812||n===37813||n===37814||n===37815||n===37816||n===37817||n===37818||n===37819||n===37820||n===37821)if(i=t.get(`WEBGL_compressed_texture_astc`),i!==null){if(n===37808)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===37809)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===37810)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===37811)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===37812)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===37813)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===37814)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===37815)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===37816)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===37817)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===37818)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===37819)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===37820)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===37821)return a===`srgb`?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===36492||n===36494||n===36495)if(i=t.get(`EXT_texture_compression_bptc`),i!==null){if(n===36492)return a===`srgb`?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===36494)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===36495)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===36283||n===36284||n===36285||n===36286)if(i=t.get(`EXT_texture_compression_rgtc`),i!==null){if(n===36283)return i.COMPRESSED_RED_RGTC1_EXT;if(n===36284)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===36285)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===36286)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===1020?e.UNSIGNED_INT_24_8:e[n]===void 0?null:e[n]}return{convert:n}}var dne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,fne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,pne=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){let n=new Z2(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){let t=e.cameras[0].viewport,n=new A0({vertexShader:dne,fragmentShader:fne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new $(new y3(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},mne=class extends TQ{constructor(e,t){super();let n=this,r=null,i=1,a=null,o=`local-floor`,s=1,c=null,l=null,u=null,d=null,f=null,p=null,m=typeof XRWebGLBinding<`u`,h=new pne,g={},_=t.getContextAttributes(),v=null,y=null,b=[],x=[],S=new $Q,C=null,w=new F0;w.viewport=new y$;let T=new F0;T.viewport=new y$;let E=[w,T],D=new E6,O=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=b[e];return t===void 0&&(t=new U0,b[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=b[e];return t===void 0&&(t=new U0,b[e]=t),t.getGripSpace()},this.getHand=function(e){let t=b[e];return t===void 0&&(t=new U0,b[e]=t),t.getHandSpace()};function A(e){let t=x.indexOf(e.inputSource);if(t===-1)return;let n=b[t];n!==void 0&&(n.update(e.inputSource,e.frame,c||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function ee(){r.removeEventListener(`select`,A),r.removeEventListener(`selectstart`,A),r.removeEventListener(`selectend`,A),r.removeEventListener(`squeeze`,A),r.removeEventListener(`squeezestart`,A),r.removeEventListener(`squeezeend`,A),r.removeEventListener(`end`,ee),r.removeEventListener(`inputsourceschange`,te);for(let e=0;e<b.length;e++){let t=x[e];t!==null&&(x[e]=null,b[e].disconnect(t))}for(let e in O=null,k=null,h.reset(),g)delete g[e];e.setRenderTarget(v),f=null,d=null,u=null,r=null,y=null,le.stop(),n.isPresenting=!1,e.setPixelRatio(C),e.setSize(S.width,S.height,!1),n.dispatchEvent({type:`sessionend`})}this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting===!0&&xQ(`WebXRManager: Cannot change framebuffer scale while presenting.`)},this.setReferenceSpaceType=function(e){o=e,n.isPresenting===!0&&xQ(`WebXRManager: Cannot change reference space type while presenting.`)},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(e){c=e},this.getBaseLayer=function(){return d===null?f:d},this.getBinding=function(){return u===null&&m&&(u=new XRWebGLBinding(r,t)),u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,r!==null){if(v=e.getRenderTarget(),r.addEventListener(`select`,A),r.addEventListener(`selectstart`,A),r.addEventListener(`selectend`,A),r.addEventListener(`squeeze`,A),r.addEventListener(`squeezestart`,A),r.addEventListener(`squeezeend`,A),r.addEventListener(`end`,ee),r.addEventListener(`inputsourceschange`,te),_.xrCompatible!==!0&&await t.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(S),m&&`createProjectionLayer`in XRWebGLBinding.prototype){let n=null,a=null,o=null;_.depth&&(o=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=_.stencil?hZ:mZ,a=_.stencil?cZ:rZ);let s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};u=this.getBinding(),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new x$(d.textureWidth,d.textureHeight,{format:pZ,type:QX,depthTexture:new X2(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{let n={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new x$(f.framebufferWidth,f.framebufferHeight,{format:pZ,type:QX,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(s),c=null,a=await r.requestReferenceSpace(o),le.setContext(r),le.start(),n.isPresenting=!0,n.dispatchEvent({type:`sessionstart`})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return h.getDepthTexture()};function te(e){for(let t=0;t<e.removed.length;t++){let n=e.removed[t],r=x.indexOf(n);r>=0&&(x[r]=null,b[r].disconnect(n))}for(let t=0;t<e.added.length;t++){let n=e.added[t],r=x.indexOf(n);if(r===-1){for(let e=0;e<b.length;e++)if(e>=x.length){x.push(n),r=e;break}else if(x[e]===null){x[e]=n,r=e;break}if(r===-1)break}let i=b[r];i&&i.connect(n)}}let ne=new Q,re=new Q;function ie(e,t,n){ne.setFromMatrixPosition(t.matrixWorld),re.setFromMatrixPosition(n.matrixWorld);let r=ne.distanceTo(re),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*u,p=o*d,m=r/(-u+d),h=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(h),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),i[10]===-1)e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{let t=o+m,n=s+m,i=f-h,a=p+(r-h),u=c*s/n*t,d=l*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}function ae(e,t){t===null?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(r===null)return;let t=e.near,n=e.far;h.texture!==null&&(h.depthNear>0&&(t=h.depthNear),h.depthFar>0&&(n=h.depthFar)),D.near=T.near=w.near=t,D.far=T.far=w.far=n,(O!==D.near||k!==D.far)&&(r.updateRenderState({depthNear:D.near,depthFar:D.far}),O=D.near,k=D.far),D.layers.mask=e.layers.mask|6,w.layers.mask=D.layers.mask&3,T.layers.mask=D.layers.mask&5;let i=e.parent,a=D.cameras;ae(D,i);for(let e=0;e<a.length;e++)ae(a[e],i);a.length===2?ie(D,w,T):D.projectionMatrix.copy(w.projectionMatrix),oe(e,D,i)};function oe(e,t,n){n===null?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=kQ*2*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(d===null&&f===null))return s},this.setFoveation=function(e){s=e,d!==null&&(d.fixedFoveation=e),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return h.texture!==null},this.getDepthSensingMesh=function(){return h.getMesh(D)},this.getCameraTexture=function(e){return g[e]};let se=null;function ce(t,i){if(l=i.getViewerPose(c||a),p=i,l!==null){let t=l.views;f!==null&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let i=!1;t.length!==D.cameras.length&&(D.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){let r=t[n],a=null;if(f!==null)a=f.getViewport(r);else{let t=u.getViewSubImage(d,r);a=t.viewport,n===0&&(e.setRenderTargetTextures(y,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(y))}let o=E[n];o===void 0&&(o=new F0,o.layers.enable(n),o.viewport=new y$,E[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),n===0&&(D.matrix.copy(o.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),i===!0&&D.cameras.push(o)}let a=r.enabledFeatures;if(a&&a.includes(`depth-sensing`)&&r.depthUsage==`gpu-optimized`&&m){u=n.getBinding();let e=u.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&h.init(e,r.renderState)}if(a&&a.includes(`camera-access`)&&m){e.state.unbindTexture(),u=n.getBinding();for(let e=0;e<t.length;e++){let n=t[e].camera;if(n){let e=g[n];e||(e=new Z2,g[n]=e),e.sourceTexture=u.getCameraImage(n)}}}}for(let e=0;e<b.length;e++){let t=x[e],n=b[e];t!==null&&n!==void 0&&n.update(t,i,c||a)}se&&se(t,i),i.detectedPlanes&&n.dispatchEvent({type:`planesdetected`,data:i}),p=null}let le=new X6;le.setAnimationLoop(ce),this.setAnimationLoop=function(e){se=e},this.dispose=function(){}}},b7=new s1,hne=new Z$;function gne(e,t){function n(e,t){e.matrixAutoUpdate===!0&&e.updateMatrix(),t.value.copy(e.matrix)}function r(t,n){n.color.getRGB(t.fogColor.value,E0(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)}function i(e,t,n,r,i){t.isMeshBasicMaterial||t.isMeshLambertMaterial?a(e,t):t.isMeshToonMaterial?(a(e,t),d(e,t)):t.isMeshPhongMaterial?(a(e,t),u(e,t)):t.isMeshStandardMaterial?(a(e,t),f(e,t),t.isMeshPhysicalMaterial&&p(e,t,i)):t.isMeshMatcapMaterial?(a(e,t),m(e,t)):t.isMeshDepthMaterial?a(e,t):t.isMeshDistanceMaterial?(a(e,t),h(e,t)):t.isMeshNormalMaterial?a(e,t):t.isLineBasicMaterial?(o(e,t),t.isLineDashedMaterial&&s(e,t)):t.isPointsMaterial?c(e,t,n,r):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function a(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===1&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===1&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);let i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,b7.copy(o),b7.x*=-1,b7.y*=-1,b7.z*=-1,a.isCubeTexture&&a.isRenderTargetTexture===!1&&(b7.y*=-1,b7.z*=-1),e.envMapRotation.value.setFromMatrix4(hne.makeRotationFromEuler(b7)),e.flipEnvMap.value=a.isCubeTexture&&a.isRenderTargetTexture===!1?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}function o(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}function s(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function c(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=i*.5,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function l(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function u(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function d(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function f(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function p(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===1&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}function m(e,t){t.matcap&&(e.matcap.value=t.matcap)}function h(e,n){let r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function _ne(e,t,n,r){let i={},a={},o=[],s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function c(e,t){let n=t.program;r.uniformBlockBinding(e,n)}function l(e,n){let o=i[e.id];o===void 0&&(m(e),o=u(e),i[e.id]=o,e.addEventListener(`dispose`,g));let s=n.program;r.updateUBOMapping(e,s);let c=t.render.frame;a[e.id]!==c&&(f(e),a[e.id]=c)}function u(t){let n=d();t.__bindingPointIndex=n;let r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}function d(){for(let e=0;e<s;e++)if(o.indexOf(e)===-1)return o.push(e),e;return SQ(`WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.`),0}function f(t){let n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){let n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,i=n.length;r<i;r++){let i=n[r];if(p(i,t,r,a)===!0){let t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value],r=0;for(let a=0;a<n.length;a++){let o=n[a],s=h(o);typeof o==`number`||typeof o==`boolean`?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function p(e,t,n,r){let i=e.value,a=t+`_`+n;if(r[a]===void 0)return typeof i==`number`||typeof i==`boolean`?r[a]=i:r[a]=i.clone(),!0;{let e=r[a];if(typeof i==`number`||typeof i==`boolean`){if(e!==i)return r[a]=i,!0}else if(e.equals(i)===!1)return e.copy(i),!0}return!1}function m(e){let t=e.uniforms,n=0;for(let e=0,r=t.length;e<r;e++){let r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=r.length;e<t;e++){let t=r[e],i=Array.isArray(t.value)?t.value:[t.value];for(let e=0,r=i.length;e<r;e++){let r=i[e],a=h(r),o=n%16,s=o%a.boundary,c=o+s;n+=s,c!==0&&16-c<a.storage&&(n+=16-c),t.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=a.storage}}}let r=n%16;return r>0&&(n+=16-r),e.__size=n,e.__cache={},this}function h(e){let t={boundary:0,storage:0};return typeof e==`number`||typeof e==`boolean`?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?xQ(`WebGLRenderer: Texture samplers can not be part of an uniforms group.`):xQ(`WebGLRenderer: Unsupported uniform value type.`,e),t}function g(t){let n=t.target;n.removeEventListener(`dispose`,g);let r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}function _(){for(let t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}return{bind:c,update:l,dispose:_}}var vne=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]),x7=null;function yne(){return x7===null&&(x7=new o2(vne,32,32,vZ,aZ),x7.minFilter=YX,x7.magFilter=YX,x7.wrapS=WX,x7.wrapT=WX,x7.generateMipmaps=!1,x7.needsUpdate=!0),x7}var bne=class{constructor(e={}){let{canvas:t=_Q(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:c=!1,powerPreference:l=`default`,failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<`u`&&n instanceof WebGLRenderingContext)throw Error(`THREE.WebGLRenderer: WebGL 1 is not supported since r163.`);f=n.getContextAttributes().alpha}else f=a;let p=new Set([bZ,yZ,_Z]),m=new Set([QX,rZ,tZ,cZ,oZ,sZ]),h=new Uint32Array(4),g=new Int32Array(4),_=null,v=null,y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let x=this,S=!1;this._outputColorSpace=cQ;let C=0,w=0,T=null,E=-1,D=null,O=new y$,k=new y$,A=null,ee=new U1(0),te=0,ne=t.width,re=t.height,ie=1,ae=null,oe=null,se=new y$(0,0,ne,re),ce=new y$(0,0,ne,re),le=!1,ue=new E2,de=!1,fe=!1,pe=new Z$,me=new Q,he=new y$,ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},_e=!1;function j(){return T===null?ie:1}let M=n;function ve(e,n){return t.getContext(e,n)}try{let e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(`setAttribute`in t&&t.setAttribute(`data-engine`,`three.js r181`),t.addEventListener(`webglcontextlost`,Ue,!1),t.addEventListener(`webglcontextrestored`,We,!1),t.addEventListener(`webglcontextcreationerror`,Ge,!1),M===null){let t=`webgl2`;if(M=ve(t,e),M===null)throw ve(t)?Error(`Error creating WebGL context with your selected attributes.`):Error(`Error creating WebGL context.`)}}catch(e){throw e(`WebGLRenderer: `+e.message),e}let ye,be,N,xe,Se,Ce,we,Te,Ee,De,Oe,P,ke,Ae,je,Me,Ne,Pe,Fe,Ie,Le,Re,ze,Be;function Ve(){ye=new j8(M),ye.init(),Re=new une(M,ye),be=new s8(M,ye,e,Re),N=new cne(M,ye),be.reversedDepthBuffer&&d&&N.buffers.depth.setReversed(!0),xe=new P8(M),Se=new Yte,Ce=new lne(M,ye,N,Se,be,Re,xe),we=new l8(x),Te=new A8(x),Ee=new Z6(M),ze=new a8(M,Ee),De=new M8(M,Ee,xe,ze),Oe=new I8(M,De,Ee,xe),Fe=new F8(M,be,Ce),Me=new c8(Se),P=new Jte(x,we,Te,ye,be,ze,Me),ke=new gne(x,Se),Ae=new Zte,je=new rne(ye),Pe=new i8(x,we,Te,N,Oe,f,s),Ne=new one(x,Oe,be),Be=new _ne(M,xe,be,N),Ie=new o8(M,ye,xe),Le=new N8(M,ye,xe),xe.programs=P.programs,x.capabilities=be,x.extensions=ye,x.properties=Se,x.renderLists=Ae,x.shadowMap=Ne,x.state=N,x.info=xe}Ve();let He=new mne(x,M);this.xr=He,this.getContext=function(){return M},this.getContextAttributes=function(){return M.getContextAttributes()},this.forceContextLoss=function(){let e=ye.get(`WEBGL_lose_context`);e&&e.loseContext()},this.forceContextRestore=function(){let e=ye.get(`WEBGL_lose_context`);e&&e.restoreContext()},this.getPixelRatio=function(){return ie},this.setPixelRatio=function(e){e!==void 0&&(ie=e,this.setSize(ne,re,!1))},this.getSize=function(e){return e.set(ne,re)},this.setSize=function(e,n,r=!0){if(He.isPresenting){xQ(`WebGLRenderer: Can't change size while VR device is presenting.`);return}ne=e,re=n,t.width=Math.floor(e*ie),t.height=Math.floor(n*ie),r===!0&&(t.style.width=e+`px`,t.style.height=n+`px`),this.setViewport(0,0,e,n)},this.getDrawingBufferSize=function(e){return e.set(ne*ie,re*ie).floor()},this.setDrawingBufferSize=function(e,n,r){ne=e,re=n,ie=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(O)},this.getViewport=function(e){return e.copy(se)},this.setViewport=function(e,t,n,r){e.isVector4?se.set(e.x,e.y,e.z,e.w):se.set(e,t,n,r),N.viewport(O.copy(se).multiplyScalar(ie).round())},this.getScissor=function(e){return e.copy(ce)},this.setScissor=function(e,t,n,r){e.isVector4?ce.set(e.x,e.y,e.z,e.w):ce.set(e,t,n,r),N.scissor(k.copy(ce).multiplyScalar(ie).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(e){N.setScissorTest(le=e)},this.setOpaqueSort=function(e){ae=e},this.setTransparentSort=function(e){oe=e},this.getClearColor=function(e){return e.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor(...arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(T!==null){let t=T.texture.format;e=p.has(t)}if(e){let e=T.texture.type,t=m.has(e),n=Pe.getClearColor(),r=Pe.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(h[0]=i,h[1]=a,h[2]=o,h[3]=r,M.clearBufferuiv(M.COLOR,0,h)):(g[0]=i,g[1]=a,g[2]=o,g[3]=r,M.clearBufferiv(M.COLOR,0,g))}else r|=M.COLOR_BUFFER_BIT}t&&(r|=M.DEPTH_BUFFER_BIT),n&&(r|=M.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),M.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener(`webglcontextlost`,Ue,!1),t.removeEventListener(`webglcontextrestored`,We,!1),t.removeEventListener(`webglcontextcreationerror`,Ge,!1),Pe.dispose(),Ae.dispose(),je.dispose(),Se.dispose(),we.dispose(),Te.dispose(),Oe.dispose(),ze.dispose(),Be.dispose(),P.dispose(),He.dispose(),He.removeEventListener(`sessionstart`,Qe),He.removeEventListener(`sessionend`,$e),et.stop()};function Ue(e){e.preventDefault(),bQ(`WebGLRenderer: Context Lost.`),S=!0}function We(){bQ(`WebGLRenderer: Context Restored.`),S=!1;let e=xe.autoReset,t=Ne.enabled,n=Ne.autoUpdate,r=Ne.needsUpdate,i=Ne.type;Ve(),xe.autoReset=e,Ne.enabled=t,Ne.autoUpdate=n,Ne.needsUpdate=r,Ne.type=i}function Ge(e){SQ(`WebGLRenderer: A WebGL context could not be created. Reason: `,e.statusMessage)}function Ke(e){let t=e.target;t.removeEventListener(`dispose`,Ke),qe(t)}function qe(e){Je(e),Se.remove(e)}function Je(e){let t=Se.get(e).programs;t!==void 0&&(t.forEach(function(e){P.releaseProgram(e)}),e.isShaderMaterial&&P.releaseShaderCache(e))}this.renderBufferDirect=function(e,t,n,r,i,a){t===null&&(t=ge);let o=i.isMesh&&i.matrixWorld.determinant()<0,s=lt(e,t,n,r,i);N.setMaterial(r,o);let c=n.index,l=1;if(r.wireframe===!0){if(c=De.getWireframeAttribute(n),c===void 0)return;l=2}let u=n.drawRange,d=n.attributes.position,f=u.start*l,p=(u.start+u.count)*l;a!==null&&(f=Math.max(f,a.start*l),p=Math.min(p,(a.start+a.count)*l)),c===null?d!=null&&(f=Math.max(f,0),p=Math.min(p,d.count)):(f=Math.max(f,0),p=Math.min(p,c.count));let m=p-f;if(m<0||m===1/0)return;ze.setup(i,r,s,n,c);let h,g=Ie;if(c!==null&&(h=Ee.get(c),g=Le,g.setIndex(h)),i.isMesh)r.wireframe===!0?(N.setLineWidth(r.wireframeLinewidth*j()),g.setMode(M.LINES)):g.setMode(M.TRIANGLES);else if(i.isLine){let e=r.linewidth;e===void 0&&(e=1),N.setLineWidth(e*j()),i.isLineSegments?g.setMode(M.LINES):i.isLineLoop?g.setMode(M.LINE_LOOP):g.setMode(M.LINE_STRIP)}else i.isPoints?g.setMode(M.POINTS):i.isSprite&&g.setMode(M.TRIANGLES);if(i.isBatchedMesh)if(i._multiDrawInstances!==null)CQ(`WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.`),g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(ye.get(`WEBGL_multi_draw`))g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{let e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=c?Ee.get(c).bytesPerElement:1,o=Se.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(M,`_gl_DrawID`,r),g.render(e[r]/a,t[r])}else if(i.isInstancedMesh)g.renderInstances(f,m,i.count);else if(n.isInstancedBufferGeometry){let e=n._maxInstanceCount===void 0?1/0:n._maxInstanceCount,t=Math.min(n.instanceCount,e);g.renderInstances(f,m,t)}else g.render(f,m)};function Ye(e,t,n){e.transparent===!0&&e.side===2&&e.forceSinglePass===!1?(e.side=1,e.needsUpdate=!0,ot(e,t,n),e.side=0,e.needsUpdate=!0,ot(e,t,n),e.side=2):ot(e,t,n)}this.compile=function(e,t,n=null){n===null&&(n=e),v=je.get(n),v.init(t),b.push(v),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))}),v.setupLights();let r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;let t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){let a=t[i];Ye(a,n,e),r.add(a)}else Ye(t,n,e),r.add(t)}),v=b.pop(),r},this.compileAsync=function(e,t,n=null){let r=this.compile(e,t,n);return new Promise(t=>{function n(){if(r.forEach(function(e){Se.get(e).currentProgram.isReady()&&r.delete(e)}),r.size===0){t(e);return}setTimeout(n,10)}ye.get(`KHR_parallel_shader_compile`)===null?setTimeout(n,10):n()})};let Xe=null;function Ze(e){Xe&&Xe(e)}function Qe(){et.stop()}function $e(){et.start()}let et=new X6;et.setAnimationLoop(Ze),typeof self<`u`&&et.setContext(self),this.setAnimationLoop=function(e){Xe=e,He.setAnimationLoop(e),e===null?et.stop():et.start()},He.addEventListener(`sessionstart`,Qe),He.addEventListener(`sessionend`,$e),this.render=function(e,t){if(t!==void 0&&t.isCamera!==!0){SQ(`WebGLRenderer.render: camera is not an instance of THREE.Camera.`);return}if(S===!0)return;if(e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),He.enabled===!0&&He.isPresenting===!0&&(He.cameraAutoUpdate===!0&&He.updateCamera(t),t=He.getCamera()),e.isScene===!0&&e.onBeforeRender(x,e,t,T),v=je.get(e,b.length),v.init(t),b.push(v),pe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ue.setFromProjectionMatrix(pe,mQ,t.reversedDepth),fe=this.localClippingEnabled,de=Me.init(this.clippingPlanes,fe),_=Ae.get(e,y.length),_.init(),y.push(_),He.enabled===!0&&He.isPresenting===!0){let e=x.xr.getDepthSensingMesh();e!==null&&tt(e,t,-1/0,x.sortObjects)}tt(e,t,0,x.sortObjects),_.finish(),x.sortObjects===!0&&_.sort(ae,oe),_e=He.enabled===!1||He.isPresenting===!1||He.hasDepthSensing()===!1,_e&&Pe.addToRenderList(_,e),this.info.render.frame++,de===!0&&Me.beginShadows();let n=v.state.shadowsArray;Ne.render(n,e,t),de===!0&&Me.endShadows(),this.info.autoReset===!0&&this.info.reset();let r=_.opaque,i=_.transmissive;if(v.setupLights(),t.isArrayCamera){let n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){let a=n[t];rt(r,i,e,a)}_e&&Pe.render(e);for(let t=0,r=n.length;t<r;t++){let r=n[t];nt(_,e,r,r.viewport)}}else i.length>0&&rt(r,i,e,t),_e&&Pe.render(e),nt(_,e,t);T!==null&&w===0&&(Ce.updateMultisampleRenderTarget(T),Ce.updateRenderTargetMipmap(T)),e.isScene===!0&&e.onAfterRender(x,e,t),ze.resetDefaultState(),E=-1,D=null,b.pop(),b.length>0?(v=b[b.length-1],de===!0&&Me.setGlobalState(x.clippingPlanes,v.state.camera)):v=null,y.pop(),_=y.length>0?y[y.length-1]:null};function tt(e,t,n,r){if(e.visible===!1)return;if(e.layers.test(t.layers)){if(e.isGroup)n=e.renderOrder;else if(e.isLOD)e.autoUpdate===!0&&e.update(t);else if(e.isLight)v.pushLight(e),e.castShadow&&v.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ue.intersectsSprite(e)){r&&he.setFromMatrixPosition(e.matrixWorld).applyMatrix4(pe);let t=Oe.update(e),i=e.material;i.visible&&_.push(e,t,i,n,he.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||ue.intersectsObject(e))){let t=Oe.update(e),i=e.material;if(r&&(e.boundingSphere===void 0?(t.boundingSphere===null&&t.computeBoundingSphere(),he.copy(t.boundingSphere.center)):(e.boundingSphere===null&&e.computeBoundingSphere(),he.copy(e.boundingSphere.center)),he.applyMatrix4(e.matrixWorld).applyMatrix4(pe)),Array.isArray(i)){let r=t.groups;for(let a=0,o=r.length;a<o;a++){let o=r[a],s=i[o.materialIndex];s&&s.visible&&_.push(e,t,s,n,he.z,o)}}else i.visible&&_.push(e,t,i,n,he.z,null)}}let i=e.children;for(let e=0,a=i.length;e<a;e++)tt(i[e],t,n,r)}function nt(e,t,n,r){let{opaque:i,transmissive:a,transparent:o}=e;v.setupLightsView(n),de===!0&&Me.setGlobalState(x.clippingPlanes,n),r&&N.viewport(O.copy(r)),i.length>0&&it(i,t,n),a.length>0&&it(a,t,n),o.length>0&&it(o,t,n),N.buffers.depth.setTest(!0),N.buffers.depth.setMask(!0),N.buffers.color.setMask(!0),N.setPolygonOffset(!1)}function rt(e,t,n,r){if((n.isScene===!0?n.overrideMaterial:null)!==null)return;v.state.transmissionRenderTarget[r.id]===void 0&&(v.state.transmissionRenderTarget[r.id]=new x$(1,1,{generateMipmaps:!0,type:ye.has(`EXT_color_buffer_half_float`)||ye.has(`EXT_color_buffer_float`)?aZ:QX,minFilter:ZX,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:c$.workingColorSpace}));let a=v.state.transmissionRenderTarget[r.id],o=r.viewport||O;a.setSize(o.z*x.transmissionResolutionScale,o.w*x.transmissionResolutionScale);let s=x.getRenderTarget(),c=x.getActiveCubeFace(),l=x.getActiveMipmapLevel();x.setRenderTarget(a),x.getClearColor(ee),te=x.getClearAlpha(),te<1&&x.setClearColor(16777215,.5),x.clear(),_e&&Pe.render(n);let u=x.toneMapping;x.toneMapping=0;let d=r.viewport;if(r.viewport!==void 0&&(r.viewport=void 0),v.setupLightsView(r),de===!0&&Me.setGlobalState(x.clippingPlanes,r),it(e,n,r),Ce.updateMultisampleRenderTarget(a),Ce.updateRenderTargetMipmap(a),ye.has(`WEBGL_multisampled_render_to_texture`)===!1){let e=!1;for(let i=0,a=t.length;i<a;i++){let{object:a,geometry:o,material:s,group:c}=t[i];if(s.side===2&&a.layers.test(r.layers)){let t=s.side;s.side=1,s.needsUpdate=!0,at(a,n,r,o,s,c),s.side=t,s.needsUpdate=!0,e=!0}}e===!0&&(Ce.updateMultisampleRenderTarget(a),Ce.updateRenderTargetMipmap(a))}x.setRenderTarget(s,c,l),x.setClearColor(ee,te),d!==void 0&&(r.viewport=d),x.toneMapping=u}function it(e,t,n){let r=t.isScene===!0?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){let a=e[i],{object:o,geometry:s,group:c}=a,l=a.material;l.allowOverride===!0&&r!==null&&(l=r),o.layers.test(n.layers)&&at(o,t,n,s,l,c)}}function at(e,t,n,r,i,a){e.onBeforeRender(x,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,a),i.transparent===!0&&i.side===2&&i.forceSinglePass===!1?(i.side=1,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,a),i.side=2):x.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(x,t,n,r,i,a)}function ot(e,t,n){t.isScene!==!0&&(t=ge);let r=Se.get(e),i=v.state.lights,a=v.state.shadowsArray,o=i.state.version,s=P.getParameters(e,i.state,a,t,n),c=P.getProgramCacheKey(s),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Te:we).get(e.envMap||r.environment),r.envMapRotation=r.environment!==null&&e.envMap===null?t.environmentRotation:e.envMapRotation,l===void 0&&(e.addEventListener(`dispose`,Ke),l=new Map,r.programs=l);let u=l.get(c);if(u!==void 0){if(r.currentProgram===u&&r.lightsStateVersion===o)return ct(e,s),u}else s.uniforms=P.getUniforms(e),e.onBeforeCompile(s,x),u=P.acquireProgram(s,c),l.set(c,u),r.uniforms=s.uniforms;let d=r.uniforms;return(!e.isShaderMaterial&&!e.isRawShaderMaterial||e.clipping===!0)&&(d.clippingPlanes=Me.uniform),ct(e,s),r.needsLights=dt(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function st(e){if(e.uniformsList===null){let t=e.currentProgram.getUniforms();e.uniformsList=U5.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function ct(e,t){let n=Se.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function lt(e,t,n,r,i){t.isScene!==!0&&(t=ge),Ce.resetTextureUnits();let a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=T===null?x.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:lQ,c=(r.isMeshStandardMaterial?Te:we).get(r.envMap||o),l=r.vertexColors===!0&&!!n.attributes.color&&n.attributes.color.itemSize===4,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=0;r.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(m=x.toneMapping);let h=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=h===void 0?0:h.length,_=Se.get(r),y=v.state.lights;if(de===!0&&(fe===!0||e!==D)){let t=e===D&&r.id===E;Me.setState(r,e,t)}let b=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==y.state.version?b=!0:_.outputColorSpace===s?i.isBatchedMesh&&_.batching===!1||!i.isBatchedMesh&&_.batching===!0||i.isBatchedMesh&&_.batchingColor===!0&&i.colorTexture===null||i.isBatchedMesh&&_.batchingColor===!1&&i.colorTexture!==null||i.isInstancedMesh&&_.instancing===!1||!i.isInstancedMesh&&_.instancing===!0||i.isSkinnedMesh&&_.skinning===!1||!i.isSkinnedMesh&&_.skinning===!0||i.isInstancedMesh&&_.instancingColor===!0&&i.instanceColor===null||i.isInstancedMesh&&_.instancingColor===!1&&i.instanceColor!==null||i.isInstancedMesh&&_.instancingMorph===!0&&i.morphTexture===null||i.isInstancedMesh&&_.instancingMorph===!1&&i.morphTexture!==null?b=!0:_.envMap===c?r.fog===!0&&_.fog!==a||_.numClippingPlanes!==void 0&&(_.numClippingPlanes!==Me.numPlanes||_.numIntersection!==Me.numIntersection)?b=!0:_.vertexAlphas===l&&_.vertexTangents===u&&_.morphTargets===d&&_.morphNormals===f&&_.morphColors===p&&_.toneMapping===m?_.morphTargetsCount!==g&&(b=!0):b=!0:b=!0:b=!0:(b=!0,_.__version=r.version);let S=_.currentProgram;b===!0&&(S=ot(r,t,i));let C=!1,w=!1,O=!1,k=S.getUniforms(),A=_.uniforms;if(N.useProgram(S.program)&&(C=!0,w=!0,O=!0),r.id!==E&&(E=r.id,w=!0),C||D!==e){N.buffers.depth.getReversed()&&e.reversedDepth!==!0&&(e._reversedDepth=!0,e.updateProjectionMatrix()),k.setValue(M,`projectionMatrix`,e.projectionMatrix),k.setValue(M,`viewMatrix`,e.matrixWorldInverse);let t=k.map.cameraPosition;t!==void 0&&t.setValue(M,me.setFromMatrixPosition(e.matrixWorld)),be.logarithmicDepthBuffer&&k.setValue(M,`logDepthBufFC`,2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&k.setValue(M,`isOrthographic`,e.isOrthographicCamera===!0),D!==e&&(D=e,w=!0,O=!0)}if(i.isSkinnedMesh){k.setOptional(M,i,`bindMatrix`),k.setOptional(M,i,`bindMatrixInverse`);let e=i.skeleton;e&&(e.boneTexture===null&&e.computeBoneTexture(),k.setValue(M,`boneTexture`,e.boneTexture,Ce))}i.isBatchedMesh&&(k.setOptional(M,i,`batchingTexture`),k.setValue(M,`batchingTexture`,i._matricesTexture,Ce),k.setOptional(M,i,`batchingIdTexture`),k.setValue(M,`batchingIdTexture`,i._indirectTexture,Ce),k.setOptional(M,i,`batchingColorTexture`),i._colorsTexture!==null&&k.setValue(M,`batchingColorTexture`,i._colorsTexture,Ce));let ee=n.morphAttributes;if((ee.position!==void 0||ee.normal!==void 0||ee.color!==void 0)&&Fe.update(i,n,S),(w||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,k.setValue(M,`receiveShadow`,i.receiveShadow)),r.isMeshGouraudMaterial&&r.envMap!==null&&(A.envMap.value=c,A.flipEnvMap.value=c.isCubeTexture&&c.isRenderTargetTexture===!1?-1:1),r.isMeshStandardMaterial&&r.envMap===null&&t.environment!==null&&(A.envMapIntensity.value=t.environmentIntensity),A.dfgLUT!==void 0&&(A.dfgLUT.value=yne()),w&&(k.setValue(M,`toneMappingExposure`,x.toneMappingExposure),_.needsLights&&ut(A,O),a&&r.fog===!0&&ke.refreshFogUniforms(A,a),ke.refreshMaterialUniforms(A,r,ie,re,v.state.transmissionRenderTarget[e.id]),U5.upload(M,st(_),A,Ce)),r.isShaderMaterial&&r.uniformsNeedUpdate===!0&&(U5.upload(M,st(_),A,Ce),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&k.setValue(M,`center`,i.center),k.setValue(M,`modelViewMatrix`,i.modelViewMatrix),k.setValue(M,`normalMatrix`,i.normalMatrix),k.setValue(M,`modelMatrix`,i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){let e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){let n=e[t];Be.update(n,S),Be.bind(n,S)}}return S}function ut(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function dt(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&e.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(e,t,n){let r=Se.get(e);r.__autoAllocateDepthBuffer=e.resolveDepthBuffer===!1,r.__autoAllocateDepthBuffer===!1&&(r.__useRenderToTexture=!1),Se.get(e.texture).__webglTexture=t,Se.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){let n=Se.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=t===void 0};let ft=M.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){T=e,C=t,w=n;let r=!0,i=null,a=!1,o=!1;if(e){let s=Se.get(e);if(s.__useDefaultFramebuffer!==void 0)N.bindFramebuffer(M.FRAMEBUFFER,null),r=!1;else if(s.__webglFramebuffer===void 0)Ce.setupRenderTarget(e);else if(s.__hasExternalTextures)Ce.rebindTextures(e,Se.get(e.texture).__webglTexture,Se.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){let t=e.depthTexture;if(s.__boundDepthTexture!==t){if(t!==null&&Se.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw Error(`WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.`);Ce.setupDepthRenderbuffer(e)}}let c=e.texture;(c.isData3DTexture||c.isDataArrayTexture||c.isCompressedArrayTexture)&&(o=!0);let l=Se.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(l[t])?l[t][n]:l[t],a=!0):i=e.samples>0&&Ce.useMultisampledRTT(e)===!1?Se.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,O.copy(e.viewport),k.copy(e.scissor),A=e.scissorTest}else O.copy(se).multiplyScalar(ie).floor(),k.copy(ce).multiplyScalar(ie).floor(),A=le;if(n!==0&&(i=ft),N.bindFramebuffer(M.FRAMEBUFFER,i)&&r&&N.drawBuffers(e,i),N.viewport(O),N.scissor(k),N.setScissorTest(A),a){let r=Se.get(e.texture);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){let r=t;for(let t=0;t<e.textures.length;t++){let i=Se.get(e.textures[t]);M.framebufferTextureLayer(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0+t,i.__webglTexture,n,r)}}else if(e!==null&&n!==0){let t=Se.get(e.texture);M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,t.__webglTexture,n)}E=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o,s=0){if(!(e&&e.isWebGLRenderTarget)){SQ(`WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.`);return}let c=Se.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&o!==void 0&&(c=c[o]),c){N.bindFramebuffer(M.FRAMEBUFFER,c);try{let o=e.textures[s],c=o.format,l=o.type;if(!be.textureFormatReadable(c)){SQ(`WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.`);return}if(!be.textureTypeReadable(l)){SQ(`WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.`);return}t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&(e.textures.length>1&&M.readBuffer(M.COLOR_ATTACHMENT0+s),M.readPixels(t,n,r,i,Re.convert(c),Re.convert(l),a))}finally{let e=T===null?null:Se.get(T).__webglFramebuffer;N.bindFramebuffer(M.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o,s=0){if(!(e&&e.isWebGLRenderTarget))throw Error(`THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.`);let c=Se.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&o!==void 0&&(c=c[o]),c)if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){N.bindFramebuffer(M.FRAMEBUFFER,c);let o=e.textures[s],l=o.format,u=o.type;if(!be.textureFormatReadable(l))throw Error(`THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.`);if(!be.textureTypeReadable(u))throw Error(`THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.`);let d=M.createBuffer();M.bindBuffer(M.PIXEL_PACK_BUFFER,d),M.bufferData(M.PIXEL_PACK_BUFFER,a.byteLength,M.STREAM_READ),e.textures.length>1&&M.readBuffer(M.COLOR_ATTACHMENT0+s),M.readPixels(t,n,r,i,Re.convert(l),Re.convert(u),0);let f=T===null?null:Se.get(T).__webglFramebuffer;N.bindFramebuffer(M.FRAMEBUFFER,f);let p=M.fenceSync(M.SYNC_GPU_COMMANDS_COMPLETE,0);return M.flush(),await wQ(M,p,4),M.bindBuffer(M.PIXEL_PACK_BUFFER,d),M.getBufferSubData(M.PIXEL_PACK_BUFFER,0,a),M.deleteBuffer(d),M.deleteSync(p),a}else throw Error(`THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.`)},this.copyFramebufferToTexture=function(e,t=null,n=0){let r=2**-n,i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=t===null?0:t.x,s=t===null?0:t.y;Ce.setTexture2D(e,0),M.copyTexSubImage2D(M.TEXTURE_2D,n,0,0,o,s,i,a),N.unbindTexture()};let pt=M.createFramebuffer(),mt=M.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=null){a===null&&(i===0?a=0:(CQ(`WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels.`),a=i,i=0));let o,s,c,l,u,d,f,p,m,h=e.isCompressedTexture?e.mipmaps[a]:e.image;if(n!==null)o=n.max.x-n.min.x,s=n.max.y-n.min.y,c=n.isBox3?n.max.z-n.min.z:1,l=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{let t=2**-i;o=Math.floor(h.width*t),s=Math.floor(h.height*t),c=e.isDataArrayTexture?h.depth:e.isData3DTexture?Math.floor(h.depth*t):1,l=0,u=0,d=0}r===null?(f=0,p=0,m=0):(f=r.x,p=r.y,m=r.z);let g=Re.convert(t.format),_=Re.convert(t.type),v;t.isData3DTexture?(Ce.setTexture3D(t,0),v=M.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(Ce.setTexture2DArray(t,0),v=M.TEXTURE_2D_ARRAY):(Ce.setTexture2D(t,0),v=M.TEXTURE_2D),M.pixelStorei(M.UNPACK_FLIP_Y_WEBGL,t.flipY),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),M.pixelStorei(M.UNPACK_ALIGNMENT,t.unpackAlignment);let y=M.getParameter(M.UNPACK_ROW_LENGTH),b=M.getParameter(M.UNPACK_IMAGE_HEIGHT),x=M.getParameter(M.UNPACK_SKIP_PIXELS),S=M.getParameter(M.UNPACK_SKIP_ROWS),C=M.getParameter(M.UNPACK_SKIP_IMAGES);M.pixelStorei(M.UNPACK_ROW_LENGTH,h.width),M.pixelStorei(M.UNPACK_IMAGE_HEIGHT,h.height),M.pixelStorei(M.UNPACK_SKIP_PIXELS,l),M.pixelStorei(M.UNPACK_SKIP_ROWS,u),M.pixelStorei(M.UNPACK_SKIP_IMAGES,d);let w=e.isDataArrayTexture||e.isData3DTexture,T=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){let n=Se.get(e),r=Se.get(t),h=Se.get(n.__renderTarget),g=Se.get(r.__renderTarget);N.bindFramebuffer(M.READ_FRAMEBUFFER,h.__webglFramebuffer),N.bindFramebuffer(M.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let n=0;n<c;n++)w&&(M.framebufferTextureLayer(M.READ_FRAMEBUFFER,M.COLOR_ATTACHMENT0,Se.get(e).__webglTexture,i,d+n),M.framebufferTextureLayer(M.DRAW_FRAMEBUFFER,M.COLOR_ATTACHMENT0,Se.get(t).__webglTexture,a,m+n)),M.blitFramebuffer(l,u,o,s,f,p,o,s,M.DEPTH_BUFFER_BIT,M.NEAREST);N.bindFramebuffer(M.READ_FRAMEBUFFER,null),N.bindFramebuffer(M.DRAW_FRAMEBUFFER,null)}else if(i!==0||e.isRenderTargetTexture||Se.has(e)){let n=Se.get(e),r=Se.get(t);N.bindFramebuffer(M.READ_FRAMEBUFFER,pt),N.bindFramebuffer(M.DRAW_FRAMEBUFFER,mt);for(let e=0;e<c;e++)w?M.framebufferTextureLayer(M.READ_FRAMEBUFFER,M.COLOR_ATTACHMENT0,n.__webglTexture,i,d+e):M.framebufferTexture2D(M.READ_FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,n.__webglTexture,i),T?M.framebufferTextureLayer(M.DRAW_FRAMEBUFFER,M.COLOR_ATTACHMENT0,r.__webglTexture,a,m+e):M.framebufferTexture2D(M.DRAW_FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,r.__webglTexture,a),i===0?T?M.copyTexSubImage3D(v,a,f,p,m+e,l,u,o,s):M.copyTexSubImage2D(v,a,f,p,l,u,o,s):M.blitFramebuffer(l,u,o,s,f,p,o,s,M.COLOR_BUFFER_BIT,M.NEAREST);N.bindFramebuffer(M.READ_FRAMEBUFFER,null),N.bindFramebuffer(M.DRAW_FRAMEBUFFER,null)}else T?e.isDataTexture||e.isData3DTexture?M.texSubImage3D(v,a,f,p,m,o,s,c,g,_,h.data):t.isCompressedArrayTexture?M.compressedTexSubImage3D(v,a,f,p,m,o,s,c,g,h.data):M.texSubImage3D(v,a,f,p,m,o,s,c,g,_,h):e.isDataTexture?M.texSubImage2D(M.TEXTURE_2D,a,f,p,o,s,g,_,h.data):e.isCompressedTexture?M.compressedTexSubImage2D(M.TEXTURE_2D,a,f,p,h.width,h.height,g,h.data):M.texSubImage2D(M.TEXTURE_2D,a,f,p,o,s,g,_,h);M.pixelStorei(M.UNPACK_ROW_LENGTH,y),M.pixelStorei(M.UNPACK_IMAGE_HEIGHT,b),M.pixelStorei(M.UNPACK_SKIP_PIXELS,x),M.pixelStorei(M.UNPACK_SKIP_ROWS,S),M.pixelStorei(M.UNPACK_SKIP_IMAGES,C),a===0&&t.generateMipmaps&&M.generateMipmap(v),N.unbindTexture()},this.initRenderTarget=function(e){Se.get(e).__webglFramebuffer===void 0&&Ce.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?Ce.setTextureCube(e,0):e.isData3DTexture?Ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Ce.setTexture2DArray(e,0):Ce.setTexture2D(e,0),N.unbindTexture()},this.resetState=function(){C=0,w=0,T=null,N.reset(),ze.reset()},typeof __THREE_DEVTOOLS__<`u`&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(`observe`,{detail:this}))}get coordinateSystem(){return mQ}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let t=this.getContext();t.drawingBufferColorSpace=c$._getDrawingBufferColorSpace(e),t.unpackColorSpace=c$._getUnpackColorSpace()}},S7=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},xne={class:`editor-header`},Sne={class:`header-left`},Cne={class:`logo`},wne={class:`header-center`},Tne={class:`header-right`},Ene=S7({__name:`EditorHeader`,props:{modelCount:{type:Number,default:0},transformMode:{type:String,default:`translate`},transformSpace:{type:String,default:`world`},snapEnabled:{type:Boolean,default:!1},snapTranslate:{type:Number,default:.5},snapRotate:{type:Number,default:15},snapScale:{type:Number,default:.1},canUndo:{type:Boolean,default:!1},canRedo:{type:Boolean,default:!1}},emits:[`new`,`open`,`save`,`undo`,`redo`,`setTransformMode`,`setTransformSpace`,`toggleSnap`,`updateSnapSettings`,`resetView`,`export`,`showHotkeys`],setup(e,{emit:t}){let n=e,r=t,i=F(n.snapTranslate),a=F(n.snapRotate),o=F(n.snapScale);B([i,a,o],()=>{r(`updateSnapSettings`,{translate:i.value,rotate:a.value,scale:o.value})});function s(e){r(`export`,e)}return(t,n)=>{let r=Yr(`el-icon`),i=Yr(`el-tag`),a=Yr(`el-button`),o=Yr(`el-tooltip`),c=Yr(`el-button-group`),l=Yr(`el-dropdown-item`),u=Yr(`el-dropdown-menu`),d=Yr(`el-dropdown`);return V(),H(`header`,xne,[W(`div`,Sne,[W(`div`,Cne,[G(r,{class:`logo-icon`},{default:L(()=>[G(I(Sx))]),_:1}),n[5]||=W(`span`,{class:`title`},`3D `,-1)]),G(i,{type:`info`,effect:`plain`,size:`small`},{default:L(()=>[Wa(P(e.modelCount)+`  `,1)]),_:1})]),W(`div`,wne,[G(c,{class:`tool-group transform-tools`},{default:L(()=>[G(o,{content:` (W)`,placement:`bottom`},{default:L(()=>[G(a,{type:e.transformMode===`translate`?`primary`:``,onClick:n[0]||=e=>t.$emit(`setTransformMode`,`translate`)},{default:L(()=>[G(r,null,{default:L(()=>[G(I($x))]),_:1})]),_:1},8,[`type`])]),_:1}),G(o,{content:` (E)`,placement:`bottom`},{default:L(()=>[G(a,{type:e.transformMode===`rotate`?`primary`:``,onClick:n[1]||=e=>t.$emit(`setTransformMode`,`rotate`)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(tS))]),_:1})]),_:1},8,[`type`])]),_:1}),G(o,{content:` (R)`,placement:`bottom`},{default:L(()=>[G(a,{type:e.transformMode===`scale`?`primary`:``,onClick:n[2]||=e=>t.$emit(`setTransformMode`,`scale`)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Bx))]),_:1})]),_:1},8,[`type`])]),_:1})]),_:1})]),W(`div`,Tne,[G(a,{onClick:n[3]||=e=>t.$emit(`resetView`)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(gx))]),_:1}),n[6]||=Wa(`  `,-1)]),_:1}),G(d,{trigger:`click`,onCommand:s},{dropdown:L(()=>[G(u,null,{default:L(()=>[G(l,{command:`glb`},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Sx))]),_:1}),n[8]||=Wa(`  GLB  `,-1)]),_:1}),G(l,{command:`gltf`},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Sx))]),_:1}),n[9]||=Wa(`  GLTF  `,-1)]),_:1}),G(l,{divided:``,command:`json`},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Lx))]),_:1}),n[10]||=Wa(`  JSON  `,-1)]),_:1}),G(l,{command:`png`},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Xx))]),_:1}),n[11]||=Wa(`  (PNG) `,-1)]),_:1})]),_:1})]),default:L(()=>[G(a,{type:`primary`},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Rx))]),_:1}),n[7]||=Wa(`  `,-1),G(r,{class:`el-icon--right`},{default:L(()=>[G(I(_x))]),_:1})]),_:1})]),_:1}),G(o,{content:``,placement:`bottom`},{default:L(()=>[G(a,{circle:``,onClick:n[4]||=e=>t.$emit(`showHotkeys`)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Qx))]),_:1})]),_:1})]),_:1})])])}}},[[`__scopeId`,`data-v-51b51ff2`]]),Dne={class:`model-library`},One={class:`search-box`},kne={class:`category-tabs`},Ane={class:`model-grid`},jne=[`onClick`,`onDblclick`,`onDragstart`],Mne={class:`model-name`},Nne={key:0,class:`active-badge`},Pne={key:0,class:`placement-tip`},Fne={class:`import-section`},Ine={class:`floor-plan-section`},Lne={key:0,class:`floor-plan-preview`},Rne=[`src`],zne={class:`preview-actions`},Bne=S7({__name:`ModelLibrary`,props:{deviceLibrary:{type:Array,default:()=>[]},customModels:{type:Array,default:()=>[]},placementMode:{type:String,default:``},floorPlanUrl:{type:String,default:``}},emits:[`selectDevice`,`quickPlace`,`cancelPlacement`,`importModel`,`uploadPlan`,`changePlan`,`clearPlan`],setup(e,{emit:t}){let n=e,r=t,i=F(``),a=F(`all`),o=F(!1),s=F(null),c=q(()=>[...n.deviceLibrary,...n.customModels]),l=q(()=>{let e=c.value;if(a.value===`device`?e=e.filter(e=>!e.id.startsWith(`custom-`)):a.value===`custom`&&(e=e.filter(e=>e.id.startsWith(`custom-`))),i.value){let t=i.value.toLowerCase();e=e.filter(e=>e.label.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t))}return e}),u=q(()=>c.value.find(e=>e.id===n.placementMode)?.label||``);function d(e,t){e.dataTransfer.setData(`application/json`,JSON.stringify({type:`device`,deviceId:t.id})),e.dataTransfer.effectAllowed=`copy`}function f(e){o.value=!1;let t=e.dataTransfer.files?.[0];t&&(t.name.endsWith(`.glb`)||t.name.endsWith(`.gltf`))&&r(`importModel`,t)}function p(){s.value?.click()}function m(e){let t=e.target.files?.[0];t&&(r(`importModel`,t),e.target.value=``)}return(t,n)=>{let r=Yr(`el-input`),c=Yr(`el-radio-button`),h=Yr(`el-radio-group`),g=Yr(`el-icon`),_=Yr(`el-button`),v=Yr(`el-divider`);return V(),H(`aside`,Dne,[W(`div`,One,[G(r,{modelValue:i.value,"onUpdate:modelValue":n[0]||=e=>i.value=e,placeholder:`...`,"prefix-icon":`Search`,clearable:``,size:`small`},null,8,[`modelValue`])]),W(`div`,kne,[G(h,{modelValue:a.value,"onUpdate:modelValue":n[1]||=e=>a.value=e,size:`small`},{default:L(()=>[G(c,{label:`all`},{default:L(()=>[...n[8]||=[Wa(``,-1)]]),_:1}),G(c,{label:`device`},{default:L(()=>[...n[9]||=[Wa(``,-1)]]),_:1}),G(c,{label:`custom`},{default:L(()=>[...n[10]||=[Wa(``,-1)]]),_:1})]),_:1},8,[`modelValue`])]),W(`div`,Ane,[(V(!0),H(Da,null,ti(l.value,n=>(V(),H(`div`,{key:n.id,class:N([`model-item`,{active:e.placementMode===n.id}]),onClick:e=>t.$emit(`selectDevice`,n.id),onDblclick:e=>t.$emit(`quickPlace`,n.id),draggable:`true`,onDragstart:e=>d(e,n)},[W(`div`,Mne,P(n.label),1),e.placementMode===n.id?(V(),H(`div`,Nne,[G(g,null,{default:L(()=>[G(I(Ex))]),_:1})])):K(``,!0)],42,jne))),128))]),e.placementMode?(V(),H(`div`,Pne,[G(g,{class:`tip-icon`},{default:L(()=>[G(I(Ux))]),_:1}),W(`span`,null,[n[11]||=Wa(` `,-1),W(`strong`,null,P(u.value),1)]),G(_,{size:`small`,text:``,type:`danger`,onClick:n[2]||=e=>t.$emit(`cancelPlacement`)},{default:L(()=>[...n[12]||=[Wa(`  `,-1)]]),_:1})])):K(``,!0),G(v,null,{default:L(()=>[...n[13]||=[Wa(``,-1)]]),_:1}),W(`div`,Fne,[W(`div`,{class:N([`import-drop-zone`,{dragover:o.value}]),onDragover:n[3]||=Ks(e=>o.value=!0,[`prevent`]),onDragleave:n[4]||=e=>o.value=!1,onDrop:Ks(f,[`prevent`]),onClick:p},[G(g,{class:`drop-icon`},{default:L(()=>[G(I(dS))]),_:1}),n[14]||=W(`span`,null,``,-1),n[15]||=W(`small`,null,` GLB / GLTF `,-1)],34),W(`input`,{ref_key:`fileInputRef`,ref:s,type:`file`,accept:`.glb,.gltf`,style:{display:`none`},onChange:m},null,544)]),G(v,null,{default:L(()=>[...n[16]||=[Wa(``,-1)]]),_:1}),W(`div`,Ine,[e.floorPlanUrl?(V(),H(`div`,Lne,[W(`img`,{src:e.floorPlanUrl,alt:``},null,8,Rne),W(`div`,zne,[G(_,{size:`small`,type:`primary`,onClick:n[5]||=e=>t.$emit(`changePlan`)},{default:L(()=>[...n[17]||=[Wa(``,-1)]]),_:1}),G(_,{size:`small`,type:`danger`,onClick:n[6]||=e=>t.$emit(`clearPlan`)},{default:L(()=>[...n[18]||=[Wa(``,-1)]]),_:1})])])):(V(),U(_,{key:1,type:`success`,plain:``,class:`upload-btn`,onClick:n[7]||=e=>t.$emit(`uploadPlan`)},{default:L(()=>[G(g,null,{default:L(()=>[G(I(Yx))]),_:1}),n[19]||=Wa(`  `,-1)]),_:1})),n[20]||=W(`small`,{class:`hint`},` PNGJPG `,-1)])])}}},[[`__scopeId`,`data-v-21e526e6`]]),Vne={class:`outliner-panel`},Hne={class:`search-filter`},Une={class:`object-tree`},Wne={class:`node-content`},Gne={class:`node-label`},Kne={key:0,class:`node-type`},qne={class:`node-actions`},Jne={class:`stats-bar`},Yne={key:0},Xne=S7({__name:`OutlinerPanel`,props:{models:{type:Array,default:()=>[]},selectedId:{type:String,default:``},selectedIds:{type:Array,default:()=>[]}},emits:[`select`,`multiSelect`,`focus`,`duplicate`,`rename`,`toggleVisibility`,`toggleLock`,`delete`,`deleteSelected`,`selectAll`,`deselectAll`,`clearAll`],setup(e,{emit:t}){let n=e,r=t,i=F(null),a=F(``),o=F([]),s=F({visible:!1,x:0,y:0,data:null}),c={children:`children`,label:`label`},l=q(()=>{let e={};return n.models.forEach(t=>{let n=t.type||`other`;e[n]||(e[n]={id:`group-${n}`,label:u(n),short:``,color:`#64748b`,isGroup:!0,children:[]}),e[n].children.push({...t,children:t.children||[]})}),Object.values(e)});function u(e){return{"human-gate":``,"vehicle-gate":``,camera:``,"env-monitor":``,"tower-crane":``,other:``}[e]||e}function d(e,t){return e?t.label?.toLowerCase().includes(e.toLowerCase()):!0}B(a,e=>{i.value?.filter(e)});function f(e,t,n){if(e.isGroup){t.expanded=!t.expanded;return}n?.ctrlKey||n?.metaKey?r(`multiSelect`,e.id):r(`select`,e.id)}function p(e,t,n){t.isGroup||(e.preventDefault(),s.value={visible:!0,x:e.clientX,y:e.clientY,data:t})}function m(){o.value=l.value.map(e=>e.id)}function h(e){e.target.closest(`.context-menu`)||(s.value.visible=!1)}return Rr(()=>{document.addEventListener(`click`,h),m()}),Vr(()=>{document.removeEventListener(`click`,h)}),(t,n)=>{let r=Yr(`el-input`),u=Yr(`el-icon`),m=Yr(`el-button`),h=Yr(`el-tooltip`),g=Yr(`el-tree`),_=Yr(`el-empty`);return V(),H(`aside`,Vne,[n[14]||=W(`div`,{class:`panel-header`},[W(`h3`,null,``)],-1),W(`div`,Hne,[G(r,{modelValue:a.value,"onUpdate:modelValue":n[0]||=e=>a.value=e,placeholder:`...`,"prefix-icon":`Search`,clearable:``,size:`small`},null,8,[`modelValue`])]),W(`div`,Une,[G(g,{ref_key:`treeRef`,ref:i,data:l.value,props:c,"node-key":`id`,"highlight-current":!0,"current-node-key":e.selectedId,"default-expanded-keys":o.value,"filter-node-method":d,onNodeClick:f,onNodeContextmenu:p},{default:L(({node:n,data:r})=>[W(`div`,{class:N([`tree-node`,{selected:e.selectedIds.includes(r.id),locked:r.locked,hidden:!r.visible}])},[W(`div`,{class:`node-icon`,style:j({background:r.color||`#6366f1`})},P(r.short||r.label?.[0]||`O`),5),W(`div`,Wne,[W(`span`,Gne,P(r.label),1),r.type?(V(),H(`span`,Kne,P(r.type),1)):K(``,!0)]),W(`div`,qne,[G(h,{content:r.visible?``:``,placement:`top`},{default:L(()=>[G(m,{size:`small`,text:``,onClick:Ks(e=>t.$emit(`toggleVisibility`,r),[`stop`])},{default:L(()=>[G(u,null,{default:L(()=>[r.visible?(V(),U(I(fS),{key:0})):(V(),U(I(Hx),{key:1}))]),_:2},1024)]),_:2},1032,[`onClick`])]),_:2},1032,[`content`]),G(h,{content:r.locked?``:``,placement:`top`},{default:L(()=>[G(m,{size:`small`,text:``,onClick:Ks(e=>t.$emit(`toggleLock`,r),[`stop`])},{default:L(()=>[G(u,null,{default:L(()=>[r.locked?(V(),U(I(Gx),{key:0})):(V(),U(I(uS),{key:1}))]),_:2},1024)]),_:2},1032,[`onClick`])]),_:2},1032,[`content`])])],2)]),_:1},8,[`data`,`current-node-key`,`default-expanded-keys`]),e.models.length?K(``,!0):(V(),U(_,{key:0,description:``,"image-size":10}))]),W(`div`,Jne,[W(`span`,null,P(e.models.length)+` `,1),e.selectedIds.length?(V(),H(`span`,Yne,` `+P(e.selectedIds.length)+` `,1)):K(``,!0)]),(V(),U(sr,{to:`body`},[Yn(W(`div`,{class:`context-menu`,style:j({left:s.value.x+`px`,top:s.value.y+`px`}),onClick:n[7]||=e=>s.value.visible=!1},[W(`div`,{class:`menu-item`,onClick:n[1]||=e=>t.$emit(`focus`,s.value.data)},[G(u,null,{default:L(()=>[G(I(gx))]),_:1}),n[8]||=Wa(`  `,-1)]),W(`div`,{class:`menu-item`,onClick:n[2]||=e=>t.$emit(`duplicate`,s.value.data)},[G(u,null,{default:L(()=>[G(I(Nx))]),_:1}),n[9]||=Wa(`  `,-1)]),n[12]||=W(`div`,{class:`menu-divider`},null,-1),W(`div`,{class:`menu-item`,onClick:n[3]||=e=>t.$emit(`rename`,s.value.data)},[G(u,null,{default:L(()=>[G(I(zx))]),_:1}),n[10]||=Wa(`  `,-1)]),W(`div`,{class:`menu-item`,onClick:n[4]||=e=>t.$emit(`toggleVisibility`,s.value.data)},[G(u,null,{default:L(()=>[G(I(fS))]),_:1}),Wa(` `+P(s.value.data?.visible?``:``),1)]),W(`div`,{class:`menu-item`,onClick:n[5]||=e=>t.$emit(`toggleLock`,s.value.data)},[G(u,null,{default:L(()=>[G(I(Gx))]),_:1}),Wa(` `+P(s.value.data?.locked?``:``),1)]),n[13]||=W(`div`,{class:`menu-divider`},null,-1),W(`div`,{class:`menu-item danger`,onClick:n[6]||=e=>t.$emit(`delete`,s.value.data)},[G(u,null,{default:L(()=>[G(I(Ix))]),_:1}),n[11]||=Wa(`  `,-1)])],4),[[Zo,s.value.visible]])]))])}}},[[`__scopeId`,`data-v-da72e393`]]),Zne={class:`properties-panel`},Qne={key:0,class:`empty-state`},$ne={class:`property-group`},ere={class:`property-row`},tre={class:`property-row`},nre={class:`property-row inline`},rre={class:`property-row inline`},ire={class:`property-group`},are={class:`property-row`},ore={class:`section-label`},sre={class:`vector-row`},cre={class:`vector-input`},lre={class:`vector-input`},ure={class:`vector-input`},dre={class:`property-row`},fre={class:`section-label`},pre={class:`vector-row`},mre={class:`vector-input`},hre={class:`vector-input`},gre={class:`vector-input`},_re={class:`property-row`},vre={class:`section-label`},yre={class:`scale-row`},bre={class:`transform-actions`},xre={class:`panel-footer`},Sre=S7({__name:`PropertiesPanel`,props:{selectedModel:{type:Object,default:null}},emits:[`updateTransform`,`toggleVisibility`,`toggleLock`,`focus`,`duplicate`,`delete`],setup(e,{emit:t}){let n=e,r=t,i=F([`basic`,`transform`]),a=Kt({label:``,visible:!0,locked:!1,position:[0,0,0],rotation:[0,0,0],scale:1});B(()=>n.selectedModel,e=>{e&&(a.label=e.label||``,a.visible=e.visible!==!1,a.locked=e.locked||!1,a.position=[...e.position||[0,0,0]],a.rotation=[...e.rotation||[0,0,0]],a.scale=e.scale||1)},{immediate:!0,deep:!0});function o(e,t){n.selectedModel&&(n.selectedModel[e]=t)}function s(){n.selectedModel&&(n.selectedModel.position=[...a.position],n.selectedModel.rotation=[...a.rotation],n.selectedModel.scale=a.scale,r(`updateTransform`,n.selectedModel))}function c(){a.position=[0,0,0],s()}function l(){a.rotation=[0,0,0],s()}function u(){a.scale=1,s()}function d(){c(),l(),u()}return(t,n)=>{let r=Yr(`el-icon`),f=Yr(`el-input`),p=Yr(`el-switch`),m=Yr(`el-collapse-item`),h=Yr(`el-input-number`),g=Yr(`el-slider`),_=Yr(`el-button`),v=Yr(`el-collapse`);return V(),H(`aside`,Zne,[n[39]||=W(`div`,{class:`panel-header`},[W(`h3`,null,``)],-1),e.selectedModel?(V(),H(Da,{key:1},[G(v,{modelValue:i.value,"onUpdate:modelValue":n[14]||=e=>i.value=e,class:`property-collapse`},{default:L(()=>[G(m,{title:``,name:`basic`},{default:L(()=>[W(`div`,$ne,[W(`div`,ere,[n[19]||=W(`label`,null,``,-1),G(f,{modelValue:a.label,"onUpdate:modelValue":n[0]||=e=>a.label=e,size:`small`,onChange:n[1]||=e=>o(`label`,a.label)},null,8,[`modelValue`])]),W(`div`,tre,[n[20]||=W(`label`,null,``,-1),G(f,{"model-value":e.selectedModel.type,size:`small`,disabled:``},null,8,[`model-value`])]),W(`div`,nre,[n[21]||=W(`label`,null,``,-1),G(p,{modelValue:a.visible,"onUpdate:modelValue":n[2]||=e=>a.visible=e,size:`small`,onChange:n[3]||=n=>t.$emit(`toggleVisibility`,e.selectedModel)},null,8,[`modelValue`])]),W(`div`,rre,[n[22]||=W(`label`,null,``,-1),G(p,{modelValue:a.locked,"onUpdate:modelValue":n[4]||=e=>a.locked=e,size:`small`,onChange:n[5]||=n=>t.$emit(`toggleLock`,e.selectedModel)},null,8,[`modelValue`])])])]),_:1}),G(m,{title:``,name:`transform`},{default:L(()=>[W(`div`,ire,[W(`div`,are,[W(`label`,ore,[G(r,null,{default:L(()=>[G(I($x))]),_:1}),n[23]||=Wa(`  `,-1)])]),W(`div`,sre,[W(`div`,cre,[n[24]||=W(`span`,{class:`axis x`},`X`,-1),G(h,{modelValue:a.position[0],"onUpdate:modelValue":n[6]||=e=>a.position[0]=e,step:.1,precision:3,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])]),W(`div`,lre,[n[25]||=W(`span`,{class:`axis y`},`Y`,-1),G(h,{modelValue:a.position[1],"onUpdate:modelValue":n[7]||=e=>a.position[1]=e,step:.1,precision:3,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])]),W(`div`,ure,[n[26]||=W(`span`,{class:`axis z`},`Z`,-1),G(h,{modelValue:a.position[2],"onUpdate:modelValue":n[8]||=e=>a.position[2]=e,step:.1,precision:3,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])])]),W(`div`,dre,[W(`label`,fre,[G(r,null,{default:L(()=>[G(I(tS))]),_:1}),n[27]||=Wa(`  () `,-1)])]),W(`div`,pre,[W(`div`,mre,[n[28]||=W(`span`,{class:`axis x`},`X`,-1),G(h,{modelValue:a.rotation[0],"onUpdate:modelValue":n[9]||=e=>a.rotation[0]=e,step:5,precision:1,min:-180,max:180,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])]),W(`div`,hre,[n[29]||=W(`span`,{class:`axis y`},`Y`,-1),G(h,{modelValue:a.rotation[1],"onUpdate:modelValue":n[10]||=e=>a.rotation[1]=e,step:5,precision:1,min:-180,max:180,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])]),W(`div`,gre,[n[30]||=W(`span`,{class:`axis z`},`Z`,-1),G(h,{modelValue:a.rotation[2],"onUpdate:modelValue":n[11]||=e=>a.rotation[2]=e,step:5,precision:1,min:-180,max:180,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])])]),W(`div`,_re,[W(`label`,vre,[G(r,null,{default:L(()=>[G(I(Bx))]),_:1}),n[31]||=Wa(`  `,-1)])]),W(`div`,yre,[G(g,{modelValue:a.scale,"onUpdate:modelValue":n[12]||=e=>a.scale=e,min:.1,max:5,step:.1,"show-tooltip":!0,onInput:s},null,8,[`modelValue`]),G(h,{modelValue:a.scale,"onUpdate:modelValue":n[13]||=e=>a.scale=e,min:.1,max:5,step:.1,precision:2,size:`small`,"controls-position":`right`,onChange:s},null,8,[`modelValue`])]),W(`div`,bre,[G(_,{size:`small`,onClick:c},{default:L(()=>[...n[32]||=[Wa(`  `,-1)]]),_:1}),G(_,{size:`small`,onClick:l},{default:L(()=>[...n[33]||=[Wa(`  `,-1)]]),_:1}),G(_,{size:`small`,onClick:u},{default:L(()=>[...n[34]||=[Wa(`  `,-1)]]),_:1}),G(_,{size:`small`,type:`warning`,onClick:d},{default:L(()=>[...n[35]||=[Wa(`  `,-1)]]),_:1})])])]),_:1})]),_:1},8,[`modelValue`]),W(`div`,xre,[G(_,{size:`small`,onClick:n[15]||=n=>t.$emit(`focus`,e.selectedModel)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(gx))]),_:1}),n[36]||=Wa(`  `,-1)]),_:1}),G(_,{size:`small`,onClick:n[16]||=n=>t.$emit(`duplicate`,e.selectedModel)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Nx))]),_:1}),n[37]||=Wa(`  `,-1)]),_:1}),G(_,{size:`small`,type:`danger`,onClick:n[17]||=n=>t.$emit(`delete`,e.selectedModel)},{default:L(()=>[G(r,null,{default:L(()=>[G(I(Ix))]),_:1}),n[38]||=Wa(`  `,-1)]),_:1})])],64)):(V(),H(`div`,Qne,[G(r,{class:`empty-icon`},{default:L(()=>[G(I(Ux))]),_:1}),n[18]||=W(`span`,null,``,-1)]))])}}},[[`__scopeId`,`data-v-9465f42b`]]),Cre={class:`viewport-container`},wre={key:0,class:`loading-overlay`},Tre={key:0,class:`placement-hint`},Ere={class:`cube`},Dre={class:`view-controls`},Ore={class:`status-bar`},kre={class:`status-left`},Are={class:`status-item`},jre={key:0,class:`status-item selected`},Mre={class:`status-center`},Nre={key:0,class:`status-item`},Pre={class:`status-right`},Fre={class:`status-item fps`},Ire={class:`transform-indicator`},Lre=S7({__name:`Viewport`,props:{isLoading:{type:Boolean,default:!1},placementMode:{type:String,default:``},placementLabel:{type:String,default:``},placementColor:{type:String,default:`#6366f1`},modelCount:{type:Number,default:0},selectedCount:{type:Number,default:0},selectedModel:{type:Object,default:null},hasSelection:{type:Boolean,default:!1},transformMode:{type:String,default:`translate`},showGrid:{type:Boolean,default:!0},showAxes:{type:Boolean,default:!0}},emits:[`mounted`,`resize`,`click`,`setView`,`focusSelected`,`resetView`,`cancelPlacement`,`toggleGrid`,`toggleAxes`],setup(e,{expose:t,emit:n}){let r={name:`Coordinate`,render(){return _o(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":`2`},[_o(`line`,{x1:`12`,y1:`2`,x2:`12`,y2:`22`}),_o(`line`,{x1:`2`,y1:`12`,x2:`22`,y2:`12`}),_o(`polyline`,{points:`8,6 12,2 16,6`}),_o(`polyline`,{points:`18,8 22,12 18,16`})])}},i=n,a=F(null),o=F(60);function s(e){return e?`X: ${e[0]?.toFixed(2)} Y: ${e[1]?.toFixed(2)} Z: ${e[2]?.toFixed(2)}`:``}function c(){i(`setView`,`perspective`)}let l=0,u=performance.now(),d=null;function f(){l++;let e=performance.now(),t=e-u;t>=1e3&&(o.value=Math.round(l*1e3/t),l=0,u=e),d=requestAnimationFrame(f)}function p(){i(`resize`,a.value)}return Rr(()=>{i(`mounted`,a.value),window.addEventListener(`resize`,p),f()}),Vr(()=>{window.removeEventListener(`resize`,p),d&&cancelAnimationFrame(d)}),t({canvasRef:a}),(t,n)=>{let i=Yr(`el-button`),l=Yr(`el-icon`),u=Yr(`el-tooltip`),d=Yr(`el-divider`);return V(),H(`section`,Cre,[W(`div`,{ref_key:`canvasRef`,ref:a,class:`three-canvas`},[e.isLoading?(V(),H(`div`,wre,[...n[15]||=[W(`div`,{class:`loading-spinner`},null,-1),W(`span`,null,`...`,-1)]])):K(``,!0)],512),G(No,{name:`slide-down`},{default:L(()=>[e.placementMode?(V(),H(`div`,Tre,[W(`span`,{class:`hint-dot`,style:j({background:e.placementColor})},null,4),n[17]||=Wa(`  `,-1),W(`strong`,null,P(e.placementLabel),1),G(i,{size:`small`,type:`danger`,text:``,onClick:n[0]||=e=>t.$emit(`cancelPlacement`)},{default:L(()=>[...n[16]||=[Wa(`  (Esc) `,-1)]]),_:1})])):K(``,!0)]),_:1}),W(`div`,{class:`view-cube`,onClick:c},[W(`div`,Ere,[W(`div`,{class:`face front`,onClick:n[1]||=Ks(e=>t.$emit(`setView`,`front`),[`stop`])},``),W(`div`,{class:`face back`,onClick:n[2]||=Ks(e=>t.$emit(`setView`,`back`),[`stop`])},``),W(`div`,{class:`face right`,onClick:n[3]||=Ks(e=>t.$emit(`setView`,`right`),[`stop`])},``),W(`div`,{class:`face left`,onClick:n[4]||=Ks(e=>t.$emit(`setView`,`left`),[`stop`])},``),W(`div`,{class:`face top`,onClick:n[5]||=Ks(e=>t.$emit(`setView`,`top`),[`stop`])},``),W(`div`,{class:`face bottom`,onClick:n[6]||=Ks(e=>t.$emit(`setView`,`bottom`),[`stop`])},``)])]),W(`div`,Dre,[G(u,{content:` (5)`,placement:`left`},{default:L(()=>[G(i,{circle:``,onClick:n[7]||=e=>t.$emit(`setView`,`perspective`)},{default:L(()=>[G(l,null,{default:L(()=>[G(I(fS))]),_:1})]),_:1})]),_:1}),G(u,{content:` (7)`,placement:`left`},{default:L(()=>[G(i,{circle:``,onClick:n[8]||=e=>t.$emit(`setView`,`top`)},{default:L(()=>[G(l,null,{default:L(()=>[G(I(Vx))]),_:1})]),_:1})]),_:1}),G(u,{content:` (1)`,placement:`left`},{default:L(()=>[G(i,{circle:``,onClick:n[9]||=e=>t.$emit(`setView`,`front`)},{default:L(()=>[...n[18]||=[W(`span`,{class:`view-label`},``,-1)]]),_:1})]),_:1}),G(u,{content:` (3)`,placement:`left`},{default:L(()=>[G(i,{circle:``,onClick:n[10]||=e=>t.$emit(`setView`,`right`)},{default:L(()=>[...n[19]||=[W(`span`,{class:`view-label`},``,-1)]]),_:1})]),_:1}),G(u,{content:` (F)`,placement:`left`},{default:L(()=>[G(i,{circle:``,disabled:!e.hasSelection,onClick:n[11]||=e=>t.$emit(`focusSelected`)},{default:L(()=>[G(l,null,{default:L(()=>[G(I(gx))]),_:1})]),_:1},8,[`disabled`])]),_:1}),G(u,{content:``,placement:`left`},{default:L(()=>[G(i,{circle:``,onClick:n[12]||=e=>t.$emit(`resetView`)},{default:L(()=>[G(l,null,{default:L(()=>[G(I(eS))]),_:1})]),_:1})]),_:1})]),W(`div`,Ore,[W(`div`,kre,[W(`span`,Are,[G(l,null,{default:L(()=>[G(I(Sx))]),_:1}),Wa(` `+P(e.modelCount)+`  `,1)]),e.selectedCount?(V(),H(`span`,jre,[G(l,null,{default:L(()=>[G(I(iS))]),_:1}),Wa(`  `+P(e.selectedCount),1)])):K(``,!0)]),W(`div`,Mre,[e.selectedModel?(V(),H(`span`,Nre,P(s(e.selectedModel.position)),1)):K(``,!0)]),W(`div`,Pre,[G(u,{content:``,placement:`top`},{default:L(()=>[G(i,{size:`small`,text:``,type:e.showGrid?`primary`:``,onClick:n[13]||=e=>t.$emit(`toggleGrid`)},{default:L(()=>[G(l,null,{default:L(()=>[G(I(Vx))]),_:1})]),_:1},8,[`type`])]),_:1}),G(u,{content:``,placement:`top`},{default:L(()=>[G(i,{size:`small`,text:``,type:e.showAxes?`primary`:``,onClick:n[14]||=e=>t.$emit(`toggleAxes`)},{default:L(()=>[G(l,null,{default:L(()=>[G(r)]),_:1})]),_:1},8,[`type`])]),_:1}),G(d,{direction:`vertical`}),W(`span`,Fre,P(o.value)+` FPS`,1)])]),W(`div`,Ire,[W(`div`,{class:N([`indicator-item`,{active:e.transformMode===`translate`}])},[G(l,null,{default:L(()=>[G(I($x))]),_:1}),n[20]||=W(`span`,null,` (W)`,-1)],2),W(`div`,{class:N([`indicator-item`,{active:e.transformMode===`rotate`}])},[G(l,null,{default:L(()=>[G(I(tS))]),_:1}),n[21]||=W(`span`,null,` (E)`,-1)],2),W(`div`,{class:N([`indicator-item`,{active:e.transformMode===`scale`}])},[G(l,null,{default:L(()=>[G(I(Bx))]),_:1}),n[22]||=W(`span`,null,` (R)`,-1)],2)]),n[23]||=W(`div`,{class:`axis-indicator`},[W(`div`,{class:`axis x`},`X`),W(`div`,{class:`axis y`},`Y`),W(`div`,{class:`axis z`},`Z`)],-1)])}}},[[`__scopeId`,`data-v-0d33ab34`]]),Rre={class:`dialog-footer`},zre=S7({__name:`HotkeysDialog`,props:{modelValue:{type:Boolean,default:!1}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=F(n.modelValue);return B(()=>n.modelValue,e=>{i.value=e}),B(i,e=>{r(`update:modelValue`,e)}),(e,t)=>{let n=Yr(`el-button`),r=Yr(`el-dialog`);return V(),U(r,{modelValue:i.value,"onUpdate:modelValue":t[1]||=e=>i.value=e,title:``,width:`600px`,class:`hotkeys-dialog`,"append-to-body":!0},{footer:L(()=>[W(`div`,Rre,[t[3]||=W(`span`,{class:`tip`},`:   `,-1),G(n,{type:`primary`,onClick:t[0]||=e=>i.value=!1},{default:L(()=>[...t[2]||=[Wa(``,-1)]]),_:1})])]),default:L(()=>[t[4]||=W(`div`,{class:`hotkeys-container`},[W(`div`,{class:`hotkey-section`},[W(`h4`,null,``),W(`div`,{class:`hotkey-list`},[W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`W`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`E`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`R`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`G`)]),W(`span`,{class:`desc`},``)])])]),W(`div`,{class:`hotkey-section`},[W(`h4`,null,``),W(`div`,{class:`hotkey-list`},[W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`1`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`3`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`7`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`5`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`F`)]),W(`span`,{class:`desc`},``)])])]),W(`div`,{class:`hotkey-section`},[W(`h4`,null,``),W(`div`,{class:`hotkey-list`},[W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`C`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`V`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`D`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`Z`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`Z`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`Delete`)]),W(`span`,{class:`desc`},``)])])]),W(`div`,{class:`hotkey-section`},[W(`h4`,null,``),W(`div`,{class:`hotkey-list`},[W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`A`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`Esc`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,`H`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`H`)]),W(`span`,{class:`desc`},``)])])]),W(`div`,{class:`hotkey-section`},[W(`h4`,null,``),W(`div`,{class:`hotkey-list`},[W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`S`)]),W(`span`,{class:`desc`},``)]),W(`div`,{class:`hotkey-item`},[W(`span`,{class:`keys`},[W(`kbd`,null,``),Wa(` + `),W(`kbd`,null,`E`)]),W(`span`,{class:`desc`},``)])])])],-1)]),_:1},8,[`modelValue`])}}},[[`__scopeId`,`data-v-161ec32d`]]),C7={type:`change`},w7={type:`start`},T7={type:`end`},E7=new X$,D7=new S2,Bre=Math.cos(70*QQ.DEG2RAD),O7=new Q,k7=2*Math.PI,A7={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},j7=1e-6,Vre=class extends q6{constructor(e,t=null){super(e,t),this.state=A7.NONE,this.target=new Q,this.cursor=new Q,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:`ArrowLeft`,UP:`ArrowUp`,RIGHT:`ArrowRight`,BOTTOM:`ArrowDown`},this.mouseButtons={LEFT:BX.ROTATE,MIDDLE:BX.DOLLY,RIGHT:BX.PAN},this.touches={ONE:VX.ROTATE,TWO:VX.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Q,this._lastQuaternion=new e$,this._lastTargetPosition=new Q,this._quat=new e$().setFromUnitVectors(e.up,new Q(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new W6,this._sphericalDelta=new W6,this._scale=1,this._panOffset=new Q,this._rotateStart=new $Q,this._rotateEnd=new $Q,this._rotateDelta=new $Q,this._panStart=new $Q,this._panEnd=new $Q,this._panDelta=new $Q,this._dollyStart=new $Q,this._dollyEnd=new $Q,this._dollyDelta=new $Q,this._dollyDirection=new Q,this._mouse=new $Q,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Ure.bind(this),this._onPointerDown=Hre.bind(this),this._onPointerUp=Wre.bind(this),this._onContextMenu=Zre.bind(this),this._onMouseWheel=qre.bind(this),this._onKeyDown=Jre.bind(this),this._onTouchStart=Yre.bind(this),this._onTouchMove=Xre.bind(this),this._onMouseDown=Gre.bind(this),this._onMouseMove=Kre.bind(this),this._interceptControlDown=Qre.bind(this),this._interceptControlUp=$re.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(e){super.connect(e),this.domElement.addEventListener(`pointerdown`,this._onPointerDown),this.domElement.addEventListener(`pointercancel`,this._onPointerUp),this.domElement.addEventListener(`contextmenu`,this._onContextMenu),this.domElement.addEventListener(`wheel`,this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener(`keydown`,this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction=`none`}disconnect(){this.domElement.removeEventListener(`pointerdown`,this._onPointerDown),this.domElement.removeEventListener(`pointermove`,this._onPointerMove),this.domElement.removeEventListener(`pointerup`,this._onPointerUp),this.domElement.removeEventListener(`pointercancel`,this._onPointerUp),this.domElement.removeEventListener(`wheel`,this._onMouseWheel),this.domElement.removeEventListener(`contextmenu`,this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener(`keydown`,this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction=`auto`}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener(`keydown`,this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener(`keydown`,this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(C7),this.update(),this.state=A7.NONE}update(e=null){let t=this.object.position;O7.copy(t).sub(this.target),O7.applyQuaternion(this._quat),this._spherical.setFromVector3(O7),this.autoRotate&&this.state===A7.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(n)&&isFinite(r)&&(n<-Math.PI?n+=k7:n>Math.PI&&(n-=k7),r<-Math.PI?r+=k7:r>Math.PI&&(r-=k7),n<=r?this._spherical.theta=Math.max(n,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+r)/2?Math.max(n,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let i=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let e=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),i=e!=this._spherical.radius}if(O7.setFromSpherical(this._spherical),O7.applyQuaternion(this._quatInverse),t.copy(this.target).add(O7),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let e=null;if(this.object.isPerspectiveCamera){let t=O7.length();e=this._clampDistance(t*this._scale);let n=t-e;this.object.position.addScaledVector(this._dollyDirection,n),this.object.updateMatrixWorld(),i=!!n}else if(this.object.isOrthographicCamera){let t=new Q(this._mouse.x,this._mouse.y,0);t.unproject(this.object);let n=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),i=n!==this.object.zoom;let r=new Q(this._mouse.x,this._mouse.y,0);r.unproject(this.object),this.object.position.sub(r).add(t),this.object.updateMatrixWorld(),e=O7.length()}else console.warn(`WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.`),this.zoomToCursor=!1;e!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(e).add(this.object.position):(E7.origin.copy(this.object.position),E7.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(E7.direction))<Bre?this.object.lookAt(this.target):(D7.setFromNormalAndCoplanarPoint(this.object.up,this.target),E7.intersectPlane(D7,this.target))))}else if(this.object.isOrthographicCamera){let e=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),e!==this.object.zoom&&(this.object.updateProjectionMatrix(),i=!0)}return this._scale=1,this._performCursorZoom=!1,i||this._lastPosition.distanceToSquared(this.object.position)>j7||8*(1-this._lastQuaternion.dot(this.object.quaternion))>j7||this._lastTargetPosition.distanceToSquared(this.target)>j7?(this.dispatchEvent(C7),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e===null?k7/60/60*this.autoRotateSpeed:k7/60*this.autoRotateSpeed*e}_getZoomScale(e){let t=Math.abs(e*.01);return .95**(this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){O7.setFromMatrixColumn(t,0),O7.multiplyScalar(-e),this._panOffset.add(O7)}_panUp(e,t){this.screenSpacePanning===!0?O7.setFromMatrixColumn(t,1):(O7.setFromMatrixColumn(t,0),O7.crossVectors(this.object.up,O7)),O7.multiplyScalar(e),this._panOffset.add(O7)}_pan(e,t){let n=this.domElement;if(this.object.isPerspectiveCamera){let r=this.object.position;O7.copy(r).sub(this.target);let i=O7.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*i/n.clientHeight,this.object.matrix),this._panUp(2*t*i/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn(`WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.`),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn(`WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.`),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn(`WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.`),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let n=this.domElement.getBoundingClientRect(),r=e-n.left,i=t-n.top,a=n.width,o=n.height;this._mouse.x=r/a*2-1,this._mouse.y=-(i/o)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(k7*this._rotateDelta.x/t.clientHeight),this._rotateUp(k7*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(k7*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-k7*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(k7*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-k7*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(n,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(n,r)}}_handleTouchStartDolly(e){let t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);this._dollyStart.set(0,i)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateEnd.set(n,r)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;this._rotateLeft(k7*this._rotateDelta.x/t.clientHeight),this._rotateUp(k7*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{let t=this._getSecondPointerPosition(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(n,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){let t=this._getSecondPointerPosition(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);this._dollyEnd.set(0,i),this._dollyDelta.set(0,(this._dollyEnd.y/this._dollyStart.y)**+this.zoomSpeed),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let a=(e.pageX+t.x)*.5,o=(e.pageY+t.y)*.5;this._updateZoomParameters(a,o)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new $Q,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){let t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){let t=e.deltaMode,n={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}};function Hre(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener(`pointermove`,this._onPointerMove),this.domElement.addEventListener(`pointerup`,this._onPointerUp)),!this._isTrackingPointer(e)&&(this._addPointer(e),e.pointerType===`touch`?this._onTouchStart(e):this._onMouseDown(e)))}function Ure(e){this.enabled!==!1&&(e.pointerType===`touch`?this._onTouchMove(e):this._onMouseMove(e))}function Wre(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener(`pointermove`,this._onPointerMove),this.domElement.removeEventListener(`pointerup`,this._onPointerUp),this.dispatchEvent(T7),this.state=A7.NONE;break;case 1:let t=this._pointers[0],n=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:n.x,pageY:n.y});break}}function Gre(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case BX.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(e),this.state=A7.DOLLY;break;case BX.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(e),this.state=A7.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(e),this.state=A7.ROTATE}break;case BX.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(e),this.state=A7.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(e),this.state=A7.PAN}break;default:this.state=A7.NONE}this.state!==A7.NONE&&this.dispatchEvent(w7)}function Kre(e){switch(this.state){case A7.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(e);break;case A7.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(e);break;case A7.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(e);break}}function qre(e){this.enabled===!1||this.enableZoom===!1||this.state!==A7.NONE||(e.preventDefault(),this.dispatchEvent(w7),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(T7))}function Jre(e){this.enabled!==!1&&this._handleKeyDown(e)}function Yre(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case VX.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(e),this.state=A7.TOUCH_ROTATE;break;case VX.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(e),this.state=A7.TOUCH_PAN;break;default:this.state=A7.NONE}break;case 2:switch(this.touches.TWO){case VX.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(e),this.state=A7.TOUCH_DOLLY_PAN;break;case VX.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(e),this.state=A7.TOUCH_DOLLY_ROTATE;break;default:this.state=A7.NONE}break;default:this.state=A7.NONE}this.state!==A7.NONE&&this.dispatchEvent(w7)}function Xre(e){switch(this._trackPointer(e),this.state){case A7.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(e),this.update();break;case A7.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(e),this.update();break;case A7.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(e),this.update();break;case A7.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=A7.NONE}}function Zre(e){this.enabled!==!1&&e.preventDefault()}function Qre(e){e.key===`Control`&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener(`keyup`,this._interceptControlUp,{passive:!0,capture:!0}))}function $re(e){e.key===`Control`&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener(`keyup`,this._interceptControlUp,{passive:!0,capture:!0}))}var M7=new V6,N7=new Q,P7=new Q,F7=new e$,I7={X:new Q(1,0,0),Y:new Q(0,1,0),Z:new Q(0,0,1)},L7={type:`change`},R7={type:`mouseDown`,mode:null},z7={type:`mouseUp`,mode:null},B7={type:`objectChange`},eie=class extends q6{constructor(e,t=null){super(void 0,t);let n=new oie(this);this._root=n;let r=new sie;this._gizmo=r,n.add(r);let i=new cie;this._plane=i,n.add(i);let a=this;function o(e,t){let n=t;Object.defineProperty(a,e,{get:function(){return n===void 0?t:n},set:function(t){n!==t&&(n=t,i[e]=t,r[e]=t,a.dispatchEvent({type:e+`-changed`,value:t}),a.dispatchEvent(L7))}}),a[e]=t,i[e]=t,r[e]=t}o(`camera`,e),o(`object`,void 0),o(`enabled`,!0),o(`axis`,null),o(`mode`,`translate`),o(`translationSnap`,null),o(`rotationSnap`,null),o(`scaleSnap`,null),o(`space`,`world`),o(`size`,1),o(`dragging`,!1),o(`showX`,!0),o(`showY`,!0),o(`showZ`,!0),o(`minX`,-1/0),o(`maxX`,1/0),o(`minY`,-1/0),o(`maxY`,1/0),o(`minZ`,-1/0),o(`maxZ`,1/0);let s=new Q,c=new Q,l=new e$,u=new e$,d=new Q,f=new e$,p=new Q,m=new Q,h=new Q,g=new Q;o(`worldPosition`,s),o(`worldPositionStart`,c),o(`worldQuaternion`,l),o(`worldQuaternionStart`,u),o(`cameraPosition`,d),o(`cameraQuaternion`,f),o(`pointStart`,p),o(`pointEnd`,m),o(`rotationAxis`,h),o(`rotationAngle`,0),o(`eye`,g),this._offset=new Q,this._startNorm=new Q,this._endNorm=new Q,this._cameraScale=new Q,this._parentPosition=new Q,this._parentQuaternion=new e$,this._parentQuaternionInv=new e$,this._parentScale=new Q,this._worldScaleStart=new Q,this._worldQuaternionInv=new e$,this._worldScale=new Q,this._positionStart=new Q,this._quaternionStart=new e$,this._scaleStart=new Q,this._getPointer=tie.bind(this),this._onPointerDown=rie.bind(this),this._onPointerHover=nie.bind(this),this._onPointerMove=iie.bind(this),this._onPointerUp=aie.bind(this),t!==null&&this.connect(t)}connect(e){super.connect(e),this.domElement.addEventListener(`pointerdown`,this._onPointerDown),this.domElement.addEventListener(`pointermove`,this._onPointerHover),this.domElement.addEventListener(`pointerup`,this._onPointerUp),this.domElement.style.touchAction=`none`}disconnect(){this.domElement.removeEventListener(`pointerdown`,this._onPointerDown),this.domElement.removeEventListener(`pointermove`,this._onPointerHover),this.domElement.removeEventListener(`pointermove`,this._onPointerMove),this.domElement.removeEventListener(`pointerup`,this._onPointerUp),this.domElement.style.touchAction=`auto`}getHelper(){return this._root}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&M7.setFromCamera(e,this.camera);let t=V7(this._gizmo.picker[this.mode],M7);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&M7.setFromCamera(e,this.camera);let t=V7(this._plane,M7,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,R7.mode=this.mode,this.dispatchEvent(R7)}}pointerMove(e){let t=this.axis,n=this.mode,r=this.object,i=this.space;if(n===`scale`?i=`local`:(t===`E`||t===`XYZE`||t===`XYZ`)&&(i=`world`),r===void 0||t===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&M7.setFromCamera(e,this.camera);let a=V7(this._plane,M7,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),n===`translate`)this._offset.copy(this.pointEnd).sub(this.pointStart),i===`local`&&t!==`XYZ`&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf(`X`)===-1&&(this._offset.x=0),t.indexOf(`Y`)===-1&&(this._offset.y=0),t.indexOf(`Z`)===-1&&(this._offset.z=0),i===`local`&&t!==`XYZ`?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(i===`local`&&(r.position.applyQuaternion(F7.copy(this._quaternionStart).invert()),t.search(`X`)!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search(`Y`)!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search(`Z`)!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),i===`world`&&(r.parent&&r.position.add(N7.setFromMatrixPosition(r.parent.matrixWorld)),t.search(`X`)!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search(`Y`)!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search(`Z`)!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(N7.setFromMatrixPosition(r.parent.matrixWorld)))),r.position.x=Math.max(this.minX,Math.min(this.maxX,r.position.x)),r.position.y=Math.max(this.minY,Math.min(this.maxY,r.position.y)),r.position.z=Math.max(this.minZ,Math.min(this.maxZ,r.position.z));else if(n===`scale`){if(t.search(`XYZ`)!==-1){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),P7.set(e,e,e)}else N7.copy(this.pointStart),P7.copy(this.pointEnd),N7.applyQuaternion(this._worldQuaternionInv),P7.applyQuaternion(this._worldQuaternionInv),P7.divide(N7),t.search(`X`)===-1&&(P7.x=1),t.search(`Y`)===-1&&(P7.y=1),t.search(`Z`)===-1&&(P7.z=1);r.scale.copy(this._scaleStart).multiply(P7),this.scaleSnap&&(t.search(`X`)!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search(`Y`)!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search(`Z`)!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(n===`rotate`){this._offset.copy(this.pointEnd).sub(this.pointStart);let e=20/this.worldPosition.distanceTo(N7.setFromMatrixPosition(this.camera.matrixWorld)),n=!1;t===`XYZE`?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(N7.copy(this.rotationAxis).cross(this.eye))*e):(t===`X`||t===`Y`||t===`Z`)&&(this.rotationAxis.copy(I7[t]),N7.copy(I7[t]),i===`local`&&N7.applyQuaternion(this.worldQuaternion),N7.cross(this.eye),N7.length()===0?n=!0:this.rotationAngle=this._offset.dot(N7.normalize())*e),(t===`E`||n)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),i===`local`&&t!==`E`&&t!==`XYZE`?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(F7.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(F7.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(L7),this.dispatchEvent(B7)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(z7.mode=this.mode,this.dispatchEvent(z7)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(e){return this.object=e,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(L7),this.dispatchEvent(B7),this.pointStart.copy(this.pointEnd))}getRaycaster(){return M7}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}setColors(e,t,n,r){let i=this._gizmo.materialLib;i.xAxis.color.set(e),i.yAxis.color.set(t),i.zAxis.color.set(n),i.active.color.set(r),i.xAxisTransparent.color.set(e),i.yAxisTransparent.color.set(t),i.zAxisTransparent.color.set(n),i.activeTransparent.color.set(r),i.xAxis._color&&i.xAxis._color.set(e),i.yAxis._color&&i.yAxis._color.set(t),i.zAxis._color&&i.zAxis._color.set(n),i.active._color&&i.active._color.set(r),i.xAxisTransparent._color&&i.xAxisTransparent._color.set(e),i.yAxisTransparent._color&&i.yAxisTransparent._color.set(t),i.zAxisTransparent._color&&i.zAxisTransparent._color.set(n),i.activeTransparent._color&&i.activeTransparent._color.set(r)}};function tie(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{let t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}}function nie(e){if(this.enabled)switch(e.pointerType){case`mouse`:case`pen`:this.pointerHover(this._getPointer(e));break}}function rie(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener(`pointermove`,this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function iie(e){this.enabled&&this.pointerMove(this._getPointer(e))}function aie(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener(`pointermove`,this._onPointerMove),this.pointerUp(this._getPointer(e)))}function V7(e,t,n){let r=t.intersectObject(e,!0);for(let e=0;e<r.length;e++)if(r[e].object.visible||n)return r[e];return!1}var H7=new s1,U7=new Q(0,1,0),W7=new Q(0,0,0),G7=new Z$,K7=new e$,q7=new e$,J7=new Q,Y7=new Z$,X7=new Q(1,0,0),Z7=new Q(0,1,0),Q7=new Q(0,0,1),$7=new Q,e9=new Q,t9=new Q,oie=class extends w1{constructor(e){super(),this.isTransformControlsRoot=!0,this.controls=e,this.visible=!1}updateMatrixWorld(e){let t=this.controls;t.object!==void 0&&(t.object.updateMatrixWorld(),t.object.parent===null?console.error(`TransformControls: The attached 3D object must be a part of the scene graph.`):t.object.parent.matrixWorld.decompose(t._parentPosition,t._parentQuaternion,t._parentScale),t.object.matrixWorld.decompose(t.worldPosition,t.worldQuaternion,t._worldScale),t._parentQuaternionInv.copy(t._parentQuaternion).invert(),t._worldQuaternionInv.copy(t.worldQuaternion).invert()),t.camera.updateMatrixWorld(),t.camera.matrixWorld.decompose(t.cameraPosition,t.cameraQuaternion,t._cameraScale),t.camera.isOrthographicCamera?t.camera.getWorldDirection(t.eye).negate():t.eye.copy(t.cameraPosition).sub(t.worldPosition).normalize(),super.updateMatrixWorld(e)}dispose(){this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}},sie=class extends w1{constructor(){super(),this.isTransformControlsGizmo=!0,this.type=`TransformControlsGizmo`;let e=new q1({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new D2({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=e.clone();n.opacity=.15;let r=t.clone();r.opacity=.5;let i=e.clone();i.color.setHex(16711680);let a=e.clone();a.color.setHex(65280);let o=e.clone();o.color.setHex(255);let s=e.clone();s.color.setHex(16711680),s.opacity=.5;let c=e.clone();c.color.setHex(65280),c.opacity=.5;let l=e.clone();l.color.setHex(255),l.opacity=.5;let u=e.clone();u.opacity=.25;let d=e.clone();d.color.setHex(16776960),d.opacity=.25;let f=e.clone();f.color.setHex(16776960);let p=e.clone();p.color.setHex(7895160),this.materialLib={xAxis:i,yAxis:a,zAxis:o,active:f,xAxisTransparent:s,yAxisTransparent:c,zAxisTransparent:l,activeTransparent:d};let m=new $2(0,.04,.1,12);m.translate(0,.05,0);let h=new S0(.08,.08,.08);h.translate(0,.04,0);let g=new c0;g.setAttribute(`position`,new e0([0,0,0,1,0,0],3));let _=new $2(.0075,.0075,.5,3);_.translate(0,.25,0);function v(e,t){let n=new S3(e,.0075,3,64,t*Math.PI*2);return n.rotateY(Math.PI/2),n.rotateX(Math.PI/2),n}function y(){let e=new c0;return e.setAttribute(`position`,new e0([0,0,0,1,1,1],3)),e}let b={X:[[new $(m,i),[.5,0,0],[0,0,-Math.PI/2]],[new $(m,i),[-.5,0,0],[0,0,Math.PI/2]],[new $(_,i),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new $(m,a),[0,.5,0]],[new $(m,a),[0,-.5,0],[Math.PI,0,0]],[new $(_,a)]],Z:[[new $(m,o),[0,0,.5],[Math.PI/2,0,0]],[new $(m,o),[0,0,-.5],[-Math.PI/2,0,0]],[new $(_,o),null,[Math.PI/2,0,0]]],XYZ:[[new $(new v3(.1,0),u),[0,0,0]]],XY:[[new $(new S0(.15,.15,.01),l),[.15,.15,0]]],YZ:[[new $(new S0(.15,.15,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new $(new S0(.15,.15,.01),c),[.15,0,.15],[-Math.PI/2,0,0]]]},x={X:[[new $(new $2(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new $(new $2(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new $(new $2(.2,0,.6,4),n),[0,.3,0]],[new $(new $2(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new $(new $2(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new $(new $2(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new $(new v3(.2,0),n)]],XY:[[new $(new S0(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new $(new S0(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new $(new S0(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]]},S={START:[[new $(new v3(.01,2),r),null,null,null,`helper`]],END:[[new $(new v3(.01,2),r),null,null,null,`helper`]],DELTA:[[new F2(y(),r),null,null,null,`helper`]],X:[[new F2(g,r),[-1e3,0,0],null,[1e6,1,1],`helper`]],Y:[[new F2(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],`helper`]],Z:[[new F2(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],`helper`]]},C={XYZE:[[new $(v(.5,1),p),null,[0,Math.PI/2,0]]],X:[[new $(v(.5,.5),i)]],Y:[[new $(v(.5,.5),a),null,[0,0,-Math.PI/2]]],Z:[[new $(v(.5,.5),o),null,[0,Math.PI/2,0]]],E:[[new $(v(.75,1),d),null,[0,Math.PI/2,0]]]},w={AXIS:[[new F2(g,r),[-1e3,0,0],null,[1e6,1,1],`helper`]]},T={XYZE:[[new $(new x3(.25,10,8),n)]],X:[[new $(new S3(.5,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new $(new S3(.5,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new $(new S3(.5,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new $(new S3(.75,.1,2,24),n)]]},E={X:[[new $(h,i),[.5,0,0],[0,0,-Math.PI/2]],[new $(_,i),[0,0,0],[0,0,-Math.PI/2]],[new $(h,i),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new $(h,a),[0,.5,0]],[new $(_,a)],[new $(h,a),[0,-.5,0],[0,0,Math.PI]]],Z:[[new $(h,o),[0,0,.5],[Math.PI/2,0,0]],[new $(_,o),[0,0,0],[Math.PI/2,0,0]],[new $(h,o),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new $(new S0(.15,.15,.01),l),[.15,.15,0]]],YZ:[[new $(new S0(.15,.15,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new $(new S0(.15,.15,.01),c),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new $(new S0(.1,.1,.1),u)]]},D={X:[[new $(new $2(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new $(new $2(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new $(new $2(.2,0,.6,4),n),[0,.3,0]],[new $(new $2(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new $(new $2(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new $(new $2(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new $(new S0(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new $(new S0(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new $(new S0(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new $(new S0(.2,.2,.2),n),[0,0,0]]]},O={X:[[new F2(g,r),[-1e3,0,0],null,[1e6,1,1],`helper`]],Y:[[new F2(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],`helper`]],Z:[[new F2(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],`helper`]]};function k(e){let t=new w1;for(let n in e)for(let r=e[n].length;r--;){let i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],c=e[n][r][4];i.name=n,i.tag=c,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();let l=i.geometry.clone();l.applyMatrix4(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=k(b)),this.add(this.gizmo.rotate=k(C)),this.add(this.gizmo.scale=k(E)),this.add(this.picker.translate=k(x)),this.add(this.picker.rotate=k(T)),this.add(this.picker.scale=k(D)),this.add(this.helper.translate=k(S)),this.add(this.helper.rotate=k(w)),this.add(this.helper.scale=k(O)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){let t=(this.mode===`scale`?`local`:this.space)===`local`?this.worldQuaternion:q7;this.gizmo.translate.visible=this.mode===`translate`,this.gizmo.rotate.visible=this.mode===`rotate`,this.gizmo.scale.visible=this.mode===`scale`,this.helper.translate.visible=this.mode===`translate`,this.helper.rotate.visible=this.mode===`rotate`,this.helper.scale.visible=this.mode===`scale`;let n=[];n=n.concat(this.picker[this.mode].children),n=n.concat(this.gizmo[this.mode].children),n=n.concat(this.helper[this.mode].children);for(let e=0;e<n.length;e++){let r=n[e];r.visible=!0,r.rotation.set(0,0,0),r.position.copy(this.worldPosition);let i;if(i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),r.scale.set(1,1,1).multiplyScalar(i*this.size/4),r.tag===`helper`){r.visible=!1,r.name===`AXIS`?(r.visible=!!this.axis,this.axis===`X`&&(F7.setFromEuler(H7.set(0,0,0)),r.quaternion.copy(t).multiply(F7),Math.abs(U7.copy(X7).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),this.axis===`Y`&&(F7.setFromEuler(H7.set(0,0,Math.PI/2)),r.quaternion.copy(t).multiply(F7),Math.abs(U7.copy(Z7).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),this.axis===`Z`&&(F7.setFromEuler(H7.set(0,Math.PI/2,0)),r.quaternion.copy(t).multiply(F7),Math.abs(U7.copy(Q7).applyQuaternion(t).dot(this.eye))>.9&&(r.visible=!1)),this.axis===`XYZE`&&(F7.setFromEuler(H7.set(0,Math.PI/2,0)),U7.copy(this.rotationAxis),r.quaternion.setFromRotationMatrix(G7.lookAt(W7,U7,Z7)),r.quaternion.multiply(F7),r.visible=this.dragging),this.axis===`E`&&(r.visible=!1)):r.name===`START`?(r.position.copy(this.worldPositionStart),r.visible=this.dragging):r.name===`END`?(r.position.copy(this.worldPosition),r.visible=this.dragging):r.name===`DELTA`?(r.position.copy(this.worldPositionStart),r.quaternion.copy(this.worldQuaternionStart),N7.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),N7.applyQuaternion(this.worldQuaternionStart.clone().invert()),r.scale.copy(N7),r.visible=this.dragging):(r.quaternion.copy(t),this.dragging?r.position.copy(this.worldPositionStart):r.position.copy(this.worldPosition),this.axis&&(r.visible=this.axis.search(r.name)!==-1));continue}if(r.quaternion.copy(t),this.mode===`translate`||this.mode===`scale`){let e=.99,n=.2;r.name===`X`&&Math.abs(U7.copy(X7).applyQuaternion(t).dot(this.eye))>e&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name===`Y`&&Math.abs(U7.copy(Z7).applyQuaternion(t).dot(this.eye))>e&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name===`Z`&&Math.abs(U7.copy(Q7).applyQuaternion(t).dot(this.eye))>e&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name===`XY`&&Math.abs(U7.copy(Q7).applyQuaternion(t).dot(this.eye))<n&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name===`YZ`&&Math.abs(U7.copy(X7).applyQuaternion(t).dot(this.eye))<n&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1),r.name===`XZ`&&Math.abs(U7.copy(Z7).applyQuaternion(t).dot(this.eye))<n&&(r.scale.set(1e-10,1e-10,1e-10),r.visible=!1)}else this.mode===`rotate`&&(K7.copy(t),U7.copy(this.eye).applyQuaternion(F7.copy(t).invert()),r.name.search(`E`)!==-1&&r.quaternion.setFromRotationMatrix(G7.lookAt(this.eye,W7,Z7)),r.name===`X`&&(F7.setFromAxisAngle(X7,Math.atan2(-U7.y,U7.z)),F7.multiplyQuaternions(K7,F7),r.quaternion.copy(F7)),r.name===`Y`&&(F7.setFromAxisAngle(Z7,Math.atan2(U7.x,U7.z)),F7.multiplyQuaternions(K7,F7),r.quaternion.copy(F7)),r.name===`Z`&&(F7.setFromAxisAngle(Q7,Math.atan2(U7.y,U7.x)),F7.multiplyQuaternions(K7,F7),r.quaternion.copy(F7)));r.visible=r.visible&&(r.name.indexOf(`X`)===-1||this.showX),r.visible=r.visible&&(r.name.indexOf(`Y`)===-1||this.showY),r.visible=r.visible&&(r.name.indexOf(`Z`)===-1||this.showZ),r.visible=r.visible&&(r.name.indexOf(`E`)===-1||this.showX&&this.showY&&this.showZ),r.material._color=r.material._color||r.material.color.clone(),r.material._opacity=r.material._opacity||r.material.opacity,r.material.color.copy(r.material._color),r.material.opacity=r.material._opacity,this.enabled&&this.axis&&(r.name===this.axis||this.axis.split(``).some(function(e){return r.name===e}))&&(r.material.color.copy(this.materialLib.active.color),r.material.opacity=1)}super.updateMatrixWorld(e)}},cie=class extends ${constructor(){super(new y3(1e5,1e5,2,2),new q1({visible:!1,wireframe:!0,side:2,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type=`TransformControlsPlane`}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode===`scale`&&(t=`local`),$7.copy(X7).applyQuaternion(t===`local`?this.worldQuaternion:q7),e9.copy(Z7).applyQuaternion(t===`local`?this.worldQuaternion:q7),t9.copy(Q7).applyQuaternion(t===`local`?this.worldQuaternion:q7),U7.copy(e9),this.mode){case`translate`:case`scale`:switch(this.axis){case`X`:U7.copy(this.eye).cross($7),J7.copy($7).cross(U7);break;case`Y`:U7.copy(this.eye).cross(e9),J7.copy(e9).cross(U7);break;case`Z`:U7.copy(this.eye).cross(t9),J7.copy(t9).cross(U7);break;case`XY`:J7.copy(t9);break;case`YZ`:J7.copy($7);break;case`XZ`:U7.copy(t9),J7.copy(e9);break;case`XYZ`:case`E`:J7.set(0,0,0);break}break;case`rotate`:default:J7.set(0,0,0)}J7.length()===0?this.quaternion.copy(this.cameraQuaternion):(Y7.lookAt(N7.set(0,0,0),J7,U7),this.quaternion.setFromRotationMatrix(Y7)),super.updateMatrixWorld(e)}},lie=class extends G0{constructor(){super();let e=new S0;e.deleteAttribute(`uv`);let t=new T3({side:1}),n=new T3,r=new v6(16777215,900,28,2);r.position.set(.418,16.199,.3),this.add(r);let i=new $(e,t);i.position.set(-.757,13.219,.717),i.scale.set(31.713,28.305,28.591),this.add(i);let a=new v2(e,n,6),o=new w1;o.position.set(-10.906,2.009,1.846),o.rotation.set(0,-.195,0),o.scale.set(2.328,7.905,4.651),o.updateMatrix(),a.setMatrixAt(0,o.matrix),o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),o.updateMatrix(),a.setMatrixAt(1,o.matrix),o.position.set(6.167,.857,7.803),o.rotation.set(0,.561,0),o.scale.set(3.927,6.285,3.687),o.updateMatrix(),a.setMatrixAt(2,o.matrix),o.position.set(-2.017,.018,6.124),o.rotation.set(0,.333,0),o.scale.set(2.002,4.566,2.064),o.updateMatrix(),a.setMatrixAt(3,o.matrix),o.position.set(2.291,-.756,-2.621),o.rotation.set(0,-.286,0),o.scale.set(1.546,1.552,1.496),o.updateMatrix(),a.setMatrixAt(4,o.matrix),o.position.set(-2.193,-.369,-5.547),o.rotation.set(0,.516,0),o.scale.set(3.875,3.487,2.986),o.updateMatrix(),a.setMatrixAt(5,o.matrix),this.add(a);let s=new $(e,n9(50));s.position.set(-16.116,14.37,8.208),s.scale.set(.1,2.428,2.739),this.add(s);let c=new $(e,n9(50));c.position.set(-16.109,18.021,-8.207),c.scale.set(.1,2.425,2.751),this.add(c);let l=new $(e,n9(17));l.position.set(14.904,12.198,-1.832),l.scale.set(.15,4.265,6.331),this.add(l);let u=new $(e,n9(43));u.position.set(-.462,8.89,14.52),u.scale.set(4.38,5.441,.088),this.add(u);let d=new $(e,n9(20));d.position.set(3.235,11.486,-12.541),d.scale.set(2.5,2,.1),this.add(d);let f=new $(e,n9(100));f.position.set(0,20,0),f.scale.set(1,.1,1),this.add(f)}dispose(){let e=new Set;this.traverse(t=>{t.isMesh&&(e.add(t.geometry),e.add(t.material))});for(let t of e)t.dispose()}};function n9(e){return new O3({color:0,emissive:16777215,emissiveIntensity:e})}var r9={name:`CopyShader`,uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`},i9=class{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error(`THREE.Pass: .render() must be implemented in derived pass.`)}dispose(){}},uie=new y6(-1,1,1,-1,0,1),die=new class extends c0{constructor(){super(),this.setAttribute(`position`,new e0([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute(`uv`,new e0([0,2,0,0,2,0],2))}},a9=class{constructor(e){this._mesh=new $(die,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,uie)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}},fie=class extends i9{constructor(e,t=`tDiffuse`){super(),this.textureID=t,this.uniforms=null,this.material=null,e instanceof A0?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=D0.clone(e.uniforms),this.material=new A0({name:e.name===void 0?`unspecified`:e.name,defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new a9(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}},o9=class extends i9{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){let r=e.getContext(),i=e.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let a,o;this.inverse?(a=0,o=1):(a=1,o=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),i.buffers.stencil.setFunc(r.ALWAYS,a,4294967295),i.buffers.stencil.setClear(o),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(r.EQUAL,1,4294967295),i.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),i.buffers.stencil.setLocked(!0)}},pie=class extends i9{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}},mie=class{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){let n=e.getSize(new $Q);this._width=n.width,this._height=n.height,t=new x$(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:aZ}),t.texture.name=`EffectComposer.rt1`}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name=`EffectComposer.rt2`,this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new fie(r9),this.copyPass.material.blending=0,this.clock=new D6}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),n=!1;for(let t=0,r=this.passes.length;t<r;t++){let r=this.passes[t];if(r.enabled!==!1){if(r.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(t),r.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),r.needsSwap){if(n){let t=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}o9!==void 0&&(r instanceof o9?n=!0:r instanceof pie&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){let t=this.renderer.getSize(new $Q);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let e=0;e<this.passes.length;e++)this.passes[e].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}},hie=class extends i9{constructor(e,t,n=null,r=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new U1}render(e,t,n){let r=e.autoClear;e.autoClear=!1;let i,a;this.overrideMaterial!==null&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==1&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=a),e.autoClear=r}},gie={name:`LuminosityHighPassShader`,uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new U1(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`},s9=class e extends i9{constructor(e,t=1,n,r){super(),this.strength=t,this.radius=n,this.threshold=r,this.resolution=e===void 0?new $Q(256,256):new $Q(e.x,e.y),this.clearColor=new U1(0,0,0),this.needsSwap=!1,this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new x$(i,a,{type:aZ}),this.renderTargetBright.texture.name=`UnrealBloomPass.bright`,this.renderTargetBright.texture.generateMipmaps=!1;for(let e=0;e<this.nMips;e++){let t=new x$(i,a,{type:aZ});t.texture.name=`UnrealBloomPass.h`+e,t.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(t);let n=new x$(i,a,{type:aZ});n.texture.name=`UnrealBloomPass.v`+e,n.texture.generateMipmaps=!1,this.renderTargetsVertical.push(n),i=Math.round(i/2),a=Math.round(a/2)}let o=gie;this.highPassUniforms=D0.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new A0({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader}),this.separableBlurMaterials=[];let s=[6,10,14,18,22];i=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let e=0;e<this.nMips;e++)this.separableBlurMaterials.push(this._getSeparableBlurMaterial(s[e])),this.separableBlurMaterials[e].uniforms.invSize.value=new $Q(1/i,1/a),i=Math.round(i/2),a=Math.round(a/2);this.compositeMaterial=this._getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;let c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new Q(1,1,1),new Q(1,1,1),new Q(1,1,1),new Q(1,1,1),new Q(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=D0.clone(r9.uniforms),this.blendMaterial=new A0({uniforms:this.copyUniforms,vertexShader:r9.vertexShader,fragmentShader:r9.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this._oldClearColor=new U1,this._oldClearAlpha=1,this._basic=new q1,this._fsQuad=new a9(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this._basic.dispose(),this._fsQuad.dispose()}setSize(e,t){let n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(let e=0;e<this.nMips;e++)this.renderTargetsHorizontal[e].setSize(n,r),this.renderTargetsVertical[e].setSize(n,r),this.separableBlurMaterials[e].uniforms.invSize.value=new $Q(1/n,1/r),n=Math.round(n/2),r=Math.round(r/2)}render(t,n,r,i,a){t.getClearColor(this._oldClearColor),this._oldClearAlpha=t.getClearAlpha();let o=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),a&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this._fsQuad.material=this._basic,this._basic.map=r.texture,t.setRenderTarget(null),t.clear(),this._fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this._fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this._fsQuad.render(t);let s=this.renderTargetBright;for(let n=0;n<this.nMips;n++)this._fsQuad.material=this.separableBlurMaterials[n],this.separableBlurMaterials[n].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[n].uniforms.direction.value=e.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[n]),t.clear(),this._fsQuad.render(t),this.separableBlurMaterials[n].uniforms.colorTexture.value=this.renderTargetsHorizontal[n].texture,this.separableBlurMaterials[n].uniforms.direction.value=e.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[n]),t.clear(),this._fsQuad.render(t),s=this.renderTargetsVertical[n];this._fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this._fsQuad.render(t),this._fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this._fsQuad.render(t)):(t.setRenderTarget(r),this._fsQuad.render(t)),t.setClearColor(this._oldClearColor,this._oldClearAlpha),t.autoClear=o}_getSeparableBlurMaterial(e){let t=[],n=e/3;for(let r=0;r<e;r++)t.push(.39894*Math.exp(-.5*r*r/(n*n))/n);return new A0({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new $Q(.5,.5)},direction:{value:new $Q(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += ( sample1 + sample2 ) * w;
					}
					gl_FragColor = vec4( diffuseSum, 1.0 );
				}`})}_getCompositeMaterial(e){return new A0({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};s9.BlurDirectionX=new $Q(1,0),s9.BlurDirectionY=new $Q(0,1);var c9={name:`OutputShader`,uniforms:{tDiffuse:{value:null},toneMappingExposure:{value:1}},vertexShader:`
		precision highp float;

		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D tDiffuse;

		#include <tonemapping_pars_fragment>
		#include <colorspace_pars_fragment>

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );

			// tone mapping

			#ifdef LINEAR_TONE_MAPPING

				gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );

			#elif defined( REINHARD_TONE_MAPPING )

				gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );

			#elif defined( CINEON_TONE_MAPPING )

				gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );

			#elif defined( ACES_FILMIC_TONE_MAPPING )

				gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );

			#elif defined( AGX_TONE_MAPPING )

				gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );

			#elif defined( NEUTRAL_TONE_MAPPING )

				gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );

			#elif defined( CUSTOM_TONE_MAPPING )

				gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );

			#endif

			// color space

			#ifdef SRGB_TRANSFER

				gl_FragColor = sRGBTransferOETF( gl_FragColor );

			#endif

		}`},_ie=class extends i9{constructor(){super(),this.uniforms=D0.clone(c9.uniforms),this.material=new w3({name:c9.name,uniforms:this.uniforms,vertexShader:c9.vertexShader,fragmentShader:c9.fragmentShader}),this._fsQuad=new a9(this.material),this._outputColorSpace=null,this._toneMapping=null}render(e,t,n){this.uniforms.tDiffuse.value=n.texture,this.uniforms.toneMappingExposure.value=e.toneMappingExposure,(this._outputColorSpace!==e.outputColorSpace||this._toneMapping!==e.toneMapping)&&(this._outputColorSpace=e.outputColorSpace,this._toneMapping=e.toneMapping,this.material.defines={},c$.getTransfer(this._outputColorSpace)===`srgb`&&(this.material.defines.SRGB_TRANSFER=``),this._toneMapping===1?this.material.defines.LINEAR_TONE_MAPPING=``:this._toneMapping===2?this.material.defines.REINHARD_TONE_MAPPING=``:this._toneMapping===3?this.material.defines.CINEON_TONE_MAPPING=``:this._toneMapping===4?this.material.defines.ACES_FILMIC_TONE_MAPPING=``:this._toneMapping===6?this.material.defines.AGX_TONE_MAPPING=``:this._toneMapping===7?this.material.defines.NEUTRAL_TONE_MAPPING=``:this._toneMapping===5&&(this.material.defines.CUSTOM_TONE_MAPPING=``),this.material.needsUpdate=!0),this.renderToScreen===!0?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}},vie=class{constructor(e=Math){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(let t=0;t<256;t++)this.p[t]=Math.floor(e.random()*256);this.perm=[];for(let e=0;e<512;e++)this.perm[e]=this.p[e&255];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}noise(e,t){let n,r,i,a=.5*(Math.sqrt(3)-1),o=(e+t)*a,s=Math.floor(e+o),c=Math.floor(t+o),l=(3-Math.sqrt(3))/6,u=(s+c)*l,d=s-u,f=c-u,p=e-d,m=t-f,h,g;p>m?(h=1,g=0):(h=0,g=1);let _=p-h+l,v=m-g+l,y=p-1+2*l,b=m-1+2*l,x=s&255,S=c&255,C=this.perm[x+this.perm[S]]%12,w=this.perm[x+h+this.perm[S+g]]%12,T=this.perm[x+1+this.perm[S+1]]%12,E=.5-p*p-m*m;E<0?n=0:(E*=E,n=E*E*this._dot(this.grad3[C],p,m));let D=.5-_*_-v*v;D<0?r=0:(D*=D,r=D*D*this._dot(this.grad3[w],_,v));let O=.5-y*y-b*b;return O<0?i=0:(O*=O,i=O*O*this._dot(this.grad3[T],y,b)),70*(n+r+i)}noise3d(e,t,n){let r,i,a,o,s=(e+t+n)*(1/3),c=Math.floor(e+s),l=Math.floor(t+s),u=Math.floor(n+s),d=1/6,f=(c+l+u)*d,p=c-f,m=l-f,h=u-f,g=e-p,_=t-m,v=n-h,y,b,x,S,C,w;g>=_?_>=v?(y=1,b=0,x=0,S=1,C=1,w=0):g>=v?(y=1,b=0,x=0,S=1,C=0,w=1):(y=0,b=0,x=1,S=1,C=0,w=1):_<v?(y=0,b=0,x=1,S=0,C=1,w=1):g<v?(y=0,b=1,x=0,S=0,C=1,w=1):(y=0,b=1,x=0,S=1,C=1,w=0);let T=g-y+d,E=_-b+d,D=v-x+d,O=g-S+2*d,k=_-C+2*d,A=v-w+2*d,ee=g-1+3*d,te=_-1+3*d,ne=v-1+3*d,re=c&255,ie=l&255,ae=u&255,oe=this.perm[re+this.perm[ie+this.perm[ae]]]%12,se=this.perm[re+y+this.perm[ie+b+this.perm[ae+x]]]%12,ce=this.perm[re+S+this.perm[ie+C+this.perm[ae+w]]]%12,le=this.perm[re+1+this.perm[ie+1+this.perm[ae+1]]]%12,ue=.6-g*g-_*_-v*v;ue<0?r=0:(ue*=ue,r=ue*ue*this._dot3(this.grad3[oe],g,_,v));let de=.6-T*T-E*E-D*D;de<0?i=0:(de*=de,i=de*de*this._dot3(this.grad3[se],T,E,D));let fe=.6-O*O-k*k-A*A;fe<0?a=0:(fe*=fe,a=fe*fe*this._dot3(this.grad3[ce],O,k,A));let pe=.6-ee*ee-te*te-ne*ne;return pe<0?o=0:(pe*=pe,o=pe*pe*this._dot3(this.grad3[le],ee,te,ne)),32*(r+i+a+o)}noise4d(e,t,n,r){let i=this.grad4,a=this.simplex,o=this.perm,s=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20,l,u,d,f,p,m=(e+t+n+r)*s,h=Math.floor(e+m),g=Math.floor(t+m),_=Math.floor(n+m),v=Math.floor(r+m),y=(h+g+_+v)*c,b=h-y,x=g-y,S=_-y,C=v-y,w=e-b,T=t-x,E=n-S,D=r-C,O=w>T?32:0,k=w>E?16:0,A=T>E?8:0,ee=w>D?4:0,te=T>D?2:0,ne=E>D?1:0,re=O+k+A+ee+te+ne,ie=a[re][0]>=3?1:0,ae=a[re][1]>=3?1:0,oe=a[re][2]>=3?1:0,se=a[re][3]>=3?1:0,ce=a[re][0]>=2?1:0,le=a[re][1]>=2?1:0,ue=a[re][2]>=2?1:0,de=a[re][3]>=2?1:0,fe=a[re][0]>=1?1:0,pe=a[re][1]>=1?1:0,me=a[re][2]>=1?1:0,he=a[re][3]>=1?1:0,ge=w-ie+c,_e=T-ae+c,j=E-oe+c,M=D-se+c,ve=w-ce+2*c,ye=T-le+2*c,be=E-ue+2*c,N=D-de+2*c,xe=w-fe+3*c,Se=T-pe+3*c,Ce=E-me+3*c,we=D-he+3*c,Te=w-1+4*c,Ee=T-1+4*c,De=E-1+4*c,Oe=D-1+4*c,P=h&255,ke=g&255,Ae=_&255,je=v&255,Me=o[P+o[ke+o[Ae+o[je]]]]%32,Ne=o[P+ie+o[ke+ae+o[Ae+oe+o[je+se]]]]%32,Pe=o[P+ce+o[ke+le+o[Ae+ue+o[je+de]]]]%32,Fe=o[P+fe+o[ke+pe+o[Ae+me+o[je+he]]]]%32,Ie=o[P+1+o[ke+1+o[Ae+1+o[je+1]]]]%32,Le=.6-w*w-T*T-E*E-D*D;Le<0?l=0:(Le*=Le,l=Le*Le*this._dot4(i[Me],w,T,E,D));let Re=.6-ge*ge-_e*_e-j*j-M*M;Re<0?u=0:(Re*=Re,u=Re*Re*this._dot4(i[Ne],ge,_e,j,M));let ze=.6-ve*ve-ye*ye-be*be-N*N;ze<0?d=0:(ze*=ze,d=ze*ze*this._dot4(i[Pe],ve,ye,be,N));let Be=.6-xe*xe-Se*Se-Ce*Ce-we*we;Be<0?f=0:(Be*=Be,f=Be*Be*this._dot4(i[Fe],xe,Se,Ce,we));let Ve=.6-Te*Te-Ee*Ee-De*De-Oe*Oe;return Ve<0?p=0:(Ve*=Ve,p=Ve*Ve*this._dot4(i[Ie],Te,Ee,De,Oe)),27*(l+u+d+f+p)}_dot(e,t,n){return e[0]*t+e[1]*n}_dot3(e,t,n,r){return e[0]*t+e[1]*n+e[2]*r}_dot4(e,t,n,r,i){return e[0]*t+e[1]*n+e[2]*r+e[3]*i}},l9={name:`SSAOShader`,defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new $Q},cameraProjectionMatrix:{value:new Z$},cameraInverseProjectionMatrix:{value:new Z$},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform highp sampler2D tNormal;
		uniform highp sampler2D tDepth;
		uniform sampler2D tNoise;

		uniform vec3 kernel[ KERNEL_SIZE ];

		uniform vec2 resolution;

		uniform float cameraNear;
		uniform float cameraFar;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;

		uniform float kernelRadius;
		uniform float minDistance; // avoid artifacts caused by neighbour fragments with minimal depth difference
		uniform float maxDistance; // avoid the influence of fragments which are too far away

		varying vec2 vUv;

		#include <packing>

		float getDepth( const in vec2 screenPosition ) {

			return texture2D( tDepth, screenPosition ).x;

		}

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		float getViewZ( const in float depth ) {

			#if PERSPECTIVE_CAMERA == 1

				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );

			#else

				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );

			#endif

		}

		vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {

			float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];

			vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );

			clipPosition *= clipW; // unprojection.

			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;

		}

		vec3 getViewNormal( const in vec2 screenPosition ) {

			return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );

		}

		void main() {

			float depth = getDepth( vUv );

			if ( depth == 1.0 ) {

				gl_FragColor = vec4( 1.0 ); // don't influence background

			} else {

				float viewZ = getViewZ( depth );

				vec3 viewPosition = getViewPosition( vUv, depth, viewZ );
				vec3 viewNormal = getViewNormal( vUv );

				vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );
				vec3 random = vec3( texture2D( tNoise, vUv * noiseScale ).r );

				// compute matrix used to reorient a kernel vector

				vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );
				vec3 bitangent = cross( viewNormal, tangent );
				mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );

				float occlusion = 0.0;

				for ( int i = 0; i < KERNEL_SIZE; i ++ ) {

					vec3 sampleVector = kernelMatrix * kernel[ i ]; // reorient sample vector in view space
					vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius ); // calculate sample point

					vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 ); // project point and calculate NDC
					samplePointNDC /= samplePointNDC.w;

					vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5; // compute uv coordinates

					float realDepth = getLinearDepth( samplePointUv ); // get linear depth from depth texture
					float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar ); // compute linear depth of the sample view Z value
					float delta = sampleDepth - realDepth;

					if ( delta > minDistance && delta < maxDistance ) { // if fragment is before sample point, increase occlusion

						occlusion += 1.0;

					}

				}

				occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );

				gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );

			}

		}`},u9={name:`SSAODepthShader`,defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDepth;

		uniform float cameraNear;
		uniform float cameraFar;

		varying vec2 vUv;

		#include <packing>

		float getLinearDepth( const in vec2 screenPosition ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, screenPosition ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, screenPosition ).x;

			#endif

		}

		void main() {

			float depth = getLinearDepth( vUv );
			gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );

		}`},d9={name:`SSAOBlurShader`,uniforms:{tDiffuse:{value:null},resolution:{value:new $Q}},vertexShader:`varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`uniform sampler2D tDiffuse;

		uniform vec2 resolution;

		varying vec2 vUv;

		void main() {

			vec2 texelSize = ( 1.0 / resolution );
			float result = 0.0;

			for ( int i = - 2; i <= 2; i ++ ) {

				for ( int j = - 2; j <= 2; j ++ ) {

					vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;
					result += texture2D( tDiffuse, vUv + offset ).r;

				}

			}

			gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );

		}`},f9=class e extends i9{constructor(e,t,n=512,r=512,i=32){super(),this.width=n,this.height=r,this.clear=!0,this.needsSwap=!1,this.camera=t,this.scene=e,this.kernelRadius=8,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=[],this._generateSampleKernel(i),this._generateRandomKernelRotations();let a=new X2;a.format=hZ,a.type=cZ,this.normalRenderTarget=new x$(this.width,this.height,{minFilter:KX,magFilter:KX,type:aZ,depthTexture:a}),this.ssaoRenderTarget=new x$(this.width,this.height,{type:aZ}),this.blurRenderTarget=this.ssaoRenderTarget.clone(),this.ssaoMaterial=new A0({defines:Object.assign({},l9.defines),uniforms:D0.clone(l9.uniforms),vertexShader:l9.vertexShader,fragmentShader:l9.fragmentShader,blending:0}),this.ssaoMaterial.defines.KERNEL_SIZE=i,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new D3,this.normalMaterial.blending=0,this.blurMaterial=new A0({defines:Object.assign({},d9.defines),uniforms:D0.clone(d9.uniforms),vertexShader:d9.vertexShader,fragmentShader:d9.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new A0({defines:Object.assign({},u9.defines),uniforms:D0.clone(u9.uniforms),vertexShader:u9.vertexShader,fragmentShader:u9.fragmentShader,blending:0}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new A0({uniforms:D0.clone(r9.uniforms),vertexShader:r9.vertexShader,fragmentShader:r9.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:208,blendDst:200,blendEquation:100,blendSrcAlpha:206,blendDstAlpha:200,blendEquationAlpha:100}),this._fsQuad=new a9(null),this._originalClearColor=new U1}dispose(){this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this._fsQuad.dispose()}render(t,n,r){switch(this._overrideVisibility(),this._renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this._restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this._renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this._renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case e.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=0,this._renderPass(t,this.copyMaterial,this.renderToScreen?null:r);break;case e.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=0,this._renderPass(t,this.copyMaterial,this.renderToScreen?null:r);break;case e.OUTPUT.Depth:this._renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:r);break;case e.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=0,this._renderPass(t,this.copyMaterial,this.renderToScreen?null:r);break;case e.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=5,this._renderPass(t,this.copyMaterial,this.renderToScreen?null:r);break;default:console.warn(`THREE.SSAOPass: Unknown output type.`)}}setSize(e,t){this.width=e,this.height=t,this.ssaoRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.ssaoMaterial.uniforms.resolution.value.set(e,t),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t)}_renderPass(e,t,n,r,i){e.getClearColor(this._originalClearColor);let a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this._fsQuad.material=t,this._fsQuad.render(e),e.autoClear=o,e.setClearColor(this._originalClearColor),e.setClearAlpha(a)}_renderOverride(e,t,n,r,i){e.getClearColor(this._originalClearColor);let a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,r=t.clearColor||r,i=t.clearAlpha||i,r!=null&&(e.setClearColor(r),e.setClearAlpha(i||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this._originalClearColor),e.setClearAlpha(a)}_generateSampleKernel(e){let t=this.kernel;for(let n=0;n<e;n++){let r=new Q;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=n/e;i=QQ.lerp(.1,1,i*i),r.multiplyScalar(i),t.push(r)}}_generateRandomKernelRotations(){let e=new vie,t=new Float32Array(16);for(let n=0;n<16;n++){let r=Math.random()*2-1,i=Math.random()*2-1;t[n]=e.noise3d(r,i,0)}this.noiseTexture=new o2(t,4,4,gZ,iZ),this.noiseTexture.wrapS=UX,this.noiseTexture.wrapT=UX,this.noiseTexture.needsUpdate=!0}_overrideVisibility(){let e=this.scene,t=this._visibilityCache;e.traverse(function(e){(e.isPoints||e.isLine||e.isLine2)&&e.visible&&(e.visible=!1,t.push(e))})}_restoreVisibility(){let e=this._visibilityCache;for(let t=0;t<e.length;t++)e[t].visible=!0;e.length=0}};f9.OUTPUT={Default:0,SSAO:1,Blur:2,Depth:3,Normal:4};function yie(){let e=on(null),t=on(null),n=on(null),r=on(null),i=on(null),a=on(null),o=F(!1),s=F(!0),c=null,l=null,u=null,d=null,f=null,p=null,m=null,h=null,g=null,_=null,v=null;function y(r,i={}){if(!r)return!1;let a=r.clientWidth,c=r.clientHeight;return e.value=new G0,e.value.background=new U1(i.backgroundColor||`#1a1a2e`),e.value.fog=new W0(i.backgroundColor||`#1a1a2e`,50,150),t.value=new F0(50,a/c,.1,500),t.value.position.set(15,12,15),t.value.lookAt(0,0,0),n.value=new bne({antialias:!0,alpha:!0,powerPreference:`high-performance`,logarithmicDepthBuffer:!0,stencil:!0}),n.value.setSize(a,c),n.value.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.value.outputColorSpace=cQ,n.value.toneMapping=4,n.value.toneMappingExposure=.85,n.value.shadowMap.enabled=!0,n.value.shadowMap.type=2,n.value.sortObjects=!0,r.appendChild(n.value.domElement),l=new x8(n.value),l.compileEquirectangularShader(),u=l.fromScene(new lie,.04),e.value.environment=u.texture,b(a,c),x(),S(),C(),T(r),f=new V6,o.value=!0,s.value=!1,E(),!0}function b(r,i){a.value=new mie(n.value);let o=new hie(e.value,t.value);a.value.addPass(o),d=new f9(e.value,t.value,r,i),d.kernelRadius=16,d.minDistance=.001,d.maxDistance=.3,a.value.addPass(d);let s=new s9(new $Q(r,i),.08,.3,.95);a.value.addPass(s);let c=new _ie;a.value.addPass(c)}function x(){let t=new S6(16777215,.35);e.value.add(t);let n=new x6(16775408,1);n.position.set(20,35,20),n.castShadow=!0,n.shadow.mapSize.set(2048,2048),n.shadow.camera.left=-35,n.shadow.camera.right=35,n.shadow.camera.top=35,n.shadow.camera.bottom=-35,n.shadow.camera.near=1,n.shadow.camera.far=100,n.shadow.bias=-2e-4,n.shadow.normalBias=.02,n.shadow.radius=2,e.value.add(n);let r=new x6(9356796,.25);r.position.set(-20,15,-20),e.value.add(r);let i=new x6(16766115,.2);i.position.set(-15,10,20),e.value.add(i);let a=new s6(8900331,4473958,.35);e.value.add(a)}function S(){m=w(),m.wrapS=m.wrapT=UX,m.anisotropy=8,m.repeat.set(20,20),v=new G6(60,60,3816028,2763338),e.value.add(v),p=new $(new y3(80,80),new T3({color:1973807,roughness:.9,metalness:.1,map:m})),p.rotation.x=-Math.PI/2,p.receiveShadow=!0,p.userData.isGround=!0,e.value.add(p),h=new $(new y3(80,80),new C3({color:0,opacity:.25,transparent:!0})),h.rotation.x=-Math.PI/2,h.position.y=.002,h.receiveShadow=!0,e.value.add(h);let t=new $(new b3(.3,.4,32),new q1({color:6514417,side:2}));t.rotation.x=-Math.PI/2,t.position.y=.01,e.value.add(t)}function C(){_=new K6(3),_.position.set(0,.01,0),e.value.add(_)}function w(){let e=document.createElement(`canvas`);e.width=512,e.height=512;let t=e.getContext(`2d`);t.fillStyle=`#1e1e2f`,t.fillRect(0,0,512,512),t.strokeStyle=`rgba(99, 102, 241, 0.08)`,t.lineWidth=1;for(let e=0;e<=512;e+=64)t.beginPath(),t.moveTo(e,0),t.lineTo(e,512),t.stroke(),t.beginPath(),t.moveTo(0,e),t.lineTo(512,e),t.stroke();let n=t.getImageData(0,0,512,512),r=n.data;for(let e=0;e<r.length;e+=4){let t=(Math.random()-.5)*4;r[e]+=t,r[e+1]+=t,r[e+2]+=t}t.putImageData(n,0,0);let i=new Y2(e);return i.colorSpace=cQ,i.generateMipmaps=!0,i}function T(a){r.value=new Vre(t.value,n.value.domElement),r.value.enableDamping=!0,r.value.dampingFactor=.08,r.value.maxPolarAngle=Math.PI/2.05,r.value.minDistance=2,r.value.maxDistance=80,r.value.target.set(0,0,0),r.value.screenSpacePanning=!0,i.value=new eie(t.value,n.value.domElement),i.value.setMode(`translate`),i.value.setSpace(`world`),i.value.addEventListener(`dragging-changed`,e=>{r.value.enabled=!e.value});let o=i.value.getHelper();e.value.add(o)}function E(){c=requestAnimationFrame(E),r.value?.update(),a.value?a.value.render():n.value&&n.value.render(e.value,t.value)}function D(e){let n=r.value?.target||new Q(0,0,0);switch(e){case`perspective`:t.value.position.set(15,12,15);break;case`top`:t.value.position.set(n.x,n.y+20,n.z+.01);break;case`bottom`:t.value.position.set(n.x,n.y-20,n.z+.01);break;case`front`:t.value.position.set(n.x,n.y,n.z+20);break;case`back`:t.value.position.set(n.x,n.y,n.z-20);break;case`left`:t.value.position.set(n.x-20,n.y,n.z);break;case`right`:t.value.position.set(n.x+20,n.y,n.z);break}r.value?.update()}function O(){t.value.position.set(15,12,15),r.value.target.set(0,0,0),r.value.update()}function k(e){if(!e)return;let n=new w$().setFromObject(e),i=n.getCenter(new Q),a=n.getSize(new Q),o=Math.max(a.x,a.y,a.z)*2.5;r.value.target.copy(i),t.value.position.set(i.x+o,i.y+o*.6,i.z+o),r.value.update()}function A(e,r=null){if(!n.value||!t.value)return[];let i=n.value.domElement.getBoundingClientRect(),a=new $Q((e.clientX-i.left)/i.width*2-1,-((e.clientY-i.top)/i.height)*2+1);return f.setFromCamera(a,t.value),r?f.intersectObjects(r,!0):f.intersectObject(p)}function ee(e){if(!e||!n.value||!t.value)return;let r=e.clientWidth,i=e.clientHeight;t.value.aspect=r/i,t.value.updateProjectionMatrix(),n.value.setSize(r,i),a.value?.setSize(r,i),d?.setSize(r,i)}function te(e){if(!e){ne();return}new a6().load(e,e=>{e.colorSpace=cQ,e.anisotropy=8,e.wrapS=e.wrapT=WX;let t=e.image,n=20/(t.width/t.height);p&&(p.geometry.dispose(),p.geometry=new y3(20,n),p.material.dispose(),p.material=new q1({map:e,side:2})),h&&(h.geometry.dispose(),h.geometry=new y3(20,n)),g&&g.dispose(),g=e})}function ne(){g&&=(g.dispose(),null),p&&(p.geometry.dispose(),p.geometry=new y3(80,80),p.material.dispose(),p.material=new T3({color:1973807,roughness:.9,metalness:.1,map:m})),h&&(h.geometry.dispose(),h.geometry=new y3(80,80))}function re(e){v&&(v.visible=e)}function ie(e){_&&(_.visible=e)}function ae(){c&&=(cancelAnimationFrame(c),null),i.value?.dispose(),r.value?.dispose(),a.value?.dispose(),d?.dispose(),u?.dispose(),l?.dispose(),m?.dispose(),g?.dispose(),n.value?.dispose(),o.value=!1}return Vr(()=>{ae()}),{scene:e,camera:t,renderer:n,controls:r,transformControls:i,composer:a,isInitialized:o,isLoading:s,initScene:y,setView:D,resetCamera:O,focusOnObject:k,raycast:A,handleResize:ee,setFloorPlan:te,clearFloorPlan:ne,toggleGrid:re,toggleAxes:ie,dispose:ae}}function p9(e,t){if(t===0)return console.warn(`THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.`),e;if(t===2||t===1){let n=e.getIndex();if(n===null){let t=[],r=e.getAttribute(`position`);if(r!==void 0){for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}else return console.error(`THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.`),e}let r=n.count-2,i=[];if(t===2)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2==0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error(`THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.`);let a=e.clone();return a.setIndex(i),a.clearGroups(),a}else return console.error(`THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:`,t),e}var bie=class extends $3{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new Tie(e)}),this.register(function(e){return new Eie(e)}),this.register(function(e){return new Fie(e)}),this.register(function(e){return new Iie(e)}),this.register(function(e){return new Lie(e)}),this.register(function(e){return new Oie(e)}),this.register(function(e){return new kie(e)}),this.register(function(e){return new Aie(e)}),this.register(function(e){return new jie(e)}),this.register(function(e){return new wie(e)}),this.register(function(e){return new Mie(e)}),this.register(function(e){return new Die(e)}),this.register(function(e){return new Pie(e)}),this.register(function(e){return new Nie(e)}),this.register(function(e){return new Sie(e)}),this.register(function(e){return new Rie(e)}),this.register(function(e){return new zie(e)})}load(e,t,n,r){let i=this,a;if(this.resourcePath!==``)a=this.resourcePath;else if(this.path!==``){let t=C6.extractUrlBase(e);a=C6.resolveURL(t,this.path)}else a=C6.extractUrlBase(e);this.manager.itemStart(e);let o=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new n6(this.manager);s.setPath(this.path),s.setResponseType(`arraybuffer`),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){try{i.parse(n,a,function(n){t(n),i.manager.itemEnd(e)},o)}catch(e){o(e)}},n,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i,a={},o={},s=new TextDecoder;if(typeof e==`string`)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(s.decode(new Uint8Array(e,0,4))===h9){try{a[m9.KHR_BINARY_GLTF]=new Bie(e)}catch(e){r&&r(e);return}i=JSON.parse(a[m9.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){r&&r(Error(`THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.`));return}let c=new $ie(i,{path:t||this.resourcePath||``,crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){let t=this.pluginCallbacks[e](c);t.name||console.error(`THREE.GLTFLoader: Invalid plugin found: missing name`),o[t.name]=t,a[t.name]=!0}if(i.extensionsUsed)for(let e=0;e<i.extensionsUsed.length;++e){let t=i.extensionsUsed[e],n=i.extensionsRequired||[];switch(t){case m9.KHR_MATERIALS_UNLIT:a[t]=new Cie;break;case m9.KHR_DRACO_MESH_COMPRESSION:a[t]=new Vie(i,this.dracoLoader);break;case m9.KHR_TEXTURE_TRANSFORM:a[t]=new Hie;break;case m9.KHR_MESH_QUANTIZATION:a[t]=new Uie;break;default:n.indexOf(t)>=0&&o[t]===void 0&&console.warn(`THREE.GLTFLoader: Unknown extension "`+t+`".`)}}c.setExtensions(a),c.setPlugins(o),c.parse(n,r)}parseAsync(e,t){let n=this;return new Promise(function(r,i){n.parse(e,t,r,i)})}};function xie(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var m9={KHR_BINARY_GLTF:`KHR_binary_glTF`,KHR_DRACO_MESH_COMPRESSION:`KHR_draco_mesh_compression`,KHR_LIGHTS_PUNCTUAL:`KHR_lights_punctual`,KHR_MATERIALS_CLEARCOAT:`KHR_materials_clearcoat`,KHR_MATERIALS_DISPERSION:`KHR_materials_dispersion`,KHR_MATERIALS_IOR:`KHR_materials_ior`,KHR_MATERIALS_SHEEN:`KHR_materials_sheen`,KHR_MATERIALS_SPECULAR:`KHR_materials_specular`,KHR_MATERIALS_TRANSMISSION:`KHR_materials_transmission`,KHR_MATERIALS_IRIDESCENCE:`KHR_materials_iridescence`,KHR_MATERIALS_ANISOTROPY:`KHR_materials_anisotropy`,KHR_MATERIALS_UNLIT:`KHR_materials_unlit`,KHR_MATERIALS_VOLUME:`KHR_materials_volume`,KHR_TEXTURE_BASISU:`KHR_texture_basisu`,KHR_TEXTURE_TRANSFORM:`KHR_texture_transform`,KHR_MESH_QUANTIZATION:`KHR_mesh_quantization`,KHR_MATERIALS_EMISSIVE_STRENGTH:`KHR_materials_emissive_strength`,EXT_MATERIALS_BUMP:`EXT_materials_bump`,EXT_TEXTURE_WEBP:`EXT_texture_webp`,EXT_TEXTURE_AVIF:`EXT_texture_avif`,EXT_MESHOPT_COMPRESSION:`EXT_meshopt_compression`,EXT_MESH_GPU_INSTANCING:`EXT_mesh_gpu_instancing`},Sie=class{constructor(e){this.parser=e,this.name=m9.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){let t=this.parser,n=`light:`+e,r=t.cache.get(n);if(r)return r;let i=t.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e],o,s=new U1(16777215);a.color!==void 0&&s.setRGB(a.color[0],a.color[1],a.color[2],lQ);let c=a.range===void 0?0:a.range;switch(a.type){case`directional`:o=new x6(s),o.target.position.set(0,0,-1),o.add(o.target);break;case`point`:o=new v6(s),o.distance=c;break;case`spot`:o=new p6(s),o.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle===void 0?0:a.spot.innerConeAngle,a.spot.outerConeAngle=a.spot.outerConeAngle===void 0?Math.PI/4:a.spot.outerConeAngle,o.angle=a.spot.outerConeAngle,o.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw Error(`THREE.GLTFLoader: Unexpected light type: `+a.type)}return o.position.set(0,0,0),O9(o,a),a.intensity!==void 0&&(o.intensity=a.intensity),o.name=t.createUniqueName(a.name||`light_`+e),r=Promise.resolve(o),t.cache.add(n,r),r}getDependency(e,t){if(e===`light`)return this._loadLight(t)}createNodeAttachment(e){let t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return i===void 0?null:this._loadLight(i).then(function(e){return n._getNodeRef(t.cache,i,e)})}},Cie=class{constructor(){this.name=m9.KHR_MATERIALS_UNLIT}getMaterialType(){return q1}extendParams(e,t,n){let r=[];e.color=new U1(1,1,1),e.opacity=1;let i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){let t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],lQ),e.opacity=t[3]}i.baseColorTexture!==void 0&&r.push(n.assignTexture(e,`map`,i.baseColorTexture,cQ))}return Promise.all(r)}},wie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}},Tie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&i.push(n.assignTexture(t,`clearcoatMap`,a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&i.push(n.assignTexture(t,`clearcoatRoughnessMap`,a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(i.push(n.assignTexture(t,`clearcoatNormalMap`,a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){let e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new $Q(e,e)}return Promise.all(i)}},Eie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_DISPERSION}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name];return t.dispersion=r.dispersion===void 0?0:r.dispersion,Promise.resolve()}},Die=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&i.push(n.assignTexture(t,`iridescenceMap`,a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&i.push(n.assignTexture(t,`iridescenceThicknessMap`,a.iridescenceThicknessTexture)),Promise.all(i)}},Oie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_SHEEN}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[];t.sheenColor=new U1(0,0,0),t.sheenRoughness=0,t.sheen=1;let a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){let e=a.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],lQ)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&i.push(n.assignTexture(t,`sheenColorMap`,a.sheenColorTexture,cQ)),a.sheenRoughnessTexture!==void 0&&i.push(n.assignTexture(t,`sheenRoughnessMap`,a.sheenRoughnessTexture)),Promise.all(i)}},kie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&i.push(n.assignTexture(t,`transmissionMap`,a.transmissionTexture)),Promise.all(i)}},Aie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_VOLUME}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor===void 0?0:a.thicknessFactor,a.thicknessTexture!==void 0&&i.push(n.assignTexture(t,`thicknessMap`,a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;let o=a.attenuationColor||[1,1,1];return t.attenuationColor=new U1().setRGB(o[0],o[1],o[2],lQ),Promise.all(i)}},jie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_IOR}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();let r=n.extensions[this.name];return t.ior=r.ior===void 0?1.5:r.ior,Promise.resolve()}},Mie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_SPECULAR}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor===void 0?1:a.specularFactor,a.specularTexture!==void 0&&i.push(n.assignTexture(t,`specularIntensityMap`,a.specularTexture));let o=a.specularColorFactor||[1,1,1];return t.specularColor=new U1().setRGB(o[0],o[1],o[2],lQ),a.specularColorTexture!==void 0&&i.push(n.assignTexture(t,`specularColorMap`,a.specularColorTexture,cQ)),Promise.all(i)}},Nie=class{constructor(e){this.parser=e,this.name=m9.EXT_MATERIALS_BUMP}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor===void 0?1:a.bumpFactor,a.bumpTexture!==void 0&&i.push(n.assignTexture(t,`bumpMap`,a.bumpTexture)),Promise.all(i)}},Pie=class{constructor(e){this.parser=e,this.name=m9.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let t=this.parser.json.materials[e];return!t.extensions||!t.extensions[this.name]?null:E3}extendMaterialParams(e,t){let n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let i=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&i.push(n.assignTexture(t,`anisotropyMap`,a.anisotropyTexture)),Promise.all(i)}},Fie=class{constructor(e){this.parser=e,this.name=m9.KHR_TEXTURE_BASISU}loadTexture(e){let t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw Error(`THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures`);return null}return t.loadTextureImage(e,i.source,a)}},Iie=class{constructor(e){this.parser=e,this.name=m9.EXT_TEXTURE_WEBP}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);e!==null&&(s=e)}return n.loadTextureImage(e,a.source,s)}},Lie=class{constructor(e){this.parser=e,this.name=m9.EXT_TEXTURE_AVIF}loadTexture(e){let t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;let a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){let e=n.options.manager.getHandler(o.uri);e!==null&&(s=e)}return n.loadTextureImage(e,a.source,s)}},Rie=class{constructor(e){this.name=m9.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){let e=n.extensions[this.name],r=this.parser.getDependency(`buffer`,e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw Error(`THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files`);return null}return r.then(function(t){let n=e.byteOffset||0,r=e.byteLength||0,a=e.count,o=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(a,o,s,e.mode,e.filter).then(function(e){return e.buffer}):i.ready.then(function(){let t=new ArrayBuffer(a*o);return i.decodeGltfBuffer(new Uint8Array(t),a,o,s,e.mode,e.filter),t})})}else return null}},zie=class{constructor(e){this.name=m9.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;let r=t.meshes[n.mesh];for(let e of r.primitives)if(e.mode!==y9.TRIANGLES&&e.mode!==y9.TRIANGLE_STRIP&&e.mode!==y9.TRIANGLE_FAN&&e.mode!==void 0)return null;let i=n.extensions[this.name].attributes,a=[],o={};for(let e in i)a.push(this.parser.getDependency(`accessor`,i[e]).then(t=>(o[e]=t,o[e])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(e=>{let t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(let e of n){let t=new Z$,n=new Q,a=new e$,s=new Q(1,1,1),c=new v2(e.geometry,e.material,r);for(let e=0;e<r;e++)o.TRANSLATION&&n.fromBufferAttribute(o.TRANSLATION,e),o.ROTATION&&a.fromBufferAttribute(o.ROTATION,e),o.SCALE&&s.fromBufferAttribute(o.SCALE,e),c.setMatrixAt(e,t.compose(n,a,s));for(let t in o)if(t===`_COLOR_0`){let e=o[t];c.instanceColor=new u2(e.array,e.itemSize,e.normalized)}else t!==`TRANSLATION`&&t!==`ROTATION`&&t!==`SCALE`&&e.geometry.setAttribute(t,o[t]);w1.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),i.push(c)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]}))}},h9=`glTF`,g9=12,_9={JSON:1313821514,BIN:5130562},Bie=class{constructor(e){this.name=m9.KHR_BINARY_GLTF,this.content=null,this.body=null;let t=new DataView(e,0,g9),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==h9)throw Error(`THREE.GLTFLoader: Unsupported glTF-Binary header.`);if(this.header.version<2)throw Error(`THREE.GLTFLoader: Legacy binary file detected.`);let r=this.header.length-g9,i=new DataView(e,g9),a=0;for(;a<r;){let t=i.getUint32(a,!0);a+=4;let r=i.getUint32(a,!0);if(a+=4,r===_9.JSON){let r=new Uint8Array(e,g9+a,t);this.content=n.decode(r)}else if(r===_9.BIN){let n=g9+a;this.body=e.slice(n,n+t)}a+=t}if(this.content===null)throw Error(`THREE.GLTFLoader: JSON content not found.`)}},Vie=class{constructor(e,t){if(!t)throw Error(`THREE.GLTFLoader: No DRACOLoader instance provided.`);this.name=m9.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){let n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},c={};for(let e in a){let t=w9[e]||e.toLowerCase();o[t]=a[e]}for(let t in e.attributes){let r=w9[t]||t.toLowerCase();if(a[t]!==void 0){let i=n.accessors[e.attributes[t]];c[r]=b9[i.componentType].name,s[r]=i.normalized===!0}}return t.getDependency(`bufferView`,i).then(function(e){return new Promise(function(t,n){r.decodeDracoFile(e,function(e){for(let t in e.attributes){let n=e.attributes[t],r=s[t];r!==void 0&&(n.normalized=r)}t(e)},o,c,lQ,n)})})}},Hie=class{constructor(){this.name=m9.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0?e:(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e)}},Uie=class{constructor(){this.name=m9.KHR_MESH_QUANTIZATION}},v9=class extends I3{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let e=0;e!==r;e++)t[e]=n[i+e];return t}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=o*2,c=o*3,l=r-t,u=(n-t)/l,d=u*u,f=d*u,p=e*c,m=p-c,h=-2*f+3*d,g=f-d,_=1-h,v=g-d+u;for(let e=0;e!==o;e++){let t=a[m+e+o],n=a[m+e+s]*l,r=a[p+e+o],c=a[p+e]*l;i[e]=_*t+v*n+h*r+g*c}return i}},Wie=new e$,Gie=class extends v9{interpolate_(e,t,n,r){let i=super.interpolate_(e,t,n,r);return Wie.fromArray(i).normalize().toArray(i),i}},y9={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},b9={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},x9={9728:KX,9729:YX,9984:qX,9985:XX,9986:JX,9987:ZX},S9={33071:WX,33648:GX,10497:UX},C9={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},w9={POSITION:`position`,NORMAL:`normal`,TANGENT:`tangent`,TEXCOORD_0:`uv`,TEXCOORD_1:`uv1`,TEXCOORD_2:`uv2`,TEXCOORD_3:`uv3`,COLOR_0:`color`,WEIGHTS_0:`skinWeight`,JOINTS_0:`skinIndex`},T9={scale:`scale`,translation:`position`,rotation:`quaternion`,weights:`morphTargetInfluences`},Kie={CUBICSPLINE:void 0,LINEAR:eQ,STEP:$Z},E9={OPAQUE:`OPAQUE`,MASK:`MASK`,BLEND:`BLEND`};function qie(e){return e.DefaultMaterial===void 0&&(e.DefaultMaterial=new T3({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial}function D9(e,t,n){for(let r in n.extensions)e[r]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function O9(e,t){t.extras!==void 0&&(typeof t.extras==`object`?Object.assign(e.userData,t.extras):console.warn(`THREE.GLTFLoader: Ignoring primitive type .extras, `+t.extras))}function Jie(e,t,n){let r=!1,i=!1,a=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e];if(n.POSITION!==void 0&&(r=!0),n.NORMAL!==void 0&&(i=!0),n.COLOR_0!==void 0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);let o=[],s=[],c=[];for(let l=0,u=t.length;l<u;l++){let u=t[l];if(r){let t=u.POSITION===void 0?e.attributes.position:n.getDependency(`accessor`,u.POSITION);o.push(t)}if(i){let t=u.NORMAL===void 0?e.attributes.normal:n.getDependency(`accessor`,u.NORMAL);s.push(t)}if(a){let t=u.COLOR_0===void 0?e.attributes.color:n.getDependency(`accessor`,u.COLOR_0);c.push(t)}}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(c)]).then(function(t){let n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e})}function Yie(e,t){if(e.updateMorphTargets(),t.weights!==void 0)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){let n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn(`THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.`)}}function Xie(e){let t,n=e.extensions&&e.extensions[m9.KHR_DRACO_MESH_COMPRESSION];if(t=n?`draco:`+n.bufferView+`:`+n.indices+`:`+k9(n.attributes):e.indices+`:`+k9(e.attributes)+`:`+e.mode,e.targets!==void 0)for(let n=0,r=e.targets.length;n<r;n++)t+=`:`+k9(e.targets[n]);return t}function k9(e){let t=``,n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+`:`+e[n[r]]+`;`;return t}function A9(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error(`THREE.GLTFLoader: Unsupported normalized accessor component type.`)}}function Zie(e){return e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0?`image/jpeg`:e.search(/\.webp($|\?)/i)>0||e.search(/^data\:image\/webp/)===0?`image/webp`:e.search(/\.ktx2($|\?)/i)>0||e.search(/^data\:image\/ktx2/)===0?`image/ktx2`:`image/png`}var Qie=new Z$,$ie=class{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new xie,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,i=!1,a=-1;if(typeof navigator<`u`){let e=navigator.userAgent;n=/^((?!chrome|android).)*safari/i.test(e)===!0;let t=e.match(/Version\/(\d+)/);r=n&&t?parseInt(t[1],10):-1,i=e.indexOf(`Firefox`)>-1,a=i?e.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>`u`||n&&r<17||i&&a<98?this.textureLoader=new a6(this.options.manager):this.textureLoader=new T6(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n6(this.options.manager),this.fileLoader.setResponseType(`arraybuffer`),this.options.crossOrigin===`use-credentials`&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){let n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([n.getDependencies(`scene`),n.getDependencies(`animation`),n.getDependencies(`camera`)])}).then(function(t){let a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return D9(i,a,r),O9(a,r),Promise.all(n._invokeAll(function(e){return e.afterRoot&&e.afterRoot(a)})).then(function(){for(let e of a.scenes)e.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){let e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){let r=t[n].joints;for(let t=0,n=r.length;t<n;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){let r=e[t];r.mesh!==void 0&&(this._addNodeRef(this.meshCache,r.mesh),r.skin!==void 0&&(n[r.mesh].isSkinnedMesh=!0)),r.camera!==void 0&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;let r=n.clone(),i=(e,t)=>{let n=this.associations.get(e);n!=null&&this.associations.set(t,n);for(let[n,r]of e.children.entries())i(r,t.children[n])};return i(n,r),r.name+=`_instance_`+ e.uses[t]++,r}_invokeOne(e){let t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){let r=e(t[n]);if(r)return r}return null}_invokeAll(e){let t=Object.values(this.plugins);t.unshift(this);let n=[];for(let r=0;r<t.length;r++){let i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){let n=e+`:`+t,r=this.cache.get(n);if(!r){switch(e){case`scene`:r=this.loadScene(t);break;case`node`:r=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case`mesh`:r=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case`accessor`:r=this.loadAccessor(t);break;case`bufferView`:r=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case`buffer`:r=this.loadBuffer(t);break;case`material`:r=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case`texture`:r=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case`skin`:r=this.loadSkin(t);break;case`animation`:r=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case`camera`:r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}),!r)throw Error(`Unknown type: `+e);break}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){let n=this,r=this.json[e+(e===`mesh`?`es`:`s`)]||[];t=Promise.all(r.map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t}loadBuffer(e){let t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!==`arraybuffer`)throw Error(`THREE.GLTFLoader: `+t.type+` buffer type is not supported.`);if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[m9.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(e,i){n.load(C6.resolveURL(t.uri,r.path),e,void 0,function(){i(Error(`THREE.GLTFLoader: Failed to load buffer "`+t.uri+`".`))})})}loadBufferView(e){let t=this.json.bufferViews[e];return this.getDependency(`buffer`,t.buffer).then(function(e){let n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})}loadAccessor(e){let t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){let e=C9[r.type],t=b9[r.componentType],n=r.normalized===!0,i=new t(r.count*e);return Promise.resolve(new Z1(i,e,n))}let i=[];return r.bufferView===void 0?i.push(null):i.push(this.getDependency(`bufferView`,r.bufferView)),r.sparse!==void 0&&(i.push(this.getDependency(`bufferView`,r.sparse.indices.bufferView)),i.push(this.getDependency(`bufferView`,r.sparse.values.bufferView))),Promise.all(i).then(function(e){let i=e[0],a=C9[r.type],o=b9[r.componentType],s=o.BYTES_PER_ELEMENT,c=s*a,l=r.byteOffset||0,u=r.bufferView===void 0?void 0:n.bufferViews[r.bufferView].byteStride,d=r.normalized===!0,f,p;if(u&&u!==c){let e=Math.floor(l/u),n=`InterleavedBuffer:`+r.bufferView+`:`+r.componentType+`:`+e+`:`+r.count,c=t.cache.get(n);c||(f=new o(i,e*u,r.count*u/s),c=new K0(f,u/s),t.cache.add(n,c)),p=new J0(c,a,l%u/s,d)}else f=i===null?new o(r.count*a):new o(i,l,r.count*a),p=new Z1(f,a,d);if(r.sparse!==void 0){let t=C9.SCALAR,n=b9[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,c=r.sparse.values.byteOffset||0,l=new n(e[1],s,r.sparse.count*t),u=new o(e[2],c,r.sparse.count*a);i!==null&&(p=new Z1(p.array.slice(),p.itemSize,p.normalized)),p.normalized=!1;for(let e=0,t=l.length;e<t;e++){let t=l[e];if(p.setX(t,u[e*a]),a>=2&&p.setY(t,u[e*a+1]),a>=3&&p.setZ(t,u[e*a+2]),a>=4&&p.setW(t,u[e*a+3]),a>=5)throw Error(`THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.`)}p.normalized=d}return p})}loadTexture(e){let t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){let e=n.manager.getHandler(i.uri);e!==null&&(a=e)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,n){let r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+`:`+a.sampler;if(this.textureCache[s])return this.textureCache[s];let c=this.loadImageSource(t,n).then(function(t){t.flipY=!1,t.name=a.name||o.name||``,t.name===``&&typeof o.uri==`string`&&o.uri.startsWith(`data:image/`)===!1&&(t.name=o.uri);let n=(i.samplers||{})[a.sampler]||{};return t.magFilter=x9[n.magFilter]||1006,t.minFilter=x9[n.minFilter]||1008,t.wrapS=S9[n.wrapS]||1e3,t.wrapT=S9[n.wrapT]||1e3,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==1003&&t.minFilter!==1006,r.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[s]=c,c}loadImageSource(e,t){let n=this,r=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(e=>e.clone());let a=r.images[e],o=self.URL||self.webkitURL,s=a.uri||``,c=!1;if(a.bufferView!==void 0)s=n.getDependency(`bufferView`,a.bufferView).then(function(e){c=!0;let t=new Blob([e],{type:a.mimeType});return s=o.createObjectURL(t),s});else if(a.uri===void 0)throw Error(`THREE.GLTFLoader: Image `+e+` is missing URI and bufferView`);let l=Promise.resolve(s).then(function(e){return new Promise(function(n,r){let a=n;t.isImageBitmapLoader===!0&&(a=function(e){let t=new v$(e);t.needsUpdate=!0,n(t)}),t.load(C6.resolveURL(e,i.path),a,void 0,r)})}).then(function(e){return c===!0&&o.revokeObjectURL(s),O9(e,a),e.userData.mimeType=a.mimeType||Zie(a.uri),e}).catch(function(e){throw console.error(`THREE.GLTFLoader: Couldn't load texture`,s),e});return this.sourceCache[e]=l,l}assignTexture(e,t,n,r){let i=this;return this.getDependency(`texture`,n.index).then(function(a){if(!a)return null;if(n.texCoord!==void 0&&n.texCoord>0&&(a=a.clone(),a.channel=n.texCoord),i.extensions[m9.KHR_TEXTURE_TRANSFORM]){let e=n.extensions===void 0?void 0:n.extensions[m9.KHR_TEXTURE_TRANSFORM];if(e){let t=i.associations.get(a);a=i.extensions[m9.KHR_TEXTURE_TRANSFORM].extendTexture(a,e),i.associations.set(a,t)}}return r!==void 0&&(a.colorSpace=r),e[t]=a,a})}assignFinalMaterial(e){let t=e.geometry,n=e.material,r=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){let e=`PointsMaterial:`+n.uuid,t=this.cache.get(e);t||(t=new V2,K1.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){let e=`LineBasicMaterial:`+n.uuid,t=this.cache.get(e);t||(t=new D2,K1.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||a){let e=`ClonedMaterial:`+n.uuid+`:`;r&&(e+=`derivative-tangents:`),i&&(e+=`vertex-colors:`),a&&(e+=`flat-shading:`);let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),a&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return T3}loadMaterial(e){let t=this,n=this.json,r=this.extensions,i=n.materials[e],a,o={},s=i.extensions||{},c=[];if(s[m9.KHR_MATERIALS_UNLIT]){let e=r[m9.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),c.push(e.extendParams(o,i,t))}else{let n=i.pbrMetallicRoughness||{};if(o.color=new U1(1,1,1),o.opacity=1,Array.isArray(n.baseColorFactor)){let e=n.baseColorFactor;o.color.setRGB(e[0],e[1],e[2],lQ),o.opacity=e[3]}n.baseColorTexture!==void 0&&c.push(t.assignTexture(o,`map`,n.baseColorTexture,cQ)),o.metalness=n.metallicFactor===void 0?1:n.metallicFactor,o.roughness=n.roughnessFactor===void 0?1:n.roughnessFactor,n.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,`metalnessMap`,n.metallicRoughnessTexture)),c.push(t.assignTexture(o,`roughnessMap`,n.metallicRoughnessTexture))),a=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)})))}i.doubleSided===!0&&(o.side=2);let l=i.alphaMode||E9.OPAQUE;if(l===E9.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,l===E9.MASK&&(o.alphaTest=i.alphaCutoff===void 0?.5:i.alphaCutoff)),i.normalTexture!==void 0&&a!==q1&&(c.push(t.assignTexture(o,`normalMap`,i.normalTexture)),o.normalScale=new $Q(1,1),i.normalTexture.scale!==void 0)){let e=i.normalTexture.scale;o.normalScale.set(e,e)}if(i.occlusionTexture!==void 0&&a!==q1&&(c.push(t.assignTexture(o,`aoMap`,i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&a!==q1){let e=i.emissiveFactor;o.emissive=new U1().setRGB(e[0],e[1],e[2],lQ)}return i.emissiveTexture!==void 0&&a!==q1&&c.push(t.assignTexture(o,`emissiveMap`,i.emissiveTexture,cQ)),Promise.all(c).then(function(){let n=new a(o);return i.name&&(n.name=i.name),O9(n,i),t.associations.set(n,{materials:e}),i.extensions&&D9(r,n,i),n})}createUniqueName(e){let t=z6.sanitizeNodeName(e||``);return t in this.nodeNamesUsed?t+`_`+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){let t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[m9.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(n){return j9(n,e,t)})}let a=[];for(let n=0,o=e.length;n<o;n++){let o=e[n],s=Xie(o),c=r[s];if(c)a.push(c.promise);else{let e;e=o.extensions&&o.extensions[m9.KHR_DRACO_MESH_COMPRESSION]?i(o):j9(new c0,o,t),r[s]={primitive:o,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){let t=this,n=this.json,r=this.extensions,i=n.meshes[e],a=i.primitives,o=[];for(let e=0,t=a.length;e<t;e++){let t=a[e].material===void 0?qie(this.cache):this.getDependency(`material`,a[e].material);o.push(t)}return o.push(t.loadGeometries(a)),Promise.all(o).then(function(n){let o=n.slice(0,n.length-1),s=n[n.length-1],c=[];for(let n=0,l=s.length;n<l;n++){let l=s[n],u=a[n],d,f=o[n];if(u.mode===y9.TRIANGLES||u.mode===y9.TRIANGLE_STRIP||u.mode===y9.TRIANGLE_FAN||u.mode===void 0)d=i.isSkinnedMesh===!0?new i2(l,f):new $(l,f),d.isSkinnedMesh===!0&&d.normalizeSkinWeights(),u.mode===y9.TRIANGLE_STRIP?d.geometry=p9(d.geometry,1):u.mode===y9.TRIANGLE_FAN&&(d.geometry=p9(d.geometry,2));else if(u.mode===y9.LINES)d=new z2(l,f);else if(u.mode===y9.LINE_STRIP)d=new F2(l,f);else if(u.mode===y9.LINE_LOOP)d=new B2(l,f);else if(u.mode===y9.POINTS)d=new K2(l,f);else throw Error(`THREE.GLTFLoader: Primitive mode unsupported: `+u.mode);Object.keys(d.geometry.morphAttributes).length>0&&Yie(d,i),d.name=t.createUniqueName(i.name||`mesh_`+e),O9(d,i),u.extensions&&D9(r,d,u),t.assignFinalMaterial(d),c.push(d)}for(let n=0,r=c.length;n<r;n++)t.associations.set(c[n],{meshes:e,primitives:n});if(c.length===1)return i.extensions&&D9(r,c[0],i),c[0];let l=new V0;i.extensions&&D9(r,l,i),t.associations.set(l,{meshes:e});for(let e=0,t=c.length;e<t;e++)l.add(c[e]);return l})}loadCamera(e){let t,n=this.json.cameras[e],r=n[n.type];if(!r){console.warn(`THREE.GLTFLoader: Missing camera parameters.`);return}return n.type===`perspective`?t=new F0(QQ.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type===`orthographic`&&(t=new y6(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),O9(t,n),Promise.resolve(t)}loadSkin(e){let t=this.json.skins[e],n=[];for(let e=0,r=t.joints.length;e<r;e++)n.push(this._loadNodeShallow(t.joints[e]));return t.inverseBindMatrices===void 0?n.push(null):n.push(this.getDependency(`accessor`,t.inverseBindMatrices)),Promise.all(n).then(function(e){let n=e.pop(),r=e,i=[],a=[];for(let e=0,o=r.length;e<o;e++){let o=r[e];if(o){i.push(o);let t=new Z$;n!==null&&t.fromArray(n.array,e*16),a.push(t)}else console.warn(`THREE.GLTFLoader: Joint "%s" could not be found.`,t.joints[e])}return new l2(i,a)})}loadAnimation(e){let t=this.json,n=this,r=t.animations[e],i=r.name?r.name:`animation_`+e,a=[],o=[],s=[],c=[],l=[];for(let e=0,t=r.channels.length;e<t;e++){let t=r.channels[e],n=r.samplers[t.sampler],i=t.target,u=i.node,d=r.parameters===void 0?n.input:r.parameters[n.input],f=r.parameters===void 0?n.output:r.parameters[n.output];i.node!==void 0&&(a.push(this.getDependency(`node`,u)),o.push(this.getDependency(`accessor`,d)),s.push(this.getDependency(`accessor`,f)),c.push(n),l.push(i))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(c),Promise.all(l)]).then(function(e){let t=e[0],a=e[1],o=e[2],s=e[3],c=e[4],l=[];for(let e=0,r=t.length;e<r;e++){let r=t[e],i=a[e],u=o[e],d=s[e],f=c[e];if(r===void 0)continue;r.updateMatrix&&r.updateMatrix();let p=n._createAnimationTracks(r,i,u,d,f);if(p)for(let e=0;e<p.length;e++)l.push(p[e])}let u=new J3(i,void 0,l);return O9(u,r),u})}createNodeMesh(e){let t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency(`mesh`,r.mesh).then(function(e){let t=n._getNodeRef(n.meshCache,r.mesh,e);return r.weights!==void 0&&t.traverse(function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]}),t})}loadNode(e){let t=this.json,n=this,r=t.nodes[e],i=n._loadNodeShallow(e),a=[],o=r.children||[];for(let e=0,t=o.length;e<t;e++)a.push(n.getDependency(`node`,o[e]));let s=r.skin===void 0?Promise.resolve(null):n.getDependency(`skin`,r.skin);return Promise.all([i,Promise.all(a),s]).then(function(e){let t=e[0],n=e[1],r=e[2];r!==null&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(r,Qie)});for(let e=0,r=n.length;e<r;e++)t.add(n[e]);return t})}_loadNodeShallow(e){let t=this.json,n=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];let i=t.nodes[e],a=i.name?r.createUniqueName(i.name):``,o=[],s=r._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return s&&o.push(s),i.camera!==void 0&&o.push(r.getDependency(`camera`,i.camera).then(function(e){return r._getNodeRef(r.cameraCache,i.camera,e)})),r._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){o.push(e)}),this.nodeCache[e]=Promise.all(o).then(function(t){let o;if(o=i.isBone===!0?new a2:t.length>1?new V0:t.length===1?t[0]:new w1,o!==t[0])for(let e=0,n=t.length;e<n;e++)o.add(t[e]);if(i.name&&(o.userData.name=i.name,o.name=a),O9(o,i),i.extensions&&D9(n,o,i),i.matrix!==void 0){let e=new Z$;e.fromArray(i.matrix),o.applyMatrix4(e)}else i.translation!==void 0&&o.position.fromArray(i.translation),i.rotation!==void 0&&o.quaternion.fromArray(i.rotation),i.scale!==void 0&&o.scale.fromArray(i.scale);if(!r.associations.has(o))r.associations.set(o,{});else if(i.mesh!==void 0&&r.meshCache.refs[i.mesh]>1){let e=r.associations.get(o);r.associations.set(o,{...e})}return r.associations.get(o).nodes=e,o}),this.nodeCache[e]}loadScene(e){let t=this.extensions,n=this.json.scenes[e],r=this,i=new V0;n.name&&(i.name=r.createUniqueName(n.name)),O9(i,n),n.extensions&&D9(t,i,n);let a=n.nodes||[],o=[];for(let e=0,t=a.length;e<t;e++)o.push(r.getDependency(`node`,a[e]));return Promise.all(o).then(function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{let t=new Map;for(let[e,n]of r.associations)(e instanceof K1||e instanceof v$)&&t.set(e,n);return e.traverse(e=>{let n=r.associations.get(e);n!=null&&t.set(e,n)}),t})(i),i})}_createAnimationTracks(e,t,n,r,i){let a=[],o=e.name?e.name:e.uuid,s=[];T9[i.path]===T9.weights?e.traverse(function(e){e.morphTargetInfluences&&s.push(e.name?e.name:e.uuid)}):s.push(o);let c;switch(T9[i.path]){case T9.weights:c=U3;break;case T9.rotation:c=G3;break;case T9.translation:case T9.scale:c=q3;break;default:switch(n.itemSize){case 1:c=U3;break;case 2:case 3:default:c=q3;break}break}let l=r.interpolation===void 0?eQ:Kie[r.interpolation],u=this._getArrayFromAccessor(n);for(let e=0,n=s.length;e<n;e++){let n=new c(s[e]+`.`+T9[i.path],t.array,u,l);r.interpolation===`CUBICSPLINE`&&this._createCubicSplineTrackInterpolant(n),a.push(n)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){let e=A9(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof G3?Gie:v9)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function eae(e,t,n){let r=t.attributes,i=new w$;if(r.POSITION!==void 0){let e=n.json.accessors[r.POSITION],t=e.min,a=e.max;if(t!==void 0&&a!==void 0){if(i.set(new Q(t[0],t[1],t[2]),new Q(a[0],a[1],a[2])),e.normalized){let t=A9(b9[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}else{console.warn(`THREE.GLTFLoader: Missing min/max properties for accessor POSITION.`);return}}else return;let a=t.targets;if(a!==void 0){let e=new Q,t=new Q;for(let r=0,i=a.length;r<i;r++){let i=a[r];if(i.POSITION!==void 0){let r=n.json.accessors[i.POSITION],a=r.min,o=r.max;if(a!==void 0&&o!==void 0){if(t.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),t.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),t.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),r.normalized){let e=A9(b9[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn(`THREE.GLTFLoader: Missing min/max properties for accessor POSITION.`)}}i.expandByVector(e)}e.boundingBox=i;let o=new H$;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=o}function j9(e,t,n){let r=t.attributes,i=[];function a(t,r){return n.getDependency(`accessor`,t).then(function(t){e.setAttribute(r,t)})}for(let t in r){let n=w9[t]||t.toLowerCase();n in e.attributes||i.push(a(r[t],n))}if(t.indices!==void 0&&!e.index){let r=n.getDependency(`accessor`,t.indices).then(function(t){e.setIndex(t)});i.push(r)}return c$.workingColorSpace!==`srgb-linear`&&`COLOR_0`in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${c$.workingColorSpace}" not supported.`),O9(e,t),eae(e,t,n),Promise.all(i).then(function(){return t.targets===void 0?e:Jie(e,t.targets,n)})}var M9={POSITION:[`byte`,`byte normalized`,`unsigned byte`,`unsigned byte normalized`,`short`,`short normalized`,`unsigned short`,`unsigned short normalized`],NORMAL:[`byte normalized`,`short normalized`],TANGENT:[`byte normalized`,`short normalized`],TEXCOORD:[`byte`,`byte normalized`,`unsigned byte`,`short`,`short normalized`,`unsigned short`]},N9=class{constructor(){this.textureUtils=null,this.pluginCallbacks=[],this.register(function(e){return new dae(e)}),this.register(function(e){return new fae(e)}),this.register(function(e){return new gae(e)}),this.register(function(e){return new _ae(e)}),this.register(function(e){return new vae(e)}),this.register(function(e){return new yae(e)}),this.register(function(e){return new pae(e)}),this.register(function(e){return new mae(e)}),this.register(function(e){return new hae(e)}),this.register(function(e){return new bae(e)}),this.register(function(e){return new xae(e)}),this.register(function(e){return new Sae(e)}),this.register(function(e){return new Cae(e)}),this.register(function(e){return new wae(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}setTextureUtils(e){return this.textureUtils=e,this}parse(e,t,n,r){let i=new uae,a=[];for(let e=0,t=this.pluginCallbacks.length;e<t;e++)a.push(this.pluginCallbacks[e](i));i.setPlugins(a),i.setTextureUtils(this.textureUtils),i.writeAsync(e,t,r).catch(n)}parseAsync(e,t){let n=this;return new Promise(function(r,i){n.parse(e,r,i,t)})}},P9={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},F9=`KHR_mesh_quantization`,I9={};I9[KX]=P9.NEAREST,I9[qX]=P9.NEAREST_MIPMAP_NEAREST,I9[JX]=P9.NEAREST_MIPMAP_LINEAR,I9[YX]=P9.LINEAR,I9[XX]=P9.LINEAR_MIPMAP_NEAREST,I9[ZX]=P9.LINEAR_MIPMAP_LINEAR,I9[WX]=P9.CLAMP_TO_EDGE,I9[UX]=P9.REPEAT,I9[GX]=P9.MIRRORED_REPEAT;var L9={scale:`scale`,position:`translation`,quaternion:`rotation`,morphTargetInfluences:`weights`},tae=new U1,R9=12,nae=1179937895,rae=2,z9=8,iae=1313821514,aae=5130562;function B9(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}function oae(e){return new TextEncoder().encode(e).buffer}function sae(e){return B9(e.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function cae(e,t,n){let r={min:Array(e.itemSize).fill(1/0),max:Array(e.itemSize).fill(-1/0)};for(let i=t;i<t+n;i++)for(let t=0;t<e.itemSize;t++){let n;e.itemSize>4?n=e.array[i*e.itemSize+t]:(t===0?n=e.getX(i):t===1?n=e.getY(i):t===2?n=e.getZ(i):t===3&&(n=e.getW(i)),e.normalized===!0&&(n=QQ.normalize(n,e.array))),r.min[t]=Math.min(r.min[t],n),r.max[t]=Math.max(r.max[t],n)}return r}function V9(e){return Math.ceil(e/4)*4}function H9(e,t=0){let n=V9(e.byteLength);if(n!==e.byteLength){let r=new Uint8Array(n);if(r.set(new Uint8Array(e)),t!==0)for(let i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function U9(){return typeof document>`u`&&typeof OffscreenCanvas<`u`?new OffscreenCanvas(1,1):document.createElement(`canvas`)}function lae(e,t){if(typeof OffscreenCanvas<`u`&&e instanceof OffscreenCanvas){let n;return t===`image/jpeg`?n=.92:t===`image/webp`&&(n=.8),e.convertToBlob({type:t,quality:n})}else return new Promise(n=>e.toBlob(n,t))}var uae=class{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:`2.0`,generator:`THREE.GLTFExporter r181`}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.textureUtils=null}setPlugins(e){this.plugins=e}setTextureUtils(e){this.textureUtils=e}async writeAsync(e,t,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),await this.processInputAsync(e),await Promise.all(this.pending);let r=this,i=r.buffers,a=r.json;n=r.options;let o=r.extensionsUsed,s=r.extensionsRequired,c=new Blob(i,{type:`application/octet-stream`}),l=Object.keys(o),u=Object.keys(s);if(l.length>0&&(a.extensionsUsed=l),u.length>0&&(a.extensionsRequired=u),a.buffers&&a.buffers.length>0&&(a.buffers[0].byteLength=c.size),n.binary===!0){let e=new FileReader;e.readAsArrayBuffer(c),e.onloadend=function(){let n=H9(e.result),r=new DataView(new ArrayBuffer(z9));r.setUint32(0,n.byteLength,!0),r.setUint32(4,aae,!0);let i=H9(oae(JSON.stringify(a)),32),o=new DataView(new ArrayBuffer(z9));o.setUint32(0,i.byteLength,!0),o.setUint32(4,iae,!0);let s=new ArrayBuffer(R9),c=new DataView(s);c.setUint32(0,nae,!0),c.setUint32(4,rae,!0);let l=R9+o.byteLength+i.byteLength+r.byteLength+n.byteLength;c.setUint32(8,l,!0);let u=new Blob([s,o,i,r,n],{type:`application/octet-stream`}),d=new FileReader;d.readAsArrayBuffer(u),d.onloadend=function(){t(d.result)}}}else if(a.buffers&&a.buffers.length>0){let e=new FileReader;e.readAsDataURL(c),e.onloadend=function(){let n=e.result;a.buffers[0].uri=n,t(a)}}else t(a)}serializeUserData(e,t){if(Object.keys(e.userData).length===0)return;let n=this.options,r=this.extensionsUsed;try{let i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(let e in t.extensions===void 0&&(t.extensions={}),i.gltfExtensions)t.extensions[e]=i.gltfExtensions[e],r[e]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(t){console.warn(`THREE.GLTFExporter: userData of '`+e.name+`' won't be serialized because of JSON.stringify error - `+t.message)}}getUID(e,t=!1){if(this.uids.has(e)===!1){let t=new Map;t.set(!0,this.uid++),t.set(!1,this.uid++),this.uids.set(e,t)}return this.uids.get(e).get(t)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;let t=new Q;for(let n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){let t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);let n=e.clone(),r=new Q;for(let e=0,t=n.count;e<t;e++)r.fromBufferAttribute(n,e),r.x===0&&r.y===0&&r.z===0?r.setX(1):r.normalize(),n.setXYZ(e,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}applyTextureTransform(e,t){let n=!1,r={};(t.offset.x!==0||t.offset.y!==0)&&(r.offset=t.offset.toArray(),n=!0),t.rotation!==0&&(r.rotation=t.rotation,n=!0),(t.repeat.x!==1||t.repeat.y!==1)&&(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}async buildMetalRoughTextureAsync(e,t){if(e===t)return e;function n(e){return e.colorSpace===`srgb`?function(e){return e<.04045?e*.0773993808:(e*.9478672986+.0521327014)**2.4}:function(e){return e}}e instanceof J2&&(e=await this.decompressTextureAsync(e)),t instanceof J2&&(t=await this.decompressTextureAsync(t));let r=e?e.image:null,i=t?t.image:null,a=Math.max(r?r.width:0,i?i.width:0),o=Math.max(r?r.height:0,i?i.height:0),s=U9();s.width=a,s.height=o;let c=s.getContext(`2d`,{willReadFrequently:!0});c.fillStyle=`#00ffff`,c.fillRect(0,0,a,o);let l=c.getImageData(0,0,a,o);if(r){c.drawImage(r,0,0,a,o);let t=n(e),i=c.getImageData(0,0,a,o).data;for(let e=2;e<i.length;e+=4)l.data[e]=t(i[e]/256)*256}if(i){c.drawImage(i,0,0,a,o);let e=n(t),r=c.getImageData(0,0,a,o).data;for(let t=1;t<r.length;t+=4)l.data[t]=e(r[t]/256)*256}c.putImageData(l,0,0);let u=(e||t).clone();return u.source=new m$(s),u.colorSpace=``,u.channel=(e||t).channel,e&&t&&e.channel!==t.channel&&console.warn(`THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match.`),console.warn(`THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.`),u}async decompressTextureAsync(e,t=1/0){if(this.textureUtils===null)throw Error(`THREE.GLTFExporter: setTextureUtils() must be called to process compressed textures.`);return await this.textureUtils.decompress(e,t)}processBuffer(e){let t=this.json,n=this.buffers;return t.buffers||=[{byteLength:0}],n.push(e),0}processBufferView(e,t,n,r,i){let a=this.json;a.bufferViews||=[];let o;switch(t){case P9.BYTE:case P9.UNSIGNED_BYTE:o=1;break;case P9.SHORT:case P9.UNSIGNED_SHORT:o=2;break;default:o=4}let s=e.itemSize*o;i===P9.ARRAY_BUFFER&&(s=Math.ceil(s/4)*4);let c=V9(r*s),l=new DataView(new ArrayBuffer(c)),u=0;for(let i=n;i<n+r;i++){for(let n=0;n<e.itemSize;n++){let r;e.itemSize>4?r=e.array[i*e.itemSize+n]:(n===0?r=e.getX(i):n===1?r=e.getY(i):n===2?r=e.getZ(i):n===3&&(r=e.getW(i)),e.normalized===!0&&(r=QQ.normalize(r,e.array))),t===P9.FLOAT?l.setFloat32(u,r,!0):t===P9.INT?l.setInt32(u,r,!0):t===P9.UNSIGNED_INT?l.setUint32(u,r,!0):t===P9.SHORT?l.setInt16(u,r,!0):t===P9.UNSIGNED_SHORT?l.setUint16(u,r,!0):t===P9.BYTE?l.setInt8(u,r):t===P9.UNSIGNED_BYTE&&l.setUint8(u,r),u+=o}u%s!==0&&(u+=s-u%s)}let d={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:c};return i!==void 0&&(d.target=i),i===P9.ARRAY_BUFFER&&(d.byteStride=s),this.byteOffset+=c,a.bufferViews.push(d),{id:a.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){let t=this,n=t.json;return n.bufferViews||=[],new Promise(function(r){let i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){let e=H9(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}})}processAccessor(e,t,n,r){let i=this.json,a={1:`SCALAR`,2:`VEC2`,3:`VEC3`,4:`VEC4`,9:`MAT3`,16:`MAT4`},o;if(e.array.constructor===Float32Array)o=P9.FLOAT;else if(e.array.constructor===Int32Array)o=P9.INT;else if(e.array.constructor===Uint32Array)o=P9.UNSIGNED_INT;else if(e.array.constructor===Int16Array)o=P9.SHORT;else if(e.array.constructor===Uint16Array)o=P9.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)o=P9.BYTE;else if(e.array.constructor===Uint8Array)o=P9.UNSIGNED_BYTE;else throw Error(`THREE.GLTFExporter: Unsupported bufferAttribute component type: `+e.array.constructor.name);if(n===void 0&&(n=0),(r===void 0||r===1/0)&&(r=e.count),r===0)return null;let s=cae(e,n,r),c;t!==void 0&&(c=e===t.index?P9.ELEMENT_ARRAY_BUFFER:P9.ARRAY_BUFFER);let l=this.processBufferView(e,o,n,r,c),u={bufferView:l.id,byteOffset:l.byteOffset,componentType:o,count:r,max:s.max,min:s.min,type:a[e.itemSize]};return e.normalized===!0&&(u.normalized=!0),i.accessors||=[],i.accessors.push(u)-1}processImage(e,t,n,r=`image/png`){if(e!==null){let i=this,a=i.cache,o=i.json,s=i.options,c=i.pending;a.images.has(e)||a.images.set(e,{});let l=a.images.get(e),u=r+`:flipY/`+n.toString();if(l[u]!==void 0)return l[u];o.images||=[];let d={mimeType:r},f=U9();f.width=Math.min(e.width,s.maxTextureSize),f.height=Math.min(e.height,s.maxTextureSize);let p=f.getContext(`2d`,{willReadFrequently:!0});if(n===!0&&(p.translate(0,f.height),p.scale(1,-1)),e.data!==void 0){t!==1023&&console.error(`GLTFExporter: Only RGBAFormat is supported.`,t),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn(`GLTFExporter: Image size is bigger than maxTextureSize`,e);let n=new Uint8ClampedArray(e.height*e.width*4);for(let t=0;t<n.length;t+=4)n[t+0]=e.data[t+0],n[t+1]=e.data[t+1],n[t+2]=e.data[t+2],n[t+3]=e.data[t+3];p.putImageData(new ImageData(n,e.width,e.height),0,0)}else if(typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement||typeof ImageBitmap<`u`&&e instanceof ImageBitmap||typeof OffscreenCanvas<`u`&&e instanceof OffscreenCanvas)p.drawImage(e,0,0,f.width,f.height);else throw Error(`THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.`);s.binary===!0?c.push(lae(f,r).then(e=>i.processBufferViewImage(e)).then(e=>{d.bufferView=e})):d.uri=f$.getDataURL(f,r);let m=o.images.push(d)-1;return l[u]=m,m}else throw Error(`THREE.GLTFExporter: No valid image data found. Unable to process texture.`)}processSampler(e){let t=this.json;t.samplers||=[];let n={magFilter:I9[e.magFilter],minFilter:I9[e.minFilter],wrapS:I9[e.wrapS],wrapT:I9[e.wrapT]};return t.samplers.push(n)-1}async processTextureAsync(e){let t=this.options,n=this.cache,r=this.json;if(n.textures.has(e))return n.textures.get(e);r.textures||=[],e instanceof J2&&(e=await this.decompressTextureAsync(e,t.maxTextureSize));let i=e.userData.mimeType;i===`image/webp`&&(i=`image/png`);let a={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,i)};e.name&&(a.name=e.name),await this._invokeAllAsync(async function(t){t.writeTexture&&await t.writeTexture(e,a)});let o=r.textures.push(a)-1;return n.textures.set(e,o),o}async processMaterialAsync(e){let t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn(`GLTFExporter: THREE.ShaderMaterial not supported.`),null;n.materials||=[];let r={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn(`GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.`);let i=e.color.toArray().concat([e.opacity]);if(B9(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=0,r.pbrMetallicRoughness.roughnessFactor=1),e.metalnessMap||e.roughnessMap){let t=await this.buildMetalRoughTextureAsync(e.metalnessMap,e.roughnessMap),n={index:await this.processTextureAsync(t),texCoord:t.channel};this.applyTextureTransform(n,t),r.pbrMetallicRoughness.metallicRoughnessTexture=n}if(e.map){let t={index:await this.processTextureAsync(e.map),texCoord:e.map.channel};this.applyTextureTransform(t,e.map),r.pbrMetallicRoughness.baseColorTexture=t}if(e.emissive){let t=e.emissive;if(Math.max(t.r,t.g,t.b)>0&&(r.emissiveFactor=e.emissive.toArray()),e.emissiveMap){let t={index:await this.processTextureAsync(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(t,e.emissiveMap),r.emissiveTexture=t}}if(e.normalMap){let t={index:await this.processTextureAsync(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(t.scale=e.normalScale.x),this.applyTextureTransform(t,e.normalMap),r.normalTexture=t}if(e.aoMap){let t={index:await this.processTextureAsync(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(t.strength=e.aoMapIntensity),this.applyTextureTransform(t,e.aoMap),r.occlusionTexture=t}e.transparent?r.alphaMode=`BLEND`:e.alphaTest>0&&(r.alphaMode=`MASK`,r.alphaCutoff=e.alphaTest),e.side===2&&(r.doubleSided=!0),e.name!==``&&(r.name=e.name),this.serializeUserData(e,r),await this._invokeAllAsync(async function(t){t.writeMaterialAsync&&await t.writeMaterialAsync(e,r)});let a=n.materials.push(r)-1;return t.materials.set(e,a),a}async processMeshAsync(e){let t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(let t=0,n=e.material.length;t<n;t++)r.push(e.material[t].uuid);else r.push(e.material.uuid);let i=r.join(`:`);if(t.meshes.has(i))return t.meshes.get(i);let a=e.geometry,o;o=e.isLineSegments?P9.LINES:e.isLineLoop?P9.LINE_LOOP:e.isLine?P9.LINE_STRIP:e.isPoints?P9.POINTS:e.material.wireframe?P9.LINES:P9.TRIANGLES;let s={},c={},l=[],u=[],d={uv:`TEXCOORD_0`,uv1:`TEXCOORD_1`,uv2:`TEXCOORD_2`,uv3:`TEXCOORD_3`,color:`COLOR_0`,skinWeight:`WEIGHTS_0`,skinIndex:`JOINTS_0`},f=a.getAttribute(`normal`);f!==void 0&&!this.isNormalizedNormalAttribute(f)&&(console.warn(`THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one.`),a.setAttribute(`normal`,this.createNormalizedNormalAttribute(f)));let p=null;for(let e in a.attributes){if(e.slice(0,5)===`morph`)continue;let n=a.attributes[e];if(e=d[e]||e.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(e)||(e=`_`+e),t.attributes.has(this.getUID(n))){c[e]=t.attributes.get(this.getUID(n));continue}p=null;let r=n.array;e===`JOINTS_0`&&!(r instanceof Uint16Array)&&!(r instanceof Uint8Array)?(console.warn(`GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.`),p=new Z1(new Uint16Array(r),n.itemSize,n.normalized)):(r instanceof Uint32Array||r instanceof Int32Array)&&!e.startsWith(`_`)&&(console.warn(`GLTFExporter: Attribute "${e}" converted to type FLOAT.`),p=N9.Utils.toFloat32BufferAttribute(n));let i=this.processAccessor(p||n,a);i!==null&&(e.startsWith(`_`)||this.detectMeshQuantization(e,n),c[e]=i,t.attributes.set(this.getUID(n),i))}if(f!==void 0&&a.setAttribute(`normal`,f),Object.keys(c).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){let n=[],r=[],i={};if(e.morphTargetDictionary!==void 0)for(let t in e.morphTargetDictionary)i[e.morphTargetDictionary[t]]=t;for(let o=0;o<e.morphTargetInfluences.length;++o){let s={},c=!1;for(let e in a.morphAttributes){if(e!==`position`&&e!==`normal`){c||=(console.warn(`GLTFExporter: Only POSITION and NORMAL morph are supported.`),!0);continue}let n=a.morphAttributes[e][o],r=e.toUpperCase(),i=a.attributes[e];if(t.attributes.has(this.getUID(n,!0))){s[r]=t.attributes.get(this.getUID(n,!0));continue}let l=n.clone();if(!a.morphTargetsRelative)for(let e=0,t=n.count;e<t;e++)for(let t=0;t<n.itemSize;t++)t===0&&l.setX(e,n.getX(e)-i.getX(e)),t===1&&l.setY(e,n.getY(e)-i.getY(e)),t===2&&l.setZ(e,n.getZ(e)-i.getZ(e)),t===3&&l.setW(e,n.getW(e)-i.getW(e));s[r]=this.processAccessor(l,a),t.attributes.set(this.getUID(i,!0),s[r])}u.push(s),n.push(e.morphTargetInfluences[o]),e.morphTargetDictionary!==void 0&&r.push(i[o])}s.weights=n,r.length>0&&(s.extras={},s.extras.targetNames=r)}let m=Array.isArray(e.material);if(m&&a.groups.length===0)return null;let h=!1;if(m&&a.index===null){let e=[];for(let t=0,n=a.attributes.position.count;t<n;t++)e[t]=t;a.setIndex(e),h=!0}let g=m?e.material:[e.material],_=m?a.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let e=0,n=_.length;e<n;e++){let n={mode:o,attributes:c};if(this.serializeUserData(a,n),u.length>0&&(n.targets=u),a.index!==null){let r=this.getUID(a.index);(_[e].start!==void 0||_[e].count!==void 0)&&(r+=`:`+_[e].start+`:`+_[e].count),t.attributes.has(r)?n.indices=t.attributes.get(r):(n.indices=this.processAccessor(a.index,a,_[e].start,_[e].count),t.attributes.set(r,n.indices)),n.indices===null&&delete n.indices}let r=await this.processMaterialAsync(g[_[e].materialIndex]);r!==null&&(n.material=r),l.push(n)}h===!0&&a.setIndex(null),s.primitives=l,n.meshes||=[],await this._invokeAllAsync(function(t){t.writeMesh&&t.writeMesh(e,s)});let v=n.meshes.push(s)-1;return t.meshes.set(i,v),v}detectMeshQuantization(e,t){if(this.extensionsUsed[F9])return;let n;switch(t.array.constructor){case Int8Array:n=`byte`;break;case Uint8Array:n=`unsigned byte`;break;case Int16Array:n=`short`;break;case Uint16Array:n=`unsigned short`;break;default:return}t.normalized&&(n+=` normalized`);let r=e.split(`_`,1)[0];M9[r]&&M9[r].includes(n)&&(this.extensionsUsed[F9]=!0,this.extensionsRequired[F9]=!0)}processCamera(e){let t=this.json;t.cameras||=[];let n=e.isOrthographicCamera,r={type:n?`orthographic`:`perspective`};return n?r.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:QQ.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==``&&(r.name=e.type),t.cameras.push(r)-1}processAnimation(e,t){let n=this.json,r=this.nodeMap;n.animations||=[],e=N9.Utils.mergeMorphTargetTracks(e.clone(),t);let i=e.tracks,a=[],o=[];for(let e=0;e<i.length;++e){let n=i[e],s=z6.parseTrackName(n.name),c=z6.findNode(t,s.nodeName),l=L9[s.propertyName];if(s.objectName===`bones`&&(c=c.isSkinnedMesh===!0?c.skeleton.getBoneByName(s.objectIndex):void 0),!c||!l){console.warn(`THREE.GLTFExporter: Could not export animation track "%s".`,n.name);continue}let u=n.values.length/n.times.length;l===L9.morphTargetInfluences&&(u/=c.morphTargetInfluences.length);let d;n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(d=`CUBICSPLINE`,u/=3):d=n.getInterpolation()===2300?`STEP`:`LINEAR`,o.push({input:this.processAccessor(new Z1(n.times,1)),output:this.processAccessor(new Z1(n.values,u)),interpolation:d}),a.push({sampler:o.length-1,target:{node:r.get(c),path:l}})}let s={name:e.name||`clip_`+n.animations.length,samplers:o,channels:a};return this.serializeUserData(e,s),n.animations.push(s),n.animations.length-1}processSkin(e){let t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(i===void 0)return null;let a=e.skeleton.bones[0];if(a===void 0)return null;let o=[],s=new Float32Array(i.bones.length*16),c=new Z$;for(let t=0;t<i.bones.length;++t)o.push(n.get(i.bones[t])),c.copy(i.boneInverses[t]),c.multiply(e.bindMatrix).toArray(s,t*16);return t.skins===void 0&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Z1(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}async processNodeAsync(e){let t=this.json,n=this.options,r=this.nodeMap;t.nodes||=[];let i={};if(n.trs){let t=e.quaternion.toArray(),n=e.position.toArray(),r=e.scale.toArray();B9(t,[0,0,0,1])||(i.rotation=t),B9(n,[0,0,0])||(i.translation=n),B9(r,[1,1,1])||(i.scale=r)}else e.matrixAutoUpdate&&e.updateMatrix(),sae(e.matrix)===!1&&(i.matrix=e.matrix.elements);if(e.name!==``&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){let t=await this.processMeshAsync(e);t!==null&&(i.mesh=t)}else e.isCamera&&(i.camera=this.processCamera(e));e.isSkinnedMesh&&this.skins.push(e);let a=t.nodes.push(i)-1;if(r.set(e,a),e.children.length>0){let t=[];for(let r=0,i=e.children.length;r<i;r++){let i=e.children[r];if(i.visible||n.onlyVisible===!1){let e=await this.processNodeAsync(i);e!==null&&t.push(e)}}t.length>0&&(i.children=t)}return await this._invokeAllAsync(function(t){t.writeNode&&t.writeNode(e,i)}),a}async processSceneAsync(e){let t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);let r={};e.name!==``&&(r.name=e.name),t.scenes.push(r);let i=[];for(let t=0,r=e.children.length;t<r;t++){let r=e.children[t];if(r.visible||n.onlyVisible===!1){let e=await this.processNodeAsync(r);e!==null&&i.push(e)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}async processObjectsAsync(e){let t=new G0;t.name=`AuxScene`;for(let n=0;n<e.length;n++)t.children.push(e[n]);await this.processSceneAsync(t)}async processInputAsync(e){let t=this.options;e=e instanceof Array?e:[e],await this._invokeAllAsync(function(t){t.beforeParse&&t.beforeParse(e)});let n=[];for(let t=0;t<e.length;t++)e[t]instanceof G0?await this.processSceneAsync(e[t]):n.push(e[t]);n.length>0&&await this.processObjectsAsync(n);for(let e=0;e<this.skins.length;++e)this.processSkin(this.skins[e]);for(let n=0;n<t.animations.length;++n)this.processAnimation(t.animations[n],e[0]);await this._invokeAllAsync(function(t){t.afterParse&&t.afterParse(e)})}async _invokeAllAsync(e){for(let t=0,n=this.plugins.length;t<n;t++)await e(this.plugins[t])}},dae=class{constructor(e){this.writer=e,this.name=`KHR_lights_punctual`}writeNode(e,t){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn(`THREE.GLTFExporter: Only directional, point, and spot lights are supported.`,e);return}let n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type=`directional`:e.isPointLight?(a.type=`point`,e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type=`spot`,e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(1-e.penumbra)*e.angle,a.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn(`THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2.`),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn(`THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.`),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);let o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}},fae=class{constructor(e){this.writer=e,this.name=`KHR_materials_unlit`}async writeMaterialAsync(e,t){if(!e.isMeshBasicMaterial)return;let n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}},pae=class{constructor(e){this.writer=e,this.name=`KHR_materials_clearcoat`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;let n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){let t={index:await n.processTextureAsync(e.clearcoatMap),texCoord:e.clearcoatMap.channel};n.applyTextureTransform(t,e.clearcoatMap),i.clearcoatTexture=t}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){let t={index:await n.processTextureAsync(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};n.applyTextureTransform(t,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=t}if(e.clearcoatNormalMap){let t={index:await n.processTextureAsync(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};e.clearcoatNormalScale.x!==1&&(t.scale=e.clearcoatNormalScale.x),n.applyTextureTransform(t,e.clearcoatNormalMap),i.clearcoatNormalTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},mae=class{constructor(e){this.writer=e,this.name=`KHR_materials_dispersion`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.dispersion===0)return;let n=this.writer.extensionsUsed,r={};r.dispersion=e.dispersion,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}},hae=class{constructor(e){this.writer=e,this.name=`KHR_materials_iridescence`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;let n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){let t={index:await n.processTextureAsync(e.iridescenceMap),texCoord:e.iridescenceMap.channel};n.applyTextureTransform(t,e.iridescenceMap),i.iridescenceTexture=t}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){let t={index:await n.processTextureAsync(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};n.applyTextureTransform(t,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},gae=class{constructor(e){this.writer=e,this.name=`KHR_materials_transmission`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){let t={index:await n.processTextureAsync(e.transmissionMap),texCoord:e.transmissionMap.channel};n.applyTextureTransform(t,e.transmissionMap),i.transmissionTexture=t}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},_ae=class{constructor(e){this.writer=e,this.name=`KHR_materials_volume`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){let t={index:await n.processTextureAsync(e.thicknessMap),texCoord:e.thicknessMap.channel};n.applyTextureTransform(t,e.thicknessMap),i.thicknessTexture=t}e.attenuationDistance!==1/0&&(i.attenuationDistance=e.attenuationDistance),i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},vae=class{constructor(e){this.writer=e,this.name=`KHR_materials_ior`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;let n=this.writer.extensionsUsed,r={};r.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}},yae=class{constructor(e){this.writer=e,this.name=`KHR_materials_specular`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(tae)&&!e.specularIntensityMap&&!e.specularColorMap)return;let n=this.writer,r=n.extensionsUsed,i={};if(e.specularIntensityMap){let t={index:await n.processTextureAsync(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};n.applyTextureTransform(t,e.specularIntensityMap),i.specularTexture=t}if(e.specularColorMap){let t={index:await n.processTextureAsync(e.specularColorMap),texCoord:e.specularColorMap.channel};n.applyTextureTransform(t,e.specularColorMap),i.specularColorTexture=t}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},bae=class{constructor(e){this.writer=e,this.name=`KHR_materials_sheen`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;let n=this.writer,r=n.extensionsUsed,i={};if(e.sheenRoughnessMap){let t={index:await n.processTextureAsync(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};n.applyTextureTransform(t,e.sheenRoughnessMap),i.sheenRoughnessTexture=t}if(e.sheenColorMap){let t={index:await n.processTextureAsync(e.sheenColorMap),texCoord:e.sheenColorMap.channel};n.applyTextureTransform(t,e.sheenColorMap),i.sheenColorTexture=t}i.sheenRoughnessFactor=e.sheenRoughness,i.sheenColorFactor=e.sheenColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},xae=class{constructor(e){this.writer=e,this.name=`KHR_materials_anisotropy`}async writeMaterialAsync(e,t){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;let n=this.writer,r=n.extensionsUsed,i={};if(e.anisotropyMap){let t={index:await n.processTextureAsync(e.anisotropyMap)};n.applyTextureTransform(t,e.anisotropyMap),i.anisotropyTexture=t}i.anisotropyStrength=e.anisotropy,i.anisotropyRotation=e.anisotropyRotation,t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},Sae=class{constructor(e){this.writer=e,this.name=`KHR_materials_emissive_strength`}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;let n=this.writer.extensionsUsed,r={};r.emissiveStrength=e.emissiveIntensity,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}},Cae=class{constructor(e){this.writer=e,this.name=`EXT_materials_bump`}async writeMaterialAsync(e,t){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;let n=this.writer,r=n.extensionsUsed,i={};if(e.bumpMap){let t={index:await n.processTextureAsync(e.bumpMap),texCoord:e.bumpMap.channel};n.applyTextureTransform(t,e.bumpMap),i.bumpTexture=t}i.bumpFactor=e.bumpScale,t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}},wae=class{constructor(e){this.writer=e,this.name=`EXT_mesh_gpu_instancing`}writeNode(e,t){if(!e.isInstancedMesh)return;let n=this.writer,r=e,i=new Float32Array(r.count*3),a=new Float32Array(r.count*4),o=new Float32Array(r.count*3),s=new Z$,c=new Q,l=new e$,u=new Q;for(let e=0;e<r.count;e++)r.getMatrixAt(e,s),s.decompose(c,l,u),c.toArray(i,e*3),l.toArray(a,e*4),u.toArray(o,e*3);let d={TRANSLATION:n.processAccessor(new Z1(i,3)),ROTATION:n.processAccessor(new Z1(a,4)),SCALE:n.processAccessor(new Z1(o,3))};r.instanceColor&&(d._COLOR_0=n.processAccessor(r.instanceColor)),t.extensions=t.extensions||{},t.extensions[this.name]={attributes:d},n.extensionsUsed[this.name]=!0,n.extensionsRequired[this.name]=!0}};N9.Utils={insertKeyframe:function(e,t){let n=.001,r=e.getValueSize(),i=new e.TimeBufferType(e.times.length+1),a=new e.ValueBufferType(e.values.length+r),o=e.createInterpolant(new e.ValueBufferType(r)),s;if(e.times.length===0){i[0]=t;for(let e=0;e<r;e++)a[e]=0;s=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<n)return 0;i[0]=t,i.set(e.times,1),a.set(o.evaluate(t),0),a.set(e.values,r),s=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<n)return e.times.length-1;i[i.length-1]=t,i.set(e.times,0),a.set(e.values,0),a.set(o.evaluate(t),e.values.length),s=i.length-1}else for(let c=0;c<e.times.length;c++){if(Math.abs(e.times[c]-t)<n)return c;if(e.times[c]<t&&e.times[c+1]>t){i.set(e.times.slice(0,c+1),0),i[c+1]=t,i.set(e.times.slice(c+1),c+2),a.set(e.values.slice(0,(c+1)*r),0),a.set(o.evaluate(t),(c+1)*r),a.set(e.values.slice((c+1)*r),(c+2)*r),s=c+1;break}}return e.times=i,e.values=a,s},mergeMorphTargetTracks:function(e,t){let n=[],r={},i=e.tracks;for(let e=0;e<i.length;++e){let a=i[e],o=z6.parseTrackName(a.name),s=z6.findNode(t,o.nodeName);if(o.propertyName!==`morphTargetInfluences`||o.propertyIndex===void 0){n.push(a);continue}if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw Error(`THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.`);console.warn(`THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead.`),a=a.clone(),a.setInterpolation(eQ)}let c=s.morphTargetInfluences.length,l=s.morphTargetDictionary[o.propertyIndex];if(l===void 0)throw Error(`THREE.GLTFExporter: Morph target name not found: `+o.propertyIndex);let u;if(r[s.uuid]===void 0){u=a.clone();let e=new u.ValueBufferType(c*u.times.length);for(let t=0;t<u.times.length;t++)e[t*c+l]=u.values[t];u.name=(o.nodeName||``)+`.morphTargetInfluences`,u.values=e,r[s.uuid]=u,n.push(u);continue}let d=a.createInterpolant(new a.ValueBufferType(1));u=r[s.uuid];for(let e=0;e<u.times.length;e++)u.values[e*c+l]=d.evaluate(u.times[e]);for(let e=0;e<a.times.length;e++){let t=this.insertKeyframe(u,a.times[e]);u.values[t*c+l]=a.values[e]}}return e.tracks=n,e},toFloat32BufferAttribute:function(e){let t=new Z1(new Float32Array(e.count*e.itemSize),e.itemSize,!1);if(!e.normalized&&!e.isInterleavedBufferAttribute)return t.array.set(e.array),t;for(let n=0,r=e.count;n<r;n++)for(let r=0;r<e.itemSize;r++)t.setComponent(n,r,e.getComponent(n,r));return t}};function Tae(e,t){let n=F([]),r=F([]),i=F(``),a=F([]),o=F(``),s=on(null),c=q(()=>n.value.find(e=>e.id===i.value)),l=q(()=>n.value.filter(e=>a.value.includes(e.id))),u=q(()=>n.value.length);function d(e){e.traverse(e=>{if(!e.isMesh)return;let t=(Array.isArray(e.material)?e.material:[e.material]).map(e=>f(e));e.material=Array.isArray(e.material)?t:t[0],e.castShadow=!0,e.receiveShadow=!0})}function f(e){let t=e?.color?.clone()||new U1(`#d4d7e3`),n=new E3({color:t,roughness:Math.min(.95,(e?.roughness??.55)*.85+.1),metalness:Math.min(.85,(e?.metalness??.05)+.1),clearcoat:.25,clearcoatRoughness:.35,reflectivity:.4,sheen:.2,sheenColor:t.clone().multiplyScalar(1.05),transmission:0,ior:1.45,map:e?.map||null,normalMap:e?.normalMap||null,roughnessMap:e?.roughnessMap||null,metalnessMap:e?.metalnessMap||null});return n.envMapIntensity=1.1,e&&typeof e.dispose==`function`&&e.dispose(),n}function p(t,r,i={}){if(!e.value||!t)return null;let a=t.build();d(a),a.position.copy(r),a.position.y=i.y||0,a.castShadow=!0,a.receiveShadow=!0;let o={id:`model-${Date.now()}-${Math.random().toString(16).slice(2,6)}`,type:t.id,label:i.label||t.label,short:t.short,color:t.accent,position:[r.x,i.y||0,r.z],rotation:[0,i.rotationY||0,0],scale:i.scale||1,visible:!0,locked:!1,object:tn(a),children:[]};return e.value.add(a),n.value.push(o),o}function m(e,r=!1){if(r){let t=a.value.indexOf(e);t>-1?a.value.splice(t,1):a.value.push(e),i.value=e}else i.value=e,a.value=e?[e]:[];let o=n.value.find(t=>t.id===e);o?.object&&t.value?t.value.attach(o.object):t.value&&t.value.detach()}function h(){i.value=``,a.value=[],t.value?.detach()}function g(t){let r=n.value.findIndex(e=>e.id===t);if(r===-1)return;let[o]=n.value.splice(r,1);o?.object&&e.value&&(e.value.remove(o.object),ee(o.object)),i.value===t&&h();let s=a.value.indexOf(t);s>-1&&a.value.splice(s,1)}function _(){[...a.value].forEach(e=>g(e))}function v(){n.value.forEach(t=>{t.object&&e.value&&(e.value.remove(t.object),ee(t.object))}),n.value=[],h()}function y(e){if(!e?.object)return;let t=e.object;t.position.set(e.position[0],e.position[1],e.position[2]),t.rotation.set(QQ.degToRad(e.rotation[0]),QQ.degToRad(e.rotation[1]),QQ.degToRad(e.rotation[2])),t.scale.setScalar(e.scale)}function b(e){if(!e?.object)return;let t=e.object;e.position=[t.position.x,t.position.y,t.position.z],e.rotation=[QQ.radToDeg(t.rotation.x),QQ.radToDeg(t.rotation.y),QQ.radToDeg(t.rotation.z)],e.scale=t.scale.x}function x(e){e&&(e.position=[0,0,0],e.rotation=[0,0,0],e.scale=1,y(e))}function S(e){e&&(s.value={type:e.type,label:e.label,short:e.short,color:e.color,position:[...e.position],rotation:[...e.rotation],scale:e.scale})}function C(e){if(!s.value)return null;let t=e.find(e=>e.id===s.value.type);if(!t)return null;let n=p(t,new Q(s.value.position[0]+1,s.value.position[1],s.value.position[2]+1),{label:`${s.value.label} ()`,rotationY:s.value.rotation[1],scale:s.value.scale});return n&&m(n.id),n}function w(e,t){return S(e),C(t)}function T(e){e?.object&&(e.visible=!e.visible,e.object.visible=e.visible)}function E(e){e&&(e.locked=!e.locked,e.locked&&i.value===e.id&&h())}async function D(e){return new Promise((t,n)=>{let i=new FileReader;i.onload=async()=>{try{let a=i.result;new bie().parse(a,``,n=>{let i=n.scene;i.traverse(e=>{e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),d(i);let a=e.name.replace(/\.[^.]+$/,``),o={id:`custom-${Date.now()}`,label:a,short:a[0]?.toUpperCase()||`C`,accent:`#8b5cf6`,description:``,build:()=>i.clone(!0)};r.value.push(o),t(o)},e=>{n(e)})}catch(e){n(e)}},i.onerror=n,i.readAsArrayBuffer(e)})}function O(){return new Promise((e,t)=>{if(!n.value.length){t(Error(``));return}let r=new V0;n.value.forEach(e=>{e.object&&r.add(e.object.clone(!0))}),new N9().parse(r,t=>{e(new Blob([t],{type:`model/gltf-binary`}))},e=>t(e),{binary:!0})})}function k(){if(!n.value.length)return null;let e=n.value.map(e=>({id:e.id,type:e.type,label:e.label,position:e.position,rotation:e.rotation,scale:e.scale,visible:e.visible,locked:e.locked}));return JSON.stringify(e,null,2)}function A(e,t){try{return(typeof e==`string`?JSON.parse(e):e).forEach(e=>{let n=t.find(t=>t.id===e.type);if(!n)return;let r=p(n,new Q(e.position[0],e.position[1],e.position[2]),{label:e.label,rotationY:e.rotation?.[1]||0,scale:e.scale||1});r&&(r.rotation=e.rotation||[0,0,0],r.visible=e.visible!==!1,r.locked=e.locked||!1,y(r),!r.visible&&r.object&&(r.object.visible=!1))}),!0}catch(e){return console.error(` JSON :`,e),!1}}function ee(e){e.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose())})}function te(e){return n.value.find(t=>t.id===e)}function ne(e){return n.value.find(t=>t.object===e||e.parent&&t.object===e.parent||e.parent?.parent&&t.object===e.parent.parent)}function re(){t.value&&t.value.addEventListener(`objectChange`,()=>{c.value&&t.value.object&&b(c.value)})}return{placedModels:n,customModels:r,selectedModelId:i,selectedModelIds:a,selectedModel:c,selectedModels:l,placementMode:o,modelCount:u,clipboard:s,addModel:p,selectModel:m,deselectAll:h,removeModel:g,removeSelectedModels:_,clearAllModels:v,updateModelTransform:y,syncTransformFromObject:b,resetTransform:x,copyModel:S,pasteModel:C,duplicateModel:w,toggleVisibility:T,toggleLock:E,importModel:D,exportGLB:O,exportJSON:k,importJSON:A,getModelById:te,getModelByObject:ne,setupTransformListener:re}}function Eae(e=50){let t=F([]),n=F(-1),r=F(!0),i=q(()=>n.value>0),a=q(()=>n.value<t.value.length-1),o=q(()=>n.value>=0?t.value[n.value]:null);function s(i,a=`action`){r.value&&(n.value<t.value.length-1&&(t.value=t.value.slice(0,n.value+1)),t.value.push({state:JSON.parse(JSON.stringify(i)),actionName:a,timestamp:Date.now()}),t.value.length>e?t.value.shift():n.value++)}function c(){return i.value?(n.value--,t.value[n.value]?.state):null}function l(){return a.value?(n.value++,t.value[n.value]?.state):null}function u(){t.value=[],n.value=-1}function d(){r.value=!1}function f(){r.value=!0}function p(e,t,n){d(),e(),f(),s(t(),n)}return{history:t,historyIndex:n,canUndo:i,canRedo:a,currentState:o,isRecording:r,record:s,undo:c,redo:l,clear:u,pauseRecording:d,resumeRecording:f,batch:p}}function Dae(e){let t=new Map,n={w:{action:`translate`,description:``},e:{action:`rotate`,description:``},r:{action:`scale`,description:``},numpad1:{action:`viewFront`,description:``},numpad3:{action:`viewRight`,description:``},numpad7:{action:`viewTop`,description:``},numpad5:{action:`viewPerspective`,description:`/`},numpad0:{action:`viewCamera`,description:``},delete:{action:`delete`,description:``},backspace:{action:`delete`,description:``},"ctrl+c":{action:`copy`,description:``},"ctrl+v":{action:`paste`,description:``},"ctrl+d":{action:`duplicate`,description:``},"ctrl+z":{action:`undo`,description:``},"ctrl+shift+z":{action:`redo`,description:``},"ctrl+y":{action:`redo`,description:``},a:{action:`selectAll`,description:``},escape:{action:`deselect`,description:``},f:{action:`focus`,description:``},h:{action:`hide`,description:``},"shift+h":{action:`showAll`,description:``},g:{action:`grab`,description:`()`},s:{action:`scaleMode`,description:``},x:{action:`constrainX`,description:`X`},y:{action:`constrainY`,description:`Y`},z:{action:`constrainZ`,description:`Z`},"ctrl+shift+tab":{action:`toggleSnap`,description:``},"ctrl+s":{action:`save`,description:``},"ctrl+e":{action:`export`,description:``},space:{action:`togglePlay`,description:`/`},1:{action:`viewFront`,description:``},3:{action:`viewRight`,description:``},7:{action:`viewTop`,description:``},5:{action:`viewPerspective`,description:``}};function r(e){let t=[];(e.ctrlKey||e.metaKey)&&t.push(`ctrl`),e.shiftKey&&t.push(`shift`),e.altKey&&t.push(`alt`);let n=e.key.toLowerCase();return e.code.startsWith(`Numpad`)?n=`numpad`+e.code.replace(`Numpad`,``).toLowerCase():e.code.startsWith(`Digit`)&&(n=e.code.replace(`Digit`,``)),t.push(n),t.join(`+`)}function i(t){if([`INPUT`,`TEXTAREA`,`SELECT`].includes(t.target.tagName))return;let i=n[r(t)];i&&e[i.action]&&(t.preventDefault(),t.stopPropagation(),e[i.action](t))}function a(e,n,r=``){t.set(e,{action:n,description:r})}function o(e){t.delete(e)}function s(){let e=[];for(let[t,r]of Object.entries(n))e.push({key:t,action:r.action,description:r.description});return e}function c(e){return e.split(`+`).map(e=>{switch(e){case`ctrl`:return``;case`shift`:return``;case`alt`:return``;case`delete`:return``;case`escape`:return`Esc`;default:return e.toUpperCase()}}).join(` + `)}return Rr(()=>{window.addEventListener(`keydown`,i)}),Vr(()=>{window.removeEventListener(`keydown`,i)}),{register:a,unregister:o,getHotkeyList:s,formatHotkey:c}}const W9={HUMAN_GATE:`human-gate`,VEHICLE_GATE:`vehicle-gate`,CAMERA_BULLET:`camera-bullet`,CAMERA_DOME:`camera-dome`,ENV_MONITOR:`env-monitor`,TOWER_CRANE:`tower-crane`},G9=[{id:W9.HUMAN_GATE,label:``,short:``,accent:`#4338ca`,description:``,build:Oae},{id:W9.VEHICLE_GATE,label:``,short:``,accent:`#f97316`,description:``,build:Aae},{id:W9.CAMERA_BULLET,label:``,short:``,accent:`#0ea5e9`,description:``,build:Pae},{id:W9.CAMERA_DOME,label:``,short:``,accent:`#06b6d4`,description:``,build:Lae},{id:W9.ENV_MONITOR,label:``,short:``,accent:`#10b981`,description:``,build:Q9},{id:W9.TOWER_CRANE,label:``,short:``,accent:`#ef4444`,description:``,build:Bae}];function K9(e,t={}){let n=new T3({color:e,roughness:t.roughness??.3,metalness:t.metalness??.8,envMapIntensity:t.envMapIntensity??1.5,emissive:t.emissive||0,emissiveIntensity:t.emissiveIntensity??.5,flatShading:!1});return n.needsUpdate=!0,n}function q9(e={}){let t=new E3({color:e.color??16777215,transparent:!0,opacity:e.opacity??.4,transmission:e.transmission??.85,roughness:e.roughness??.1,metalness:0,ior:1.45,thickness:.05,envMapIntensity:1.2,clearcoat:.3,clearcoatRoughness:.1,side:2,depthWrite:!1,alphaTest:.01});return t.needsUpdate=!0,t}function J9(e,t=1){let n=new T3({color:e,emissive:e,emissiveIntensity:Math.min(t*.4,1.2),roughness:.25,metalness:.15,toneMapped:!0});return n.needsUpdate=!0,n}function Oae(){let e=new V0;e.name=`human-gate`;let t=K9(13948120,{roughness:.22,metalness:.95,envMapIntensity:2.2}),n=K9(2565930,{roughness:.35,metalness:.75}),r=K9(657930,{roughness:.55,metalness:.05,envMapIntensity:.8}),i=K9(1710618,{roughness:.7,metalness:.4}),a=new V0,o=new $(new S0(.65,.04,1.7),n);o.position.y=.02,o.receiveShadow=!0,o.castShadow=!0,a.add(o);let s=new $(new S0(.67,.01,1.72),K9(4144966,{roughness:.4,metalness:.6}));s.position.y=.005,a.add(s);for(let e=-7;e<=7;e++){let t=new $(new S0(.5,.003,.008),K9(5395035,{roughness:.9,metalness:.3}));t.position.set(0,.042,e*.1),a.add(t)}e.add(a);let c=Y9(t,n,r,i,!1);c.position.set(0,0,.58),e.add(c);let l=Y9(t,n,r,i,!0);l.position.set(0,0,-.58),e.add(l);let u=kae();u.position.set(.05,.55,0),e.add(u);let d=new V0,f=new $(new S0(.45,.004,.015),J9(2278750,2));f.position.set(0,.045,0),d.add(f);let p=new j4;p.moveTo(0,.04),p.lineTo(.03,0),p.lineTo(.01,0),p.lineTo(.01,-.04),p.lineTo(-.01,-.04),p.lineTo(-.01,0),p.lineTo(-.03,0),p.closePath();let m=new $(new h3(p,{depth:.003,bevelEnabled:!1}),J9(2278750,2.5));return m.rotation.x=-Math.PI/2,m.position.set(.3,.045,0),d.add(m),e.add(d),e}function Y9(e,t,n,r,i){let a=new V0,o=i?-1:1,s=new $(new S0(.24,1.08,.36),e);s.position.y=.58,s.castShadow=!0,s.receiveShadow=!0,a.add(s);let c=new $(new S0(.245,.9,.005),t);c.position.set(0,.55,o*.175),a.add(c);let l=new V0;l.position.y=1.12;let u=new $(new S0(.26,.025,.38),r);u.position.y=.01,l.add(u);let d=new $(new S0(.27,.003,.39),K9(5395026,{roughness:.1,metalness:.9}));d.position.y=.025,l.add(d),a.add(l);let f=new V0;f.position.set(0,1.1,0);let p=new $(new S0(.18,.035,.22),n);f.add(p);let m=new $(new S0(.14,.005,.16),q9({color:1976635,opacity:.7,transmission:.3}));m.position.y=.02,f.add(m);let h=new $(new b3(.04,.048,32),J9(3900150,2));h.rotation.x=-Math.PI/2,h.position.y=.023,f.add(h);let g=new $(new b3(.025,.032,32),J9(6333946,1.5));g.rotation.x=-Math.PI/2,g.position.y=.024,f.add(g);let _=new $(new Q2(.015,32),J9(9684477,1));_.rotation.x=-Math.PI/2,_.position.y=.025,f.add(_),a.add(f);let v=new V0;v.position.set(.122,.85,0);let y=new $(new S0(.01,.22,.28),n);v.add(y);let b=new $(new y3(.18,.24),J9(988970,.4));b.rotation.y=Math.PI/2,b.position.x=.006,v.add(b);let x=new $(new y3(.12,.08),J9(2278750,1.2));x.rotation.y=Math.PI/2,x.position.set(.007,.04,0),v.add(x);let S=new $(new y3(.14,.02),J9(3900150,.8));S.rotation.y=Math.PI/2,S.position.set(.007,-.08,0),v.add(S),a.add(v);let C=new V0;C.position.set(.124,.5,o*.155);let w=new $(new S0(.008,.65,.025),t);C.add(w);let T=new $(new S0(.004,.6,.018),J9(2278750,3.5));T.position.x=.003,C.add(T),a.add(C),[.28,.45,.62,.79].forEach((e,t)=>{let r=new V0;r.position.set(0,e,o*.178);let i=new $(new $2(.012,.012,.26,16),n);i.rotation.z=Math.PI/2,r.add(i);let s=new $(new Q2(.008,16),J9(t%2==0?15680580:10033947,t%2==0?1.8:.8));s.rotation.y=o*Math.PI/2,s.position.z=o*.002,r.add(s),a.add(r)});let E=new V0;E.position.y=.05;let D=new $(new S0(.26,.025,.38),t);E.add(D);for(let e=-3;e<=3;e++){let t=new $(new S0(.22,.002,.005),K9(1579035,{roughness:.8}));t.position.set(0,.015,e*.04),E.add(t)}a.add(E);let O=new $(new y3(.08,.025),K9(5395035,{roughness:.3,metalness:.7}));return O.rotation.y=Math.PI/2,O.position.set(.122,.2,0),a.add(O),a}function kae(){let e=new V0,t=q9({color:14412542,opacity:.3,transmission:.92,roughness:.03}),n=K9(10265519,{roughness:.15,metalness:.92}),r=K9(5395035,{roughness:.25,metalness:.85});for(let r=0;r<3;r++){let i=r*Math.PI*2/3,a=new V0,o=new $(new S0(.38,.58,.006),t);o.position.x=.19,a.add(o);let s=new $(new S0(.38,.03,.007),q9({color:15857145,opacity:.6,transmission:.5}));s.position.set(.19,.26,0),a.add(s);let c=new $(new S0(.39,.018,.015),n);c.position.set(.19,.295,0),a.add(c);let l=new $(new S0(.39,.018,.015),n);l.position.set(.19,-.295,0),a.add(l);let u=new $(new S0(.018,.58,.015),n);u.position.set(.38,0,0),a.add(u);let d=new $(new x3(.012,16,16),n);d.position.set(.38,.29,0),a.add(d),a.rotation.y=i+Math.PI/6,e.add(a)}let i=new V0,a=new $(new $2(.028,.028,.65,32),r);i.add(a);let o=new $(new S3(.035,.005,8,32),n);o.rotation.x=Math.PI/2,o.position.y=.25,i.add(o);let s=new $(new S3(.035,.005,8,32),n);s.rotation.x=Math.PI/2,s.position.y=-.25,i.add(s);let c=new $(new $2(.04,.038,.025,32),K9(4144966,{roughness:.15,metalness:.9}));c.position.y=.34,i.add(c);let l=new $(new $2(.038,.04,.025,32),K9(4144966,{roughness:.15,metalness:.9}));return l.position.y=-.34,i.add(l),e.add(i),e}function Aae(){let e=new V0;e.name=`vehicle-gate`;let t=K9(16347926,{roughness:.35,metalness:.45,envMapIntensity:1.8}),n=K9(15357964,{roughness:.4,metalness:.4}),r=K9(1976635,{roughness:.45,metalness:.7}),i=K9(657930,{roughness:.6,metalness:.05}),a=jae(K9(6583435,{roughness:.85,metalness:.1}),K9(16498468,{roughness:.5,metalness:.2}),r);e.add(a);let o=Mae(t,n,r,i);o.position.set(-.9,0,0),e.add(o);let s=Nae(r);return s.position.set(-.7,1,.08),e.add(s),e}function jae(e,t,n){let r=new V0,i=new V0,a=new $(new S0(3.2,.06,1.4),e);a.position.y=.03,a.receiveShadow=!0,a.castShadow=!0,i.add(a);let o=new $(new S0(3.22,.015,.025),n);o.position.set(0,.065,.7),i.add(o);let s=new $(new S0(3.22,.015,.025),n);s.position.set(0,.065,-.7),i.add(s),r.add(i);let c=new V0,l=K9(1579035,{roughness:.6,metalness:.2});for(let e=0;e<8;e++){let n=new $(new S0(.18,.008,1.38),t);if(n.position.set(-1.4+e*.4,.065,0),c.add(n),e<7){let t=new $(new S0(.18,.008,1.38),l);t.position.set(-1.2+e*.4,.065,0),c.add(t)}}r.add(c);let u=new V0,d=K9(16498468,{roughness:.55,metalness:.15}),f=K9(2565930,{roughness:.55,metalness:.15});for(let e=-5;e<=5;e++){let t=Math.abs(e)%2==0,n=new $(new S0(.22,.08,1.3),t?d:f);if(n.position.set(e*.25,.1,0),u.add(n),t){let t=new $(new $2(.11,.11,1.28,4,1),d);t.rotation.x=Math.PI/2,t.rotation.z=Math.PI/4,t.scale.y=.25,t.position.set(e*.25,.145,0),u.add(t)}if(e!==0&&Math.abs(e)%2==1){let t=new $(new Q2(.03,16),J9(16498468,.8));t.rotation.x=-Math.PI/2,t.position.set(e*.25,.145,.5),u.add(t);let n=t.clone();n.position.z=-.5,u.add(n)}}r.add(u);let p=new V0,m=new j4;m.moveTo(0,.15),m.lineTo(.12,0),m.lineTo(.05,0),m.lineTo(.05,-.15),m.lineTo(-.05,-.15),m.lineTo(-.05,0),m.lineTo(-.12,0),m.closePath();let h=new $(new h3(m,{depth:.005,bevelEnabled:!1}),K9(16777215,{roughness:.5,metalness:.1}));return h.rotation.x=-Math.PI/2,h.position.set(1.2,.066,0),p.add(h),r.add(p),r}function Mae(e,t,n,r){let i=new V0,a=new V0,o=new $(new S0(.38,1.25,.48),e);o.position.y=.68,o.castShadow=!0,o.receiveShadow=!0,a.add(o);let s=new $(new S0(.015,1.2,.02),t);s.position.set(-.19,.68,.23),a.add(s);let c=s.clone();c.position.x=.19,a.add(c),i.add(a);let l=new V0;l.position.z=.24;let u=new $(new S0(.34,1.15,.015),t);u.position.y=.68,l.add(u);let d=new $(new S0(.28,.45,.008),K9(14427686,{roughness:.45,metalness:.35}));d.position.set(0,.4,.005),l.add(d);let f=new $(new S0(.04,.12,.02),K9(7434618,{roughness:.25,metalness:.85}));f.position.set(.12,.55,.015),l.add(f);let p=new $(new Q2(.012,16),K9(13948120,{roughness:.15,metalness:.95}));p.position.set(.12,.48,.02),l.add(p);let m=new $(new S0(.004,.018,.002),K9(657930,{roughness:.8}));m.position.set(.12,.48,.022),l.add(m);for(let e=0;e<3;e++){let t=new $(new $2(.012,.012,.05,16),K9(5395035,{roughness:.3,metalness:.8}));t.rotation.x=Math.PI/2,t.position.set(-.175,.3+e*.4,.01),l.add(t)}i.add(l);let h=new V0;h.position.set(0,.15,.245);let g=new $(new S0(.2,.08,.01),n);h.add(g);for(let e=-3;e<=3;e++){let t=new $(new S0(.18,.004,.008),n);t.position.set(0,e*.01,.005),h.add(t)}i.add(h);let _=new V0;_.position.set(0,1.08,.25);let v=new $(new S0(.28,.22,.025),r);_.add(v);let y=new $(new S0(.24,.18,.005),q9({color:657930,opacity:.9,transmission:.2}));y.position.z=.012,_.add(y);let b=new $(new y3(.2,.08),J9(2282478,2.5));b.position.set(0,.02,.016),_.add(b);let x=new $(new Q2(.015,16),J9(2278750,3));x.position.set(-.08,-.06,.016),_.add(x);let S=new $(new y3(.08,.03),J9(16498468,1.5));S.position.set(.06,-.06,.016),_.add(S),i.add(_);let C=new V0;C.position.y=1.35;let w=new $(new S0(.42,.06,.52),n);w.position.y=.03,C.add(w);let T=new $(new S0(.44,.01,.54),K9(4144966,{roughness:.15,metalness:.9}));T.position.y=.065,C.add(T);let E=new S0(.44,.015,.08),D=K9(2565930,{roughness:.5,metalness:.6}),O=new $(E,D);O.position.set(0,.02,.3),C.add(O);let k=new $(E,D);k.position.set(0,.02,-.3),C.add(k),i.add(C);let A=new V0;A.position.set(0,1.42,0);let ee=new $(new $2(.055,.06,.025,32),n);ee.position.y=.012,A.add(ee);let te=new $(new $2(.035,.04,.04,32),K9(4144966,{roughness:.3,metalness:.8}));te.position.y=.045,A.add(te);let ne=new $(new x3(.045,32,16,0,Math.PI*2,0,Math.PI*.6),new E3({color:16498468,transparent:!0,opacity:.7,transmission:.4,emissive:16498468,emissiveIntensity:1.5,roughness:.1,metalness:0,side:2}));ne.rotation.x=Math.PI,ne.position.y=.085,A.add(ne);let re=new $(new x3(.025,16,16),J9(16498468,4));re.position.y=.075,A.add(re);let ie=new $(new $2(.015,.025,.02,16),n);ie.position.y=.12,A.add(ie),i.add(A);let ae=new V0;ae.position.set(.12,1.38,-.15);let oe=new $(new $2(.02,.025,.03,16),n);oe.position.y=.015,ae.add(oe);let se=new $(new $2(.006,.008,.18,8),K9(2565930,{roughness:.4,metalness:.7}));se.position.y=.12,ae.add(se);let ce=new $(new x3(.01,16,8),K9(1973790,{roughness:.5}));ce.position.y=.22,ae.add(ce),i.add(ae);let le=new V0;le.position.set(.192,.9,0);let ue=new $(new S0(.01,.12,.2),K9(16448250,{roughness:.3,metalness:.6}));le.add(ue);let de=new $(new S0(.005,.08,.002),K9(16347926,{roughness:.2,metalness:.5}));de.position.set(.003,0,.05),le.add(de),i.add(le);let fe=new V0;fe.position.set(.2,1,.08);let pe=new $(new $2(.06,.06,.18,32),K9(4144966,{roughness:.35,metalness:.75}));pe.rotation.x=Math.PI/2,fe.add(pe);let me=new $(new $2(.065,.06,.02,32),K9(5395035,{roughness:.25,metalness:.85}));me.rotation.x=Math.PI/2,me.position.z=.1,fe.add(me);let he=new $(new $2(.025,.025,.08,16),K9(7434618,{roughness:.2,metalness:.9}));he.rotation.x=Math.PI/2,he.position.z=.15,fe.add(he);let ge=new $(new $2(.04,.04,.015,6),n);return ge.rotation.x=Math.PI/2,ge.position.z=.19,fe.add(ge),i.add(fe),i}function Nae(e){let t=new V0,n=new V0,r=new $(new S0(.1,.22,.12),e);n.add(r);let i=new $(new S0(.12,.05,.08),K9(2565930,{roughness:.4,metalness:.7}));i.position.y=.08,n.add(i);for(let e=-1;e<=1;e+=2)for(let t=-1;t<=1;t+=2){let r=new $(new $2(.01,.01,.02,8),K9(7434618,{roughness:.2,metalness:.95}));r.rotation.x=Math.PI/2,r.position.set(e*.035,t*.07,.065),n.add(r)}t.add(n);let a=new V0,o=new $(new $2(.032,.036,3.4,8),new T3({color:16119285,roughness:.35,metalness:.25,envMapIntensity:1.5}));o.rotation.z=-Math.PI/2,o.position.x=1.75,a.add(o);for(let e=0;e<8;e++){let t=e%2==0,n=new $(new $2(.034,.038,.18,8),K9(t?15680580:16777215,{roughness:t?.5:.3,metalness:.15}));if(n.rotation.z=-Math.PI/2,n.position.set(.35+e*.4,0,0),a.add(n),t){let t=new $(new Q2(.015,8),J9(16557477,.5));t.rotation.y=Math.PI/2,t.position.set(.35+e*.4,.035,0),a.add(t)}}let s=new $(new $2(.038,.035,.08,8),K9(2042167,{roughness:.8,metalness:.05}));s.rotation.z=-Math.PI/2,s.position.x=3.49,a.add(s);let c=new $(new x3(.035,16,8,0,Math.PI*2,0,Math.PI*.5),J9(15680580,1));c.rotation.z=-Math.PI/2,c.position.x=3.52,a.add(c),t.add(a);let l=new V0;l.position.set(.15,.15,0);let u=new $(new $2(.025,.025,.12,16),K9(5395035,{roughness:.3,metalness:.8}));u.rotation.z=-Math.PI/4,l.add(u);let d=new $(new x3(.028,16,8),K9(4144966,{roughness:.35,metalness:.75})),f=.06*Math.cos(Math.PI/4);return d.position.set(f,-f,0),l.add(d),t.add(l),t}function Pae(){let e=new V0;e.name=`camera-bullet`;let t=K9(14870768,{roughness:.25,metalness:.85,envMapIntensity:2}),n=K9(1976635,{roughness:.35,metalness:.8}),r=K9(16448250,{roughness:.3,metalness:.15}),i=K9(657930,{roughness:.5,metalness:.05}),a=X9(t,n);e.add(a);let o=Z9(t,n);e.add(o);let s=Fae(t,n);s.position.set(0,2.75,0),e.add(s);let c=Iae(r,i,n);return c.position.set(.65,2.75,0),e.add(c),e}function X9(e,t){let n=new V0,r=new $(new $2(.18,.2,.04,32),t);r.position.y=.02,r.receiveShadow=!0,r.castShadow=!0,n.add(r);let i=new $(new S3(.19,.01,8,32),K9(4144966,{roughness:.2,metalness:.9}));i.rotation.x=Math.PI/2,i.position.y=.04,n.add(i);for(let e=0;e<4;e++){let t=e/4*Math.PI*2,r=new $(new $2(.018,.018,.015,6),K9(5395035,{roughness:.2,metalness:.95}));r.position.set(Math.cos(t)*.13,.05,Math.sin(t)*.13),n.add(r)}let a=new $(new $2(.06,.1,.08,16),e);a.position.y=.08,n.add(a);let o=new $(new S3(.08,.008,8,24),K9(10592682,{roughness:.15,metalness:.9}));return o.rotation.x=Math.PI/2,o.position.y=.1,n.add(o),n}function Z9(e,t){let n=new V0,r=new $(new $2(.04,.055,2.65,16),e);r.position.y=1.45,r.castShadow=!0,n.add(r);let i=new $(new $2(.056,.056,.008,16),K9(13948120,{roughness:.4,metalness:.7}));i.position.y=.15,n.add(i);let a=new V0;a.position.set(0,.7,.045);let o=new $(new S0(.1,.18,.06),e);a.add(o);let s=new $(new S0(.085,.15,.008),K9(13948120,{roughness:.25,metalness:.8}));s.position.z=.032,a.add(s);let c=new $(new $2(.006,.006,.01,8),t);c.rotation.x=Math.PI/2,c.position.set(.03,-.04,.036),a.add(c);let l=new $(new $2(.015,.018,.04,12),t);l.position.set(0,-.11,.02),a.add(l),n.add(a);let u=new $(new x3(.045,16,8,0,Math.PI*2,0,Math.PI*.5),e);return u.position.y=2.78,n.add(u),n}function Fae(e,t){let n=new V0,r=new V0,i=new $(new S3(.08,.035,12,16,Math.PI/2),e);i.rotation.x=Math.PI,i.rotation.z=-Math.PI/2,i.position.set(.08,0,0),r.add(i),n.add(r);let a=new $(new $2(.032,.035,.49,16),e);a.rotation.z=-Math.PI/2,a.position.set(.405,0,0),n.add(a);let o=new $(new S0(.4,.015,.025),e);o.position.set(.36,.04,0),n.add(o);let s=new V0;s.position.set(.65,0,0);let c=new $(new x3(.05,24,16),t);s.add(c);let l=new $(new S3(.045,.01,8,24),K9(5395035,{roughness:.2,metalness:.9}));l.rotation.x=Math.PI/2,l.position.y=-.02,s.add(l);let u=new $(new $2(.018,.022,.18,12),t);u.position.y=-.14,s.add(u);let d=new $(new $2(.012,.012,.03,8),K9(7434618,{roughness:.2,metalness:.95}));return d.rotation.z=Math.PI/2,d.position.set(.035,-.05,0),s.add(d),n.add(s),n}function Iae(e,t,n){let r=new V0,i=new $(new $2(.028,.032,.02,16),n);r.add(i);let a=new $(new S3(.03,.004,8,24),K9(5395035,{roughness:.2,metalness:.9}));a.rotation.x=Math.PI/2,a.position.y=.01,r.add(a);let o=new $(new $2(.014,.014,.16,12),n);o.position.y=-.09,r.add(o);let s=new $(new x3(.03,24,16),K9(4144966,{roughness:.35,metalness:.8}));s.position.y=-.17,r.add(s);let c=new V0;c.position.set(0,-.2,0),r.add(c);let l=new $(new S0(.04,.012,.1),n);l.position.set(.02,0,.065),c.add(l);let u=l.clone();u.position.z=-.065,c.add(u);let d=new $(new S0(.04,.05,.02),n);d.position.set(.02,-.02,0),c.add(d);let f=new V0;f.position.set(.03,-.03,0),f.rotation.z=-Math.PI/10,c.add(f);let p=new V0;p.position.x=.08,f.add(p);let m=new $(new $2(.05,.05,.26,32),e);m.rotation.z=-Math.PI/2,m.castShadow=!0,p.add(m);let h=new $(new $2(.038,.05,.05,32),e);h.rotation.z=-Math.PI/2,h.position.x=.17,p.add(h);let g=new $(new x3(.05,24,16,0,Math.PI*2,0,Math.PI*.5),e);g.rotation.y=Math.PI/2,g.position.x=-.15,p.add(g);for(let e=0;e<4;e++){let t=new $(new S0(.06,.003,.012),K9(2565930,{roughness:.7}));t.position.set(-.02+e*.03,.045,.015),p.add(t)}let _=new $(new S0(.16,.01,.02),K9(13948120,{roughness:.5,metalness:.3}));_.position.set(.02,-.045,0),p.add(_);let v=new V0;v.position.set(.05,.055,0),p.add(v);let y=new $(new S0(.18,.006,.13),e);y.position.x=.06,v.add(y);let b=new $(new S0(.12,.008,.025),e);b.position.set(.15,0,0),b.rotation.z=-Math.PI/18,v.add(b);let x=new $(new S0(.01,.03,.11),e);x.position.set(.04,-.002,.07),v.add(x);let S=x.clone();S.position.z=-.07,v.add(S);let C=new V0;C.position.x=.2,p.add(C);let w=new $(new $2(.04,.04,.014,32),t);w.rotation.z=-Math.PI/2,C.add(w);let T=new $(new S3(.03,.006,12,24),K9(2565930,{roughness:.3,metalness:.85}));T.rotation.y=Math.PI/2,C.add(T);let E=new $(new $2(.025,.025,.01,32),q9({color:988970,opacity:.85,transmission:.45}));E.rotation.z=-Math.PI/2,E.position.x=.008,C.add(E);let D=new $(new Q2(.006,16),J9(3900150,.7));D.rotation.y=Math.PI/2,D.position.x=.014,C.add(D);for(let e=0;e<8;e++){let t=e/8*Math.PI*2,n=.032,r=new $(new Q2(.005,8),J9(8330525,1));r.rotation.y=Math.PI/2,r.position.set(0,Math.sin(t)*n,Math.cos(t)*n),C.add(r)}[.05,-.05].forEach(e=>{let t=new $(new $2(.012,.012,.015,12),J9(15680580,.8));t.rotation.z=-Math.PI/2,t.position.set(.18,0,e),p.add(t)});let O=new $(new x3(.006,12,8),J9(2278750,2.5));O.position.set(.05,-.02,.045),p.add(O);let k=new $(new S0(.025,.01,.018),K9(4937059,{roughness:.4,metalness:.6}));k.position.set(-.04,-.03,-.03),p.add(k);let A=new $(new $2(.004,.004,.004,8),K9(657930,{roughness:.65}));A.rotation.z=-Math.PI/2,A.position.set(-.045,-.015,.03),p.add(A);let ee=new V0;ee.position.x=-.17,p.add(ee);let te=new $(new $2(.022,.028,.03,16),n);te.rotation.z=-Math.PI/2,ee.add(te);let ne=new $(new $2(.015,.02,.045,16),n);ne.rotation.z=-Math.PI/2,ne.position.x=-.04,ee.add(ne);let re=new $(new $2(.008,.008,.12,12),K9(2042167,{roughness:.8,metalness:.1}));re.rotation.z=-Math.PI/2,re.position.x=-.1,ee.add(re);let ie=new $(new y3(.035,.01),K9(10592682,{roughness:.3,metalness:.6}));return ie.rotation.y=Math.PI/2,ie.position.set(.02,.04,.06),p.add(ie),r}function Lae(){let e=new V0;e.name=`camera-dome`;let t=K9(14870768,{roughness:.25,metalness:.85,envMapIntensity:2}),n=K9(1976635,{roughness:.35,metalness:.8}),r=K9(16448250,{roughness:.25,metalness:.12}),i=K9(657930,{roughness:.4,metalness:.05}),a=X9(t,n);e.add(a);let o=Z9(t,n);e.add(o);let s=Rae(t,n);s.position.set(0,2.78,0),e.add(s);let c=zae(r,i,n);return c.position.set(.4,2.45,0),e.add(c),e}function Rae(e,t){let n=new V0,r=new $(new $2(.06,.055,.025,24),t);n.add(r);let i=new $(new S3(.12,.025,12,16,Math.PI/2),e);i.rotation.y=Math.PI,i.rotation.z=Math.PI/2,i.position.set(.12,-.12,0),n.add(i);let a=new $(new $2(.022,.025,.25,16),e);a.rotation.z=-Math.PI/2,a.position.set(.36,-.12,0),n.add(a);let o=new $(new $2(.02,.022,.2,16),e);o.position.set(.48,-.22,0),n.add(o);let s=new $(new x3(.035,24,16),t);s.position.set(.48,-.33,0),n.add(s);let c=new $(new S0(.2,.012,.015),e);return c.position.set(.25,-.08,0),n.add(c),n}function zae(e,t,n){let r=new V0,i=new V0,a=new $(new $2(.08,.075,.04,32),e);a.position.y=.1,i.add(a);let o=new $(new S3(.078,.005,8,32),K9(13948120,{roughness:.2,metalness:.8}));o.rotation.x=Math.PI/2,o.position.y=.08,i.add(o);for(let e=0;e<8;e++){let n=e/8*Math.PI*2,r=new $(new $2(.008,.008,.005,8),t);r.position.set(Math.cos(n)*.055,.12,Math.sin(n)*.055),i.add(r)}r.add(i);let s=new V0,c=new $(new x3(.1,48,24,0,Math.PI*2,0,Math.PI*.55),e);c.castShadow=!0,s.add(c);let l=new $(new S3(.098,.008,12,48),K9(5395035,{roughness:.25,metalness:.85}));l.rotation.x=Math.PI/2,l.position.y=-.02,s.add(l);let u=new $(new S3(.088,.012,12,48),t);u.rotation.x=Math.PI/2,u.position.y=-.04,s.add(u);for(let e=0;e<16;e++){let t=e/16*Math.PI*2,n=new $(new Q2(.005,8),J9(8330525,1));n.rotation.x=-Math.PI/2,n.position.set(Math.cos(t)*.088,-.039,Math.sin(t)*.088),s.add(n)}r.add(s);let d=new $(new x3(.095,48,24,0,Math.PI*2,Math.PI*.4,Math.PI*.55),new E3({color:1710638,transparent:!0,opacity:.5,transmission:.6,roughness:.05,metalness:0,ior:1.5,thickness:.02,clearcoat:1,clearcoatRoughness:.05,side:2,depthWrite:!1}));d.position.y=0,r.add(d);let f=new V0;f.position.y=-.04;let p=new $(new $2(.04,.045,.025,24),t);f.add(p);let m=new $(new $2(.015,.015,.03,16),n);m.rotation.x=Math.PI/2,m.position.set(0,-.02,0),f.add(m);let h=new V0;h.position.set(0,-.02,0),h.rotation.x=-Math.PI/6;let g=new $(new $2(.025,.03,.045,24),t);g.rotation.x=Math.PI/2,g.position.z=.02,h.add(g);let _=new $(new $2(.02,.02,.008,24),q9({color:1710638,opacity:.9,transmission:.5}));_.rotation.x=Math.PI/2,_.position.z=.045,h.add(_);let v=new $(new Q2(.006,16),J9(3900150,.6));v.position.z=.05,h.add(v),f.add(h),r.add(f);let y=new $(new x3(.006,12,8),J9(2278750,2.5));y.position.set(.08,.06,.04),r.add(y);let b=new V0;b.position.y=-.09;let x=new $(new S3(.05,.01,8,24),n);x.rotation.x=Math.PI/2,b.add(x);let S=new $(new $2(.018,.02,.025,12),n);S.position.y=-.02,b.add(S);let C=new $(new $2(.01,.01,.1,8),K9(2042167,{roughness:.7,metalness:.1}));C.position.y=-.08,b.add(C),r.add(b);let w=new $(new y3(.035,.01),K9(10592682,{roughness:.3,metalness:.6}));return w.position.set(.085,.05,.045),w.rotation.y=Math.PI/4,r.add(w),r}function Q9(){let e=new V0;e.name=`env-monitor`;let t=K9(14870768,{roughness:.3}),n=K9(16317180,{roughness:.2}),r=new $(new $2(.2,.2,.05,32),K9(1976635,{roughness:.5}));r.position.y=.025,r.receiveShadow=!0,e.add(r);let i=new $(new $2(.04,.045,2,16),t);i.position.y=1.025,i.castShadow=!0,e.add(i);let a=new $(new S0(.4,.5,.15),n);a.position.set(0,1.4,.08),a.castShadow=!0,e.add(a);let o=new $(new S0(.35,.2,.01),K9(988970));o.position.set(0,1.45,.156),e.add(o);let s=new $(new y3(.3,.1),J9(2278750,2));s.position.set(0,1.45,.162),e.add(s);let c=new $(new $2(.02,.02,.8,16),t);c.position.set(0,1.8,0),c.rotation.z=Math.PI/2,e.add(c);let l=new V0;l.position.set(.35,1.8,0);let u=new $(new $2(.01,.01,.1,8),K9(3355443));u.position.y=.05,l.add(u);let d=new x3(.025,16,8,0,Math.PI);for(let e=0;e<3;e++){let t=new $(d,K9(16777215)),n=e/3*Math.PI*2;t.position.set(Math.cos(n)*.06,.1,Math.sin(n)*.06),t.rotation.y=-n,t.rotation.x=-Math.PI/2,l.add(t)}e.add(l);let f=new $(new $2(.03,.03,.15,16),K9(16777215));f.position.set(-.35,1.88,0),e.add(f);let p=new V0;p.position.set(0,2,0),p.rotation.x=-Math.PI/6;let m=new $(new S0(.4,.5,.02),K9(1981066,{roughness:.3}));p.add(m);let h=new $(new S0(.42,.52,.01),K9(14870768));return h.position.z=-.01,p.add(h),e.add(p),e}function Bae(){let e=new V0;e.name=`tower-crane`;let t=K9(16347926,{roughness:.35,metalness:.65,envMapIntensity:1.8}),n=K9(14427686,{roughness:.4,metalness:.6}),r=K9(2565930,{roughness:.4,metalness:.8}),i=K9(7434618,{roughness:.3,metalness:.85}),a=K9(7893356,{roughness:.85,metalness:.1}),o=5.5,s=Vae(a,r);e.add(s);let c=Hae(t,r,o);c.position.y=.35,e.add(c);let l=Uae(t,r,i);l.position.y=o+.35,e.add(l);let u=Wae(t,r);u.position.set(.55,o+.3,0),e.add(u);let d=7.5,f=Gae(t,n,r,d);f.position.y=o+.7,e.add(f);let p=Kae(t,r,i);p.position.y=o+.7,e.add(p);let m=qae(t,r,o,d);e.add(m);let h=Jae(r,i);h.position.set(5.5,2.5,0),e.add(h);let g=Yae(o,d);return e.add(g),e}function Vae(e,t){let n=new V0,r=new $(new S0(2.4,.35,2.4),e);r.position.y=.175,r.receiveShadow=!0,r.castShadow=!0,n.add(r);let i=new $(new S0(2.5,.05,2.5),K9(5722958,{roughness:.9,metalness:.1}));i.position.y=.025,n.add(i);let a=new $(new S0(2.3,.03,.15),K9(4472892,{roughness:.8,metalness:.15}));a.position.y=.355,n.add(a);let o=new $(new S0(.15,.03,2.3),K9(4472892,{roughness:.8,metalness:.15}));return o.position.y=.355,n.add(o),[[-.85,-.85],[-.85,.85],[.85,-.85],[.85,.85]].forEach(([e,r])=>{let i=new $(new $2(.12,.14,.06,6),t);i.position.set(e,.38,r),n.add(i);let a=new $(new $2(.05,.05,.25,16),K9(4144966,{roughness:.25,metalness:.95}));a.position.set(e,.5,r),n.add(a);let o=new $(new $2(.08,.08,.06,6),K9(5395035,{roughness:.2,metalness:.9}));o.position.set(e,.65,r),n.add(o)}),n}function Hae(e,t,n){let r=new V0;[[-.32,-.32],[-.32,.32],[.32,-.32],[.32,.32]].forEach(([t,i],a)=>{let o=new $(new S0(.1,n,.1),e);o.position.set(t,n/2,i),o.castShadow=!0,r.add(o);let s=new $(new S0(.03,n-.2,.08),e);s.position.set(t+(t>0?-.05:.05),n/2,i),r.add(s);let c=new $(new S0(.08,n-.2,.03),e);c.position.set(t,n/2,i+(i>0?-.05:.05)),r.add(c)});let i=Math.floor(n/.7);for(let t=0;t<=i;t++){let n=t*.7+.3,i=new $(new S0(.74,.05,.05),e);i.position.set(0,n,.32),r.add(i);let a=i.clone();a.position.z=-.32,r.add(a);let o=new $(new S0(.05,.05,.74),e);o.position.set(.32,n,0),r.add(o);let s=o.clone();s.position.x=-.32,r.add(s)}for(let t=0;t<i;t++){let n=t*.7+.3,i=Math.sqrt(.8996),a=Math.atan(.7/.64),o=new $(new S0(.035,i,.035),e);o.position.set(0,n+.35,.32),o.rotation.z=t%2==0?a:-a,r.add(o);let s=o.clone();s.position.z=-.32,s.rotation.z=t%2==0?-a:a,r.add(s);let c=new $(new S0(.035,i,.035),e);c.position.set(-.32,n+.35,0),c.rotation.x=t%2==0?a:-a,r.add(c);let l=c.clone();l.position.x=.32,l.rotation.x=t%2==0?-a:a,r.add(l)}let a=new V0;a.position.set(.35,0,0);let o=new $(new $2(.015,.015,n-.3,8),t);o.position.set(0,n/2,.08),a.add(o);let s=o.clone();s.position.z=-.08,a.add(s);let c=Math.floor(n/.3);for(let e=1;e<c;e++){let n=new $(new $2(.012,.012,.16,8),t);n.rotation.x=Math.PI/2,n.position.set(0,e*.3,0),a.add(n)}r.add(a);let l=new $(new S0(.9,.03,.9),K9(5395035,{roughness:.6,metalness:.5}));l.position.y=n*.5,r.add(l);let u=.25;return[[0,.45],[0,-.45],[.45,0],[-.45,0]].forEach(([e,t],i)=>{let a=new $(new S0(i<2?.9:.03,u,i<2?.03:.9),K9(16347926,{roughness:.4,metalness:.6}));a.position.set(e,n*.5+u/2+.02,t),r.add(a)}),r}function Uae(e,t,n){let r=new V0,i=new $(new $2(.55,.6,.12,32),t);i.position.y=.06,r.add(i);let a=new $(new S3(.5,.04,16,48),n);a.rotation.x=Math.PI/2,a.position.y=.12,r.add(a);let o=new $(new $2(.6,.55,.1,32),e);o.position.y=.17,r.add(o);let s=new $(new $2(.12,.12,.2,16),t);s.position.set(.35,.12,.35),r.add(s);let c=new $(new $2(.08,.12,.03,16),n);return c.position.set(.35,.23,.35),r.add(c),r}function Wae(e,t){let n=new V0,r=new $(new S0(.75,.7,.75),e);r.castShadow=!0,n.add(r);let i=new $(new S0(.78,.04,.78),t);i.position.y=-.35,n.add(i);let a=new $(new S0(.02,.45,.55),q9({color:8246268,opacity:.5,transmission:.8}));a.position.set(.38,.05,0),n.add(a);let o=new $(new S0(.4,.02,.4),q9({color:8246268,opacity:.5,transmission:.8}));o.position.y=-.34,n.add(o);let s=new $(new S0(.5,.4,.02),q9({color:8246268,opacity:.45,transmission:.8}));s.position.set(.08,.05,.38),n.add(s);let c=s.clone();c.position.z=-.38,n.add(c);let l=K9(2042167,{roughness:.4,metalness:.7}),u=new $(new S0(.04,.03,.58),l);u.position.set(.38,.28,0),n.add(u);let d=new $(new S0(.04,.03,.58),l);d.position.set(.38,-.18,0),n.add(d);let f=new $(new S0(.2,.03,.7),e);f.position.set(.45,.38,0),n.add(f);let p=new $(new S0(.15,.25,.5),t);p.position.set(.25,-.1,0),n.add(p);for(let e=-1;e<=1;e+=2){let t=new $(new $2(.015,.02,.18,8),K9(657930,{roughness:.6}));t.position.set(.28,.1,e*.12),t.rotation.x=e*.2,n.add(t);let r=new $(new x3(.025,16,8),K9(15680580,{roughness:.5,metalness:.3}));r.position.set(.28,.2,e*.12+e*.02),n.add(r)}let m=new $(new S0(.02,.55,.4),K9(15357964,{roughness:.4,metalness:.5}));m.position.set(-.38,0,0),n.add(m);let h=new $(new S0(.03,.08,.02),K9(5395035,{roughness:.25,metalness:.85}));return h.position.set(-.39,0,.12),n.add(h),n}function Gae(e,t,n,r){let i=new V0,a=.6,o=Math.floor(r/a),s=new $(new S0(r,.06,.06),e);s.position.set(r/2-.3,.15,0),i.add(s);let c=new $(new S0(r,.06,.06),e);c.position.set(r/2-.3,-.1,.12),i.add(c);let l=c.clone();l.position.z=-.12,i.add(l);for(let t=0;t<=o;t++){let n=t*a,r=new $(new S0(.04,.25,.04),e);r.position.set(n,.02,0),i.add(r);let s=new $(new S0(.04,.04,.28),e);if(s.position.set(n,-.1,0),i.add(s),t<o){let t=new $(new S0(.03,.35,.03),e);t.position.set(n+a/2,.02,.08),t.rotation.z=Math.PI/5,i.add(t);let r=t.clone();r.position.z=-.08,r.rotation.z=-Math.PI/5,i.add(r)}}let u=new $(new S0(r-.5,.03,.08),n);u.position.set(r/2,-.13,0),i.add(u);let d=new V0;d.position.set(5.5,-.15,0);let f=new $(new S0(.25,.12,.2),n);d.add(f);for(let e=-1;e<=1;e+=2){let t=new $(new $2(.05,.05,.04,16),K9(5395035,{roughness:.25,metalness:.9}));t.rotation.x=Math.PI/2,t.position.set(e*.08,-.08,0),d.add(t)}i.add(d);for(let e=0;e<3;e++){let n=new $(new S0(.2,.08,.08),e%2==0?t:K9(16777215,{roughness:.4}));n.position.set(r-.8+e*.22,.15,0),i.add(n)}return i}function Kae(e,t,n){let r=new V0,i=2.8,a=new $(new S0(i,.05,.05),e);a.position.set(-i/2,.12,0),r.add(a);let o=new $(new S0(i,.05,.05),e);o.position.set(-i/2,-.08,.1),r.add(o);let s=o.clone();s.position.z=-.1,r.add(s);for(let t=0;t<5;t++){let n=-.5-t*.55,i=new $(new S0(.035,.2,.035),e);i.position.set(n,.02,0),r.add(i);let a=new $(new S0(.035,.035,.24),e);a.position.set(n,-.08,0),r.add(a)}let c=new $(new S0(.7,.55,.55),e);c.position.set(-.85,.1,0),c.castShadow=!0,r.add(c);let l=new $(new S0(.02,.4,.35),K9(15357964,{roughness:.45,metalness:.45}));l.position.set(-.49,.08,0),r.add(l);for(let e=-2;e<=2;e++){let n=new $(new S0(.01,.08,.45),t);n.position.set(-.48,.35,e*.01),r.add(n)}let u=new V0;u.position.set(-2.2,-.15,0);let d=new $(new S0(.7,.8,.75),K9(3621201,{roughness:.7,metalness:.3}));d.castShadow=!0,u.add(d);for(let e=-2;e<=2;e++){let t=new $(new S0(.72,.015,.01),K9(2042167,{roughness:.6}));t.position.set(0,e*.15,.38),u.add(t)}for(let e=-1;e<=1;e+=2){let n=new $(new S0(.08,.12,.05),t);n.position.set(0,.45,e*.25),u.add(n)}r.add(u);let f=new $(new S0(.5,.6,.6),K9(4937059,{roughness:.7,metalness:.3}));return f.position.set(-2.65,-.25,0),f.castShadow=!0,r.add(f),r}function qae(e,t,n,r){let i=new V0,a=new $(new S0(.5,.3,.5),e);a.position.set(0,n+.85,0),i.add(a);let o=new $(new e4(.2,.25,4),e);o.rotation.y=Math.PI/4,o.position.set(0,n+1.12,0),i.add(o);let s=new $(new $2(.012,.012,Math.sqrt((r-1)**2+.7**2),8),t);s.position.set((r-1)/2,n+.75,0),s.rotation.z=Math.atan(.7/(r-1))-Math.PI/2,i.add(s);let c=new $(new $2(.012,.012,Math.sqrt(2.2**2+.7**2),8),t);c.position.set(-1.1,n+.75,0),c.rotation.z=-Math.atan(.7/2.2)+Math.PI/2,i.add(c);let l=new $(new $2(.015,.015,n-2,8),K9(2042167,{roughness:.6,metalness:.4}));return l.position.set(5.5,n/2+1,0),i.add(l),i}function Jae(e,t){let n=new V0,r=new $(new S0(.28,.22,.18),e);r.position.y=.15,n.add(r);for(let e=-1;e<=1;e+=2){let r=new $(new $2(.08,.08,.04,24),t);r.rotation.x=Math.PI/2,r.position.set(0,.15,e*.05),n.add(r)}let i=new $(new $2(.03,.03,.12,16),e);i.position.y=0,n.add(i);let a=new $(new S3(.18,.035,16,32,Math.PI*1.5),K9(2042167,{roughness:.3,metalness:.9}));a.rotation.z=Math.PI/2,a.rotation.y=Math.PI/2,a.position.y=-.1,n.add(a);let o=new $(new e4(.035,.08,16),K9(2042167,{roughness:.3,metalness:.9}));o.rotation.z=-Math.PI/2,o.position.set(.18,-.1,0),n.add(o);let s=new $(new S3(.12,.015,8,16,Math.PI*.7),K9(15680580,{roughness:.4,metalness:.6}));return s.rotation.z=Math.PI*.65,s.rotation.y=Math.PI/2,s.position.set(.08,-.18,0),n.add(s),n}function Yae(e,t){let n=new V0,r=new V0;r.position.set(0,e+1.3,0);let i=new $(new $2(.06,.08,.04,16),K9(2565930,{roughness:.4,metalness:.7}));r.add(i);let a=new $(new x3(.1,24,16),J9(15680580,4));a.position.y=.1,r.add(a);let o=new $(new x3(.12,24,16),new E3({color:15680580,transparent:!0,opacity:.4,emissive:15680580,emissiveIntensity:.5,roughness:.1,metalness:0}));o.position.y=.1,r.add(o),n.add(r);let s=new $(new x3(.06,16,12),J9(15680580,3));s.position.set(t-.3,e+.9,0),n.add(s);let c=new $(new $2(.03,.04,.03,12),K9(2565930,{roughness:.4}));c.position.set(t-.3,e+.82,0),n.add(c);let l=new $(new x3(.05,16,12),J9(15680580,2.5));l.position.set(-2.7,e+.85,0),n.add(l);for(let t=1;t<=3;t++){let r=new $(new x3(.035,12,8),J9(16498468,2));r.position.set(t*1.8,e+.9,0),n.add(r)}return n}var Xae={class:`model-editor-pro`},Zae={class:`editor-main`},Qae={class:`right-panels`},$ae=S7({__name:`index`,setup(e){let{scene:t,camera:n,renderer:r,controls:i,transformControls:a,isInitialized:o,isLoading:s,initScene:c,setView:l,resetCamera:u,focusOnObject:d,raycast:f,handleResize:p,setFloorPlan:m,clearFloorPlan:h,toggleGrid:g,toggleAxes:_,dispose:v}=yie(),{placedModels:y,customModels:b,selectedModelId:x,selectedModelIds:S,selectedModel:C,placementMode:w,modelCount:T,addModel:E,selectModel:D,deselectAll:O,removeModel:k,removeSelectedModels:A,clearAllModels:ee,updateModelTransform:te,copyModel:ne,pasteModel:re,duplicateModel:ie,toggleVisibility:ae,toggleLock:oe,importModel:se,exportGLB:ce,exportJSON:le,importJSON:ue,getModelById:de,setupTransformListener:fe}=Tae(t,a),{canUndo:pe,canRedo:me,record:he,undo:ge,redo:_e,clear:j}=Eae(),M=F(null),ve=F(null),ye=F(null),be=F(!1),N=F(``),xe=F(`translate`),Se=F(`world`),Ce=F(!1),we=F({translate:.5,rotate:15,scale:.1}),Te=F(!0),Ee=F(!0),De=q(()=>[...G9,...b.value]),Oe=q(()=>De.value.find(e=>e.id===w.value));Dae({translate:()=>Be(`translate`),rotate:()=>Be(`rotate`),scale:()=>Be(`scale`),viewFront:()=>l(`front`),viewRight:()=>l(`right`),viewTop:()=>l(`top`),viewPerspective:()=>l(`perspective`),delete:()=>{x.value&&Ie({id:x.value})},copy:()=>{C.value&&(ne(C.value),lX.success(``))},paste:()=>{re(De.value)},duplicate:()=>{Re()},undo:Qe,redo:$e,selectAll:ze,deselect:O,focus:qe,hide:()=>{C.value&&ae(C.value)},showAll:()=>{y.value.forEach(e=>{e.visible=!0,e.object&&(e.object.visible=!0)})},save:Ze,export:()=>et(`glb`),toggleSnap:He});function P(e){e&&(c(e),Ln(()=>{fe(),r.value?.domElement?.addEventListener(`click`,Ae),r.value?.domElement?.addEventListener(`dblclick`,je)}))}function ke(e){p(e)}function Ae(e){if(w.value){let t=f(e);t.length>0&&Fe(t[0].point);return}let t=y.value.filter(e=>e.object&&e.visible&&!e.locked).map(e=>e.object);if(t.length===0)return;let n=f(e,t);if(n.length>0){let t=n[0].object,r=y.value.find(e=>{let n=t;for(;n;){if(e.object===n)return!0;n=n.parent}return!1});if(r){let t=e.ctrlKey||e.metaKey;D(r.id,t)}}else O()}function je(e){C.value?.object&&d(C.value.object)}function Me(e){w.value=w.value===e?``:e}function Ne(){w.value=``}function Pe(e){let t=De.value.find(t=>t.id===e);if(!t)return;let n=E(t,new Q(0,0,0));n&&(he(ct(),``),D(n.id),lX.success(` `+t.label))}function Fe(e){let t=Oe.value;if(!t)return;let n=E(t,e);n&&(he(ct(),``),D(n.id),w.value=``)}function Ie(e){e&&EX.confirm(` "`+e.label+`" `,``,{confirmButtonText:``,cancelButtonText:``,type:`warning`}).then(()=>{k(e.id),he(ct(),``),lX.success(``)}).catch(()=>{})}function Le(){y.value.length&&EX.confirm(``,``,{confirmButtonText:``,cancelButtonText:``,type:`warning`}).then(()=>{ee(),he(ct(),``),lX.success(``)}).catch(()=>{})}function Re(){C.value&&ie(C.value,De.value)&&(he(ct(),``),lX.success(``))}function ze(){let e=y.value.filter(e=>!e.locked).map(e=>e.id);S.value=e,e.length>0&&(x.value=e[0])}function Be(e){xe.value=e,e!==`select`&&a.value&&a.value.setMode(e)}function Ve(e){Se.value=e,a.value&&a.value.setSpace(e)}function He(){Ce.value=!Ce.value,a.value&&(Ce.value?(a.value.setTranslationSnap(we.value.translate),a.value.setRotationSnap(QQ.degToRad(we.value.rotate)),a.value.setScaleSnap(we.value.scale)):(a.value.setTranslationSnap(null),a.value.setRotationSnap(null),a.value.setScaleSnap(null)))}function Ue(e){we.value={...e},Ce.value&&a.value&&(a.value.setTranslationSnap(e.translate),a.value.setRotationSnap(QQ.degToRad(e.rotate)),a.value.setScaleSnap(e.scale))}function We(e){te(e),he(ct(),``)}function Ge(){Te.value=!Te.value,g(Te.value)}function Ke(){Ee.value=!Ee.value,_(Ee.value)}function qe(){C.value?.object&&d(C.value.object)}function Je(e){e?.object&&(d(e.object),D(e.id))}function Ye(){y.value.length!==0&&EX.confirm(``,``,{confirmButtonText:``,cancelButtonText:``,type:`warning`}).then(()=>{ee(),ot(),j(),lX.success(``)}).catch(()=>{})}function Xe(){ye.value?.click()}function Ze(){let e=le();if(!e){lX.warning(``);return}lt(e,`scene-`+Date.now()+`.json`,`application/json`),lX.success(``)}function Qe(){ge()&&lX.info(``)}function $e(){_e()&&lX.info(``)}async function et(e){if(!y.value.length){lX.warning(``);return}try{switch(e){case`glb`:case`gltf`:lt(await ce(),`scene-`+Date.now()+`.glb`),lX.success(`GLB `);break;case`json`:lt(le(),`scene-config-`+Date.now()+`.json`,`application/json`),lX.success(`JSON `);break;case`png`:tt();break}}catch(e){lX.error(`: `+e.message)}}function tt(){if(!r.value)return;r.value.render(t.value,n.value);let e=r.value.domElement.toDataURL(`image/png`),i=document.createElement(`a`);i.href=e,i.download=`screenshot-`+Date.now()+`.png`,i.click(),lX.success(``)}async function nt(e){try{let t=await se(e);lX.success(`: `+t.label)}catch(e){lX.error(`: `+e.message)}}function rt(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=e=>{try{let t=e.target.result;ee(),ue(t,De.value),he(ct(),``),lX.success(``)}catch(e){lX.error(`: `+e.message)}},n.readAsText(t),e.target.value=``}function it(){ve.value?.click()}function at(e){let t=e.target.files?.[0];if(!t)return;let n=URL.createObjectURL(t);N.value=n,m(n),e.target.value=``,lX.success(``)}function ot(){N.value&&URL.revokeObjectURL(N.value),N.value=``,h(),lX.success(``)}function st(e){EX.prompt(``,``,{confirmButtonText:``,cancelButtonText:``,inputValue:e.label}).then(({value:t})=>{e.label=t,he(ct(),``),lX.success(``)}).catch(()=>{})}function ct(){return{models:y.value.map(e=>({id:e.id,type:e.type,label:e.label,position:[...e.position],rotation:[...e.rotation],scale:e.scale,visible:e.visible,locked:e.locked}))}}function lt(e,t,n=`application/octet-stream`){let r;r=e instanceof Blob?e:new Blob([e],{type:n});let i=URL.createObjectURL(r),a=document.createElement(`a`);a.href=i,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}return Rr(()=>{}),Vr(()=>{r.value?.domElement?.removeEventListener(`click`,Ae),r.value?.domElement?.removeEventListener(`dblclick`,je),v(),N.value&&URL.revokeObjectURL(N.value)}),(e,t)=>(V(),H(`div`,Xae,[G(I(Ene),{"model-count":I(T),"transform-mode":xe.value,"transform-space":Se.value,"snap-enabled":Ce.value,"snap-translate":we.value.translate,"snap-rotate":we.value.rotate,"snap-scale":we.value.scale,"can-undo":I(pe),"can-redo":I(me),onNew:Ye,onOpen:Xe,onSave:Ze,onUndo:Qe,onRedo:$e,onSetTransformMode:Be,onSetTransformSpace:Ve,onToggleSnap:He,onUpdateSnapSettings:Ue,onResetView:I(u),onExport:et,onShowHotkeys:t[0]||=e=>be.value=!0},null,8,[`model-count`,`transform-mode`,`transform-space`,`snap-enabled`,`snap-translate`,`snap-rotate`,`snap-scale`,`can-undo`,`can-redo`,`onResetView`]),W(`main`,Zae,[G(I(Bne),{"device-library":I(G9),"custom-models":I(b),"placement-mode":I(w),"floor-plan-url":N.value,onSelectDevice:Me,onQuickPlace:Pe,onCancelPlacement:Ne,onImportModel:nt,onUploadPlan:it,onChangePlan:it,onClearPlan:ot},null,8,[`device-library`,`custom-models`,`placement-mode`,`floor-plan-url`]),G(I(Lre),{ref_key:`viewportRef`,ref:M,"is-loading":I(s),"placement-mode":I(w),"placement-label":Oe.value?.label||``,"placement-color":Oe.value?.accent||`#6366f1`,"model-count":I(T),"selected-count":I(S).length,"selected-model":I(C),"has-selection":!!I(x),"transform-mode":xe.value,"show-grid":Te.value,"show-axes":Ee.value,onMounted:P,onResize:ke,onSetView:I(l),onFocusSelected:qe,onResetView:I(u),onCancelPlacement:Ne,onToggleGrid:Ge,onToggleAxes:Ke},null,8,[`is-loading`,`placement-mode`,`placement-label`,`placement-color`,`model-count`,`selected-count`,`selected-model`,`has-selection`,`transform-mode`,`show-grid`,`show-axes`,`onSetView`,`onResetView`]),W(`aside`,Qae,[G(I(Xne),{models:I(y),"selected-id":I(x),"selected-ids":I(S),onSelect:I(D),onMultiSelect:t[1]||=e=>I(D)(e,!0),onFocus:Je,onDuplicate:Re,onRename:st,onToggleVisibility:I(ae),onToggleLock:I(oe),onDelete:Ie,onDeleteSelected:I(A),onSelectAll:ze,onDeselectAll:I(O),onClearAll:Le},null,8,[`models`,`selected-id`,`selected-ids`,`onSelect`,`onToggleVisibility`,`onToggleLock`,`onDeleteSelected`,`onDeselectAll`]),G(I(Sre),{"selected-model":I(C),onUpdateTransform:We,onToggleVisibility:I(ae),onToggleLock:I(oe),onFocus:Je,onDuplicate:Re,onDelete:Ie},null,8,[`selected-model`,`onToggleVisibility`,`onToggleLock`])])]),G(I(zre),{modelValue:be.value,"onUpdate:modelValue":t[2]||=e=>be.value=e},null,8,[`modelValue`]),W(`input`,{ref_key:`planInputRef`,ref:ve,type:`file`,accept:`image/*`,style:{display:`none`},onChange:at},null,544),W(`input`,{ref_key:`jsonInputRef`,ref:ye,type:`file`,accept:`.json`,style:{display:`none`},onChange:rt},null,544)]))}},[[`__scopeId`,`data-v-44a7b961`]]),eoe={class:`app-content`},$9=$s({__name:`App`,setup(e){return(e,t)=>(V(),H(`div`,eoe,[G($ae)]))}});$9.use(zX),$9.mount(`#app`);